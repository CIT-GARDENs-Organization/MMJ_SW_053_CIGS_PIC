CCS PCH C Compiler, Version 5.104, 57077               29-10-25 19:25

               Filename:   c:\Users\shoin\source\repos\MMJ_SW_053_CIGS_PIC\cigs\build\mmj_cigs_main.lst

               ROM used:   77452 bytes (59%)
                           Largest free fragment is 53446
               RAM used:   410 (11%) at main() level
                           2863 (80%) worst case
               Stack used: 9 locations (8 in main + 1 for interrupts)
               Stack size: 31

*
00000:  NOP   
00002:  GOTO   129EA
*
00008:  NOP   
0000A:  NOP   
0000C:  NOP   
0000E:  NOP   
00010:  NOP   
00012:  NOP   
00014:  NOP   
00016:  NOP   
00018:  MOVWF  04
0001A:  MOVFF  FD8,05
0001E:  MOVFF  FE0,06
00022:  MOVLB  0
00024:  MOVFF  FE9,0C
00028:  MOVFF  FEA,07
0002C:  MOVFF  FE1,08
00030:  MOVFF  FE2,09
00034:  MOVFF  FD9,0A
00038:  MOVFF  FDA,0B
0003C:  MOVFF  FF3,12
00040:  MOVFF  FF4,13
00044:  MOVFF  FFA,14
00048:  MOVFF  FF5,15
0004C:  MOVFF  FF6,16
00050:  MOVFF  FF7,17
00054:  MOVFF  FF8,18
00058:  MOVFF  FFB,19
0005C:  MOVFF  00,0E
00060:  MOVFF  01,0F
00064:  MOVFF  02,10
00068:  MOVFF  03,11
0006C:  BTFSS  FF2.5
0006E:  GOTO   0078
00072:  BTFSC  FF2.2
00074:  GOTO   014E
00078:  BTFSS  F9D.0
0007A:  GOTO   0084
0007E:  BTFSC  F9E.0
00080:  GOTO   01D6
00084:  BTFSS  F61.5
00086:  GOTO   0090
0008A:  BTFSC  FA6.5
0008C:  GOTO   0240
00090:  MOVFF  0E,00
00094:  MOVFF  0F,01
00098:  MOVFF  10,02
0009C:  MOVFF  11,03
000A0:  MOVFF  0C,FE9
000A4:  MOVFF  07,FEA
000A8:  BSF    07.7
000AA:  MOVFF  08,FE1
000AE:  MOVFF  09,FE2
000B2:  MOVFF  0A,FD9
000B6:  MOVFF  0B,FDA
000BA:  MOVFF  12,FF3
000BE:  MOVFF  13,FF4
000C2:  MOVFF  14,FFA
000C6:  MOVFF  15,FF5
000CA:  MOVFF  16,FF6
000CE:  MOVFF  17,FF7
000D2:  MOVFF  18,FF8
000D6:  MOVFF  19,FFB
000DA:  MOVF   04,W
000DC:  MOVFF  06,FE0
000E0:  MOVFF  05,FD8
000E4:  RETFIE 0
.................... #include "mmj_cigs_main.h"  // ルート直下のヘッダー
.................... #ifndef MMJ_CIGS_MAIN_H
.................... #define MMJ_CIGS_MAIN_H
.................... 
.................... 
.................... #define SELF_DEVICE_ID CIGS_PIC
.................... 
.................... 
.................... #opt 0 // 0 = no optimization
.................... 
.................... //==============================================================================
.................... // CCS C 最適化構造: ヘッダー分散 + .cファイル統合
.................... //==============================================================================
.................... 
.................... // レベル1: システム設定
.................... #include "hal/cigs_config.h"
.................... #ifndef MMJ_CIGS_CONFIG_H
.................... #define MMJ_CIGS_CONFIG_H
.................... 
.................... 
.................... 
.................... 
.................... #include <18F67J94.h>
.................... //////////// Standard Header file for the PIC18F67J94 device ////////////////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996, 2020 Custom Computer Services          ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... #device PIC18F67J94
000E6:  CLRF   FF7
000E8:  ADDLW  FA
000EA:  MOVWF  FF6
000EC:  MOVLW  00
000EE:  ADDWFC FF7,F
000F0:  MOVLW  00
000F2:  MOVWF  FF8
000F4:  TBLRD*+
000F6:  MOVF   FF5,W
000F8:  RETURN 0
000FA:  DATA 00,00
000FC:  DATA 00,00
000FE:  DATA FF,0F
00100:  DATA 00,00
00102:  DATA 00,10
00104:  DATA 00,00
00106:  DATA 00,00
00108:  DATA 01,00
0010A:  DATA FF,0F
0010C:  DATA 14,00
0010E:  DATA 00,00
00110:  DATA 14,00
00112:  DATA 00,10
00114:  DATA 14,00
00116:  DATA FF,0F
00118:  DATA 28,00
0011A:  DATA 00,00
0011C:  DATA 14,00
0011E:  DATA 00,10
00120:  DATA 28,00
00122:  DATA FF,0F
00124:  DATA 32,00
00126:  DATA 00,00
00128:  DATA 0A,00
0012A:  DATA 00,10
0012C:  DATA 32,00
0012E:  DATA FF,0F
00130:  DATA 72,00
00132:  DATA 00,00
00134:  DATA 40,00
00136:  DATA 00,10
00138:  DATA 72,00
0013A:  DATA FF,0F
0013C:  DATA 7C,00
0013E:  DATA 00,00
00140:  DATA 0A,00
00142:  DATA 00,10
00144:  DATA 7C,00
00146:  DATA FF,0F
00148:  DATA BC,00
0014A:  DATA 00,00
0014C:  DATA 40,00
*
001F8:  DATA 54,69
001FA:  DATA 6D,65
001FC:  DATA 72,20
001FE:  DATA 49,6E
00200:  DATA 69,74
00202:  DATA 69,61
00204:  DATA 6C,69
00206:  DATA 7A,65
00208:  DATA 0D,0A
0020A:  DATA 00,00
0020C:  DATA 09,43
0020E:  DATA 6F,6D
00210:  DATA 70,6C
00212:  DATA 65,74
00214:  DATA 65,0D
00216:  DATA 0A,00
*
00288:  DATA 55,41
0028A:  DATA 52,54
0028C:  DATA 20,49
0028E:  DATA 6E,69
00290:  DATA 74,69
00292:  DATA 61,6C
00294:  DATA 69,7A
00296:  DATA 65,0D
00298:  DATA 0A,00
0029A:  DATA 09,43
0029C:  DATA 6F,6D
0029E:  DATA 70,6C
002A0:  DATA 65,74
002A2:  DATA 65,0D
002A4:  DATA 0A,00
002A6:  DATA 41,44
002A8:  DATA 37,34
002AA:  DATA 39,30
002AC:  DATA 20,49
002AE:  DATA 6E,69
002B0:  DATA 74,69
002B2:  DATA 61,6C
002B4:  DATA 69,7A
002B6:  DATA 65,0D
002B8:  DATA 0A,00
002BA:  DATA 09,43
002BC:  DATA 6F,6E
002BE:  DATA 6E,65
002C0:  DATA 63,74
002C2:  DATA 20,65
002C4:  DATA 72,72
002C6:  DATA 6F,72
002C8:  DATA 21,0D
002CA:  DATA 0A,00
002CC:  DATA 09,43
002CE:  DATA 6F,6E
002D0:  DATA 6E,65
002D2:  DATA 63,74
002D4:  DATA 20,73
002D6:  DATA 75,63
002D8:  DATA 63,65
002DA:  DATA 73,73
002DC:  DATA 66,75
002DE:  DATA 6C,0D
002E0:  DATA 0A,00
002E2:  DATA 09,43
002E4:  DATA 6F,6D
002E6:  DATA 70,6C
002E8:  DATA 65,74
002EA:  DATA 65,0D
002EC:  DATA 0A,00
002EE:  DATA 4D,43
002F0:  DATA 50,34
002F2:  DATA 39,30
002F4:  DATA 31,20
002F6:  DATA 49,6E
002F8:  DATA 69,74
002FA:  DATA 69,61
002FC:  DATA 6C,69
002FE:  DATA 7A,65
00300:  DATA 0D,0A
00302:  DATA 00,00
00304:  DATA 09,5B
00306:  DATA 44,41
00308:  DATA 43,20
0030A:  DATA 50,6F
0030C:  DATA 72,74
0030E:  DATA 20,31
00310:  DATA 5D,20
00312:  DATA 43,6F
00314:  DATA 6E,6E
00316:  DATA 65,63
00318:  DATA 74,20
0031A:  DATA 65,72
0031C:  DATA 72,6F
0031E:  DATA 72,21
00320:  DATA 0D,0A
00322:  DATA 00,00
00324:  DATA 09,5B
00326:  DATA 44,41
00328:  DATA 43,20
0032A:  DATA 50,6F
0032C:  DATA 72,74
0032E:  DATA 20,31
00330:  DATA 5D,20
00332:  DATA 43,6F
00334:  DATA 6E,6E
00336:  DATA 65,63
00338:  DATA 74,20
0033A:  DATA 73,75
0033C:  DATA 63,63
0033E:  DATA 65,73
00340:  DATA 73,66
00342:  DATA 75,6C
00344:  DATA 0D,0A
00346:  DATA 00,00
00348:  DATA 09,5B
0034A:  DATA 44,41
0034C:  DATA 43,20
0034E:  DATA 50,6F
00350:  DATA 72,74
00352:  DATA 20,32
00354:  DATA 5D,20
00356:  DATA 43,6F
00358:  DATA 6E,6E
0035A:  DATA 65,63
0035C:  DATA 74,20
0035E:  DATA 65,72
00360:  DATA 72,6F
00362:  DATA 72,21
00364:  DATA 0D,0A
00366:  DATA 00,00
00368:  DATA 09,5B
0036A:  DATA 44,41
0036C:  DATA 43,20
0036E:  DATA 50,6F
00370:  DATA 72,74
00372:  DATA 20,32
00374:  DATA 5D,20
00376:  DATA 43,6F
00378:  DATA 6E,6E
0037A:  DATA 65,63
0037C:  DATA 74,20
0037E:  DATA 73,75
00380:  DATA 63,63
00382:  DATA 65,73
00384:  DATA 73,66
00386:  DATA 75,6C
00388:  DATA 0D,0A
0038A:  DATA 00,00
0038C:  DATA 09,43
0038E:  DATA 6F,6D
00390:  DATA 70,6C
00392:  DATA 65,74
00394:  DATA 65,0D
00396:  DATA 0A,00
00398:  DATA 45,6E
0039A:  DATA 71,75
0039C:  DATA 65,75
0039E:  DATA 65,20
003A0:  DATA 46,6C
003A2:  DATA 61,73
003A4:  DATA 68,20
003A6:  DATA 4F,70
003A8:  DATA 65,72
003AA:  DATA 61,74
003AC:  DATA 69,6F
003AE:  DATA 6E,0D
003B0:  DATA 0A,00
003B2:  DATA 46,6C
003B4:  DATA 61,73
003B6:  DATA 68,20
003B8:  DATA 71,75
003BA:  DATA 65,75
003BC:  DATA 65,20
003BE:  DATA 69,73
003C0:  DATA 20,66
003C2:  DATA 75,6C
003C4:  DATA 6C,21
003C6:  DATA 21,21
003C8:  DATA 0D,0A
003CA:  DATA 00,00
003CC:  DATA 46,6C
003CE:  DATA 61,73
003D0:  DATA 68,20
003D2:  DATA 71,75
003D4:  DATA 65,75
003D6:  DATA 65,20
003D8:  DATA 69,73
003DA:  DATA 20,65
003DC:  DATA 6D,70
003DE:  DATA 74,79
003E0:  DATA 0D,0A
003E2:  DATA 00,00
003E4:  DATA 0D,0A
003E6:  DATA 53,74
003E8:  DATA 61,72
003EA:  DATA 74,20
003EC:  DATA 6D,61
003EE:  DATA 6B,65
003F0:  DATA 5F,72
003F2:  DATA 65,63
003F4:  DATA 65,69
003F6:  DATA 76,65
003F8:  DATA 5F,63
003FA:  DATA 6F,6D
003FC:  DATA 6D,61
003FE:  DATA 6E,64
00400:  DATA 0D,0A
00402:  DATA 00,00
00404:  DATA 09,5B
00406:  DATA 42,4F
00408:  DATA 53,53
0040A:  DATA 5D,20
0040C:  DATA 3E,3E
0040E:  DATA 3E,20
00410:  DATA 00,00
00412:  DATA 45,6E
00414:  DATA 64,20
00416:  DATA 6D,61
00418:  DATA 6B,65
0041A:  DATA 5F,72
0041C:  DATA 65,63
0041E:  DATA 69,76
00420:  DATA 65,5F
00422:  DATA 63,6F
00424:  DATA 6D,6D
00426:  DATA 61,6E
00428:  DATA 64,0D
0042A:  DATA 0A,0D
0042C:  DATA 0A,00
0042E:  DATA 73,69
00430:  DATA 67,6E
00432:  DATA 61,6C
00434:  DATA 20,65
00436:  DATA 6E,64
00438:  DATA 20,77
0043A:  DATA 69,74
0043C:  DATA 68,20
0043E:  DATA 53,46
00440:  DATA 44,0D
00442:  DATA 0A,00
00444:  DATA 64,6F
00446:  DATA 6E,27
00448:  DATA 74,20
0044A:  DATA 66,69
0044C:  DATA 6E,64
0044E:  DATA 20,53
00450:  DATA 46,44
00452:  DATA 0D,0A
00454:  DATA 00,00
00456:  DATA 09,2D
00458:  DATA 3E,20
0045A:  DATA 49,6E
0045C:  DATA 76,61
0045E:  DATA 6C,69
00460:  DATA 64,20
00462:  DATA 46,72
00464:  DATA 61,6D
00466:  DATA 65,20
00468:  DATA 49,44
0046A:  DATA 20,72
0046C:  DATA 65,63
0046E:  DATA 65,69
00470:  DATA 76,65
00472:  DATA 64,3A
00474:  DATA 20,25
00476:  DATA 58,0D
00478:  DATA 0A,00
0047A:  DATA 09,2D
0047C:  DATA 3E,20
0047E:  DATA 43,52
00480:  DATA 43,20
00482:  DATA 65,72
00484:  DATA 72,6F
00486:  DATA 72,21
00488:  DATA 0D,0A
0048A:  DATA 00,00
0048C:  DATA 09,09
0048E:  DATA 2D,3E
00490:  DATA 20,72
00492:  DATA 65,63
00494:  DATA 65,69
00496:  DATA 76,65
00498:  DATA 64,20
0049A:  DATA 43,52
0049C:  DATA 43,3A
0049E:  DATA 20,25
004A0:  DATA 58,0D
004A2:  DATA 0A,00
004A4:  DATA 09,09
004A6:  DATA 20,20
004A8:  DATA 20,63
004AA:  DATA 6F,6C
004AC:  DATA 6C,65
004AE:  DATA 63,74
004B0:  DATA 20,43
004B2:  DATA 52,43
004B4:  DATA 20,3A
004B6:  DATA 20,25
004B8:  DATA 58,0D
004BA:  DATA 0A,00
004BC:  DATA 09,2D
004BE:  DATA 3E,20
004C0:  DATA 49,6E
004C2:  DATA 76,61
004C4:  DATA 6C,69
004C6:  DATA 64,20
004C8:  DATA 64,65
004CA:  DATA 76,69
004CC:  DATA 63,65
004CE:  DATA 20,49
004D0:  DATA 44,20
004D2:  DATA 72,65
004D4:  DATA 63,65
004D6:  DATA 69,76
004D8:  DATA 65,64
004DA:  DATA 0D,0A
004DC:  DATA 00,00
004DE:  DATA 09,09
004E0:  DATA 2D,3E
004E2:  DATA 20,72
004E4:  DATA 65,63
004E6:  DATA 65,69
004E8:  DATA 76,65
004EA:  DATA 64,3A
004EC:  DATA 20,20
004EE:  DATA 20,20
004F0:  DATA 20,25
004F2:  DATA 58,0D
004F4:  DATA 0A,00
004F6:  DATA 09,09
004F8:  DATA 20,20
004FA:  DATA 20,4D
004FC:  DATA 79,20
004FE:  DATA 64,65
00500:  DATA 76,69
00502:  DATA 63,65
00504:  DATA 20,49
00506:  DATA 44,3A
00508:  DATA 20,25
0050A:  DATA 58,0D
0050C:  DATA 0A,00
0050E:  DATA 09,5B
00510:  DATA 42,4F
00512:  DATA 53,53
00514:  DATA 5D,20
00516:  DATA 3C,3C
00518:  DATA 3C,20
0051A:  DATA 00,00
0051C:  DATA 53,74
0051E:  DATA 61,72
00520:  DATA 74,20
00522:  DATA 53,4D
00524:  DATA 46,20
00526:  DATA 75,73
00528:  DATA 69,6E
0052A:  DATA 67,20
0052C:  DATA 72,65
0052E:  DATA 71,65
00530:  DATA 73,74
00532:  DATA 20,73
00534:  DATA 65,61
00536:  DATA 71,75
00538:  DATA 65,6E
0053A:  DATA 63,65
0053C:  DATA 0D,0A
0053E:  DATA 00,00
00540:  DATA 45,72
00542:  DATA 72,6F
00544:  DATA 72,21
00546:  DATA 20,52
00548:  DATA 65,63
0054A:  DATA 65,69
0054C:  DATA 76,69
0054E:  DATA 6E,67
00550:  DATA 20,63
00552:  DATA 6F,6D
00554:  DATA 6D,61
00556:  DATA 6E,64
00558:  DATA 20,69
0055A:  DATA 6E,63
0055C:  DATA 6F,6E
0055E:  DATA 73,69
00560:  DATA 73,74
00562:  DATA 65,6E
00564:  DATA 74,20
00566:  DATA 77,69
00568:  DATA 74,68
0056A:  DATA 20,74
0056C:  DATA 68,65
0056E:  DATA 20,64
00570:  DATA 65,73
00572:  DATA 69,67
00574:  DATA 6E,0D
00576:  DATA 0A,00
00578:  DATA 53,4D
0057A:  DATA 46,20
0057C:  DATA 75,73
0057E:  DATA 65,20
00580:  DATA 72,65
00582:  DATA 71,75
00584:  DATA 65,73
00586:  DATA 74,20
00588:  DATA 61,6C
0058A:  DATA 6C,6F
0058C:  DATA 77,65
0058E:  DATA 64,0D
00590:  DATA 0A,00
00592:  DATA 53,4D
00594:  DATA 46,20
00596:  DATA 75,73
00598:  DATA 65,20
0059A:  DATA 72,65
0059C:  DATA 71,75
0059E:  DATA 65,73
005A0:  DATA 74,20
005A2:  DATA 64,65
005A4:  DATA 6E,79
005A6:  DATA 65,64
005A8:  DATA 0D,0A
005AA:  DATA 00,00
005AC:  DATA 52,65
005AE:  DATA 74,72
005B0:  DATA 79,20
005B2:  DATA 72,65
005B4:  DATA 71,75
005B6:  DATA 65,73
005B8:  DATA 74,20
005BA:  DATA 74,6F
005BC:  DATA 20,42
005BE:  DATA 4F,53
005C0:  DATA 53,20
005C2:  DATA 50,49
005C4:  DATA 43,0D
005C6:  DATA 0A,00
005C8:  DATA 45,72
005CA:  DATA 72,6F
005CC:  DATA 72,21
005CE:  DATA 20,52
005D0:  DATA 65,63
005D2:  DATA 65,69
005D4:  DATA 76,69
005D6:  DATA 6E,67
005D8:  DATA 20,63
005DA:  DATA 6F,6D
005DC:  DATA 6D,61
005DE:  DATA 6E,64
005E0:  DATA 20,69
005E2:  DATA 6E,63
005E4:  DATA 6F,6E
005E6:  DATA 73,69
005E8:  DATA 73,74
005EA:  DATA 65,6E
005EC:  DATA 74,20
005EE:  DATA 77,69
005F0:  DATA 74,68
005F2:  DATA 20,74
005F4:  DATA 68,65
005F6:  DATA 20,64
005F8:  DATA 65,73
005FA:  DATA 69,67
005FC:  DATA 6E,0D
005FE:  DATA 0A,00
00600:  DATA 45,6E
00602:  DATA 64,20
00604:  DATA 53,4D
00606:  DATA 46,20
00608:  DATA 75,73
0060A:  DATA 69,6E
0060C:  DATA 67,20
0060E:  DATA 72,65
00610:  DATA 71,65
00612:  DATA 73,74
00614:  DATA 20,73
00616:  DATA 65,61
00618:  DATA 71,75
0061A:  DATA 65,6E
0061C:  DATA 63,65
0061E:  DATA 0D,0A
00620:  DATA 00,00
00622:  DATA 74,65
00624:  DATA 6D,70
00626:  DATA 5F,74
00628:  DATA 6F,70
0062A:  DATA 3A,25
0062C:  DATA 30,34
0062E:  DATA 4C,58
00630:  DATA 0D,0A
00632:  DATA 00,00
00634:  DATA 74,65
00636:  DATA 6D,70
00638:  DATA 5F,62
0063A:  DATA 6F,74
0063C:  DATA 3A,25
0063E:  DATA 30,34
00640:  DATA 4C,58
00642:  DATA 0D,0A
00644:  DATA 00,00
00646:  DATA 74,65
00648:  DATA 6D,70
0064A:  DATA 5F,6D
0064C:  DATA 69,73
0064E:  DATA 37,3A
00650:  DATA 25,30
00652:  DATA 34,4C
00654:  DATA 58,0D
00656:  DATA 0A,00
00658:  DATA 70,64
0065A:  DATA 3A,25
0065C:  DATA 30,34
0065E:  DATA 4C,58
00660:  DATA 0D,0A
00662:  DATA 00,00
00664:  DATA 56,6F
00666:  DATA 6C,74
00668:  DATA 31,2C
0066A:  DATA 43,75
0066C:  DATA 72,72
0066E:  DATA 31,2C
00670:  DATA 56,6F
00672:  DATA 6C,74
00674:  DATA 32,2C
00676:  DATA 43,75
00678:  DATA 72,72
0067A:  DATA 32,0D
0067C:  DATA 0A,00
0067E:  DATA 50,4F
00680:  DATA 52,54
00682:  DATA 25,75
00684:  DATA 0D,0A
00686:  DATA 00,00
00688:  DATA 50,4F
0068A:  DATA 52,54
0068C:  DATA 31,2C
0068E:  DATA 20,25
00690:  DATA 75,0D
00692:  DATA 0A,00
00694:  DATA 50,4F
00696:  DATA 52,54
00698:  DATA 32,2C
0069A:  DATA 20,25
0069C:  DATA 75,0D
0069E:  DATA 0A,00
006A0:  DATA 5B,50
006A2:  DATA 49,43
006A4:  DATA 4C,4F
006A6:  DATA 47,5D
006A8:  DATA 20,3A
006AA:  DATA 20,00
006AC:  DATA 53,4D
006AE:  DATA 46,20
006B0:  DATA 44,61
006B2:  DATA 74,61
006B4:  DATA 20,54
006B6:  DATA 61,62
006B8:  DATA 6C,65
006BA:  DATA 20,49
006BC:  DATA 6E,69
006BE:  DATA 74,69
006C0:  DATA 61,6C
006C2:  DATA 69,7A
006C4:  DATA 65,0D
006C6:  DATA 0A,00
006C8:  DATA 43,52
006CA:  DATA 43,20
006CC:  DATA 45,52
006CE:  DATA 52,4F
006D0:  DATA 52,20
006D2:  DATA 25,64
006D4:  DATA 0D,0A
006D6:  DATA 00,00
006D8:  DATA 43,52
006DA:  DATA 43,20
006DC:  DATA 76,65
006DE:  DATA 72,69
006E0:  DATA 66,69
006E2:  DATA 63,61
006E4:  DATA 74,69
006E6:  DATA 6F,6E
006E8:  DATA 20,66
006EA:  DATA 61,69
006EC:  DATA 6C,65
006EE:  DATA 64,20
006F0:  DATA 61,66
006F2:  DATA 74,65
006F4:  DATA 72,20
006F6:  DATA 25,64
006F8:  DATA 20,61
006FA:  DATA 74,74
006FC:  DATA 65,6D
006FE:  DATA 70,74
00700:  DATA 73,0D
00702:  DATA 0A,00
00704:  DATA 45,72
00706:  DATA 72,6F
00708:  DATA 72,3A
0070A:  DATA 20,43
0070C:  DATA 52,43
0070E:  DATA 20,76
00710:  DATA 65,72
00712:  DATA 69,66
00714:  DATA 69,63
00716:  DATA 61,74
00718:  DATA 69,6F
0071A:  DATA 6E,20
0071C:  DATA 66,61
0071E:  DATA 69,6C
00720:  DATA 65,64
00722:  DATA 20,61
00724:  DATA 66,74
00726:  DATA 65,72
00728:  DATA 20,25
0072A:  DATA 64,20
0072C:  DATA 61,74
0072E:  DATA 74,65
00730:  DATA 6D,70
00732:  DATA 74,73
00734:  DATA 0D,0A
00736:  DATA 00,00
00738:  DATA 0D,0A
0073A:  DATA 5F,5F
0073C:  DATA 5F,5F
0073E:  DATA 5F,5F
00740:  DATA 5F,5F
00742:  DATA 5F,5F
00744:  DATA 5F,5F
00746:  DATA 5F,5F
00748:  DATA 5F,5F
0074A:  DATA 5F,5F
0074C:  DATA 5F,5F
0074E:  DATA 5F,5F
00750:  DATA 5F,5F
00752:  DATA 5F,5F
00754:  DATA 5F,5F
00756:  DATA 5F,5F
00758:  DATA 5F,0D
0075A:  DATA 0A,00
0075C:  DATA 5F,5F
0075E:  DATA 5F,5F
00760:  DATA 5F,5F
00762:  DATA 5F,5F
00764:  DATA 5F,53
00766:  DATA 74,61
00768:  DATA 72,74
0076A:  DATA 20,63
0076C:  DATA 6F,70
0076E:  DATA 79,5F
00770:  DATA 64,61
00772:  DATA 74,61
00774:  DATA 5F,5F
00776:  DATA 5F,5F
00778:  DATA 5F,5F
0077A:  DATA 5F,5F
0077C:  DATA 5F,0D
0077E:  DATA 0A,00
00780:  DATA 45,72
00782:  DATA 72,6F
00784:  DATA 72,3A
00786:  DATA 20,4D
00788:  DATA 49,53
0078A:  DATA 20,46
0078C:  DATA 4D,20
0078E:  DATA 69,73
00790:  DATA 20,6E
00792:  DATA 6F,74
00794:  DATA 20,63
00796:  DATA 6F,6E
00798:  DATA 6E,65
0079A:  DATA 63,74
0079C:  DATA 65,64
0079E:  DATA 0D,0A
007A0:  DATA 00,00
007A2:  DATA 45,72
007A4:  DATA 72,6F
007A6:  DATA 72,3A
007A8:  DATA 20,53
007AA:  DATA 4D,46
007AC:  DATA 20,69
007AE:  DATA 73,20
007B0:  DATA 6E,6F
007B2:  DATA 74,20
007B4:  DATA 63,6F
007B6:  DATA 6E,6E
007B8:  DATA 65,63
007BA:  DATA 74,65
007BC:  DATA 64,0D
007BE:  DATA 0A,00
007C0:  DATA 46,4C
007C2:  DATA 41,53
007C4:  DATA 48,20
007C6:  DATA 49,44
007C8:  DATA 3A,20
007CA:  DATA 43,49
007CC:  DATA 47,53
007CE:  DATA 5F,44
007D0:  DATA 41,54
007D2:  DATA 41,5F
007D4:  DATA 54,41
007D6:  DATA 42,4C
007D8:  DATA 45,0D
007DA:  DATA 0A,00
007DC:  DATA 46,4C
007DE:  DATA 41,53
007E0:  DATA 48,20
007E2:  DATA 49,44
007E4:  DATA 3A,20
007E6:  DATA 43,49
007E8:  DATA 47,53
007EA:  DATA 5F,50
007EC:  DATA 49,43
007EE:  DATA 4C,4F
007F0:  DATA 47,5F
007F2:  DATA 44,41
007F4:  DATA 54,41
007F6:  DATA 0D,0A
007F8:  DATA 00,00
007FA:  DATA 46,4C
007FC:  DATA 41,53
007FE:  DATA 48,20
00800:  DATA 49,44
00802:  DATA 3A,20
00804:  DATA 43,49
00806:  DATA 47,53
00808:  DATA 5F,45
0080A:  DATA 4E,56
0080C:  DATA 49,52
0080E:  DATA 4F,5F
00810:  DATA 44,41
00812:  DATA 54,41
00814:  DATA 0D,0A
00816:  DATA 00,00
00818:  DATA 46,4C
0081A:  DATA 41,53
0081C:  DATA 48,20
0081E:  DATA 49,44
00820:  DATA 3A,20
00822:  DATA 43,49
00824:  DATA 47,53
00826:  DATA 5F,49
00828:  DATA 56,31
0082A:  DATA 5F,48
0082C:  DATA 45,41
0082E:  DATA 44,45
00830:  DATA 52,0D
00832:  DATA 0A,00
00834:  DATA 46,4C
00836:  DATA 41,53
00838:  DATA 48,20
0083A:  DATA 49,44
0083C:  DATA 3A,20
0083E:  DATA 43,49
00840:  DATA 47,53
00842:  DATA 5F,49
00844:  DATA 56,31
00846:  DATA 5F,44
00848:  DATA 41,54
0084A:  DATA 41,0D
0084C:  DATA 0A,00
0084E:  DATA 46,4C
00850:  DATA 41,53
00852:  DATA 48,20
00854:  DATA 49,44
00856:  DATA 3A,20
00858:  DATA 43,49
0085A:  DATA 47,53
0085C:  DATA 5F,49
0085E:  DATA 56,32
00860:  DATA 5F,48
00862:  DATA 45,41
00864:  DATA 44,45
00866:  DATA 52,0D
00868:  DATA 0A,00
0086A:  DATA 46,4C
0086C:  DATA 41,53
0086E:  DATA 48,20
00870:  DATA 49,44
00872:  DATA 3A,20
00874:  DATA 43,49
00876:  DATA 47,53
00878:  DATA 5F,49
0087A:  DATA 56,32
0087C:  DATA 5F,44
0087E:  DATA 41,54
00880:  DATA 41,0D
00882:  DATA 0A,00
00884:  DATA 45,72
00886:  DATA 72,6F
00888:  DATA 72,3A
0088A:  DATA 20,49
0088C:  DATA 6E,76
0088E:  DATA 61,6C
00890:  DATA 69,64
00892:  DATA 20,6D
00894:  DATA 69,73
00896:  DATA 73,69
00898:  DATA 6F,6E
0089A:  DATA 20,49
0089C:  DATA 44,20
0089E:  DATA 25,64
008A0:  DATA 0D,0A
008A2:  DATA 00,00
008A4:  DATA 5B,4D
008A6:  DATA 49,53
008A8:  DATA 46,20
008AA:  DATA 41,44
008AC:  DATA 44,52
008AE:  DATA 45,53
008B0:  DATA 53,5D
008B2:  DATA 0D,0A
008B4:  DATA 00,00
008B6:  DATA 09,50
008B8:  DATA 61,72
008BA:  DATA 61,6D
008BC:  DATA 09,44
008BE:  DATA 61,74
008C0:  DATA 61,0D
008C2:  DATA 0A,00
008C4:  DATA 09,2D
008C6:  DATA 2D,2D
008C8:  DATA 2D,2D
008CA:  DATA 09,2D
008CC:  DATA 2D,2D
008CE:  DATA 2D,2D
008D0:  DATA 2D,2D
008D2:  DATA 2D,2D
008D4:  DATA 2D,0D
008D6:  DATA 0A,00
008D8:  DATA 09,53
008DA:  DATA 54,41
008DC:  DATA 52,54
008DE:  DATA 09,30
008E0:  DATA 78,25
008E2:  DATA 30,38
008E4:  DATA 4C,58
008E6:  DATA 0D,0A
008E8:  DATA 00,00
008EA:  DATA 09,45
008EC:  DATA 4E,44
008EE:  DATA 09,30
008F0:  DATA 78,25
008F2:  DATA 30,38
008F4:  DATA 4C,58
008F6:  DATA 0D,0A
008F8:  DATA 00,00
008FA:  DATA 09,53
008FC:  DATA 52,43
008FE:  DATA 09,30
00900:  DATA 78,25
00902:  DATA 30,38
00904:  DATA 4C,58
00906:  DATA 0D,0A
00908:  DATA 00,00
0090A:  DATA 09,53
0090C:  DATA 49,5A
0090E:  DATA 45,09
00910:  DATA 30,78
00912:  DATA 25,30
00914:  DATA 38,4C
00916:  DATA 58,0D
00918:  DATA 0A,00
0091A:  DATA 09,2D
0091C:  DATA 2D,2D
0091E:  DATA 2D,2D
00920:  DATA 09,2D
00922:  DATA 2D,2D
00924:  DATA 2D,2D
00926:  DATA 2D,2D
00928:  DATA 2D,2D
0092A:  DATA 2D,0D
0092C:  DATA 0A,00
0092E:  DATA 5B,53
00930:  DATA 4D,46
00932:  DATA 20,41
00934:  DATA 44,44
00936:  DATA 52,45
00938:  DATA 53,53
0093A:  DATA 5D,0D
0093C:  DATA 0A,00
0093E:  DATA 09,50
00940:  DATA 61,72
00942:  DATA 61,6D
00944:  DATA 09,44
00946:  DATA 61,74
00948:  DATA 61,0D
0094A:  DATA 0A,00
0094C:  DATA 09,2D
0094E:  DATA 2D,2D
00950:  DATA 2D,2D
00952:  DATA 09,2D
00954:  DATA 2D,2D
00956:  DATA 2D,2D
00958:  DATA 2D,2D
0095A:  DATA 2D,2D
0095C:  DATA 2D,0D
0095E:  DATA 0A,00
00960:  DATA 09,53
00962:  DATA 54,41
00964:  DATA 52,54
00966:  DATA 09,30
00968:  DATA 78,25
0096A:  DATA 30,38
0096C:  DATA 4C,58
0096E:  DATA 0D,0A
00970:  DATA 00,00
00972:  DATA 09,45
00974:  DATA 4E,44
00976:  DATA 09,30
00978:  DATA 78,25
0097A:  DATA 30,38
0097C:  DATA 4C,58
0097E:  DATA 0D,0A
00980:  DATA 00,00
00982:  DATA 09,2D
00984:  DATA 2D,2D
00986:  DATA 2D,2D
00988:  DATA 09,2D
0098A:  DATA 2D,2D
0098C:  DATA 2D,2D
0098E:  DATA 2D,2D
00990:  DATA 2D,2D
00992:  DATA 2D,0D
00994:  DATA 0A,00
00996:  DATA 45,52
00998:  DATA 41,53
0099A:  DATA 45,20
0099C:  DATA 53,4D
0099E:  DATA 46,20
009A0:  DATA 41,52
009A2:  DATA 45,41
009A4:  DATA 0D,0A
009A6:  DATA 00,00
009A8:  DATA 09,45
009AA:  DATA 52,41
009AC:  DATA 53,45
009AE:  DATA 20,53
009B0:  DATA 4D,46
009B2:  DATA 20,41
009B4:  DATA 52,45
009B6:  DATA 41,20
009B8:  DATA 44,4F
009BA:  DATA 4E,45
009BC:  DATA 0D,0A
009BE:  DATA 00,00
009C0:  DATA 57,52
009C2:  DATA 49,54
009C4:  DATA 45,20
009C6:  DATA 44,41
009C8:  DATA 54,41
009CA:  DATA 20,54
009CC:  DATA 4F,20
009CE:  DATA 53,4D
009D0:  DATA 46,0D
009D2:  DATA 0A,00
009D4:  DATA 55,50
009D6:  DATA 44,41
009D8:  DATA 54,45
009DA:  DATA 20,53
009DC:  DATA 4D,46
009DE:  DATA 20,43
009E0:  DATA 4F,55
009E2:  DATA 4E,54
009E4:  DATA 45,52
009E6:  DATA 20,53
009E8:  DATA 54,41
009EA:  DATA 54,55
009EC:  DATA 53,0D
009EE:  DATA 0A,00
009F0:  DATA 0D,0A
009F2:  DATA 5F,5F
009F4:  DATA 5F,5F
009F6:  DATA 5F,5F
009F8:  DATA 5F,5F
009FA:  DATA 5F,45
009FC:  DATA 6E,64
009FE:  DATA 20,63
00A00:  DATA 6F,70
00A02:  DATA 79,5F
00A04:  DATA 64,61
00A06:  DATA 74,61
00A08:  DATA 5F,5F
00A0A:  DATA 5F,5F
00A0C:  DATA 5F,5F
00A0E:  DATA 5F,5F
00A10:  DATA 5F,5F
00A12:  DATA 0D,0A
00A14:  DATA 00,00
00A16:  DATA 5F,5F
00A18:  DATA 5F,5F
00A1A:  DATA 5F,5F
00A1C:  DATA 5F,5F
00A1E:  DATA 5F,5F
00A20:  DATA 5F,5F
00A22:  DATA 5F,5F
00A24:  DATA 5F,5F
00A26:  DATA 5F,5F
00A28:  DATA 5F,5F
00A2A:  DATA 5F,5F
00A2C:  DATA 5F,5F
00A2E:  DATA 5F,5F
00A30:  DATA 5F,5F
00A32:  DATA 5F,5F
00A34:  DATA 5F,0D
00A36:  DATA 0A,0D
00A38:  DATA 0A,00
00A3A:  DATA 0D,0A
00A3C:  DATA 5F,5F
00A3E:  DATA 5F,5F
00A40:  DATA 5F,5F
00A42:  DATA 5F,5F
00A44:  DATA 5F,5F
00A46:  DATA 5F,5F
00A48:  DATA 5F,5F
00A4A:  DATA 5F,5F
00A4C:  DATA 5F,5F
00A4E:  DATA 5F,5F
00A50:  DATA 0D,0A
00A52:  DATA 00,00
00A54:  DATA 5F,5F
00A56:  DATA 5F,53
00A58:  DATA 74,61
00A5A:  DATA 72,74
00A5C:  DATA 20,53
00A5E:  DATA 4D,46
00A60:  DATA 20,52
00A62:  DATA 65,61
00A64:  DATA 64,5F
00A66:  DATA 5F,5F
00A68:  DATA 5F,0D
00A6A:  DATA 0A,00
00A6C:  DATA 45,72
00A6E:  DATA 72,6F
00A70:  DATA 72,3A
00A72:  DATA 20,52
00A74:  DATA 65,61
00A76:  DATA 64,20
00A78:  DATA 61,64
00A7A:  DATA 64,72
00A7C:  DATA 65,73
00A7E:  DATA 73,20
00A80:  DATA 30,78
00A82:  DATA 25,30
00A84:  DATA 38,4C
00A86:  DATA 58,20
00A88:  DATA 6F,75
00A8A:  DATA 74,20
00A8C:  DATA 6F,66
00A8E:  DATA 20,53
00A90:  DATA 4D,46
00A92:  DATA 20,6D
00A94:  DATA 69,73
00A96:  DATA 73,69
00A98:  DATA 6F,6E
00A9A:  DATA 20,72
00A9C:  DATA 61,6E
00A9E:  DATA 67,65
00AA0:  DATA 20,5B
00AA2:  DATA 30,78
00AA4:  DATA 25,30
00AA6:  DATA 38,4C
00AA8:  DATA 58,20
00AAA:  DATA 2D,20
00AAC:  DATA 30,78
00AAE:  DATA 25,30
00AB0:  DATA 38,4C
00AB2:  DATA 58,29
00AB4:  DATA 0D,0A
00AB6:  DATA 00,00
00AB8:  DATA 57,61
00ABA:  DATA 72,6E
00ABC:  DATA 3A,20
00ABE:  DATA 41,64
00AC0:  DATA 6A,75
00AC2:  DATA 73,74
00AC4:  DATA 20,72
00AC6:  DATA 65,61
00AC8:  DATA 64,20
00ACA:  DATA 73,69
00ACC:  DATA 7A,65
00ACE:  DATA 20,66
00AD0:  DATA 72,6F
00AD2:  DATA 6D,20
00AD4:  DATA 25,6C
00AD6:  DATA 75,20
00AD8:  DATA 74,6F
00ADA:  DATA 20,25
00ADC:  DATA 6C,75
00ADE:  DATA 20,28
00AE0:  DATA 6D,69
00AE2:  DATA 73,73
00AE4:  DATA 69,6F
00AE6:  DATA 6E,20
00AE8:  DATA 65,6E
00AEA:  DATA 64,29
00AEC:  DATA 0D,0A
00AEE:  DATA 00,00
00AF0:  DATA 49,6E
00AF2:  DATA 66,6F
00AF4:  DATA 3A,20
00AF6:  DATA 4E,6F
00AF8:  DATA 74,68
00AFA:  DATA 69,6E
00AFC:  DATA 67,20
00AFE:  DATA 74,6F
00B00:  DATA 20,72
00B02:  DATA 65,61
00B04:  DATA 64,20
00B06:  DATA 28,73
00B08:  DATA 69,7A
00B0A:  DATA 65,3D
00B0C:  DATA 30,29
00B0E:  DATA 0D,0A
00B10:  DATA 00,00
00B12:  DATA 49,6E
00B14:  DATA 20,53
00B16:  DATA 4D,46
00B18:  DATA 20,52
00B1A:  DATA 65,61
00B1C:  DATA 64,20
00B1E:  DATA 73,6F
00B20:  DATA 75,72
00B22:  DATA 63,65
00B24:  DATA 20,64
00B26:  DATA 61,74
00B28:  DATA 61,20
00B2A:  DATA 61,64
00B2C:  DATA 64,72
00B2E:  DATA 65,73
00B30:  DATA 73,3A
00B32:  DATA 20,25
00B34:  DATA 4C,58
00B36:  DATA 0D,0A
00B38:  DATA 00,00
00B3A:  DATA 49,6E
00B3C:  DATA 20,53
00B3E:  DATA 4D,46
00B40:  DATA 20,52
00B42:  DATA 65,61
00B44:  DATA 64,20
00B46:  DATA 64,61
00B48:  DATA 74,61
00B4A:  DATA 20,73
00B4C:  DATA 69,7A
00B4E:  DATA 65,20
00B50:  DATA 20,20
00B52:  DATA 20,20
00B54:  DATA 20,20
00B56:  DATA 20,20
00B58:  DATA 20,3A
00B5A:  DATA 20,25
00B5C:  DATA 6C,75
00B5E:  DATA 20,28
00B60:  DATA 30,78
00B62:  DATA 25,6C
00B64:  DATA 78,29
00B66:  DATA 0D,0A
00B68:  DATA 0D,0A
00B6A:  DATA 00,00
00B6C:  DATA 45,72
00B6E:  DATA 72,6F
00B70:  DATA 72,3A
00B72:  DATA 20,53
00B74:  DATA 4D,46
00B76:  DATA 20,69
00B78:  DATA 73,20
00B7A:  DATA 6E,6F
00B7C:  DATA 74,20
00B7E:  DATA 63,6F
00B80:  DATA 6E,6E
00B82:  DATA 65,63
00B84:  DATA 74,65
00B86:  DATA 64,0D
00B88:  DATA 0A,00
00B8A:  DATA 52,45
00B8C:  DATA 41,44
00B8E:  DATA 20,44
00B90:  DATA 41,54
00B92:  DATA 41,20
00B94:  DATA 46,52
00B96:  DATA 4F,4D
00B98:  DATA 20,53
00B9A:  DATA 4D,46
00B9C:  DATA 2E,2E
00B9E:  DATA 2E,0D
00BA0:  DATA 0A,00
00BA2:  DATA 0D,0A
00BA4:  DATA 5F,5F
00BA6:  DATA 5F,45
00BA8:  DATA 6E,64
00BAA:  DATA 20,53
00BAC:  DATA 4D,46
00BAE:  DATA 20,52
00BB0:  DATA 65,61
00BB2:  DATA 64,5F
00BB4:  DATA 5F,5F
00BB6:  DATA 5F,0D
00BB8:  DATA 0A,00
00BBA:  DATA 5F,5F
00BBC:  DATA 5F,5F
00BBE:  DATA 5F,5F
00BC0:  DATA 5F,5F
00BC2:  DATA 5F,5F
00BC4:  DATA 5F,5F
00BC6:  DATA 5F,5F
00BC8:  DATA 5F,5F
00BCA:  DATA 5F,5F
00BCC:  DATA 5F,5F
00BCE:  DATA 0D,0A
00BD0:  DATA 0D,0A
00BD2:  DATA 00,00
00BD4:  DATA 0D,0A
00BD6:  DATA 5F,5F
00BD8:  DATA 5F,5F
00BDA:  DATA 5F,5F
00BDC:  DATA 5F,5F
00BDE:  DATA 5F,5F
00BE0:  DATA 5F,5F
00BE2:  DATA 5F,5F
00BE4:  DATA 5F,5F
00BE6:  DATA 5F,5F
00BE8:  DATA 5F,5F
00BEA:  DATA 0D,0A
00BEC:  DATA 00,00
00BEE:  DATA 5F,5F
00BF0:  DATA 5F,53
00BF2:  DATA 74,61
00BF4:  DATA 72,74
00BF6:  DATA 20,73
00BF8:  DATA 6D,66
00BFA:  DATA 5F,65
00BFC:  DATA 72,61
00BFE:  DATA 73,65
00C00:  DATA 5F,5F
00C02:  DATA 5F,5F
00C04:  DATA 0D,0A
00C06:  DATA 00,00
00C08:  DATA 5B,53
00C0A:  DATA 4D,46
00C0C:  DATA 5D,20
00C0E:  DATA 45,72
00C10:  DATA 61,73
00C12:  DATA 65,20
00C14:  DATA 61,64
00C16:  DATA 64,72
00C18:  DATA 65,73
00C1A:  DATA 73,20
00C1C:  DATA 20,20
00C1E:  DATA 3A,20
00C20:  DATA 25,4C
00C22:  DATA 58,0D
00C24:  DATA 0A,00
00C26:  DATA 5B,53
00C28:  DATA 4D,46
00C2A:  DATA 5D,20
00C2C:  DATA 45,72
00C2E:  DATA 61,73
00C30:  DATA 65,20
00C32:  DATA 64,61
00C34:  DATA 74,61
00C36:  DATA 20,73
00C38:  DATA 69,7A
00C3A:  DATA 65,20
00C3C:  DATA 3A,20
00C3E:  DATA 25,6C
00C40:  DATA 75,20
00C42:  DATA 28,30
00C44:  DATA 78,25
00C46:  DATA 6C,78
00C48:  DATA 29,0D
00C4A:  DATA 0A,0D
00C4C:  DATA 0A,00
00C4E:  DATA 45,72
00C50:  DATA 72,6F
00C52:  DATA 72,3A
00C54:  DATA 20,53
00C56:  DATA 4D,46
00C58:  DATA 20,69
00C5A:  DATA 73,20
00C5C:  DATA 6E,6F
00C5E:  DATA 74,20
00C60:  DATA 63,6F
00C62:  DATA 6E,6E
00C64:  DATA 65,63
00C66:  DATA 74,65
00C68:  DATA 64,0D
00C6A:  DATA 0A,00
00C6C:  DATA 45,72
00C6E:  DATA 72,6F
00C70:  DATA 72,3A
00C72:  DATA 20,45
00C74:  DATA 72,61
00C76:  DATA 73,65
00C78:  DATA 20,73
00C7A:  DATA 6F,75
00C7C:  DATA 72,63
00C7E:  DATA 65,20
00C80:  DATA 61,64
00C82:  DATA 64,72
00C84:  DATA 65,73
00C86:  DATA 73,20
00C88:  DATA 30,78
00C8A:  DATA 25,4C
00C8C:  DATA 58,20
00C8E:  DATA 69,73
00C90:  DATA 20,6F
00C92:  DATA 75,74
00C94:  DATA 73,69
00C96:  DATA 64,65
00C98:  DATA 20,6D
00C9A:  DATA 69,73
00C9C:  DATA 73,69
00C9E:  DATA 6F,6E
00CA0:  DATA 20,72
00CA2:  DATA 61,6E
00CA4:  DATA 67,65
00CA6:  DATA 20,5B
00CA8:  DATA 30,78
00CAA:  DATA 25,4C
00CAC:  DATA 58,20
00CAE:  DATA 2D,20
00CB0:  DATA 30,78
00CB2:  DATA 25,4C
00CB4:  DATA 58,5D
00CB6:  DATA 0D,0A
00CB8:  DATA 00,00
00CBA:  DATA 45,72
00CBC:  DATA 72,6F
00CBE:  DATA 72,3A
00CC0:  DATA 20,45
00CC2:  DATA 72,61
00CC4:  DATA 73,65
00CC6:  DATA 20,6F
00CC8:  DATA 70,65
00CCA:  DATA 72,61
00CCC:  DATA 74,69
00CCE:  DATA 6F,6E
00CD0:  DATA 20,77
00CD2:  DATA 6F,75
00CD4:  DATA 6C,64
00CD6:  DATA 20,65
00CD8:  DATA 78,63
00CDA:  DATA 65,65
00CDC:  DATA 64,20
00CDE:  DATA 6D,69
00CE0:  DATA 73,73
00CE2:  DATA 69,6F
00CE4:  DATA 6E,20
00CE6:  DATA 65,6E
00CE8:  DATA 64,20
00CEA:  DATA 61,64
00CEC:  DATA 64,72
00CEE:  DATA 65,73
00CF0:  DATA 73,20
00CF2:  DATA 30,78
00CF4:  DATA 25,4C
00CF6:  DATA 58,0D
00CF8:  DATA 0A,00
00CFA:  DATA 4C,69
00CFC:  DATA 6D,69
00CFE:  DATA 74,69
00D00:  DATA 6E,67
00D02:  DATA 20,65
00D04:  DATA 72,61
00D06:  DATA 73,65
00D08:  DATA 20,73
00D0A:  DATA 69,7A
00D0C:  DATA 65,20
00D0E:  DATA 74,6F
00D10:  DATA 20,73
00D12:  DATA 74,61
00D14:  DATA 79,20
00D16:  DATA 77,69
00D18:  DATA 74,68
00D1A:  DATA 69,6E
00D1C:  DATA 20,6D
00D1E:  DATA 69,73
00D20:  DATA 73,69
00D22:  DATA 6F,6E
00D24:  DATA 20,62
00D26:  DATA 6F,75
00D28:  DATA 6E,64
00D2A:  DATA 73,0D
00D2C:  DATA 0A,00
00D2E:  DATA 45,72
00D30:  DATA 61,73
00D32:  DATA 65,20
00D34:  DATA 6F,70
00D36:  DATA 65,72
00D38:  DATA 61,74
00D3A:  DATA 69,6F
00D3C:  DATA 6E,20
00D3E:  DATA 76,61
00D40:  DATA 6C,69
00D42:  DATA 64,61
00D44:  DATA 74,65
00D46:  DATA 64,20
00D48:  DATA 77,69
00D4A:  DATA 74,68
00D4C:  DATA 69,6E
00D4E:  DATA 20,6D
00D50:  DATA 69,73
00D52:  DATA 73,69
00D54:  DATA 6F,6E
00D56:  DATA 20,72
00D58:  DATA 61,6E
00D5A:  DATA 67,65
00D5C:  DATA 0D,0A
00D5E:  DATA 00,00
00D60:  DATA 45,72
00D62:  DATA 61,73
00D64:  DATA 65,64
00D66:  DATA 20,25
00D68:  DATA 6C,75
00D6A:  DATA 20,62
00D6C:  DATA 79,74
00D6E:  DATA 65,73
00D70:  DATA 20,28
00D72:  DATA 61,6C
00D74:  DATA 69,67
00D76:  DATA 6E,65
00D78:  DATA 64,29
00D7A:  DATA 0D,0A
00D7C:  DATA 00,00
00D7E:  DATA 0D,0A
00D80:  DATA 5F,5F
00D82:  DATA 5F,45
00D84:  DATA 6E,64
00D86:  DATA 20,73
00D88:  DATA 6D,66
00D8A:  DATA 5F,65
00D8C:  DATA 72,61
00D8E:  DATA 73,65
00D90:  DATA 5F,5F
00D92:  DATA 5F,5F
00D94:  DATA 0D,0A
00D96:  DATA 00,00
00D98:  DATA 5F,5F
00D9A:  DATA 5F,5F
00D9C:  DATA 5F,5F
00D9E:  DATA 5F,5F
00DA0:  DATA 5F,5F
00DA2:  DATA 5F,5F
00DA4:  DATA 5F,5F
00DA6:  DATA 5F,5F
00DA8:  DATA 5F,5F
00DAA:  DATA 5F,5F
00DAC:  DATA 0D,0A
00DAE:  DATA 0D,0A
00DB0:  DATA 00,00
00DB2:  DATA 4D,49
00DB4:  DATA 53,53
00DB6:  DATA 49,4F
00DB8:  DATA 4E,20
00DBA:  DATA 46,4C
00DBC:  DATA 41,53
00DBE:  DATA 48,20
00DC0:  DATA 49,6E
00DC2:  DATA 69,74
00DC4:  DATA 69,61
00DC6:  DATA 6C,69
00DC8:  DATA 7A,65
00DCA:  DATA 0D,0A
00DCC:  DATA 00,00
00DCE:  DATA 09,5B
00DD0:  DATA 4D,49
00DD2:  DATA 53,20
00DD4:  DATA 46,4D
00DD6:  DATA 5D,20
00DD8:  DATA 43,6F
00DDA:  DATA 6E,6E
00DDC:  DATA 65,63
00DDE:  DATA 74,65
00DE0:  DATA 64,0D
00DE2:  DATA 0A,00
00DE4:  DATA 09,5B
00DE6:  DATA 4D,49
00DE8:  DATA 53,20
00DEA:  DATA 46,4D
00DEC:  DATA 5D,20
00DEE:  DATA 4E,6F
00DF0:  DATA 74,20
00DF2:  DATA 43,6F
00DF4:  DATA 6E,6E
00DF6:  DATA 65,63
00DF8:  DATA 74,65
00DFA:  DATA 64,0D
00DFC:  DATA 0A,00
00DFE:  DATA 09,5B
00E00:  DATA 53,4D
00E02:  DATA 46,5D
00E04:  DATA 20,43
00E06:  DATA 6F,6E
00E08:  DATA 6E,65
00E0A:  DATA 63,74
00E0C:  DATA 65,64
00E0E:  DATA 0D,0A
00E10:  DATA 00,00
00E12:  DATA 09,5B
00E14:  DATA 53,4D
00E16:  DATA 46,5D
00E18:  DATA 20,4E
00E1A:  DATA 6F,74
00E1C:  DATA 20,43
00E1E:  DATA 6F,6E
00E20:  DATA 6E,65
00E22:  DATA 63,74
00E24:  DATA 65,64
00E26:  DATA 0D,0A
00E28:  DATA 00,00
00E2A:  DATA 09,5B
00E2C:  DATA 4D,49
00E2E:  DATA 53,20
00E30:  DATA 46,4D
00E32:  DATA 5D,20
00E34:  DATA 25,30
00E36:  DATA 38,4C
00E38:  DATA 58,0D
00E3A:  DATA 0A,00
00E3C:  DATA 09,5B
00E3E:  DATA 4D,49
00E40:  DATA 53,20
00E42:  DATA 46,4D
00E44:  DATA 5D,20
00E46:  DATA 43,52
00E48:  DATA 43,20
00E4A:  DATA 65,72
00E4C:  DATA 72,6F
00E4E:  DATA 72,20
00E50:  DATA 2D,3E
00E52:  DATA 20,69
00E54:  DATA 6E,69
00E56:  DATA 74,69
00E58:  DATA 61,6C
00E5A:  DATA 69,7A
00E5C:  DATA 65,20
00E5E:  DATA 63,6F
00E60:  DATA 75,6E
00E62:  DATA 74,65
00E64:  DATA 72,73
00E66:  DATA 0D,0A
00E68:  DATA 00,00
00E6A:  DATA 09,43
00E6C:  DATA 6F,6D
00E6E:  DATA 70,6C
00E70:  DATA 65,74
00E72:  DATA 65,0D
00E74:  DATA 0A,00
00E76:  DATA 09,46
00E78:  DATA 69,65
00E7A:  DATA 6C,64
00E7C:  DATA 09,09
00E7E:  DATA 43,6F
00E80:  DATA 75,6E
00E82:  DATA 74,65
00E84:  DATA 72,4E
00E86:  DATA 61,6D
00E88:  DATA 65,09
00E8A:  DATA 56,61
00E8C:  DATA 6C,75
00E8E:  DATA 65,0D
00E90:  DATA 0A,00
00E92:  DATA 09,2D
00E94:  DATA 2D,2D
00E96:  DATA 2D,2D
00E98:  DATA 2D,2D
00E9A:  DATA 2D,2D
00E9C:  DATA 2D,2D
00E9E:  DATA 2D,09
00EA0:  DATA 2D,2D
00EA2:  DATA 2D,2D
00EA4:  DATA 2D,2D
00EA6:  DATA 2D,2D
00EA8:  DATA 2D,2D
00EAA:  DATA 2D,2D
00EAC:  DATA 2D,09
00EAE:  DATA 2D,2D
00EB0:  DATA 2D,2D
00EB2:  DATA 2D,2D
00EB4:  DATA 2D,2D
00EB6:  DATA 2D,2D
00EB8:  DATA 2D,2D
00EBA:  DATA 2D,0D
00EBC:  DATA 0A,00
00EBE:  DATA 09,50
00EC0:  DATA 49,43
00EC2:  DATA 4C,4F
00EC4:  DATA 47,09
00EC6:  DATA 09,55
00EC8:  DATA 73,65
00ECA:  DATA 64,09
00ECC:  DATA 09,30
00ECE:  DATA 78,25
00ED0:  DATA 30,38
00ED2:  DATA 4C,58
00ED4:  DATA 0D,0A
00ED6:  DATA 00,00
00ED8:  DATA 09,09
00EDA:  DATA 09,55
00EDC:  DATA 6E,63
00EDE:  DATA 6F,70
00EE0:  DATA 79,65
00EE2:  DATA 64,09
00EE4:  DATA 30,78
00EE6:  DATA 25,30
00EE8:  DATA 38,4C
00EEA:  DATA 58,0D
00EEC:  DATA 0A,00
00EEE:  DATA 09,09
00EF0:  DATA 09,52
00EF2:  DATA 65,73
00EF4:  DATA 65,72
00EF6:  DATA 76,65
00EF8:  DATA 09,09
00EFA:  DATA 30,78
00EFC:  DATA 25,30
00EFE:  DATA 32,58
00F00:  DATA 2F,20
00F02:  DATA 30,78
00F04:  DATA 25,30
00F06:  DATA 32,58
00F08:  DATA 0D,0A
00F0A:  DATA 00,00
00F0C:  DATA 09,45
00F0E:  DATA 4E,56
00F10:  DATA 49,52
00F12:  DATA 4F,09
00F14:  DATA 09,55
00F16:  DATA 73,65
00F18:  DATA 64,09
00F1A:  DATA 09,30
00F1C:  DATA 78,25
00F1E:  DATA 30,38
00F20:  DATA 4C,58
00F22:  DATA 0D,0A
00F24:  DATA 00,00
00F26:  DATA 09,09
00F28:  DATA 09,55
00F2A:  DATA 6E,63
00F2C:  DATA 6F,70
00F2E:  DATA 79,65
00F30:  DATA 64,09
00F32:  DATA 30,78
00F34:  DATA 25,30
00F36:  DATA 38,4C
00F38:  DATA 58,0D
00F3A:  DATA 0A,00
00F3C:  DATA 09,09
00F3E:  DATA 09,52
00F40:  DATA 65,73
00F42:  DATA 65,72
00F44:  DATA 76,65
00F46:  DATA 09,09
00F48:  DATA 30,78
00F4A:  DATA 25,30
00F4C:  DATA 32,58
00F4E:  DATA 2F,20
00F50:  DATA 30,78
00F52:  DATA 25,30
00F54:  DATA 32,58
00F56:  DATA 0D,0A
00F58:  DATA 00,00
00F5A:  DATA 09,49
00F5C:  DATA 56,31
00F5E:  DATA 20,48
00F60:  DATA 45,41
00F62:  DATA 44,45
00F64:  DATA 52,09
00F66:  DATA 55,73
00F68:  DATA 65,64
00F6A:  DATA 09,09
00F6C:  DATA 30,78
00F6E:  DATA 25,30
00F70:  DATA 38,4C
00F72:  DATA 58,0D
00F74:  DATA 0A,00
00F76:  DATA 09,09
00F78:  DATA 09,55
00F7A:  DATA 6E,63
00F7C:  DATA 6F,70
00F7E:  DATA 79,65
00F80:  DATA 64,09
00F82:  DATA 30,78
00F84:  DATA 25,30
00F86:  DATA 38,4C
00F88:  DATA 58,0D
00F8A:  DATA 0A,00
00F8C:  DATA 09,09
00F8E:  DATA 09,52
00F90:  DATA 65,73
00F92:  DATA 65,72
00F94:  DATA 76,65
00F96:  DATA 09,09
00F98:  DATA 30,78
00F9A:  DATA 25,30
00F9C:  DATA 32,58
00F9E:  DATA 2F,20
00FA0:  DATA 30,78
00FA2:  DATA 25,30
00FA4:  DATA 32,58
00FA6:  DATA 0D,0A
00FA8:  DATA 00,00
00FAA:  DATA 09,49
00FAC:  DATA 56,31
00FAE:  DATA 20,44
00FB0:  DATA 41,54
00FB2:  DATA 41,09
00FB4:  DATA 55,73
00FB6:  DATA 65,64
00FB8:  DATA 09,09
00FBA:  DATA 30,78
00FBC:  DATA 25,30
00FBE:  DATA 38,4C
00FC0:  DATA 58,0D
00FC2:  DATA 0A,00
00FC4:  DATA 09,09
00FC6:  DATA 09,55
00FC8:  DATA 6E,63
00FCA:  DATA 6F,70
00FCC:  DATA 79,65
00FCE:  DATA 64,09
00FD0:  DATA 30,78
00FD2:  DATA 25,30
00FD4:  DATA 38,4C
00FD6:  DATA 58,0D
00FD8:  DATA 0A,00
00FDA:  DATA 09,09
00FDC:  DATA 09,52
00FDE:  DATA 65,73
00FE0:  DATA 65,72
00FE2:  DATA 76,65
00FE4:  DATA 09,09
00FE6:  DATA 30,78
00FE8:  DATA 25,30
00FEA:  DATA 32,58
00FEC:  DATA 2F,20
00FEE:  DATA 30,78
00FF0:  DATA 25,30
00FF2:  DATA 32,58
00FF4:  DATA 0D,0A
00FF6:  DATA 00,00
00FF8:  DATA 09,49
00FFA:  DATA 56,32
00FFC:  DATA 20,48
00FFE:  DATA 45,41
01000:  DATA 44,45
01002:  DATA 52,09
01004:  DATA 55,73
01006:  DATA 65,64
01008:  DATA 09,09
0100A:  DATA 30,78
0100C:  DATA 25,30
0100E:  DATA 38,4C
01010:  DATA 58,0D
01012:  DATA 0A,00
01014:  DATA 09,09
01016:  DATA 09,55
01018:  DATA 6E,63
0101A:  DATA 6F,70
0101C:  DATA 79,65
0101E:  DATA 64,09
01020:  DATA 30,78
01022:  DATA 25,30
01024:  DATA 38,4C
01026:  DATA 58,0D
01028:  DATA 0A,00
0102A:  DATA 09,09
0102C:  DATA 09,52
0102E:  DATA 65,73
01030:  DATA 65,72
01032:  DATA 76,65
01034:  DATA 09,09
01036:  DATA 30,78
01038:  DATA 25,30
0103A:  DATA 32,58
0103C:  DATA 2F,20
0103E:  DATA 30,78
01040:  DATA 25,30
01042:  DATA 32,58
01044:  DATA 0D,0A
01046:  DATA 00,00
01048:  DATA 09,49
0104A:  DATA 56,32
0104C:  DATA 20,44
0104E:  DATA 41,54
01050:  DATA 41,09
01052:  DATA 55,73
01054:  DATA 65,64
01056:  DATA 09,09
01058:  DATA 30,78
0105A:  DATA 25,30
0105C:  DATA 38,4C
0105E:  DATA 58,0D
01060:  DATA 0A,00
01062:  DATA 09,09
01064:  DATA 09,55
01066:  DATA 6E,63
01068:  DATA 6F,70
0106A:  DATA 79,65
0106C:  DATA 64,09
0106E:  DATA 30,78
01070:  DATA 25,30
01072:  DATA 38,4C
01074:  DATA 58,0D
01076:  DATA 0A,00
01078:  DATA 09,09
0107A:  DATA 09,52
0107C:  DATA 65,73
0107E:  DATA 65,72
01080:  DATA 76,65
01082:  DATA 09,09
01084:  DATA 30,78
01086:  DATA 25,30
01088:  DATA 32,58
0108A:  DATA 2F,20
0108C:  DATA 30,78
0108E:  DATA 25,30
01090:  DATA 32,58
01092:  DATA 0D,0A
01094:  DATA 00,00
01096:  DATA 09,3D
01098:  DATA 3D,3D
0109A:  DATA 3D,3D
0109C:  DATA 3D,3D
0109E:  DATA 3D,3D
010A0:  DATA 3D,3D
010A2:  DATA 3D,3D
010A4:  DATA 3D,3D
010A6:  DATA 3D,3D
010A8:  DATA 3D,3D
010AA:  DATA 3D,3D
010AC:  DATA 3D,3D
010AE:  DATA 3D,3D
010B0:  DATA 3D,3D
010B2:  DATA 3D,3D
010B4:  DATA 3D,3D
010B6:  DATA 3D,3D
010B8:  DATA 3D,3D
010BA:  DATA 3D,3D
010BC:  DATA 3D,3D
010BE:  DATA 3D,3D
010C0:  DATA 3D,3D
010C2:  DATA 3D,3D
010C4:  DATA 3D,3D
010C6:  DATA 3D,3D
010C8:  DATA 3D,0D
010CA:  DATA 0A,00
010CC:  DATA 43,52
010CE:  DATA 43,20
010D0:  DATA 76,65
010D2:  DATA 72,69
010D4:  DATA 66,69
010D6:  DATA 63,61
010D8:  DATA 74,69
010DA:  DATA 6F,6E
010DC:  DATA 20,70
010DE:  DATA 61,73
010E0:  DATA 73,65
010E2:  DATA 64,20
010E4:  DATA 6F,6E
010E6:  DATA 20,61
010E8:  DATA 74,74
010EA:  DATA 65,6D
010EC:  DATA 70,74
010EE:  DATA 20,25
010F0:  DATA 64,0D
010F2:  DATA 0A,00
010F4:  DATA 45,72
010F6:  DATA 72,6F
010F8:  DATA 72,3A
010FA:  DATA 20,43
010FC:  DATA 52,43
010FE:  DATA 20,76
01100:  DATA 65,72
01102:  DATA 69,66
01104:  DATA 69,63
01106:  DATA 61,74
01108:  DATA 69,6F
0110A:  DATA 6E,20
0110C:  DATA 66,61
0110E:  DATA 69,6C
01110:  DATA 65,64
01112:  DATA 20,61
01114:  DATA 66,74
01116:  DATA 65,72
01118:  DATA 20,25
0111A:  DATA 64,20
0111C:  DATA 61,74
0111E:  DATA 74,65
01120:  DATA 6D,70
01122:  DATA 74,73
01124:  DATA 0D,0A
01126:  DATA 00,00
01128:  DATA 0D,0A
0112A:  DATA 5F,5F
0112C:  DATA 5F,5F
0112E:  DATA 5F,5F
01130:  DATA 5F,5F
01132:  DATA 5F,5F
01134:  DATA 5F,5F
01136:  DATA 5F,5F
01138:  DATA 5F,5F
0113A:  DATA 5F,5F
0113C:  DATA 5F,5F
0113E:  DATA 5F,5F
01140:  DATA 5F,5F
01142:  DATA 5F,5F
01144:  DATA 5F,5F
01146:  DATA 5F,5F
01148:  DATA 0D,0A
0114A:  DATA 5F,5F
0114C:  DATA 5F,5F
0114E:  DATA 5F,53
01150:  DATA 74,61
01152:  DATA 72,74
01154:  DATA 20,65
01156:  DATA 78,65
01158:  DATA 63,75
0115A:  DATA 74,65
0115C:  DATA 5F,6D
0115E:  DATA 69,73
01160:  DATA 73,69
01162:  DATA 6F,6E
01164:  DATA 5F,5F
01166:  DATA 5F,5F
01168:  DATA 5F,0D
0116A:  DATA 0A,0D
0116C:  DATA 0A,00
0116E:  DATA 43,6F
01170:  DATA 6D,6D
01172:  DATA 61,6E
01174:  DATA 64,20
01176:  DATA 49,44
01178:  DATA 3A,20
0117A:  DATA 25,58
0117C:  DATA 0D,0A
0117E:  DATA 0D,0A
01180:  DATA 00,00
01182:  DATA 09,09
01184:  DATA 2D,3E
01186:  DATA 20,47
01188:  DATA 65,74
0118A:  DATA 20,74
0118C:  DATA 69,6D
0118E:  DATA 65,20
01190:  DATA 74,6F
01192:  DATA 20,25
01194:  DATA 6C,75
01196:  DATA 20,64
01198:  DATA 61,79
0119A:  DATA 73,2C
0119C:  DATA 20,25
0119E:  DATA 30,32
011A0:  DATA 75,3A
011A2:  DATA 25,30
011A4:  DATA 32,75
011A6:  DATA 3A,25
011A8:  DATA 30,32
011AA:  DATA 75,0D
011AC:  DATA 0A,00
011AE:  DATA 09,09
011B0:  DATA 2D,3E
011B2:  DATA 20,49
011B4:  DATA 6E,76
011B6:  DATA 61,6C
011B8:  DATA 69,64
011BA:  DATA 20,43
011BC:  DATA 4D,44
011BE:  DATA 20,49
011C0:  DATA 44,21
011C2:  DATA 0D,0A
011C4:  DATA 00,00
011C6:  DATA 0D,0A
011C8:  DATA 5F,5F
011CA:  DATA 5F,5F
011CC:  DATA 5F,5F
011CE:  DATA 45,6E
011D0:  DATA 64,20
011D2:  DATA 65,78
011D4:  DATA 65,63
011D6:  DATA 75,74
011D8:  DATA 65,5F
011DA:  DATA 6D,69
011DC:  DATA 73,73
011DE:  DATA 69,6F
011E0:  DATA 6E,5F
011E2:  DATA 5F,5F
011E4:  DATA 5F,5F
011E6:  DATA 5F,0D
011E8:  DATA 0A,5F
011EA:  DATA 5F,5F
011EC:  DATA 5F,5F
011EE:  DATA 5F,5F
011F0:  DATA 5F,5F
011F2:  DATA 5F,5F
011F4:  DATA 5F,5F
011F6:  DATA 5F,5F
011F8:  DATA 5F,5F
011FA:  DATA 5F,5F
011FC:  DATA 5F,5F
011FE:  DATA 5F,5F
01200:  DATA 5F,5F
01202:  DATA 5F,5F
01204:  DATA 5F,5F
01206:  DATA 5F,5F
01208:  DATA 0D,0A
0120A:  DATA 00,00
0120C:  DATA 53,74
0120E:  DATA 61,72
01210:  DATA 74,20
01212:  DATA 65,78
01214:  DATA 65,63
01216:  DATA 75,74
01218:  DATA 65,5F
0121A:  DATA 63,6F
0121C:  DATA 6D,6D
0121E:  DATA 61,6E
01220:  DATA 64,0D
01222:  DATA 0A,00
01224:  DATA 09,2D
01226:  DATA 3E,20
01228:  DATA 55,70
0122A:  DATA 6C,69
0122C:  DATA 6E,6B
0122E:  DATA 20,63
01230:  DATA 6F,6D
01232:  DATA 6D,61
01234:  DATA 6E,64
01236:  DATA 0D,0A
01238:  DATA 00,00
0123A:  DATA 09,20
0123C:  DATA 20,20
0123E:  DATA 54,72
01240:  DATA 61,6E
01242:  DATA 73,6D
01244:  DATA 69,74
01246:  DATA 20,41
01248:  DATA 63,6B
0124A:  DATA 6E,6F
0124C:  DATA 6C,65
0124E:  DATA 67,64
01250:  DATA 65,0D
01252:  DATA 0A,00
01254:  DATA 09,2D
01256:  DATA 3E,20
01258:  DATA 53,74
0125A:  DATA 61,74
0125C:  DATA 75,73
0125E:  DATA 20,63
01260:  DATA 68,65
01262:  DATA 63,6B
01264:  DATA 0D,0A
01266:  DATA 00,00
01268:  DATA 09,20
0126A:  DATA 20,20
0126C:  DATA 54,72
0126E:  DATA 61,6E
01270:  DATA 73,6D
01272:  DATA 69,74
01274:  DATA 20,4D
01276:  DATA 49,53
01278:  DATA 20,4D
0127A:  DATA 43,55
0127C:  DATA 20,53
0127E:  DATA 74,61
01280:  DATA 74,75
01282:  DATA 73,0D
01284:  DATA 0A,00
01286:  DATA 66,69
01288:  DATA 6E,69
0128A:  DATA 73,68
0128C:  DATA 65,64
0128E:  DATA 20,69
01290:  DATA 6E,20
01292:  DATA 73,74
01294:  DATA 61,74
01296:  DATA 75,73
01298:  DATA 5F,63
0129A:  DATA 68,65
0129C:  DATA 63,6B
0129E:  DATA 0D,0A
012A0:  DATA 00,00
012A2:  DATA 09,2D
012A4:  DATA 3E,20
012A6:  DATA 53,4D
012A8:  DATA 46,20
012AA:  DATA 61,76
012AC:  DATA 61,69
012AE:  DATA 6C,61
012B0:  DATA 62,6C
012B2:  DATA 65,20
012B4:  DATA 63,68
012B6:  DATA 65,63
012B8:  DATA 6B,0D
012BA:  DATA 0A,00
012BC:  DATA 09,20
012BE:  DATA 20,20
012C0:  DATA 54,72
012C2:  DATA 61,6E
012C4:  DATA 73,6D
012C6:  DATA 69,74
012C8:  DATA 20,41
012CA:  DATA 63,6B
012CC:  DATA 6E,6F
012CE:  DATA 77,6C
012D0:  DATA 65,64
012D2:  DATA 67,65
012D4:  DATA 6D,65
012D6:  DATA 6E,74
012D8:  DATA 0D,0A
012DA:  DATA 00,00
012DC:  DATA 09,09
012DE:  DATA 2D,3E
012E0:  DATA 20,64
012E2:  DATA 65,6E
012E4:  DATA 69,65
012E6:  DATA 64,0D
012E8:  DATA 0A,00
012EA:  DATA 09,09
012EC:  DATA 2D,3E
012EE:  DATA 20,61
012F0:  DATA 6C,6C
012F2:  DATA 6F,77
012F4:  DATA 65,64
012F6:  DATA 0D,0A
012F8:  DATA 00,00
012FA:  DATA 09,09
012FC:  DATA 2D,3E
012FE:  DATA 20,44
01300:  DATA 65,71
01302:  DATA 75,65
01304:  DATA 75,65
01306:  DATA 64,3A
01308:  DATA 20,66
0130A:  DATA 75,6E
0130C:  DATA 63,3D
0130E:  DATA 25,75
01310:  DATA 20,6D
01312:  DATA 69,73
01314:  DATA 73,69
01316:  DATA 6F,6E
01318:  DATA 3D,25
0131A:  DATA 75,20
0131C:  DATA 73,69
0131E:  DATA 7A,65
01320:  DATA 3D,25
01322:  DATA 6C,64
01324:  DATA 20,61
01326:  DATA 64,64
01328:  DATA 72,3D
0132A:  DATA 25,6C
0132C:  DATA 64,0D
0132E:  DATA 0A,00
01330:  DATA 09,09
01332:  DATA 20,20
01334:  DATA 20,55
01336:  DATA 6E,6B
01338:  DATA 6E,6F
0133A:  DATA 77,6E
0133C:  DATA 20,66
0133E:  DATA 75,6E
01340:  DATA 63,5F
01342:  DATA 74,79
01344:  DATA 70,65
01346:  DATA 3D,25
01348:  DATA 75,0D
0134A:  DATA 0A,00
0134C:  DATA 09,09
0134E:  DATA 2D,3E
01350:  DATA 20,43
01352:  DATA 6F,6D
01354:  DATA 70,6C
01356:  DATA 65,74
01358:  DATA 65,64
0135A:  DATA 20,25
0135C:  DATA 75,20
0135E:  DATA 6F,70
01360:  DATA 65,72
01362:  DATA 61,74
01364:  DATA 69,6F
01366:  DATA 6E,73
01368:  DATA 0D,0A
0136A:  DATA 00,00
0136C:  DATA 09,2D
0136E:  DATA 3E,20
01370:  DATA 54,49
01372:  DATA 4D,45
01374:  DATA 20,52
01376:  DATA 65,63
01378:  DATA 65,69
0137A:  DATA 76,65
0137C:  DATA 0D,0A
0137E:  DATA 00,00
01380:  DATA 09,20
01382:  DATA 20,20
01384:  DATA 54,72
01386:  DATA 61,6E
01388:  DATA 73,6D
0138A:  DATA 69,74
0138C:  DATA 20,41
0138E:  DATA 63,6B
01390:  DATA 6E,6F
01392:  DATA 6C,65
01394:  DATA 67,64
01396:  DATA 65,0D
01398:  DATA 0A,00
0139A:  DATA 09,09
0139C:  DATA 2D,3E
0139E:  DATA 20,53
013A0:  DATA 65,74
013A2:  DATA 20,74
013A4:  DATA 69,6D
013A6:  DATA 65,20
013A8:  DATA 74,6F
013AA:  DATA 20,25
013AC:  DATA 6C,75
013AE:  DATA 20,64
013B0:  DATA 61,79
013B2:  DATA 73,2C
013B4:  DATA 20,25
013B6:  DATA 30,32
013B8:  DATA 75,3A
013BA:  DATA 25,30
013BC:  DATA 32,75
013BE:  DATA 3A,25
013C0:  DATA 30,32
013C2:  DATA 75,0D
013C4:  DATA 0A,00
013C6:  DATA 53,74
013C8:  DATA 61,72
013CA:  DATA 74,20
013CC:  DATA 4D,4F
013CE:  DATA 44,45
013D0:  DATA 20,4D
013D2:  DATA 45,41
013D4:  DATA 53,20
013D6:  DATA 49,56
013D8:  DATA 20,31
013DA:  DATA 20,53
013DC:  DATA 57,45
013DE:  DATA 45,50
013E0:  DATA 0D,0A
013E2:  DATA 00,00
013E4:  DATA 0D,0A
013E6:  DATA 41,44
013E8:  DATA 44,20
013EA:  DATA 53,4D
013EC:  DATA 46,20
013EE:  DATA 51,55
013F0:  DATA 45,55
013F2:  DATA 45,0D
013F4:  DATA 0A,00
013F6:  DATA 09,4D
013F8:  DATA 69,73
013FA:  DATA 73,69
013FC:  DATA 6F,6E
013FE:  DATA 20,49
01400:  DATA 44,3A
01402:  DATA 20,20
01404:  DATA 20,25
01406:  DATA 30,32
01408:  DATA 58,0D
0140A:  DATA 0A,00
0140C:  DATA 09,46
0140E:  DATA 75,6E
01410:  DATA 63,74
01412:  DATA 69,6F
01414:  DATA 6E,20
01416:  DATA 54,79
01418:  DATA 70,65
0141A:  DATA 3A,25
0141C:  DATA 30,32
0141E:  DATA 58,0D
01420:  DATA 0A,00
01422:  DATA 09,57
01424:  DATA 72,69
01426:  DATA 74,65
01428:  DATA 20,4D
0142A:  DATA 6F,64
0142C:  DATA 65,3A
0142E:  DATA 20,20
01430:  DATA 20,25
01432:  DATA 30,32
01434:  DATA 58,0D
01436:  DATA 0A,00
01438:  DATA 09,53
0143A:  DATA 6F,75
0143C:  DATA 72,63
0143E:  DATA 65,20
01440:  DATA 54,79
01442:  DATA 70,65
01444:  DATA 3A,20
01446:  DATA 20,25
01448:  DATA 30,32
0144A:  DATA 58,0D
0144C:  DATA 0A,00
0144E:  DATA 09,53
01450:  DATA 74,61
01452:  DATA 72,74
01454:  DATA 20,41
01456:  DATA 64,64
01458:  DATA 72,65
0145A:  DATA 73,73
0145C:  DATA 3A,25
0145E:  DATA 30,34
01460:  DATA 58,0D
01462:  DATA 0A,00
01464:  DATA 09,53
01466:  DATA 69,7A
01468:  DATA 65,3A
0146A:  DATA 20,20
0146C:  DATA 20,20
0146E:  DATA 20,20
01470:  DATA 20,20
01472:  DATA 20,25
01474:  DATA 30,34
01476:  DATA 58,0D
01478:  DATA 0A,00
0147A:  DATA 0D,0A
0147C:  DATA 41,44
0147E:  DATA 44,20
01480:  DATA 53,4D
01482:  DATA 46,20
01484:  DATA 51,55
01486:  DATA 45,55
01488:  DATA 45,0D
0148A:  DATA 0A,00
0148C:  DATA 09,4D
0148E:  DATA 69,73
01490:  DATA 73,69
01492:  DATA 6F,6E
01494:  DATA 20,49
01496:  DATA 44,3A
01498:  DATA 20,20
0149A:  DATA 20,25
0149C:  DATA 30,32
0149E:  DATA 58,0D
014A0:  DATA 0A,00
014A2:  DATA 09,46
014A4:  DATA 75,6E
014A6:  DATA 63,74
014A8:  DATA 69,6F
014AA:  DATA 6E,20
014AC:  DATA 54,79
014AE:  DATA 70,65
014B0:  DATA 3A,25
014B2:  DATA 30,32
014B4:  DATA 58,0D
014B6:  DATA 0A,00
014B8:  DATA 09,57
014BA:  DATA 72,69
014BC:  DATA 74,65
014BE:  DATA 20,4D
014C0:  DATA 6F,64
014C2:  DATA 65,3A
014C4:  DATA 20,20
014C6:  DATA 20,25
014C8:  DATA 30,32
014CA:  DATA 58,0D
014CC:  DATA 0A,00
014CE:  DATA 09,53
014D0:  DATA 6F,75
014D2:  DATA 72,63
014D4:  DATA 65,20
014D6:  DATA 54,79
014D8:  DATA 70,65
014DA:  DATA 3A,20
014DC:  DATA 20,25
014DE:  DATA 30,32
014E0:  DATA 58,0D
014E2:  DATA 0A,00
014E4:  DATA 09,53
014E6:  DATA 74,61
014E8:  DATA 72,74
014EA:  DATA 20,41
014EC:  DATA 64,64
014EE:  DATA 72,65
014F0:  DATA 73,73
014F2:  DATA 3A,25
014F4:  DATA 30,34
014F6:  DATA 58,0D
014F8:  DATA 0A,00
014FA:  DATA 09,53
014FC:  DATA 69,7A
014FE:  DATA 65,3A
01500:  DATA 20,20
01502:  DATA 20,20
01504:  DATA 20,20
01506:  DATA 20,20
01508:  DATA 20,25
0150A:  DATA 30,34
0150C:  DATA 58,0D
0150E:  DATA 0A,00
01510:  DATA 53,74
01512:  DATA 61,72
01514:  DATA 74,20
01516:  DATA 4D,4F
01518:  DATA 44,45
0151A:  DATA 20,4D
0151C:  DATA 45,41
0151E:  DATA 53,20
01520:  DATA 49,56
01522:  DATA 20,50
01524:  DATA 4F,52
01526:  DATA 54,31
01528:  DATA 0D,0A
0152A:  DATA 00,00
0152C:  DATA 0D,0A
0152E:  DATA 41,44
01530:  DATA 44,20
01532:  DATA 53,4D
01534:  DATA 46,20
01536:  DATA 51,55
01538:  DATA 45,55
0153A:  DATA 45,0D
0153C:  DATA 0A,00
0153E:  DATA 09,4D
01540:  DATA 69,73
01542:  DATA 73,69
01544:  DATA 6F,6E
01546:  DATA 20,49
01548:  DATA 44,3A
0154A:  DATA 20,20
0154C:  DATA 20,25
0154E:  DATA 30,32
01550:  DATA 58,0D
01552:  DATA 0A,00
01554:  DATA 09,46
01556:  DATA 75,6E
01558:  DATA 63,74
0155A:  DATA 69,6F
0155C:  DATA 6E,20
0155E:  DATA 54,79
01560:  DATA 70,65
01562:  DATA 3A,25
01564:  DATA 30,32
01566:  DATA 58,0D
01568:  DATA 0A,00
0156A:  DATA 09,57
0156C:  DATA 72,69
0156E:  DATA 74,65
01570:  DATA 20,4D
01572:  DATA 6F,64
01574:  DATA 65,3A
01576:  DATA 20,20
01578:  DATA 20,25
0157A:  DATA 30,32
0157C:  DATA 58,0D
0157E:  DATA 0A,00
01580:  DATA 09,53
01582:  DATA 6F,75
01584:  DATA 72,63
01586:  DATA 65,20
01588:  DATA 54,79
0158A:  DATA 70,65
0158C:  DATA 3A,20
0158E:  DATA 20,25
01590:  DATA 30,32
01592:  DATA 58,0D
01594:  DATA 0A,00
01596:  DATA 09,53
01598:  DATA 74,61
0159A:  DATA 72,74
0159C:  DATA 20,41
0159E:  DATA 64,64
015A0:  DATA 72,65
015A2:  DATA 73,73
015A4:  DATA 3A,25
015A6:  DATA 30,34
015A8:  DATA 58,0D
015AA:  DATA 0A,00
015AC:  DATA 09,53
015AE:  DATA 69,7A
015B0:  DATA 65,3A
015B2:  DATA 20,20
015B4:  DATA 20,20
015B6:  DATA 20,20
015B8:  DATA 20,20
015BA:  DATA 20,25
015BC:  DATA 30,34
015BE:  DATA 58,0D
015C0:  DATA 0A,00
015C2:  DATA 53,74
015C4:  DATA 61,72
015C6:  DATA 74,20
015C8:  DATA 4D,4F
015CA:  DATA 44,45
015CC:  DATA 20,4D
015CE:  DATA 45,41
015D0:  DATA 53,20
015D2:  DATA 49,56
015D4:  DATA 20,50
015D6:  DATA 4F,52
015D8:  DATA 54,32
015DA:  DATA 0D,0A
015DC:  DATA 00,00
015DE:  DATA 0D,0A
015E0:  DATA 41,44
015E2:  DATA 44,20
015E4:  DATA 53,4D
015E6:  DATA 46,20
015E8:  DATA 51,55
015EA:  DATA 45,55
015EC:  DATA 45,0D
015EE:  DATA 0A,00
015F0:  DATA 09,4D
015F2:  DATA 69,73
015F4:  DATA 73,69
015F6:  DATA 6F,6E
015F8:  DATA 20,49
015FA:  DATA 44,3A
015FC:  DATA 20,20
015FE:  DATA 20,25
01600:  DATA 30,32
01602:  DATA 58,0D
01604:  DATA 0A,00
01606:  DATA 09,46
01608:  DATA 75,6E
0160A:  DATA 63,74
0160C:  DATA 69,6F
0160E:  DATA 6E,20
01610:  DATA 54,79
01612:  DATA 70,65
01614:  DATA 3A,25
01616:  DATA 30,32
01618:  DATA 58,0D
0161A:  DATA 0A,00
0161C:  DATA 09,57
0161E:  DATA 72,69
01620:  DATA 74,65
01622:  DATA 20,4D
01624:  DATA 6F,64
01626:  DATA 65,3A
01628:  DATA 20,20
0162A:  DATA 20,25
0162C:  DATA 30,32
0162E:  DATA 58,0D
01630:  DATA 0A,00
01632:  DATA 09,53
01634:  DATA 6F,75
01636:  DATA 72,63
01638:  DATA 65,20
0163A:  DATA 54,79
0163C:  DATA 70,65
0163E:  DATA 3A,20
01640:  DATA 20,25
01642:  DATA 30,32
01644:  DATA 58,0D
01646:  DATA 0A,00
01648:  DATA 09,53
0164A:  DATA 74,61
0164C:  DATA 72,74
0164E:  DATA 20,41
01650:  DATA 64,64
01652:  DATA 72,65
01654:  DATA 73,73
01656:  DATA 3A,25
01658:  DATA 30,34
0165A:  DATA 58,0D
0165C:  DATA 0A,00
0165E:  DATA 09,53
01660:  DATA 69,7A
01662:  DATA 65,3A
01664:  DATA 20,20
01666:  DATA 20,20
01668:  DATA 20,20
0166A:  DATA 20,20
0166C:  DATA 20,25
0166E:  DATA 30,34
01670:  DATA 58,0D
01672:  DATA 0A,00
01674:  DATA 53,74
01676:  DATA 61,72
01678:  DATA 74,20
0167A:  DATA 4D,4F
0167C:  DATA 44,45
0167E:  DATA 20,4D
01680:  DATA 45,41
01682:  DATA 53,20
01684:  DATA 49,56
01686:  DATA 0D,0A
01688:  DATA 00,00
0168A:  DATA 0D,0A
0168C:  DATA 41,44
0168E:  DATA 44,20
01690:  DATA 53,4D
01692:  DATA 46,20
01694:  DATA 51,55
01696:  DATA 45,55
01698:  DATA 45,0D
0169A:  DATA 0A,00
0169C:  DATA 09,4D
0169E:  DATA 69,73
016A0:  DATA 73,69
016A2:  DATA 6F,6E
016A4:  DATA 20,49
016A6:  DATA 44,3A
016A8:  DATA 20,20
016AA:  DATA 20,25
016AC:  DATA 30,32
016AE:  DATA 58,0D
016B0:  DATA 0A,00
016B2:  DATA 09,46
016B4:  DATA 75,6E
016B6:  DATA 63,74
016B8:  DATA 69,6F
016BA:  DATA 6E,20
016BC:  DATA 54,79
016BE:  DATA 70,65
016C0:  DATA 3A,25
016C2:  DATA 30,32
016C4:  DATA 58,0D
016C6:  DATA 0A,00
016C8:  DATA 09,57
016CA:  DATA 72,69
016CC:  DATA 74,65
016CE:  DATA 20,4D
016D0:  DATA 6F,64
016D2:  DATA 65,3A
016D4:  DATA 20,20
016D6:  DATA 20,25
016D8:  DATA 30,32
016DA:  DATA 58,0D
016DC:  DATA 0A,00
016DE:  DATA 09,53
016E0:  DATA 6F,75
016E2:  DATA 72,63
016E4:  DATA 65,20
016E6:  DATA 54,79
016E8:  DATA 70,65
016EA:  DATA 3A,20
016EC:  DATA 20,25
016EE:  DATA 30,32
016F0:  DATA 58,0D
016F2:  DATA 0A,00
016F4:  DATA 09,53
016F6:  DATA 74,61
016F8:  DATA 72,74
016FA:  DATA 20,41
016FC:  DATA 64,64
016FE:  DATA 72,65
01700:  DATA 73,73
01702:  DATA 3A,25
01704:  DATA 30,34
01706:  DATA 58,0D
01708:  DATA 0A,00
0170A:  DATA 09,53
0170C:  DATA 69,7A
0170E:  DATA 65,3A
01710:  DATA 20,20
01712:  DATA 20,20
01714:  DATA 20,20
01716:  DATA 20,20
01718:  DATA 20,25
0171A:  DATA 30,34
0171C:  DATA 58,0D
0171E:  DATA 0A,00
01720:  DATA 0D,0A
01722:  DATA 41,44
01724:  DATA 44,20
01726:  DATA 53,4D
01728:  DATA 46,20
0172A:  DATA 51,55
0172C:  DATA 45,55
0172E:  DATA 45,0D
01730:  DATA 0A,00
01732:  DATA 09,4D
01734:  DATA 69,73
01736:  DATA 73,69
01738:  DATA 6F,6E
0173A:  DATA 20,49
0173C:  DATA 44,3A
0173E:  DATA 20,20
01740:  DATA 20,25
01742:  DATA 30,32
01744:  DATA 58,0D
01746:  DATA 0A,00
01748:  DATA 09,46
0174A:  DATA 75,6E
0174C:  DATA 63,74
0174E:  DATA 69,6F
01750:  DATA 6E,20
01752:  DATA 54,79
01754:  DATA 70,65
01756:  DATA 3A,25
01758:  DATA 30,32
0175A:  DATA 58,0D
0175C:  DATA 0A,00
0175E:  DATA 09,57
01760:  DATA 72,69
01762:  DATA 74,65
01764:  DATA 20,4D
01766:  DATA 6F,64
01768:  DATA 65,3A
0176A:  DATA 20,20
0176C:  DATA 20,25
0176E:  DATA 30,32
01770:  DATA 58,0D
01772:  DATA 0A,00
01774:  DATA 09,53
01776:  DATA 6F,75
01778:  DATA 72,63
0177A:  DATA 65,20
0177C:  DATA 54,79
0177E:  DATA 70,65
01780:  DATA 3A,20
01782:  DATA 20,25
01784:  DATA 30,32
01786:  DATA 58,0D
01788:  DATA 0A,00
0178A:  DATA 09,53
0178C:  DATA 74,61
0178E:  DATA 72,74
01790:  DATA 20,41
01792:  DATA 64,64
01794:  DATA 72,65
01796:  DATA 73,73
01798:  DATA 3A,25
0179A:  DATA 30,34
0179C:  DATA 58,0D
0179E:  DATA 0A,00
017A0:  DATA 09,53
017A2:  DATA 69,7A
017A4:  DATA 65,3A
017A6:  DATA 20,20
017A8:  DATA 20,20
017AA:  DATA 20,20
017AC:  DATA 20,20
017AE:  DATA 20,25
017B0:  DATA 30,34
017B2:  DATA 58,0D
017B4:  DATA 0A,00
017B6:  DATA 0D,0A
017B8:  DATA 41,44
017BA:  DATA 44,20
017BC:  DATA 53,4D
017BE:  DATA 46,20
017C0:  DATA 51,55
017C2:  DATA 45,55
017C4:  DATA 45,0D
017C6:  DATA 0A,00
017C8:  DATA 09,4D
017CA:  DATA 69,73
017CC:  DATA 73,69
017CE:  DATA 6F,6E
017D0:  DATA 20,49
017D2:  DATA 44,3A
017D4:  DATA 20,20
017D6:  DATA 20,25
017D8:  DATA 30,32
017DA:  DATA 58,0D
017DC:  DATA 0A,00
017DE:  DATA 09,46
017E0:  DATA 75,6E
017E2:  DATA 63,74
017E4:  DATA 69,6F
017E6:  DATA 6E,20
017E8:  DATA 54,79
017EA:  DATA 70,65
017EC:  DATA 3A,25
017EE:  DATA 30,32
017F0:  DATA 58,0D
017F2:  DATA 0A,00
017F4:  DATA 09,57
017F6:  DATA 72,69
017F8:  DATA 74,65
017FA:  DATA 20,4D
017FC:  DATA 6F,64
017FE:  DATA 65,3A
01800:  DATA 20,20
01802:  DATA 20,25
01804:  DATA 30,32
01806:  DATA 58,0D
01808:  DATA 0A,00
0180A:  DATA 09,53
0180C:  DATA 6F,75
0180E:  DATA 72,63
01810:  DATA 65,20
01812:  DATA 54,79
01814:  DATA 70,65
01816:  DATA 3A,20
01818:  DATA 20,25
0181A:  DATA 30,32
0181C:  DATA 58,0D
0181E:  DATA 0A,00
01820:  DATA 09,53
01822:  DATA 74,61
01824:  DATA 72,74
01826:  DATA 20,41
01828:  DATA 64,64
0182A:  DATA 72,65
0182C:  DATA 73,73
0182E:  DATA 3A,25
01830:  DATA 30,34
01832:  DATA 58,0D
01834:  DATA 0A,00
01836:  DATA 09,53
01838:  DATA 69,7A
0183A:  DATA 65,3A
0183C:  DATA 20,20
0183E:  DATA 20,20
01840:  DATA 20,20
01842:  DATA 20,20
01844:  DATA 20,25
01846:  DATA 30,34
01848:  DATA 58,0D
0184A:  DATA 0A,00
0184C:  DATA 45,6E
0184E:  DATA 64,20
01850:  DATA 4D,4F
01852:  DATA 44,45
01854:  DATA 20,4D
01856:  DATA 45,41
01858:  DATA 53,20
0185A:  DATA 49,56
0185C:  DATA 20,6D
0185E:  DATA 69,73
01860:  DATA 73,69
01862:  DATA 6F,6E
01864:  DATA 0D,0A
01866:  DATA 00,00
01868:  DATA 53,74
0186A:  DATA 61,72
0186C:  DATA 74,20
0186E:  DATA 4D,4F
01870:  DATA 44,45
01872:  DATA 20,49
01874:  DATA 56,20
01876:  DATA 44,45
01878:  DATA 42,55
0187A:  DATA 47,0D
0187C:  DATA 0A,00
0187E:  DATA 09,49
01880:  DATA 44,3A
01882:  DATA 20,25
01884:  DATA 30,32
01886:  DATA 58,0D
01888:  DATA 0A,00
0188A:  DATA 09,53
0188C:  DATA 6C,65
0188E:  DATA 65,70
01890:  DATA 54,69
01892:  DATA 6D,65
01894:  DATA 3A,20
01896:  DATA 20,20
01898:  DATA 20,20
0189A:  DATA 20,20
0189C:  DATA 20,30
0189E:  DATA 78,25
018A0:  DATA 30,34
018A2:  DATA 58,0D
018A4:  DATA 0A,00
018A6:  DATA 09,4C
018A8:  DATA 6F,67
018AA:  DATA 43,75
018AC:  DATA 72,72
018AE:  DATA 54,68
018B0:  DATA 72,65
018B2:  DATA 73,68
018B4:  DATA 6F,6C
018B6:  DATA 64,3A
018B8:  DATA 20,30
018BA:  DATA 78,25
018BC:  DATA 30,34
018BE:  DATA 58,0D
018C0:  DATA 0A,00
018C2:  DATA 09,50
018C4:  DATA 44,54
018C6:  DATA 68,72
018C8:  DATA 65,73
018CA:  DATA 68,6F
018CC:  DATA 6C,64
018CE:  DATA 3A,20
018D0:  DATA 20,20
018D2:  DATA 20,20
018D4:  DATA 20,30
018D6:  DATA 78,25
018D8:  DATA 30,34
018DA:  DATA 58,0D
018DC:  DATA 0A,00
018DE:  DATA 09,43
018E0:  DATA 75,72
018E2:  DATA 72,65
018E4:  DATA 6E,74
018E6:  DATA 4C,69
018E8:  DATA 6D,69
018EA:  DATA 74,3A
018EC:  DATA 20,20
018EE:  DATA 20,20
018F0:  DATA 20,30
018F2:  DATA 78,25
018F4:  DATA 30,34
018F6:  DATA 58,0D
018F8:  DATA 0A,00
018FA:  DATA 09,4D
018FC:  DATA 65,61
018FE:  DATA 73,75
01900:  DATA 72,65
01902:  DATA 6D,65
01904:  DATA 6E,74
01906:  DATA 54,69
01908:  DATA 6D,65
0190A:  DATA 3A,20
0190C:  DATA 20,30
0190E:  DATA 78,25
01910:  DATA 30,34
01912:  DATA 58,0D
01914:  DATA 0A,00
01916:  DATA 5B,49
01918:  DATA 56,44
0191A:  DATA 42,47
0191C:  DATA 5D,20
0191E:  DATA 45,6E
01920:  DATA 64,20
01922:  DATA 4D,4F
01924:  DATA 44,45
01926:  DATA 20,49
01928:  DATA 56,20
0192A:  DATA 44,45
0192C:  DATA 42,55
0192E:  DATA 47,0D
01930:  DATA 0A,00
01932:  DATA 74,65
01934:  DATA 6D,70
01936:  DATA 5F,74
01938:  DATA 6F,70
0193A:  DATA 2C,20
0193C:  DATA 74,65
0193E:  DATA 6D,70
01940:  DATA 5F,62
01942:  DATA 6F,74
01944:  DATA 2C,20
01946:  DATA 74,65
01948:  DATA 6D,70
0194A:  DATA 5F,6D
0194C:  DATA 69,73
0194E:  DATA 37,2C
01950:  DATA 20,70
01952:  DATA 64,0D
01954:  DATA 0A,00
01956:  DATA 4D,45
01958:  DATA 41,53
0195A:  DATA 20,49
0195C:  DATA 56,20
0195E:  DATA 43,6F
01960:  DATA 6D,6D
01962:  DATA 61,6E
01964:  DATA 64,20
01966:  DATA 50,61
01968:  DATA 72,61
0196A:  DATA 6D,65
0196C:  DATA 74,65
0196E:  DATA 72,73
01970:  DATA 3A,0D
01972:  DATA 0A,00
01974:  DATA 09,49
01976:  DATA 44,3A
01978:  DATA 20,25
0197A:  DATA 30,32
0197C:  DATA 58,0D
0197E:  DATA 0A,00
01980:  DATA 09,53
01982:  DATA 77,65
01984:  DATA 65,70
01986:  DATA 49,6E
01988:  DATA 74,65
0198A:  DATA 72,76
0198C:  DATA 61,6C
0198E:  DATA 20,20
01990:  DATA 20,3A
01992:  DATA 25,6C
01994:  DATA 75,5B
01996:  DATA 6D,73
01998:  DATA 5D,0D
0199A:  DATA 0A,00
0199C:  DATA 09,50
0199E:  DATA 44,20
019A0:  DATA 54,68
019A2:  DATA 72,65
019A4:  DATA 73,68
019A6:  DATA 6F,6C
019A8:  DATA 64,20
019AA:  DATA 20,20
019AC:  DATA 20,3A
019AE:  DATA 25,6C
019B0:  DATA 75,5B
019B2:  DATA 57,2F
019B4:  DATA 6D,32
019B6:  DATA 5D,0D
019B8:  DATA 0A,00
019BA:  DATA 09,53
019BC:  DATA 77,65
019BE:  DATA 65,70
019C0:  DATA 4C,69
019C2:  DATA 6D,69
019C4:  DATA 74,20
019C6:  DATA 20,20
019C8:  DATA 20,20
019CA:  DATA 20,3A
019CC:  DATA 25,6C
019CE:  DATA 75,5B
019D0:  DATA 6D,41
019D2:  DATA 5D,0D
019D4:  DATA 0A,00
019D6:  DATA 09,4C
019D8:  DATA 6F,67
019DA:  DATA 54,68
019DC:  DATA 72,65
019DE:  DATA 73,68
019E0:  DATA 6F,6C
019E2:  DATA 64,20
019E4:  DATA 20,20
019E6:  DATA 20,3A
019E8:  DATA 25,6C
019EA:  DATA 75,5B
019EC:  DATA 6D,41
019EE:  DATA 5D,0D
019F0:  DATA 0A,00
019F2:  DATA 09,4D
019F4:  DATA 65,61
019F6:  DATA 73,75
019F8:  DATA 72,65
019FA:  DATA 6D,65
019FC:  DATA 6E,74
019FE:  DATA 54,69
01A00:  DATA 6D,65
01A02:  DATA 20,3A
01A04:  DATA 25,6C
01A06:  DATA 75,5B
01A08:  DATA 73,5D
01A0A:  DATA 0D,0A
01A0C:  DATA 0D,0A
01A0E:  DATA 00,00
01A10:  DATA 53,74
01A12:  DATA 61,72
01A14:  DATA 74,20
01A16:  DATA 4D,4F
01A18:  DATA 44,45
01A1A:  DATA 20,4D
01A1C:  DATA 45,41
01A1E:  DATA 53,20
01A20:  DATA 50,44
01A22:  DATA 0D,0A
01A24:  DATA 00,00
01A26:  DATA 45,6E
01A28:  DATA 64,20
01A2A:  DATA 4D,4F
01A2C:  DATA 44,45
01A2E:  DATA 20,4D
01A30:  DATA 45,41
01A32:  DATA 53,20
01A34:  DATA 50,44
01A36:  DATA 0D,0A
01A38:  DATA 00,00
01A3A:  DATA 53,74
01A3C:  DATA 61,72
01A3E:  DATA 74,20
01A40:  DATA 46,6C
01A42:  DATA 61,73
01A44:  DATA 68,20
01A46:  DATA 45,72
01A48:  DATA 61,73
01A4A:  DATA 65,20
01A4C:  DATA 41,6C
01A4E:  DATA 6C,0D
01A50:  DATA 0A,00
01A52:  DATA 45,6E
01A54:  DATA 64,20
01A56:  DATA 46,6C
01A58:  DATA 61,73
01A5A:  DATA 68,20
01A5C:  DATA 45,72
01A5E:  DATA 61,73
01A60:  DATA 65,20
01A62:  DATA 41,6C
01A64:  DATA 6C,0D
01A66:  DATA 0A,00
01A68:  DATA 53,74
01A6A:  DATA 61,72
01A6C:  DATA 74,20
01A6E:  DATA 46,6C
01A70:  DATA 61,73
01A72:  DATA 68,20
01A74:  DATA 45,72
01A76:  DATA 61,73
01A78:  DATA 65,20
01A7A:  DATA 31,20
01A7C:  DATA 53,65
01A7E:  DATA 63,74
01A80:  DATA 6F,72
01A82:  DATA 0D,0A
01A84:  DATA 00,00
01A86:  DATA 09,53
01A88:  DATA 65,63
01A8A:  DATA 74,6F
01A8C:  DATA 72,20
01A8E:  DATA 41,64
01A90:  DATA 64,72
01A92:  DATA 65,73
01A94:  DATA 73,3A
01A96:  DATA 20,30
01A98:  DATA 78,25
01A9A:  DATA 30,38
01A9C:  DATA 4C,58
01A9E:  DATA 0D,0A
01AA0:  DATA 00,00
01AA2:  DATA 09,45
01AA4:  DATA 72,61
01AA6:  DATA 73,65
01AA8:  DATA 20,53
01AAA:  DATA 69,7A
01AAC:  DATA 65,20
01AAE:  DATA 20,20
01AB0:  DATA 3A,20
01AB2:  DATA 25,30
01AB4:  DATA 32,4C
01AB6:  DATA 58,20
01AB8:  DATA 4B,42
01ABA:  DATA 79,74
01ABC:  DATA 65,0D
01ABE:  DATA 0A,00
01AC0:  DATA 45,6E
01AC2:  DATA 64,20
01AC4:  DATA 46,6C
01AC6:  DATA 61,73
01AC8:  DATA 68,20
01ACA:  DATA 45,72
01ACC:  DATA 61,73
01ACE:  DATA 65,20
01AD0:  DATA 31,20
01AD2:  DATA 53,65
01AD4:  DATA 63,74
01AD6:  DATA 6F,72
01AD8:  DATA 0D,0A
01ADA:  DATA 00,00
01ADC:  DATA 53,74
01ADE:  DATA 61,72
01AE0:  DATA 74,20
01AE2:  DATA 46,6C
01AE4:  DATA 61,73
01AE6:  DATA 68,20
01AE8:  DATA 45,72
01AEA:  DATA 61,73
01AEC:  DATA 65,20
01AEE:  DATA 34,6B
01AF0:  DATA 42,79
01AF2:  DATA 74,65
01AF4:  DATA 20,53
01AF6:  DATA 75,62
01AF8:  DATA 73,65
01AFA:  DATA 63,74
01AFC:  DATA 6F,72
01AFE:  DATA 0D,0A
01B00:  DATA 00,00
01B02:  DATA 09,45
01B04:  DATA 72,61
01B06:  DATA 73,65
01B08:  DATA 20,41
01B0A:  DATA 64,64
01B0C:  DATA 72,65
01B0E:  DATA 73,73
01B10:  DATA 3A,20
01B12:  DATA 30,78
01B14:  DATA 25,30
01B16:  DATA 38,4C
01B18:  DATA 58,0D
01B1A:  DATA 0A,00
01B1C:  DATA 09,45
01B1E:  DATA 72,61
01B20:  DATA 73,65
01B22:  DATA 20,53
01B24:  DATA 69,7A
01B26:  DATA 65,20
01B28:  DATA 20,20
01B2A:  DATA 3A,20
01B2C:  DATA 30,78
01B2E:  DATA 25,30
01B30:  DATA 38,4C
01B32:  DATA 58,0D
01B34:  DATA 0A,00
01B36:  DATA 45,6E
01B38:  DATA 64,20
01B3A:  DATA 46,6C
01B3C:  DATA 61,73
01B3E:  DATA 68,20
01B40:  DATA 45,72
01B42:  DATA 61,73
01B44:  DATA 65,20
01B46:  DATA 34,6B
01B48:  DATA 42,79
01B4A:  DATA 74,65
01B4C:  DATA 20,53
01B4E:  DATA 75,62
01B50:  DATA 73,65
01B52:  DATA 63,74
01B54:  DATA 6F,72
01B56:  DATA 0D,0A
01B58:  DATA 00,00
01B5A:  DATA 53,74
01B5C:  DATA 61,72
01B5E:  DATA 74,20
01B60:  DATA 46,6C
01B62:  DATA 61,73
01B64:  DATA 68,20
01B66:  DATA 45,72
01B68:  DATA 61,73
01B6A:  DATA 65,20
01B6C:  DATA 36,34
01B6E:  DATA 6B,42
01B70:  DATA 79,74
01B72:  DATA 65,20
01B74:  DATA 53,75
01B76:  DATA 62,73
01B78:  DATA 65,63
01B7A:  DATA 74,6F
01B7C:  DATA 72,0D
01B7E:  DATA 0A,00
01B80:  DATA 09,53
01B82:  DATA 75,62
01B84:  DATA 73,65
01B86:  DATA 63,74
01B88:  DATA 6F,72
01B8A:  DATA 20,41
01B8C:  DATA 64,64
01B8E:  DATA 72,65
01B90:  DATA 73,73
01B92:  DATA 3A,20
01B94:  DATA 30,78
01B96:  DATA 25,30
01B98:  DATA 38,4C
01B9A:  DATA 58,0D
01B9C:  DATA 0A,00
01B9E:  DATA 09,45
01BA0:  DATA 72,61
01BA2:  DATA 73,65
01BA4:  DATA 20,53
01BA6:  DATA 69,7A
01BA8:  DATA 65,20
01BAA:  DATA 20,20
01BAC:  DATA 20,20
01BAE:  DATA 20,3A
01BB0:  DATA 20,30
01BB2:  DATA 78,25
01BB4:  DATA 30,38
01BB6:  DATA 4C,58
01BB8:  DATA 0D,0A
01BBA:  DATA 00,00
01BBC:  DATA 45,6E
01BBE:  DATA 64,20
01BC0:  DATA 46,6C
01BC2:  DATA 61,73
01BC4:  DATA 68,20
01BC6:  DATA 45,72
01BC8:  DATA 61,73
01BCA:  DATA 65,20
01BCC:  DATA 36,34
01BCE:  DATA 6B,42
01BD0:  DATA 79,74
01BD2:  DATA 65,20
01BD4:  DATA 53,75
01BD6:  DATA 62,73
01BD8:  DATA 65,63
01BDA:  DATA 74,6F
01BDC:  DATA 72,0D
01BDE:  DATA 0A,00
01BE0:  DATA 53,74
01BE2:  DATA 61,72
01BE4:  DATA 74,20
01BE6:  DATA 46,6C
01BE8:  DATA 61,73
01BEA:  DATA 68,20
01BEC:  DATA 57,72
01BEE:  DATA 69,74
01BF0:  DATA 65,20
01BF2:  DATA 34,6B
01BF4:  DATA 42,79
01BF6:  DATA 74,65
01BF8:  DATA 20,53
01BFA:  DATA 75,62
01BFC:  DATA 73,65
01BFE:  DATA 63,74
01C00:  DATA 6F,72
01C02:  DATA 0D,0A
01C04:  DATA 00,00
01C06:  DATA 45,6E
01C08:  DATA 64,20
01C0A:  DATA 46,6C
01C0C:  DATA 61,73
01C0E:  DATA 68,20
01C10:  DATA 57,72
01C12:  DATA 69,74
01C14:  DATA 65,20
01C16:  DATA 34,6B
01C18:  DATA 42,79
01C1A:  DATA 74,65
01C1C:  DATA 20,53
01C1E:  DATA 75,62
01C20:  DATA 73,65
01C22:  DATA 63,74
01C24:  DATA 6F,72
01C26:  DATA 0D,0A
01C28:  DATA 00,00
01C2A:  DATA 53,74
01C2C:  DATA 61,72
01C2E:  DATA 74,20
01C30:  DATA 46,6C
01C32:  DATA 61,73
01C34:  DATA 68,20
01C36:  DATA 52,65
01C38:  DATA 61,64
01C3A:  DATA 0D,0A
01C3C:  DATA 00,00
01C3E:  DATA 09,41
01C40:  DATA 64,64
01C42:  DATA 72,65
01C44:  DATA 73,73
01C46:  DATA 20,20
01C48:  DATA 3A,20
01C4A:  DATA 30,78
01C4C:  DATA 25,30
01C4E:  DATA 38,4C
01C50:  DATA 58,0D
01C52:  DATA 0A,00
01C54:  DATA 09,50
01C56:  DATA 61,63
01C58:  DATA 6B,65
01C5A:  DATA 74,4E
01C5C:  DATA 75,6D
01C5E:  DATA 3A,20
01C60:  DATA 30,78
01C62:  DATA 25,30
01C64:  DATA 34,4C
01C66:  DATA 58,0D
01C68:  DATA 0A,00
01C6A:  DATA 41,44
01C6C:  DATA 44,52
01C6E:  DATA 45,53
01C70:  DATA 53,20
01C72:  DATA 20,3A
01C74:  DATA 0D,0A
01C76:  DATA 00,00
01C78:  DATA 4D,69
01C7A:  DATA 73,73
01C7C:  DATA 69,6F
01C7E:  DATA 6E,20
01C80:  DATA 46,6C
01C82:  DATA 61,73
01C84:  DATA 68,20
01C86:  DATA 69,73
01C88:  DATA 20,6E
01C8A:  DATA 6F,74
01C8C:  DATA 20,63
01C8E:  DATA 6F,6E
01C90:  DATA 6E,65
01C92:  DATA 63,74
01C94:  DATA 65,64
01C96:  DATA 0D,0A
01C98:  DATA 00,00
01C9A:  DATA 5B,46
01C9C:  DATA 4C,41
01C9E:  DATA 53,48
01CA0:  DATA 5D,20
01CA2:  DATA 52,65
01CA4:  DATA 61,64
01CA6:  DATA 20,61
01CA8:  DATA 64,64
01CAA:  DATA 72,65
01CAC:  DATA 73,73
01CAE:  DATA 20,30
01CB0:  DATA 78,25
01CB2:  DATA 30,38
01CB4:  DATA 4C,58
01CB6:  DATA 20,65
01CB8:  DATA 78,63
01CBA:  DATA 65,65
01CBC:  DATA 64,73
01CBE:  DATA 20,64
01CC0:  DATA 65,76
01CC2:  DATA 69,63
01CC4:  DATA 65,20
01CC6:  DATA 65,6E
01CC8:  DATA 64,20
01CCA:  DATA 30,78
01CCC:  DATA 25,30
01CCE:  DATA 38,4C
01CD0:  DATA 58,20
01CD2:  DATA 2D,3E
01CD4:  DATA 20,73
01CD6:  DATA 74,6F
01CD8:  DATA 70,0D
01CDA:  DATA 0A,00
01CDC:  DATA 5B,46
01CDE:  DATA 4C,41
01CE0:  DATA 53,48
01CE2:  DATA 5D,20
01CE4:  DATA 45,6E
01CE6:  DATA 64,20
01CE8:  DATA 72,65
01CEA:  DATA 61,63
01CEC:  DATA 68,65
01CEE:  DATA 64,2E
01CF0:  DATA 20,50
01CF2:  DATA 61,72
01CF4:  DATA 74,69
01CF6:  DATA 61,6C
01CF8:  DATA 20,72
01CFA:  DATA 65,61
01CFC:  DATA 64,20
01CFE:  DATA 25,6C
01D00:  DATA 75,20
01D02:  DATA 62,79
01D04:  DATA 74,65
01D06:  DATA 73,2E
01D08:  DATA 0D,0A
01D0A:  DATA 00,00
01D0C:  DATA 25,30
01D0E:  DATA 38,4C
01D10:  DATA 58,20
01D12:  DATA 3A,20
01D14:  DATA 00,00
01D16:  DATA 45,6E
01D18:  DATA 64,20
01D1A:  DATA 46,6C
01D1C:  DATA 61,73
01D1E:  DATA 68,20
01D20:  DATA 52,65
01D22:  DATA 61,64
01D24:  DATA 0D,0A
01D26:  DATA 00,00
01D28:  DATA 53,74
01D2A:  DATA 61,72
01D2C:  DATA 74,20
01D2E:  DATA 46,6C
01D30:  DATA 61,73
01D32:  DATA 68,20
01D34:  DATA 45,72
01D36:  DATA 61,73
01D38:  DATA 65,20
01D3A:  DATA 61,6E
01D3C:  DATA 64,20
01D3E:  DATA 52,65
01D40:  DATA 73,65
01D42:  DATA 74,0D
01D44:  DATA 0A,00
01D46:  DATA 45,6E
01D48:  DATA 64,20
01D4A:  DATA 46,6C
01D4C:  DATA 61,73
01D4E:  DATA 68,20
01D50:  DATA 45,72
01D52:  DATA 61,73
01D54:  DATA 65,20
01D56:  DATA 61,6E
01D58:  DATA 64,20
01D5A:  DATA 52,65
01D5C:  DATA 73,65
01D5E:  DATA 74,0D
01D60:  DATA 0A,00
01D62:  DATA 53,74
01D64:  DATA 61,72
01D66:  DATA 74,20
01D68:  DATA 46,6C
01D6A:  DATA 61,73
01D6C:  DATA 68,20
01D6E:  DATA 53,4D
01D70:  DATA 46,20
01D72:  DATA 43,6F
01D74:  DATA 70,79
01D76:  DATA 0D,0A
01D78:  DATA 00,00
01D7A:  DATA 09,41
01D7C:  DATA 64,64
01D7E:  DATA 72,65
01D80:  DATA 73,73
01D82:  DATA 20,20
01D84:  DATA 3A,20
01D86:  DATA 30,78
01D88:  DATA 25,30
01D8A:  DATA 38,4C
01D8C:  DATA 58,0D
01D8E:  DATA 0A,00
01D90:  DATA 09,50
01D92:  DATA 61,63
01D94:  DATA 6B,65
01D96:  DATA 74,4E
01D98:  DATA 75,6D
01D9A:  DATA 3A,20
01D9C:  DATA 30,78
01D9E:  DATA 25,30
01DA0:  DATA 34,4C
01DA2:  DATA 58,0D
01DA4:  DATA 0A,00
01DA6:  DATA 45,6E
01DA8:  DATA 64,20
01DAA:  DATA 46,6C
01DAC:  DATA 61,73
01DAE:  DATA 68,20
01DB0:  DATA 53,4D
01DB2:  DATA 46,20
01DB4:  DATA 43,6F
01DB6:  DATA 70,79
01DB8:  DATA 0D,0A
01DBA:  DATA 00,00
01DBC:  DATA 53,74
01DBE:  DATA 61,72
01DC0:  DATA 74,20
01DC2:  DATA 46,6C
01DC4:  DATA 61,73
01DC6:  DATA 68,20
01DC8:  DATA 53,4D
01DCA:  DATA 46,20
01DCC:  DATA 52,65
01DCE:  DATA 61,64
01DD0:  DATA 0D,0A
01DD2:  DATA 00,00
01DD4:  DATA 09,41
01DD6:  DATA 64,64
01DD8:  DATA 72,65
01DDA:  DATA 73,73
01DDC:  DATA 20,20
01DDE:  DATA 3A,20
01DE0:  DATA 30,78
01DE2:  DATA 25,30
01DE4:  DATA 38,4C
01DE6:  DATA 58,0D
01DE8:  DATA 0A,00
01DEA:  DATA 09,50
01DEC:  DATA 61,63
01DEE:  DATA 6B,65
01DF0:  DATA 74,4E
01DF2:  DATA 75,6D
01DF4:  DATA 3A,20
01DF6:  DATA 30,78
01DF8:  DATA 25,30
01DFA:  DATA 34,4C
01DFC:  DATA 58,0D
01DFE:  DATA 0A,00
01E00:  DATA 52,65
01E02:  DATA 61,64
01E04:  DATA 20,44
01E06:  DATA 61,74
01E08:  DATA 61,0D
01E0A:  DATA 0A,00
01E0C:  DATA 0D,0A
01E0E:  DATA 45,6E
01E10:  DATA 64,20
01E12:  DATA 46,6C
01E14:  DATA 61,73
01E16:  DATA 68,20
01E18:  DATA 53,4D
01E1A:  DATA 46,20
01E1C:  DATA 52,65
01E1E:  DATA 61,64
01E20:  DATA 0D,0A
01E22:  DATA 00,00
01E24:  DATA 53,74
01E26:  DATA 61,72
01E28:  DATA 74,20
01E2A:  DATA 46,6C
01E2C:  DATA 61,73
01E2E:  DATA 68,20
01E30:  DATA 53,4D
01E32:  DATA 46,20
01E34:  DATA 45,72
01E36:  DATA 61,73
01E38:  DATA 65,0D
01E3A:  DATA 0A,00
01E3C:  DATA 45,6E
01E3E:  DATA 64,20
01E40:  DATA 46,6C
01E42:  DATA 61,73
01E44:  DATA 68,20
01E46:  DATA 53,4D
01E48:  DATA 46,20
01E4A:  DATA 45,72
01E4C:  DATA 61,73
01E4E:  DATA 65,0D
01E50:  DATA 0A,00
01E52:  DATA 53,74
01E54:  DATA 61,72
01E56:  DATA 74,20
01E58:  DATA 46,6C
01E5A:  DATA 61,73
01E5C:  DATA 68,20
01E5E:  DATA 41,64
01E60:  DATA 64,72
01E62:  DATA 65,73
01E64:  DATA 73,20
01E66:  DATA 52,65
01E68:  DATA 73,65
01E6A:  DATA 74,0D
01E6C:  DATA 0A,00
01E6E:  DATA 45,6E
01E70:  DATA 64,20
01E72:  DATA 46,6C
01E74:  DATA 61,73
01E76:  DATA 68,20
01E78:  DATA 41,64
01E7A:  DATA 64,72
01E7C:  DATA 65,73
01E7E:  DATA 73,20
01E80:  DATA 52,65
01E82:  DATA 73,65
01E84:  DATA 74,0D
01E86:  DATA 0A,00
01E88:  DATA 53,4D
01E8A:  DATA 46,20
01E8C:  DATA 69,73
01E8E:  DATA 20,6E
01E90:  DATA 6F,74
01E92:  DATA 20,63
01E94:  DATA 6F,6E
01E96:  DATA 6E,65
01E98:  DATA 63,74
01E9A:  DATA 65,64
01E9C:  DATA 0D,0A
01E9E:  DATA 00,00
01EA0:  DATA 53,74
01EA2:  DATA 61,72
01EA4:  DATA 74,20
01EA6:  DATA 46,6C
01EA8:  DATA 61,73
01EAA:  DATA 68,20
01EAC:  DATA 53,4D
01EAE:  DATA 46,20
01EB0:  DATA 52,65
01EB2:  DATA 61,64
01EB4:  DATA 20,46
01EB6:  DATA 6F,72
01EB8:  DATA 63,65
01EBA:  DATA 0D,0A
01EBC:  DATA 00,00
01EBE:  DATA 09,41
01EC0:  DATA 64,64
01EC2:  DATA 72,65
01EC4:  DATA 73,73
01EC6:  DATA 20,20
01EC8:  DATA 3A,20
01ECA:  DATA 30,78
01ECC:  DATA 25,30
01ECE:  DATA 38,4C
01ED0:  DATA 58,0D
01ED2:  DATA 0A,00
01ED4:  DATA 09,50
01ED6:  DATA 61,63
01ED8:  DATA 6B,65
01EDA:  DATA 74,4E
01EDC:  DATA 75,6D
01EDE:  DATA 3A,20
01EE0:  DATA 30,78
01EE2:  DATA 25,30
01EE4:  DATA 34,4C
01EE6:  DATA 58,0D
01EE8:  DATA 0A,00
01EEA:  DATA 72,65
01EEC:  DATA 61,64
01EEE:  DATA 20,64
01EF0:  DATA 61,74
01EF2:  DATA 61,0D
01EF4:  DATA 0A,00
01EF6:  DATA 0D,0A
01EF8:  DATA 45,6E
01EFA:  DATA 64,20
01EFC:  DATA 46,6C
01EFE:  DATA 61,73
01F00:  DATA 68,20
01F02:  DATA 53,4D
01F04:  DATA 46,20
01F06:  DATA 52,65
01F08:  DATA 61,64
01F0A:  DATA 20,46
01F0C:  DATA 6F,72
01F0E:  DATA 63,65
01F10:  DATA 0D,0A
01F12:  DATA 00,00
01F14:  DATA 53,74
01F16:  DATA 61,72
01F18:  DATA 74,20
01F1A:  DATA 53,4D
01F1C:  DATA 46,20
01F1E:  DATA 45,72
01F20:  DATA 61,73
01F22:  DATA 65,20
01F24:  DATA 41,6C
01F26:  DATA 6C,0D
01F28:  DATA 0A,00
01F2A:  DATA 45,6E
01F2C:  DATA 64,20
01F2E:  DATA 53,4D
01F30:  DATA 46,20
01F32:  DATA 45,72
01F34:  DATA 61,73
01F36:  DATA 65,20
01F38:  DATA 41,6C
01F3A:  DATA 6C,0D
01F3C:  DATA 0A,00
01F3E:  DATA 53,74
01F40:  DATA 61,72
01F42:  DATA 74,20
01F44:  DATA 53,4D
01F46:  DATA 46,20
01F48:  DATA 52,65
01F4A:  DATA 73,65
01F4C:  DATA 74,0D
01F4E:  DATA 0A,00
01F50:  DATA 45,6E
01F52:  DATA 64,20
01F54:  DATA 53,4D
01F56:  DATA 46,20
01F58:  DATA 52,65
01F5A:  DATA 73,65
01F5C:  DATA 74,0D
01F5E:  DATA 0A,00
01F60:  DATA 0D,0A
01F62:  DATA 0D,0A
01F64:  DATA 0D,0A
01F66:  DATA 3D,3D
01F68:  DATA 3D,3D
01F6A:  DATA 3D,3D
01F6C:  DATA 3D,3D
01F6E:  DATA 3D,3D
01F70:  DATA 3D,3D
01F72:  DATA 3D,3D
01F74:  DATA 3D,3D
01F76:  DATA 3D,3D
01F78:  DATA 3D,3D
01F7A:  DATA 3D,3D
01F7C:  DATA 3D,3D
01F7E:  DATA 3D,3D
01F80:  DATA 3D,3D
01F82:  DATA 3D,3D
01F84:  DATA 3D,3D
01F86:  DATA 3D,3D
01F88:  DATA 3D,3D
01F8A:  DATA 3D,3D
01F8C:  DATA 3D,3D
01F8E:  DATA 3D,3D
01F90:  DATA 3D,3D
01F92:  DATA 3D,3D
01F94:  DATA 3D,3D
01F96:  DATA 3D,3D
01F98:  DATA 3D,3D
01F9A:  DATA 3D,3D
01F9C:  DATA 3D,3D
01F9E:  DATA 3D,3D
01FA0:  DATA 3D,3D
01FA2:  DATA 0D,0A
01FA4:  DATA 00,00
01FA6:  DATA 54,68
01FA8:  DATA 69,73
01FAA:  DATA 20,69
01FAC:  DATA 73,20
01FAE:  DATA 4D,4F
01FB0:  DATA 4D,49
01FB2:  DATA 4A,49
01FB4:  DATA 20,43
01FB6:  DATA 49,47
01FB8:  DATA 53,20
01FBA:  DATA 50,49
01FBC:  DATA 43,20
01FBE:  DATA 42,42
01FC0:  DATA 4D,20
01FC2:  DATA 66,6F
01FC4:  DATA 72,20
01FC6:  DATA 4D,49
01FC8:  DATA 53,37
01FCA:  DATA 5F,42
01FCC:  DATA 42,4D
01FCE:  DATA 36,2E
01FD0:  DATA 0D,0A
01FD2:  DATA 00,00
01FD4:  DATA 4C,61
01FD6:  DATA 73,74
01FD8:  DATA 20,75
01FDA:  DATA 70,64
01FDC:  DATA 61,74
01FDE:  DATA 65,64
01FE0:  DATA 20,6F
01FE2:  DATA 6E,20
01FE4:  DATA 25,73
01FE6:  DATA 20,25
01FE8:  DATA 73,2C
01FEA:  DATA 20,62
01FEC:  DATA 79,20
01FEE:  DATA 49,6E
01FF0:  DATA 6F,75
01FF2:  DATA 65,2E
01FF4:  DATA 0D,0A
01FF6:  DATA 0D,0A
01FF8:  DATA 00,00
01FFA:  DATA 32,39
01FFC:  DATA 2D,4F
01FFE:  DATA 63,74
02000:  DATA 2D,32
02002:  DATA 35,00
02004:  DATA 31,39
02006:  DATA 3A,32
02008:  DATA 35,3A
0200A:  DATA 30,33
0200C:  DATA 00,00
0200E:  DATA 5F,5F
02010:  DATA 5F,5F
02012:  DATA 43,49
02014:  DATA 47,53
02016:  DATA 20,50
02018:  DATA 49,43
0201A:  DATA 20,53
0201C:  DATA 74,61
0201E:  DATA 72,74
02020:  DATA 20,4F
02022:  DATA 70,65
02024:  DATA 72,61
02026:  DATA 74,69
02028:  DATA 6F,6E
0202A:  DATA 5F,5F
0202C:  DATA 5F,5F
0202E:  DATA 5F,0D
02030:  DATA 0A,0D
02032:  DATA 0A,00
02034:  DATA 77,61
02036:  DATA 69,74
02038:  DATA 69,6E
0203A:  DATA 67,20
0203C:  DATA 66,6F
0203E:  DATA 72,20
02040:  DATA 42,4F
02042:  DATA 53,53
02044:  DATA 20,50
02046:  DATA 49,43
02048:  DATA 20,63
0204A:  DATA 6F,6D
0204C:  DATA 6D,61
0204E:  DATA 6E,64
02050:  DATA 00,00
02052:  DATA 0D,0A
02054:  DATA 0D,0A
02056:  DATA 3D,3D
02058:  DATA 3D,3D
0205A:  DATA 3D,3D
0205C:  DATA 0D,0A
0205E:  DATA 0D,0A
02060:  DATA 46,69
02062:  DATA 6E,69
02064:  DATA 73,68
02066:  DATA 65,64
02068:  DATA 20,70
0206A:  DATA 72,6F
0206C:  DATA 63,65
0206E:  DATA 73,73
02070:  DATA 2E,0D
02072:  DATA 0A,00
02074:  DATA 0D,0A
02076:  DATA 77,61
02078:  DATA 69,74
0207A:  DATA 69,6E
0207C:  DATA 67,20
0207E:  DATA 66,6F
02080:  DATA 72,20
02082:  DATA 42,4F
02084:  DATA 53,53
02086:  DATA 20,50
02088:  DATA 49,43
0208A:  DATA 20,63
0208C:  DATA 6F,6D
0208E:  DATA 6D,61
02090:  DATA 6E,64
02092:  DATA 00,00
02094:  DATA 45,6E
02096:  DATA 64,20
02098:  DATA 6D,61
0209A:  DATA 69,6E
0209C:  DATA 0D,0A
0209E:  DATA 00,00
*
020CE:  TBLRD*+
020D0:  MOVF   FF5,F
020D2:  BTFSC  FD8.2
020D4:  GOTO   2102
020D8:  MOVFF  FF6,9C2
020DC:  MOVFF  FF7,9C3
020E0:  MOVFF  FF8,9C4
020E4:  MOVF   FF5,W
020E6:  BTFSS  FA6.6
020E8:  GOTO   20E6
020EC:  MOVLB  E
020EE:  MOVWF  xF9
020F0:  MOVFF  9C2,FF6
020F4:  MOVFF  9C3,FF7
020F8:  MOVFF  9C4,FF8
020FC:  MOVLB  0
020FE:  GOTO   20CE
02102:  RETURN 0
02104:  TBLRD*+
02106:  MOVFF  FF6,A4F
0210A:  MOVFF  FF7,A50
0210E:  MOVFF  FF8,A51
02112:  MOVF   FF5,W
02114:  BTFSS  FA6.6
02116:  GOTO   2114
0211A:  MOVLB  E
0211C:  MOVWF  xF9
0211E:  MOVFF  A4F,FF6
02122:  MOVFF  A50,FF7
02126:  MOVFF  A51,FF8
0212A:  MOVLB  A
0212C:  DECFSZ x4E,F
0212E:  BRA    2134
02130:  BRA    213A
02132:  MOVLB  0
02134:  MOVLB  0
02136:  GOTO   2104
0213A:  MOVLB  0
0213C:  RETURN 0
0213E:  TSTFSZ 01
02140:  GOTO   214E
02144:  TSTFSZ 02
02146:  GOTO   2150
0214A:  GOTO   2160
0214E:  INCF   02,F
02150:  MOVFF  00,FEE
02154:  DECFSZ 01,F
02156:  GOTO   2150
0215A:  DECFSZ 02,F
0215C:  GOTO   2150
02160:  RETURN 0
*
02334:  MOVLB  9
02336:  BTFSS  xE9.7
02338:  BRA    2340
0233A:  MOVLB  0
0233C:  GOTO   2376
02340:  MOVLW  0F
02342:  MOVWF  00
02344:  SWAPF  xE8,W
02346:  ANDWF  00,F
02348:  MOVLW  0A
0234A:  SUBWF  00,W
0234C:  BTFSS  FD8.0
0234E:  BRA    2356
02350:  MOVLB  0
02352:  GOTO   2360
02356:  MOVLW  30
02358:  ADDWF  00,F
0235A:  MOVLB  0
0235C:  GOTO   2368
02360:  MOVLB  9
02362:  MOVF   xE9,W
02364:  ADDWF  00,F
02366:  MOVLB  0
02368:  MOVF   00,W
0236A:  BTFSS  FA6.6
0236C:  GOTO   236A
02370:  MOVLB  E
02372:  MOVWF  xF9
02374:  MOVLB  0
02376:  MOVLW  0F
02378:  MOVLB  9
0237A:  ANDWF  xE8,F
0237C:  MOVLW  0A
0237E:  SUBWF  xE8,W
02380:  BTFSS  FD8.0
02382:  BRA    238A
02384:  MOVLB  0
02386:  GOTO   2392
0238A:  MOVLW  30
0238C:  MOVLB  0
0238E:  GOTO   239A
02392:  MOVLB  9
02394:  BCF    xE9.7
02396:  MOVF   xE9,W
02398:  MOVLB  0
0239A:  MOVLB  9
0239C:  ADDWF  xE8,F
0239E:  MOVF   xE8,W
023A0:  MOVLB  0
023A2:  BTFSS  FA6.6
023A4:  GOTO   23A2
023A8:  MOVLB  E
023AA:  MOVWF  xF9
023AC:  MOVLB  0
023AE:  RETURN 0
*
028AC:  MOVLB  B
028AE:  MOVF   x09,W
028B0:  ANDLW  07
028B2:  MOVWF  00
028B4:  RRCF   x09,W
028B6:  MOVWF  01
028B8:  RRCF   01,F
028BA:  RRCF   01,F
028BC:  MOVLW  1F
028BE:  ANDWF  01,F
028C0:  MOVF   01,W
028C2:  ADDWF  x0B,W
028C4:  MOVWF  FE9
028C6:  MOVLW  00
028C8:  ADDWFC x0C,W
028CA:  MOVWF  FEA
028CC:  CLRF   01
028CE:  INCF   01,F
028D0:  INCF   00,F
028D2:  MOVLB  0
028D4:  GOTO   28DA
028D8:  RLCF   01,F
028DA:  DECFSZ 00,F
028DC:  GOTO   28D8
028E0:  MOVLB  B
028E2:  MOVF   x0A,F
028E4:  BTFSS  FD8.2
028E6:  BRA    28EE
028E8:  MOVLB  0
028EA:  GOTO   28F8
028EE:  MOVF   01,W
028F0:  IORWF  FEF,F
028F2:  MOVLB  0
028F4:  GOTO   28FE
028F8:  COMF   01,F
028FA:  MOVF   01,W
028FC:  ANDWF  FEF,F
028FE:  RETURN 0
*
05B8C:  MOVLB  1
05B8E:  CLRF   xD1
05B90:  CLRF   xD2
05B92:  MOVLW  01
05B94:  MOVWF  xD3
05B96:  CLRF   FDA
05B98:  CLRF   FD9
05B9A:  MOVLW  01
05B9C:  MOVWF  xD6
05B9E:  MOVLW  C9
05BA0:  MOVWF  xD5
05BA2:  MOVLB  0
05BA4:  MOVLW  01
05BA6:  MOVWF  FEA
05BA8:  MOVLW  CD
05BAA:  MOVWF  FE9
05BAC:  MOVFF  1D6,FE2
05BB0:  MOVFF  1D5,FE1
05BB4:  MOVFF  1D3,1D4
05BB8:  BCF    FD8.0
05BBA:  MOVF   FE5,W
05BBC:  MULWF  FEE
05BBE:  MOVF   FF3,W
05BC0:  MOVLB  1
05BC2:  ADDWFC xD1,F
05BC4:  MOVF   FF4,W
05BC6:  ADDWFC xD2,F
05BC8:  DECFSZ xD4,F
05BCA:  BRA    5BD0
05BCC:  BRA    5BD6
05BCE:  MOVLB  0
05BD0:  MOVLB  0
05BD2:  GOTO   5BB8
05BD6:  MOVFF  1D1,FDE
05BDA:  MOVFF  1D2,1D1
05BDE:  CLRF   xD2
05BE0:  BTFSC  FD8.0
05BE2:  INCF   xD2,F
05BE4:  INCF   xD5,F
05BE6:  BTFSC  FD8.2
05BE8:  INCF   xD6,F
05BEA:  INCF   xD3,F
05BEC:  MOVF   xD3,W
05BEE:  SUBLW  05
05BF0:  BTFSC  FD8.2
05BF2:  BRA    5BFA
05BF4:  MOVLB  0
05BF6:  GOTO   5BA4
05BFA:  MOVLB  0
05BFC:  RETURN 0
*
05E06:  MOVLB  A
05E08:  MOVF   x52,W
05E0A:  MULWF  x54
05E0C:  MOVFF  FF3,01
05E10:  MOVFF  FF4,00
05E14:  MULWF  x55
05E16:  MOVF   FF3,W
05E18:  ADDWF  00,F
05E1A:  MOVF   x53,W
05E1C:  MULWF  x54
05E1E:  MOVF   FF3,W
05E20:  ADDWFC 00,W
05E22:  MOVWF  02
05E24:  MOVLB  0
05E26:  RETURN 0
*
06340:  BTFSC  FD8.1
06342:  GOTO   634E
06346:  MOVLW  02
06348:  MOVWF  FEA
0634A:  MOVLW  1E
0634C:  MOVWF  FE9
0634E:  CLRF   00
06350:  CLRF   01
06352:  CLRF   02
06354:  CLRF   03
06356:  MOVLB  2
06358:  CLRF   x1E
0635A:  CLRF   x1F
0635C:  CLRF   x20
0635E:  CLRF   x21
06360:  MOVF   x1D,W
06362:  IORWF  x1C,W
06364:  IORWF  x1B,W
06366:  IORWF  x1A,W
06368:  BTFSS  FD8.2
0636A:  BRA    6372
0636C:  MOVLB  0
0636E:  GOTO   6402
06372:  MOVLB  0
06374:  MOVLW  20
06376:  MOVLB  2
06378:  MOVWF  x22
0637A:  MOVLB  0
0637C:  BCF    FD8.0
0637E:  MOVLB  2
06380:  RLCF   x16,F
06382:  RLCF   x17,F
06384:  RLCF   x18,F
06386:  RLCF   x19,F
06388:  RLCF   x1E,F
0638A:  RLCF   x1F,F
0638C:  RLCF   x20,F
0638E:  RLCF   x21,F
06390:  MOVF   x1D,W
06392:  SUBWF  x21,W
06394:  BTFSC  FD8.2
06396:  BRA    639E
06398:  MOVLB  0
0639A:  GOTO   63C0
0639E:  MOVF   x1C,W
063A0:  SUBWF  x20,W
063A2:  BTFSC  FD8.2
063A4:  BRA    63AC
063A6:  MOVLB  0
063A8:  GOTO   63C0
063AC:  MOVF   x1B,W
063AE:  SUBWF  x1F,W
063B0:  BTFSC  FD8.2
063B2:  BRA    63BA
063B4:  MOVLB  0
063B6:  GOTO   63C0
063BA:  MOVF   x1A,W
063BC:  SUBWF  x1E,W
063BE:  MOVLB  0
063C0:  BTFSS  FD8.0
063C2:  GOTO   63E8
063C6:  MOVLB  2
063C8:  MOVF   x1A,W
063CA:  SUBWF  x1E,F
063CC:  MOVF   x1B,W
063CE:  BTFSS  FD8.0
063D0:  INCFSZ x1B,W
063D2:  SUBWF  x1F,F
063D4:  MOVF   x1C,W
063D6:  BTFSS  FD8.0
063D8:  INCFSZ x1C,W
063DA:  SUBWF  x20,F
063DC:  MOVF   x1D,W
063DE:  BTFSS  FD8.0
063E0:  INCFSZ x1D,W
063E2:  SUBWF  x21,F
063E4:  BSF    FD8.0
063E6:  MOVLB  0
063E8:  RLCF   00,F
063EA:  RLCF   01,F
063EC:  RLCF   02,F
063EE:  RLCF   03,F
063F0:  MOVLB  2
063F2:  DECFSZ x22,F
063F4:  BRA    63FA
063F6:  BRA    6400
063F8:  MOVLB  0
063FA:  MOVLB  0
063FC:  GOTO   637C
06400:  MOVLB  0
06402:  MOVFF  21E,FEF
06406:  MOVFF  21F,FEC
0640A:  MOVFF  220,FEC
0640E:  MOVFF  221,FEC
06412:  MOVF   FED,F
06414:  MOVF   FED,F
06416:  MOVF   FED,F
06418:  RETURN 0
0641A:  MOVF   FE9,W
0641C:  MOVLB  2
0641E:  MOVWF  x0E
06420:  MOVLW  3B
06422:  MOVWF  x15
06424:  MOVLW  9A
06426:  MOVWF  x14
06428:  MOVLW  CA
0642A:  MOVWF  x13
0642C:  CLRF   x12
0642E:  MOVLW  0A
06430:  MOVWF  x10
06432:  MOVLB  0
06434:  BSF    FD8.1
06436:  MOVLW  02
06438:  MOVWF  FEA
0643A:  MOVLW  0A
0643C:  MOVWF  FE9
0643E:  MOVFF  20D,219
06442:  MOVFF  20C,218
06446:  MOVFF  20B,217
0644A:  MOVFF  20A,216
0644E:  MOVFF  215,21D
06452:  MOVFF  214,21C
06456:  MOVFF  213,21B
0645A:  MOVFF  212,21A
0645E:  CALL   6340
06462:  MOVF   01,W
06464:  MOVF   00,F
06466:  BTFSS  FD8.2
06468:  GOTO   64C0
0646C:  MOVLB  2
0646E:  MOVF   x10,W
06470:  XORLW  01
06472:  BTFSS  FD8.2
06474:  BRA    647C
06476:  MOVLB  0
06478:  GOTO   64C0
0647C:  MOVF   x0E,W
0647E:  BTFSS  FD8.2
06480:  BRA    6488
06482:  MOVLB  0
06484:  GOTO   64C6
06488:  ANDLW  0F
0648A:  SUBWF  x10,W
0648C:  BTFSS  FD8.2
0648E:  BRA    6496
06490:  MOVLB  0
06492:  GOTO   64A2
06496:  BTFSS  FD8.0
06498:  BRA    64A0
0649A:  MOVLB  0
0649C:  GOTO   64D8
064A0:  MOVLB  0
064A2:  MOVLB  2
064A4:  BTFSS  x0E.7
064A6:  BRA    64AE
064A8:  MOVLB  0
064AA:  GOTO   64D8
064AE:  BTFSS  x0E.6
064B0:  BRA    64B8
064B2:  MOVLB  0
064B4:  GOTO   64C6
064B8:  MOVLW  20
064BA:  MOVLB  0
064BC:  GOTO   64C8
064C0:  MOVLB  2
064C2:  CLRF   x0E
064C4:  MOVLB  0
064C6:  MOVLW  30
064C8:  ADDWF  00,F
064CA:  MOVF   00,W
064CC:  BTFSS  FA6.6
064CE:  GOTO   64CC
064D2:  MOVLB  E
064D4:  MOVWF  xF9
064D6:  MOVLB  0
064D8:  BCF    FD8.1
064DA:  MOVFF  215,219
064DE:  MOVFF  214,218
064E2:  MOVFF  213,217
064E6:  MOVFF  212,216
064EA:  MOVLB  2
064EC:  CLRF   x1D
064EE:  CLRF   x1C
064F0:  CLRF   x1B
064F2:  MOVLW  0A
064F4:  MOVWF  x1A
064F6:  MOVLB  0
064F8:  CALL   6340
064FC:  MOVFF  03,215
06500:  MOVFF  02,214
06504:  MOVFF  01,213
06508:  MOVFF  00,212
0650C:  MOVLB  2
0650E:  DECFSZ x10,F
06510:  BRA    6516
06512:  BRA    651C
06514:  MOVLB  0
06516:  MOVLB  0
06518:  GOTO   6434
0651C:  MOVLB  0
0651E:  RETURN 0
*
07D34:  MOVLW  8E
07D36:  MOVWF  00
07D38:  MOVFF  1F4,01
07D3C:  MOVFF  1F3,02
07D40:  CLRF   03
07D42:  MOVF   01,F
07D44:  BTFSS  FD8.2
07D46:  GOTO   7D62
07D4A:  MOVFF  02,01
07D4E:  CLRF   02
07D50:  MOVLW  08
07D52:  SUBWF  00,F
07D54:  MOVF   01,F
07D56:  BTFSS  FD8.2
07D58:  GOTO   7D62
07D5C:  CLRF   00
07D5E:  GOTO   7D76
07D62:  BCF    FD8.0
07D64:  BTFSC  01.7
07D66:  GOTO   7D74
07D6A:  RLCF   02,F
07D6C:  RLCF   01,F
07D6E:  DECF   00,F
07D70:  GOTO   7D62
07D74:  BCF    01.7
07D76:  GOTO   8726 (RETURN)
07D7A:  MOVLB  1
07D7C:  MOVF   xF7,W
07D7E:  BTFSS  FD8.2
07D80:  BRA    7D88
07D82:  MOVLB  0
07D84:  GOTO   7ECC
07D88:  MOVWF  00
07D8A:  MOVF   xFB,W
07D8C:  BTFSS  FD8.2
07D8E:  BRA    7D96
07D90:  MOVLB  0
07D92:  GOTO   7ECC
07D96:  ADDWF  00,F
07D98:  BTFSC  FD8.0
07D9A:  BRA    7DA2
07D9C:  MOVLB  0
07D9E:  GOTO   7DB2
07DA2:  MOVLB  0
07DA4:  MOVLW  81
07DA6:  ADDWF  00,F
07DA8:  BTFSC  FD8.0
07DAA:  GOTO   7ECC
07DAE:  GOTO   7DC2
07DB2:  MOVLW  7F
07DB4:  SUBWF  00,F
07DB6:  BTFSS  FD8.0
07DB8:  GOTO   7ECC
07DBC:  BTFSC  FD8.2
07DBE:  GOTO   7ECC
07DC2:  MOVFF  1F8,1FF
07DC6:  MOVLB  1
07DC8:  MOVF   xFC,W
07DCA:  XORWF  xFF,F
07DCC:  BSF    xF8.7
07DCE:  BSF    xFC.7
07DD0:  MOVF   xFA,W
07DD2:  MULWF  xFE
07DD4:  MOVFF  FF4,201
07DD8:  MOVF   xF9,W
07DDA:  MULWF  xFD
07DDC:  MOVFF  FF4,03
07DE0:  MOVFF  FF3,200
07DE4:  MULWF  xFE
07DE6:  MOVF   FF3,W
07DE8:  MOVLB  2
07DEA:  ADDWF  x01,F
07DEC:  MOVF   FF4,W
07DEE:  ADDWFC x00,F
07DF0:  MOVLW  00
07DF2:  ADDWFC 03,F
07DF4:  MOVLB  1
07DF6:  MOVF   xFA,W
07DF8:  MULWF  xFD
07DFA:  MOVF   FF3,W
07DFC:  MOVLB  2
07DFE:  ADDWF  x01,F
07E00:  MOVF   FF4,W
07E02:  ADDWFC x00,F
07E04:  MOVLW  00
07E06:  CLRF   02
07E08:  ADDWFC 03,F
07E0A:  ADDWFC 02,F
07E0C:  MOVLB  1
07E0E:  MOVF   xF8,W
07E10:  MULWF  xFE
07E12:  MOVF   FF3,W
07E14:  MOVLB  2
07E16:  ADDWF  x00,F
07E18:  MOVF   FF4,W
07E1A:  ADDWFC 03,F
07E1C:  MOVLW  00
07E1E:  ADDWFC 02,F
07E20:  MOVLB  1
07E22:  MOVF   xF8,W
07E24:  MULWF  xFD
07E26:  MOVF   FF3,W
07E28:  ADDWF  03,F
07E2A:  MOVF   FF4,W
07E2C:  ADDWFC 02,F
07E2E:  MOVLW  00
07E30:  CLRF   01
07E32:  ADDWFC 01,F
07E34:  MOVF   xFA,W
07E36:  MULWF  xFC
07E38:  MOVF   FF3,W
07E3A:  MOVLB  2
07E3C:  ADDWF  x00,F
07E3E:  MOVF   FF4,W
07E40:  ADDWFC 03,F
07E42:  MOVLW  00
07E44:  ADDWFC 02,F
07E46:  ADDWFC 01,F
07E48:  MOVLB  1
07E4A:  MOVF   xF9,W
07E4C:  MULWF  xFC
07E4E:  MOVF   FF3,W
07E50:  ADDWF  03,F
07E52:  MOVF   FF4,W
07E54:  ADDWFC 02,F
07E56:  MOVLW  00
07E58:  ADDWFC 01,F
07E5A:  MOVF   xF8,W
07E5C:  MULWF  xFC
07E5E:  MOVF   FF3,W
07E60:  ADDWF  02,F
07E62:  MOVF   FF4,W
07E64:  ADDWFC 01,F
07E66:  INCF   00,F
07E68:  BTFSS  01.7
07E6A:  BRA    7E72
07E6C:  MOVLB  0
07E6E:  GOTO   7E80
07E72:  MOVLB  2
07E74:  RLCF   x00,F
07E76:  RLCF   03,F
07E78:  RLCF   02,F
07E7A:  RLCF   01,F
07E7C:  DECF   00,F
07E7E:  MOVLB  0
07E80:  MOVLW  00
07E82:  MOVLB  2
07E84:  BTFSC  x00.7
07E86:  BRA    7E8E
07E88:  MOVLB  0
07E8A:  GOTO   7EBC
07E8E:  INCF   03,F
07E90:  ADDWFC 02,F
07E92:  ADDWFC 01,F
07E94:  MOVF   01,W
07E96:  BTFSC  FD8.2
07E98:  BRA    7EA0
07E9A:  MOVLB  0
07E9C:  GOTO   7EBC
07EA0:  MOVF   02,W
07EA2:  BTFSC  FD8.2
07EA4:  BRA    7EAC
07EA6:  MOVLB  0
07EA8:  GOTO   7EBC
07EAC:  MOVF   03,W
07EAE:  BTFSC  FD8.2
07EB0:  BRA    7EB8
07EB2:  MOVLB  0
07EB4:  GOTO   7EBC
07EB8:  INCF   00,F
07EBA:  MOVLB  0
07EBC:  MOVLB  1
07EBE:  BTFSC  xFF.7
07EC0:  BSF    01.7
07EC2:  BTFSS  xFF.7
07EC4:  BCF    01.7
07EC6:  MOVLB  0
07EC8:  GOTO   7ED4
07ECC:  CLRF   00
07ECE:  CLRF   01
07ED0:  CLRF   02
07ED2:  CLRF   03
07ED4:  GOTO   875C (RETURN)
07ED8:  MOVLB  1
07EDA:  MOVF   xF7,W
07EDC:  BTFSS  FD8.2
07EDE:  BRA    7EE6
07EE0:  MOVLB  0
07EE2:  GOTO   81BC
07EE6:  MOVLB  2
07EE8:  MOVWF  x03
07EEA:  MOVLB  1
07EEC:  MOVF   xFB,W
07EEE:  BTFSS  FD8.2
07EF0:  BRA    7EF8
07EF2:  MOVLB  0
07EF4:  GOTO   81BC
07EF8:  MOVLB  2
07EFA:  SUBWF  x03,F
07EFC:  BTFSS  FD8.0
07EFE:  BRA    7F06
07F00:  MOVLB  0
07F02:  GOTO   7F0C
07F06:  MOVLB  0
07F08:  GOTO   7F22
07F0C:  MOVLW  7F
07F0E:  MOVLB  2
07F10:  ADDWF  x03,F
07F12:  BTFSS  FD8.0
07F14:  BRA    7F1C
07F16:  MOVLB  0
07F18:  GOTO   81BC
07F1C:  MOVLB  0
07F1E:  GOTO   7F3E
07F22:  MOVLW  81
07F24:  MOVLB  2
07F26:  SUBWF  x03,F
07F28:  BTFSC  FD8.0
07F2A:  BRA    7F32
07F2C:  MOVLB  0
07F2E:  GOTO   81BC
07F32:  BTFSS  FD8.2
07F34:  BRA    7F3C
07F36:  MOVLB  0
07F38:  GOTO   81BC
07F3C:  MOVLB  0
07F3E:  MOVFF  203,00
07F42:  CLRF   01
07F44:  CLRF   02
07F46:  CLRF   03
07F48:  MOVLB  2
07F4A:  CLRF   x02
07F4C:  MOVFF  1F8,201
07F50:  BSF    x01.7
07F52:  MOVFF  1F9,200
07F56:  MOVFF  1FA,1FF
07F5A:  MOVLW  19
07F5C:  MOVWF  x03
07F5E:  MOVLB  0
07F60:  MOVLB  1
07F62:  MOVF   xFE,W
07F64:  SUBWF  xFF,F
07F66:  BTFSS  FD8.0
07F68:  BRA    7F70
07F6A:  MOVLB  0
07F6C:  GOTO   7FAA
07F70:  MOVLW  01
07F72:  MOVLB  2
07F74:  SUBWF  x00,F
07F76:  BTFSS  FD8.0
07F78:  BRA    7F80
07F7A:  MOVLB  0
07F7C:  GOTO   7FAA
07F80:  SUBWF  x01,F
07F82:  BTFSS  FD8.0
07F84:  BRA    7F8C
07F86:  MOVLB  0
07F88:  GOTO   7FAA
07F8C:  SUBWF  x02,F
07F8E:  BTFSS  FD8.0
07F90:  BRA    7F98
07F92:  MOVLB  0
07F94:  GOTO   7FAA
07F98:  INCF   x02,F
07F9A:  INCF   x01,F
07F9C:  INCF   x00,F
07F9E:  MOVLB  1
07FA0:  MOVF   xFE,W
07FA2:  ADDWF  xFF,F
07FA4:  MOVLB  0
07FA6:  GOTO   8070
07FAA:  MOVLB  1
07FAC:  MOVF   xFD,W
07FAE:  MOVLB  2
07FB0:  SUBWF  x00,F
07FB2:  BTFSS  FD8.0
07FB4:  BRA    7FBC
07FB6:  MOVLB  0
07FB8:  GOTO   801A
07FBC:  MOVLW  01
07FBE:  SUBWF  x01,F
07FC0:  BTFSS  FD8.0
07FC2:  BRA    7FCA
07FC4:  MOVLB  0
07FC6:  GOTO   801A
07FCA:  SUBWF  x02,F
07FCC:  BTFSS  FD8.0
07FCE:  BRA    7FD6
07FD0:  MOVLB  0
07FD2:  GOTO   801A
07FD6:  MOVLB  0
07FD8:  MOVLB  2
07FDA:  INCF   x02,F
07FDC:  INCF   x01,F
07FDE:  MOVLB  1
07FE0:  MOVF   xFD,W
07FE2:  MOVLB  2
07FE4:  ADDWF  x00,F
07FE6:  MOVLB  0
07FE8:  MOVLB  1
07FEA:  MOVF   xFE,W
07FEC:  ADDWF  xFF,F
07FEE:  BTFSC  FD8.0
07FF0:  BRA    7FF8
07FF2:  MOVLB  0
07FF4:  GOTO   8070
07FF8:  MOVLB  2
07FFA:  INCF   x00,F
07FFC:  BTFSC  FD8.2
07FFE:  BRA    8006
08000:  MOVLB  0
08002:  GOTO   8070
08006:  INCF   x01,F
08008:  BTFSC  FD8.2
0800A:  BRA    8012
0800C:  MOVLB  0
0800E:  GOTO   8070
08012:  INCF   x02,F
08014:  MOVLB  0
08016:  GOTO   8070
0801A:  MOVLB  1
0801C:  MOVF   xFC,W
0801E:  IORLW  80
08020:  MOVLB  2
08022:  SUBWF  x01,F
08024:  BTFSS  FD8.0
08026:  BRA    802E
08028:  MOVLB  0
0802A:  GOTO   806E
0802E:  MOVLW  01
08030:  SUBWF  x02,F
08032:  BTFSS  FD8.0
08034:  BRA    803C
08036:  MOVLB  0
08038:  GOTO   806E
0803C:  INCF   x02,F
0803E:  MOVLB  1
08040:  MOVF   xFC,W
08042:  IORLW  80
08044:  MOVLB  2
08046:  ADDWF  x01,F
08048:  MOVLB  1
0804A:  MOVF   xFD,W
0804C:  MOVLB  2
0804E:  ADDWF  x00,F
08050:  BTFSC  FD8.0
08052:  BRA    805A
08054:  MOVLB  0
08056:  GOTO   7FE8
0805A:  INCF   x01,F
0805C:  BTFSC  FD8.2
0805E:  BRA    8066
08060:  MOVLB  0
08062:  GOTO   7FE8
08066:  INCF   x02,F
08068:  MOVLB  0
0806A:  GOTO   7FE8
0806E:  BSF    03.0
08070:  MOVLB  2
08072:  DECFSZ x03,F
08074:  BRA    807A
08076:  BRA    8080
08078:  MOVLB  0
0807A:  MOVLB  0
0807C:  GOTO   8086
08080:  MOVLB  0
08082:  GOTO   80A4
08086:  BCF    FD8.0
08088:  MOVLB  1
0808A:  RLCF   xFF,F
0808C:  MOVLB  2
0808E:  RLCF   x00,F
08090:  RLCF   x01,F
08092:  RLCF   x02,F
08094:  BCF    FD8.0
08096:  RLCF   03,F
08098:  RLCF   02,F
0809A:  RLCF   01,F
0809C:  RLCF   x04,F
0809E:  MOVLB  0
080A0:  GOTO   7F60
080A4:  MOVLB  2
080A6:  BTFSC  x04.0
080A8:  BRA    80B0
080AA:  MOVLB  0
080AC:  GOTO   80C0
080B0:  BCF    FD8.0
080B2:  RRCF   01,F
080B4:  RRCF   02,F
080B6:  RRCF   03,F
080B8:  RRCF   x04,F
080BA:  MOVLB  0
080BC:  GOTO   80C8
080C0:  DECF   00,F
080C2:  BTFSC  FD8.2
080C4:  GOTO   81BC
080C8:  MOVLB  2
080CA:  BTFSS  x04.7
080CC:  BRA    80D4
080CE:  MOVLB  0
080D0:  GOTO   8172
080D4:  BCF    FD8.0
080D6:  MOVLB  1
080D8:  RLCF   xFF,F
080DA:  MOVLB  2
080DC:  RLCF   x00,F
080DE:  RLCF   x01,F
080E0:  RLCF   x02,F
080E2:  MOVLB  0
080E4:  MOVLB  1
080E6:  MOVF   xFE,W
080E8:  SUBWF  xFF,F
080EA:  BTFSS  FD8.0
080EC:  BRA    80F4
080EE:  MOVLB  0
080F0:  GOTO   811E
080F4:  MOVLW  01
080F6:  MOVLB  2
080F8:  SUBWF  x00,F
080FA:  BTFSS  FD8.0
080FC:  BRA    8104
080FE:  MOVLB  0
08100:  GOTO   811E
08104:  SUBWF  x01,F
08106:  BTFSS  FD8.0
08108:  BRA    8110
0810A:  MOVLB  0
0810C:  GOTO   811E
08110:  SUBWF  x02,F
08112:  BTFSC  FD8.0
08114:  BRA    811C
08116:  MOVLB  0
08118:  GOTO   8198
0811C:  MOVLB  0
0811E:  MOVLB  1
08120:  MOVF   xFD,W
08122:  MOVLB  2
08124:  SUBWF  x00,F
08126:  BTFSS  FD8.0
08128:  BRA    8130
0812A:  MOVLB  0
0812C:  GOTO   814C
08130:  MOVLW  01
08132:  SUBWF  x01,F
08134:  BTFSS  FD8.0
08136:  BRA    813E
08138:  MOVLB  0
0813A:  GOTO   814C
0813E:  SUBWF  x02,F
08140:  BTFSC  FD8.0
08142:  BRA    814A
08144:  MOVLB  0
08146:  GOTO   8198
0814A:  MOVLB  0
0814C:  MOVLB  1
0814E:  MOVF   xFC,W
08150:  IORLW  80
08152:  MOVLB  0
08154:  MOVLB  2
08156:  SUBWF  x01,F
08158:  BTFSS  FD8.0
0815A:  BRA    8162
0815C:  MOVLB  0
0815E:  GOTO   8172
08162:  MOVLW  01
08164:  SUBWF  x02,F
08166:  BTFSC  FD8.0
08168:  BRA    8170
0816A:  MOVLB  0
0816C:  GOTO   8198
08170:  MOVLB  0
08172:  INCF   03,F
08174:  BTFSS  FD8.2
08176:  GOTO   8198
0817A:  INCF   02,F
0817C:  BTFSS  FD8.2
0817E:  GOTO   8198
08182:  INCF   01,F
08184:  BTFSS  FD8.2
08186:  GOTO   8198
0818A:  INCF   00,F
0818C:  BTFSC  FD8.2
0818E:  GOTO   81BC
08192:  RRCF   01,F
08194:  RRCF   02,F
08196:  RRCF   03,F
08198:  MOVFF  1F8,203
0819C:  MOVLB  1
0819E:  MOVF   xFC,W
081A0:  MOVLB  2
081A2:  XORWF  x03,F
081A4:  BTFSC  x03.7
081A6:  BRA    81AE
081A8:  MOVLB  0
081AA:  GOTO   81B6
081AE:  BSF    01.7
081B0:  MOVLB  0
081B2:  GOTO   81C4
081B6:  BCF    01.7
081B8:  GOTO   81C4
081BC:  CLRF   00
081BE:  CLRF   01
081C0:  CLRF   02
081C2:  CLRF   03
081C4:  RETURN 0
081C6:  MOVLW  80
081C8:  BTFSS  FD8.1
081CA:  BRA    81D2
081CC:  MOVLB  1
081CE:  XORWF  xF8,F
081D0:  MOVLB  0
081D2:  MOVLB  1
081D4:  CLRF   xFD
081D6:  CLRF   xFE
081D8:  MOVFF  1F4,1FC
081DC:  MOVF   xF8,W
081DE:  XORWF  xFC,F
081E0:  MOVF   xF3,W
081E2:  BTFSS  FD8.2
081E4:  BRA    81EC
081E6:  MOVLB  0
081E8:  GOTO   859A
081EC:  MOVWF  xFB
081EE:  MOVFF  1FB,00
081F2:  MOVF   xF7,W
081F4:  BTFSS  FD8.2
081F6:  BRA    81FE
081F8:  MOVLB  0
081FA:  GOTO   85AE
081FE:  SUBWF  xFB,F
08200:  BTFSS  FD8.2
08202:  BRA    820A
08204:  MOVLB  0
08206:  GOTO   8414
0820A:  BTFSS  FD8.0
0820C:  BRA    8214
0820E:  MOVLB  0
08210:  GOTO   821A
08214:  MOVLB  0
08216:  GOTO   8310
0821A:  MOVFF  1F8,201
0821E:  MOVLB  2
08220:  BSF    x01.7
08222:  MOVFF  1F9,200
08226:  MOVFF  1FA,1FF
0822A:  MOVLB  0
0822C:  MOVLB  1
0822E:  CLRF   xFE
08230:  BCF    FD8.0
08232:  MOVLB  2
08234:  RRCF   x01,F
08236:  RRCF   x00,F
08238:  MOVLB  1
0823A:  RRCF   xFF,F
0823C:  RRCF   xFE,F
0823E:  DECFSZ xFB,F
08240:  BRA    8246
08242:  BRA    824C
08244:  MOVLB  0
08246:  MOVLB  0
08248:  GOTO   822C
0824C:  MOVLB  0
0824E:  MOVLB  1
08250:  BTFSC  xFC.7
08252:  BRA    825A
08254:  MOVLB  0
08256:  GOTO   8268
0825A:  BSF    xFD.0
0825C:  MOVLB  0
0825E:  GOTO   85DA
08262:  MOVLB  1
08264:  BCF    xFD.0
08266:  MOVLB  0
08268:  MOVLB  1
0826A:  BCF    xFB.0
0826C:  BSF    xFD.4
0826E:  MOVLW  01
08270:  MOVWF  FEA
08272:  MOVLW  F6
08274:  MOVWF  FE9
08276:  MOVLB  0
08278:  GOTO   863A
0827C:  MOVLB  1
0827E:  BCF    xFD.4
08280:  BTFSS  xFC.7
08282:  BRA    828A
08284:  MOVLB  0
08286:  GOTO   82B2
0828A:  BTFSC  xFB.0
0828C:  BRA    8294
0828E:  MOVLB  0
08290:  GOTO   82DC
08294:  MOVLB  2
08296:  RRCF   x01,F
08298:  RRCF   x00,F
0829A:  MOVLB  1
0829C:  RRCF   xFF,F
0829E:  RRCF   xFE,F
082A0:  INCF   00,F
082A2:  BTFSS  FD8.2
082A4:  BRA    82AC
082A6:  MOVLB  0
082A8:  GOTO   85CE
082AC:  MOVLB  0
082AE:  GOTO   82DC
082B2:  MOVLB  2
082B4:  BTFSS  x01.7
082B6:  BRA    82BE
082B8:  MOVLB  0
082BA:  GOTO   82EC
082BE:  BCF    FD8.0
082C0:  MOVLB  1
082C2:  RLCF   xFE,F
082C4:  RLCF   xFF,F
082C6:  MOVLB  2
082C8:  RLCF   x00,F
082CA:  RLCF   x01,F
082CC:  DECFSZ 00,F
082CE:  BRA    82D6
082D0:  MOVLB  0
082D2:  GOTO   85CE
082D6:  MOVLB  0
082D8:  GOTO   82B2
082DC:  MOVLB  1
082DE:  BSF    xFD.6
082E0:  MOVLB  0
082E2:  GOTO   8490
082E6:  MOVLB  1
082E8:  BCF    xFD.6
082EA:  MOVLB  0
082EC:  MOVFF  1F4,1FC
082F0:  MOVLB  1
082F2:  BTFSC  xFC.7
082F4:  BRA    82FC
082F6:  MOVLB  0
082F8:  GOTO   8306
082FC:  MOVLB  2
082FE:  BSF    x01.7
08300:  MOVLB  0
08302:  GOTO   85BE
08306:  MOVLB  2
08308:  BCF    x01.7
0830A:  MOVLB  0
0830C:  GOTO   85BE
08310:  MOVFF  1F7,1FB
08314:  MOVFF  1FB,00
08318:  MOVLB  1
0831A:  MOVF   xF3,W
0831C:  SUBWF  xFB,F
0831E:  MOVFF  1F4,201
08322:  MOVLB  2
08324:  BSF    x01.7
08326:  MOVFF  1F5,200
0832A:  MOVFF  1F6,1FF
0832E:  MOVLB  0
08330:  MOVLB  1
08332:  CLRF   xFE
08334:  BCF    FD8.0
08336:  MOVLB  2
08338:  RRCF   x01,F
0833A:  RRCF   x00,F
0833C:  MOVLB  1
0833E:  RRCF   xFF,F
08340:  RRCF   xFE,F
08342:  DECFSZ xFB,F
08344:  BRA    834A
08346:  BRA    8350
08348:  MOVLB  0
0834A:  MOVLB  0
0834C:  GOTO   8330
08350:  MOVLB  0
08352:  MOVLB  1
08354:  BTFSC  xFC.7
08356:  BRA    835E
08358:  MOVLB  0
0835A:  GOTO   836C
0835E:  BSF    xFD.1
08360:  MOVLB  0
08362:  GOTO   85DA
08366:  MOVLB  1
08368:  BCF    xFD.1
0836A:  MOVLB  0
0836C:  MOVLB  1
0836E:  BCF    xFB.0
08370:  BSF    xFD.5
08372:  MOVLW  01
08374:  MOVWF  FEA
08376:  MOVLW  FA
08378:  MOVWF  FE9
0837A:  MOVLB  0
0837C:  GOTO   863A
08380:  MOVLB  1
08382:  BCF    xFD.5
08384:  BTFSS  xFC.7
08386:  BRA    838E
08388:  MOVLB  0
0838A:  GOTO   83B6
0838E:  BTFSC  xFB.0
08390:  BRA    8398
08392:  MOVLB  0
08394:  GOTO   83E0
08398:  MOVLB  2
0839A:  RRCF   x01,F
0839C:  RRCF   x00,F
0839E:  MOVLB  1
083A0:  RRCF   xFF,F
083A2:  RRCF   xFE,F
083A4:  INCF   00,F
083A6:  BTFSS  FD8.2
083A8:  BRA    83B0
083AA:  MOVLB  0
083AC:  GOTO   85CE
083B0:  MOVLB  0
083B2:  GOTO   83E0
083B6:  MOVLB  2
083B8:  BTFSS  x01.7
083BA:  BRA    83C2
083BC:  MOVLB  0
083BE:  GOTO   83F0
083C2:  BCF    FD8.0
083C4:  MOVLB  1
083C6:  RLCF   xFE,F
083C8:  RLCF   xFF,F
083CA:  MOVLB  2
083CC:  RLCF   x00,F
083CE:  RLCF   x01,F
083D0:  DECFSZ 00,F
083D2:  BRA    83DA
083D4:  MOVLB  0
083D6:  GOTO   85CE
083DA:  MOVLB  0
083DC:  GOTO   83B6
083E0:  MOVLB  1
083E2:  BSF    xFD.7
083E4:  MOVLB  0
083E6:  GOTO   8490
083EA:  MOVLB  1
083EC:  BCF    xFD.7
083EE:  MOVLB  0
083F0:  MOVFF  1F8,1FC
083F4:  MOVLB  1
083F6:  BTFSC  xFC.7
083F8:  BRA    8400
083FA:  MOVLB  0
083FC:  GOTO   840A
08400:  MOVLB  2
08402:  BSF    x01.7
08404:  MOVLB  0
08406:  GOTO   85BE
0840A:  MOVLB  2
0840C:  BCF    x01.7
0840E:  MOVLB  0
08410:  GOTO   85BE
08414:  MOVFF  1F8,201
08418:  MOVLB  2
0841A:  BSF    x01.7
0841C:  MOVFF  1F9,200
08420:  MOVFF  1FA,1FF
08424:  MOVLB  1
08426:  BTFSC  xFC.7
08428:  BRA    8430
0842A:  MOVLB  0
0842C:  GOTO   8444
08430:  MOVLB  2
08432:  BCF    x01.7
08434:  MOVLB  1
08436:  BSF    xFD.2
08438:  MOVLB  0
0843A:  GOTO   85DA
0843E:  MOVLB  1
08440:  BCF    xFD.2
08442:  MOVLB  0
08444:  MOVLB  1
08446:  CLRF   xFE
08448:  BCF    xFB.0
0844A:  MOVLW  01
0844C:  MOVWF  FEA
0844E:  MOVLW  F6
08450:  MOVWF  FE9
08452:  MOVLB  0
08454:  GOTO   863A
08458:  MOVLB  1
0845A:  BTFSS  xFC.7
0845C:  BRA    8464
0845E:  MOVLB  0
08460:  GOTO   84F4
08464:  MOVFF  1F4,1FC
08468:  MOVLB  0
0846A:  MOVLB  1
0846C:  BTFSC  xFB.0
0846E:  BRA    8476
08470:  MOVLB  0
08472:  GOTO   8490
08476:  MOVLB  2
08478:  RRCF   x01,F
0847A:  RRCF   x00,F
0847C:  MOVLB  1
0847E:  RRCF   xFF,F
08480:  RRCF   xFE,F
08482:  INCF   00,F
08484:  BTFSS  FD8.2
08486:  BRA    848E
08488:  MOVLB  0
0848A:  GOTO   85CE
0848E:  MOVLB  0
08490:  MOVLB  1
08492:  BTFSC  xFE.7
08494:  BRA    849C
08496:  MOVLB  0
08498:  GOTO   84D8
0849C:  INCF   xFF,F
0849E:  BTFSC  FD8.2
084A0:  BRA    84A8
084A2:  MOVLB  0
084A4:  GOTO   84D8
084A8:  MOVLB  2
084AA:  INCF   x00,F
084AC:  BTFSC  FD8.2
084AE:  BRA    84B6
084B0:  MOVLB  0
084B2:  GOTO   84D8
084B6:  INCF   x01,F
084B8:  BTFSC  FD8.2
084BA:  BRA    84C2
084BC:  MOVLB  0
084BE:  GOTO   84D8
084C2:  RRCF   x01,F
084C4:  RRCF   x00,F
084C6:  MOVLB  1
084C8:  RRCF   xFF,F
084CA:  INCF   00,F
084CC:  BTFSS  FD8.2
084CE:  BRA    84D6
084D0:  MOVLB  0
084D2:  GOTO   85CE
084D6:  MOVLB  0
084D8:  MOVLB  1
084DA:  BTFSS  xFD.6
084DC:  BRA    84E4
084DE:  MOVLB  0
084E0:  GOTO   82E6
084E4:  BTFSS  xFD.7
084E6:  BRA    84EE
084E8:  MOVLB  0
084EA:  GOTO   83EA
084EE:  MOVLB  0
084F0:  GOTO   857A
084F4:  MOVLW  80
084F6:  MOVLB  2
084F8:  XORWF  x01,F
084FA:  BTFSC  x01.7
084FC:  BRA    8504
084FE:  MOVLB  0
08500:  GOTO   8512
08504:  MOVLB  0
08506:  GOTO   85DA
0850A:  MOVFF  1F8,1FC
0850E:  GOTO   854C
08512:  MOVFF  1F4,1FC
08516:  MOVLB  2
08518:  MOVF   x01,F
0851A:  BTFSC  FD8.2
0851C:  BRA    8524
0851E:  MOVLB  0
08520:  GOTO   854C
08524:  MOVLB  0
08526:  MOVLB  2
08528:  MOVF   x00,F
0852A:  BTFSC  FD8.2
0852C:  BRA    8534
0852E:  MOVLB  0
08530:  GOTO   854C
08534:  MOVLB  0
08536:  MOVLB  1
08538:  MOVF   xFF,F
0853A:  BTFSC  FD8.2
0853C:  BRA    8544
0853E:  MOVLB  0
08540:  GOTO   854C
08544:  MOVLB  0
08546:  CLRF   00
08548:  GOTO   85BE
0854C:  MOVLB  2
0854E:  BTFSS  x01.7
08550:  BRA    8558
08552:  MOVLB  0
08554:  GOTO   857A
08558:  BCF    FD8.0
0855A:  MOVLB  1
0855C:  RLCF   xFE,F
0855E:  RLCF   xFF,F
08560:  MOVLB  2
08562:  RLCF   x00,F
08564:  RLCF   x01,F
08566:  DECFSZ 00,F
08568:  BRA    856E
0856A:  BRA    8574
0856C:  MOVLB  0
0856E:  MOVLB  0
08570:  GOTO   854C
08574:  MOVLB  0
08576:  GOTO   85CE
0857A:  MOVLB  1
0857C:  BTFSC  xFC.7
0857E:  BRA    8586
08580:  MOVLB  0
08582:  GOTO   8590
08586:  MOVLB  2
08588:  BSF    x01.7
0858A:  MOVLB  0
0858C:  GOTO   85BE
08590:  MOVLB  2
08592:  BCF    x01.7
08594:  MOVLB  0
08596:  GOTO   85BE
0859A:  MOVFF  1F7,00
0859E:  MOVFF  1F8,201
085A2:  MOVFF  1F9,200
085A6:  MOVFF  1FA,1FF
085AA:  GOTO   85BE
085AE:  MOVFF  1F3,00
085B2:  MOVFF  1F4,201
085B6:  MOVFF  1F5,200
085BA:  MOVFF  1F6,1FF
085BE:  MOVFF  201,01
085C2:  MOVFF  200,02
085C6:  MOVFF  1FF,03
085CA:  GOTO   86BC
085CE:  CLRF   00
085D0:  CLRF   01
085D2:  CLRF   02
085D4:  CLRF   03
085D6:  GOTO   86BC
085DA:  MOVLB  1
085DC:  CLRF   xFE
085DE:  COMF   xFF,F
085E0:  MOVLB  2
085E2:  COMF   x00,F
085E4:  COMF   x01,F
085E6:  MOVLB  1
085E8:  COMF   xFE,F
085EA:  INCF   xFE,F
085EC:  BTFSC  FD8.2
085EE:  BRA    85F6
085F0:  MOVLB  0
085F2:  GOTO   8614
085F6:  INCF   xFF,F
085F8:  BTFSC  FD8.2
085FA:  BRA    8602
085FC:  MOVLB  0
085FE:  GOTO   8614
08602:  MOVLB  2
08604:  INCF   x00,F
08606:  BTFSC  FD8.2
08608:  BRA    8610
0860A:  MOVLB  0
0860C:  GOTO   8614
08610:  INCF   x01,F
08612:  MOVLB  0
08614:  MOVLB  1
08616:  BTFSS  xFD.0
08618:  BRA    8620
0861A:  MOVLB  0
0861C:  GOTO   8262
08620:  BTFSS  xFD.1
08622:  BRA    862A
08624:  MOVLB  0
08626:  GOTO   8366
0862A:  BTFSS  xFD.2
0862C:  BRA    8634
0862E:  MOVLB  0
08630:  GOTO   843E
08634:  MOVLB  0
08636:  GOTO   850A
0863A:  MOVF   FEF,W
0863C:  MOVLB  1
0863E:  ADDWF  xFF,F
08640:  BTFSC  FD8.0
08642:  BRA    864A
08644:  MOVLB  0
08646:  GOTO   8666
0864A:  MOVLB  2
0864C:  INCF   x00,F
0864E:  BTFSC  FD8.2
08650:  BRA    8658
08652:  MOVLB  0
08654:  GOTO   8666
08658:  INCF   x01,F
0865A:  BTFSS  FD8.2
0865C:  BRA    8664
0865E:  MOVLB  1
08660:  BSF    xFB.0
08662:  MOVLB  2
08664:  MOVLB  0
08666:  MOVF   FED,F
08668:  MOVF   FEF,W
0866A:  MOVLB  2
0866C:  ADDWF  x00,F
0866E:  BTFSC  FD8.0
08670:  BRA    8678
08672:  MOVLB  0
08674:  GOTO   8686
08678:  INCF   x01,F
0867A:  BTFSS  FD8.2
0867C:  BRA    8684
0867E:  MOVLB  1
08680:  BSF    xFB.0
08682:  MOVLB  2
08684:  MOVLB  0
08686:  MOVF   FED,F
08688:  MOVF   FEF,W
0868A:  BTFSC  FEF.7
0868C:  GOTO   8692
08690:  XORLW  80
08692:  MOVLB  2
08694:  ADDWF  x01,F
08696:  BTFSS  FD8.0
08698:  BRA    86A0
0869A:  MOVLB  1
0869C:  BSF    xFB.0
0869E:  MOVLB  2
086A0:  MOVLB  1
086A2:  BTFSS  xFD.4
086A4:  BRA    86AC
086A6:  MOVLB  0
086A8:  GOTO   827C
086AC:  BTFSS  xFD.5
086AE:  BRA    86B6
086B0:  MOVLB  0
086B2:  GOTO   8380
086B6:  MOVLB  0
086B8:  GOTO   8458
086BC:  GOTO   87CA (RETURN)
086C0:  MOVLW  8E
086C2:  MOVWF  00
086C4:  MOVLB  1
086C6:  MOVF   xF3,W
086C8:  SUBWF  00,F
086CA:  MOVFF  1F4,02
086CE:  MOVFF  1F5,01
086D2:  BSF    02.7
086D4:  MOVF   00,F
086D6:  BTFSS  FD8.2
086D8:  BRA    86E0
086DA:  MOVLB  0
086DC:  GOTO   86FE
086E0:  MOVLB  0
086E2:  BCF    FD8.0
086E4:  MOVF   02,F
086E6:  BTFSS  FD8.2
086E8:  GOTO   86F4
086EC:  MOVF   01,F
086EE:  BTFSC  FD8.2
086F0:  GOTO   86FE
086F4:  RRCF   02,F
086F6:  RRCF   01,F
086F8:  DECFSZ 00,F
086FA:  GOTO   86E2
086FE:  MOVLB  1
08700:  BTFSC  xF4.7
08702:  BRA    870A
08704:  MOVLB  0
08706:  GOTO   8716
0870A:  MOVLB  0
0870C:  COMF   01,F
0870E:  COMF   02,F
08710:  INCF   01,F
08712:  BTFSC  FD8.2
08714:  INCF   02,F
08716:  GOTO   8822 (RETURN)
*
0882C:  MOVFF  FEA,1F1
08830:  MOVFF  FE9,1F0
08834:  MOVLB  1
08836:  SWAPF  xEA,W
08838:  IORLW  F0
0883A:  MOVWF  xEC
0883C:  ADDWF  xEC,F
0883E:  ADDLW  E2
08840:  MOVWF  xED
08842:  ADDLW  32
08844:  MOVWF  xEF
08846:  MOVF   xEA,W
08848:  ANDLW  0F
0884A:  ADDWF  xED,F
0884C:  ADDWF  xED,F
0884E:  ADDWF  xEF,F
08850:  ADDLW  E9
08852:  MOVWF  xEE
08854:  ADDWF  xEE,F
08856:  ADDWF  xEE,F
08858:  SWAPF  xE9,W
0885A:  ANDLW  0F
0885C:  ADDWF  xEE,F
0885E:  ADDWF  xEF,F
08860:  RLCF   xEE,F
08862:  RLCF   xEF,F
08864:  COMF   xEF,F
08866:  RLCF   xEF,F
08868:  MOVF   xE9,W
0886A:  ANDLW  0F
0886C:  ADDWF  xEF,F
0886E:  RLCF   xEC,F
08870:  MOVLW  07
08872:  MOVWF  xEB
08874:  MOVLW  0A
08876:  MOVLB  0
08878:  MOVLB  1
0887A:  DECF   xEE,F
0887C:  ADDWF  xEF,F
0887E:  BTFSC  FD8.0
08880:  BRA    8888
08882:  MOVLB  0
08884:  GOTO   8878
08888:  MOVLB  0
0888A:  MOVLB  1
0888C:  DECF   xED,F
0888E:  ADDWF  xEE,F
08890:  BTFSC  FD8.0
08892:  BRA    889A
08894:  MOVLB  0
08896:  GOTO   888A
0889A:  MOVLB  0
0889C:  MOVLB  1
0889E:  DECF   xEC,F
088A0:  ADDWF  xED,F
088A2:  BTFSC  FD8.0
088A4:  BRA    88AC
088A6:  MOVLB  0
088A8:  GOTO   889C
088AC:  MOVLB  0
088AE:  MOVLB  1
088B0:  DECF   xEB,F
088B2:  ADDWF  xEC,F
088B4:  BTFSC  FD8.0
088B6:  BRA    88BE
088B8:  MOVLB  0
088BA:  GOTO   88AE
088BE:  MOVLW  01
088C0:  MOVWF  FEA
088C2:  MOVLW  EB
088C4:  MOVWF  FE9
088C6:  MOVLW  07
088C8:  ANDWF  xF0,W
088CA:  BCF    xF0.6
088CC:  MOVLB  0
088CE:  ADDWF  FE9,F
088D0:  MOVLW  00
088D2:  ADDWFC FEA,F
088D4:  MOVF   FE9,W
088D6:  SUBLW  EF
088D8:  BTFSS  FD8.2
088DA:  GOTO   88EA
088DE:  DECFSZ FEA,W
088E0:  GOTO   88EA
088E4:  MOVLB  1
088E6:  BSF    xF0.6
088E8:  MOVLB  0
088EA:  MOVF   FEF,W
088EC:  MOVWF  00
088EE:  BTFSS  FD8.2
088F0:  GOTO   891C
088F4:  MOVLB  1
088F6:  BTFSS  xF0.6
088F8:  BRA    8900
088FA:  MOVLB  0
088FC:  GOTO   891C
08900:  BTFSS  xF0.4
08902:  BRA    890A
08904:  MOVLB  0
08906:  GOTO   8936
0890A:  BTFSS  xF0.3
0890C:  BRA    8914
0890E:  MOVLB  0
08910:  GOTO   891C
08914:  MOVLW  20
08916:  MOVLB  0
08918:  GOTO   8926
0891C:  MOVLB  1
0891E:  BSF    xF0.3
08920:  BCF    xF0.4
08922:  MOVLW  30
08924:  MOVLB  0
08926:  ADDWF  00,F
08928:  MOVF   00,W
0892A:  BTFSS  FA6.6
0892C:  GOTO   892A
08930:  MOVLB  E
08932:  MOVWF  xF9
08934:  MOVLB  0
08936:  MOVF   FEE,W
08938:  MOVLB  1
0893A:  BTFSC  xF0.6
0893C:  BRA    8944
0893E:  MOVLB  0
08940:  GOTO   88D4
08944:  MOVLB  0
08946:  RETURN 0
*
08BB4:  MOVLB  A
08BB6:  MOVF   x51,W
08BB8:  CLRF   01
08BBA:  SUBWF  x50,W
08BBC:  BTFSS  FD8.0
08BBE:  BRA    8BC6
08BC0:  MOVLB  0
08BC2:  GOTO   8BD0
08BC6:  MOVF   x50,W
08BC8:  MOVWF  00
08BCA:  MOVLB  0
08BCC:  GOTO   8BFA
08BD0:  CLRF   00
08BD2:  MOVLW  08
08BD4:  MOVLB  A
08BD6:  MOVWF  x52
08BD8:  MOVLB  0
08BDA:  MOVLB  A
08BDC:  RLCF   x50,F
08BDE:  RLCF   00,F
08BE0:  MOVF   x51,W
08BE2:  SUBWF  00,W
08BE4:  BTFSC  FD8.0
08BE6:  MOVWF  00
08BE8:  RLCF   01,F
08BEA:  DECFSZ x52,F
08BEC:  BRA    8BF2
08BEE:  BRA    8BF8
08BF0:  MOVLB  0
08BF2:  MOVLB  0
08BF4:  GOTO   8BDA
08BF8:  MOVLB  0
08BFA:  RETURN 0
08BFC:  MOVF   01,W
08BFE:  MOVFF  A4E,A50
08C02:  MOVLW  64
08C04:  MOVLB  A
08C06:  MOVWF  x51
08C08:  MOVLB  0
08C0A:  CALL   8BB4
08C0E:  MOVFF  00,A4E
08C12:  MOVF   01,W
08C14:  MOVLW  30
08C16:  BTFSS  FD8.2
08C18:  GOTO   8C3C
08C1C:  MOVLB  A
08C1E:  BTFSC  x4F.1
08C20:  BRA    8C28
08C22:  MOVLB  0
08C24:  GOTO   8C56
08C28:  BTFSS  x4F.3
08C2A:  BRA    8C32
08C2C:  MOVLB  0
08C2E:  GOTO   8C56
08C32:  BTFSC  x4F.4
08C34:  MOVLW  20
08C36:  MOVLB  0
08C38:  GOTO   8C46
08C3C:  MOVLB  A
08C3E:  BCF    x4F.3
08C40:  BCF    x4F.4
08C42:  BSF    x4F.0
08C44:  MOVLB  0
08C46:  ADDWF  01,F
08C48:  MOVF   01,W
08C4A:  BTFSS  FA6.6
08C4C:  GOTO   8C4A
08C50:  MOVLB  E
08C52:  MOVWF  xF9
08C54:  MOVLB  0
08C56:  MOVFF  A4E,A50
08C5A:  MOVLW  0A
08C5C:  MOVLB  A
08C5E:  MOVWF  x51
08C60:  MOVLB  0
08C62:  CALL   8BB4
08C66:  MOVFF  00,A4E
08C6A:  MOVF   01,W
08C6C:  MOVLW  30
08C6E:  BTFSS  FD8.2
08C70:  GOTO   8C90
08C74:  MOVLB  A
08C76:  BTFSS  x4F.3
08C78:  BRA    8C80
08C7A:  MOVLB  0
08C7C:  GOTO   8CA0
08C80:  BTFSC  x4F.0
08C82:  BRA    8C8A
08C84:  MOVLB  0
08C86:  GOTO   8CA0
08C8A:  BTFSC  x4F.4
08C8C:  MOVLW  20
08C8E:  MOVLB  0
08C90:  ADDWF  01,F
08C92:  MOVF   01,W
08C94:  BTFSS  FA6.6
08C96:  GOTO   8C94
08C9A:  MOVLB  E
08C9C:  MOVWF  xF9
08C9E:  MOVLB  0
08CA0:  MOVLW  30
08CA2:  MOVLB  A
08CA4:  ADDWF  x4E,F
08CA6:  MOVF   x4E,W
08CA8:  MOVLB  0
08CAA:  BTFSS  FA6.6
08CAC:  GOTO   8CAA
08CB0:  MOVLB  E
08CB2:  MOVWF  xF9
08CB4:  MOVLB  0
08CB6:  RETURN 0
*
0FDCA:  MOVF   FE9,W
0FDCC:  MOVLB  1
0FDCE:  MOVWF  xAF
0FDD0:  BTFSC  xAE.7
0FDD2:  BRA    FDDA
0FDD4:  MOVLB  0
0FDD6:  GOTO   FDF6
0FDDA:  DECF   xAF,F
0FDDC:  BSF    xAF.5
0FDDE:  COMF   xAB,F
0FDE0:  COMF   xAC,F
0FDE2:  COMF   xAD,F
0FDE4:  COMF   xAE,F
0FDE6:  INCF   xAB,F
0FDE8:  BTFSC  FD8.2
0FDEA:  INCF   xAC,F
0FDEC:  BTFSC  FD8.2
0FDEE:  INCF   xAD,F
0FDF0:  BTFSC  FD8.2
0FDF2:  INCF   xAE,F
0FDF4:  MOVLB  0
0FDF6:  MOVLW  3B
0FDF8:  MOVLB  1
0FDFA:  MOVWF  xB6
0FDFC:  MOVLW  9A
0FDFE:  MOVWF  xB5
0FE00:  MOVLW  CA
0FE02:  MOVWF  xB4
0FE04:  CLRF   xB3
0FE06:  MOVLW  0A
0FE08:  MOVWF  xB1
0FE0A:  MOVLB  0
0FE0C:  BSF    FD8.1
0FE0E:  MOVLW  01
0FE10:  MOVWF  FEA
0FE12:  MOVLW  AB
0FE14:  MOVWF  FE9
0FE16:  MOVFF  1AE,219
0FE1A:  MOVFF  1AD,218
0FE1E:  MOVFF  1AC,217
0FE22:  MOVFF  1AB,216
0FE26:  MOVFF  1B6,21D
0FE2A:  MOVFF  1B5,21C
0FE2E:  MOVFF  1B4,21B
0FE32:  MOVFF  1B3,21A
0FE36:  CALL   6340
0FE3A:  MOVF   01,W
0FE3C:  MOVF   00,F
0FE3E:  BTFSS  FD8.2
0FE40:  GOTO   FE98
0FE44:  MOVLB  1
0FE46:  MOVF   xB1,W
0FE48:  XORLW  01
0FE4A:  BTFSS  FD8.2
0FE4C:  BRA    FE54
0FE4E:  MOVLB  0
0FE50:  GOTO   FE98
0FE54:  MOVF   xAF,W
0FE56:  BTFSS  FD8.2
0FE58:  BRA    FE60
0FE5A:  MOVLB  0
0FE5C:  GOTO   FEA0
0FE60:  ANDLW  0F
0FE62:  SUBWF  xB1,W
0FE64:  BTFSS  FD8.2
0FE66:  BRA    FE6E
0FE68:  MOVLB  0
0FE6A:  GOTO   FE7A
0FE6E:  BTFSS  FD8.0
0FE70:  BRA    FE78
0FE72:  MOVLB  0
0FE74:  GOTO   FF08
0FE78:  MOVLB  0
0FE7A:  MOVLB  1
0FE7C:  BTFSS  xAF.7
0FE7E:  BRA    FE86
0FE80:  MOVLB  0
0FE82:  GOTO   FF08
0FE86:  BTFSS  xAF.6
0FE88:  BRA    FE90
0FE8A:  MOVLB  0
0FE8C:  GOTO   FEA0
0FE90:  MOVLW  20
0FE92:  MOVLB  0
0FE94:  GOTO   FEF8
0FE98:  MOVLW  20
0FE9A:  MOVLB  1
0FE9C:  ANDWF  xAF,F
0FE9E:  MOVLB  0
0FEA0:  MOVLB  1
0FEA2:  BTFSC  xAF.5
0FEA4:  BRA    FEAC
0FEA6:  MOVLB  0
0FEA8:  GOTO   FECA
0FEAC:  BCF    xAF.5
0FEAE:  MOVF   00,W
0FEB0:  MOVWF  xAF
0FEB2:  MOVLW  2D
0FEB4:  MOVLB  0
0FEB6:  BTFSS  FA6.6
0FEB8:  GOTO   FEB6
0FEBC:  MOVLB  E
0FEBE:  MOVWF  xF9
0FEC0:  MOVLB  1
0FEC2:  MOVF   xAF,W
0FEC4:  MOVWF  00
0FEC6:  CLRF   xAF
0FEC8:  MOVLB  0
0FECA:  MOVLW  30
0FECC:  MOVLB  1
0FECE:  BTFSC  xAF.5
0FED0:  BRA    FED8
0FED2:  MOVLB  0
0FED4:  GOTO   FEF8
0FED8:  BCF    xAF.5
0FEDA:  MOVF   00,W
0FEDC:  MOVWF  xAF
0FEDE:  MOVLW  2D
0FEE0:  MOVLB  0
0FEE2:  BTFSS  FA6.6
0FEE4:  GOTO   FEE2
0FEE8:  MOVLB  E
0FEEA:  MOVWF  xF9
0FEEC:  MOVLB  1
0FEEE:  MOVF   xAF,W
0FEF0:  MOVWF  00
0FEF2:  CLRF   xAF
0FEF4:  MOVLW  30
0FEF6:  MOVLB  0
0FEF8:  ADDWF  00,F
0FEFA:  MOVF   00,W
0FEFC:  BTFSS  FA6.6
0FEFE:  GOTO   FEFC
0FF02:  MOVLB  E
0FF04:  MOVWF  xF9
0FF06:  MOVLB  0
0FF08:  BCF    FD8.1
0FF0A:  MOVFF  1B6,219
0FF0E:  MOVFF  1B5,218
0FF12:  MOVFF  1B4,217
0FF16:  MOVFF  1B3,216
0FF1A:  MOVLB  2
0FF1C:  CLRF   x1D
0FF1E:  CLRF   x1C
0FF20:  CLRF   x1B
0FF22:  MOVLW  0A
0FF24:  MOVWF  x1A
0FF26:  MOVLB  0
0FF28:  CALL   6340
0FF2C:  MOVFF  03,1B6
0FF30:  MOVFF  02,1B5
0FF34:  MOVFF  01,1B4
0FF38:  MOVFF  00,1B3
0FF3C:  MOVLB  1
0FF3E:  DECFSZ xB1,F
0FF40:  BRA    FF46
0FF42:  BRA    FF4C
0FF44:  MOVLB  0
0FF46:  MOVLB  0
0FF48:  GOTO   FE0C
0FF4C:  MOVLB  0
0FF4E:  RETURN 0
*
10000:  MOVLW  20
10002:  MOVLB  2
10004:  BTFSS  x12.4
10006:  MOVLW  30
10008:  MOVWF  x13
1000A:  MOVFF  211,00
1000E:  BTFSC  00.7
10010:  BRA    10018
10012:  MOVLB  0
10014:  GOTO   1002A
10018:  COMF   00,F
1001A:  INCF   00,F
1001C:  MOVFF  00,211
10020:  MOVLW  2D
10022:  MOVWF  x13
10024:  BSF    x12.7
10026:  BSF    x12.0
10028:  MOVLB  0
1002A:  MOVF   01,W
1002C:  MOVFF  211,A50
10030:  MOVLW  64
10032:  MOVLB  A
10034:  MOVWF  x51
10036:  MOVLB  0
10038:  CALL   8BB4
1003C:  MOVFF  00,211
10040:  MOVLW  30
10042:  ADDWF  01,W
10044:  MOVLB  2
10046:  MOVWF  x14
10048:  MOVFF  211,A50
1004C:  MOVLW  0A
1004E:  MOVLB  A
10050:  MOVWF  x51
10052:  MOVLB  0
10054:  CALL   8BB4
10058:  MOVLW  30
1005A:  ADDWF  00,W
1005C:  MOVLB  2
1005E:  MOVWF  x16
10060:  MOVLW  30
10062:  ADDWF  01,W
10064:  MOVWF  x15
10066:  MOVFF  213,00
1006A:  MOVLB  0
1006C:  MOVLW  30
1006E:  MOVLB  2
10070:  SUBWF  x14,W
10072:  BTFSS  FD8.2
10074:  BRA    1007C
10076:  MOVLB  0
10078:  GOTO   10088
1007C:  BSF    x12.1
1007E:  BTFSC  x12.7
10080:  BSF    x12.2
10082:  MOVLB  0
10084:  GOTO   100C8
10088:  MOVFF  213,214
1008C:  MOVLW  20
1008E:  MOVLB  2
10090:  MOVWF  x13
10092:  MOVLW  30
10094:  SUBWF  x15,W
10096:  BTFSS  FD8.2
10098:  BRA    100A0
1009A:  MOVLB  0
1009C:  GOTO   100AC
100A0:  BSF    x12.0
100A2:  BTFSC  x12.7
100A4:  BSF    x12.1
100A6:  MOVLB  0
100A8:  GOTO   100C8
100AC:  BTFSC  FD8.2
100AE:  BRA    100B6
100B0:  MOVLB  2
100B2:  BSF    x12.0
100B4:  MOVLB  0
100B6:  BTFSS  FD8.2
100B8:  GOTO   100C8
100BC:  MOVFF  214,215
100C0:  MOVLW  20
100C2:  MOVLB  2
100C4:  MOVWF  x14
100C6:  MOVLB  0
100C8:  MOVLB  2
100CA:  BTFSS  x12.2
100CC:  BRA    100D4
100CE:  MOVLB  0
100D0:  GOTO   100EE
100D4:  BTFSS  x12.1
100D6:  BRA    100DE
100D8:  MOVLB  0
100DA:  GOTO   10100
100DE:  BTFSS  x12.0
100E0:  BRA    100E8
100E2:  MOVLB  0
100E4:  GOTO   10112
100E8:  MOVLB  0
100EA:  GOTO   10124
100EE:  MOVLB  2
100F0:  MOVF   x13,W
100F2:  MOVLB  0
100F4:  BTFSS  FA6.6
100F6:  GOTO   100F4
100FA:  MOVLB  E
100FC:  MOVWF  xF9
100FE:  MOVLB  0
10100:  MOVLB  2
10102:  MOVF   x14,W
10104:  MOVLB  0
10106:  BTFSS  FA6.6
10108:  GOTO   10106
1010C:  MOVLB  E
1010E:  MOVWF  xF9
10110:  MOVLB  0
10112:  MOVLB  2
10114:  MOVF   x15,W
10116:  MOVLB  0
10118:  BTFSS  FA6.6
1011A:  GOTO   10118
1011E:  MOVLB  E
10120:  MOVWF  xF9
10122:  MOVLB  0
10124:  MOVLB  2
10126:  MOVF   x16,W
10128:  MOVLB  0
1012A:  BTFSS  FA6.6
1012C:  GOTO   1012A
10130:  MOVLB  E
10132:  MOVWF  xF9
10134:  MOVLB  0
10136:  GOTO   10A1A (RETURN)
*
129C2:  ADDWF  FE8,W
129C4:  CLRF   FF7
129C6:  RLCF   FF7,F
129C8:  ADDLW  E3
129CA:  MOVWF  FF6
129CC:  MOVLW  29
129CE:  ADDWFC FF7,F
129D0:  MOVLW  01
129D2:  MOVWF  FF8
129D4:  MOVWF  FFB
129D6:  TBLRD*-
129D8:  MOVF   FF5,W
129DA:  MOVWF  FFA
129DC:  TBLRD*
129DE:  MOVF   FF5,W
129E0:  MOVWF  FF9
129E2:  DATA 6A,29
129E4:  DATA 7A,29
129E6:  DATA 9A,29
129E8:  DATA AA,29
.................... 
.................... #list
.................... 
.................... //#include <16F1789.h>
.................... #opt 0 // 0 = no optimization, 1 = optimize for speed, 2 = optimize for size
.................... 
.................... #device ADC=12
.................... #use delay(crystal=16MHz)
*
020A0:  MOVLW  0B
020A2:  MOVWF  FEA
020A4:  MOVLW  03
020A6:  MOVWF  FE9
020A8:  MOVF   FEF,W
020AA:  BTFSC  FD8.2
020AC:  GOTO   20CC
020B0:  MOVLW  05
020B2:  MOVWF  01
020B4:  CLRF   00
020B6:  DECFSZ 00,F
020B8:  BRA    20B6
020BA:  DECFSZ 01,F
020BC:  BRA    20B4
020BE:  MOVLW  2E
020C0:  MOVWF  00
020C2:  DECFSZ 00,F
020C4:  BRA    20C2
020C6:  BRA    20C8
020C8:  DECFSZ FEF,F
020CA:  BRA    20B0
020CC:  RETURN 0
.................... #fuses HS, NOWDT, NOBROWNOUT, NOPROTECT
.................... #device HIGH_INTS=TRUE
.................... #define PIC18
.................... //#define PIC16
.................... 
.................... 
.................... 
.................... #ifdef PIC16
....................     //#include <16F1789.h>
....................     #fuses NOMCLR
....................     //-------------Serial--------------------
....................     #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,stream=BOSS)
....................     #use rs232(baud=9600,parity=N,xmit=PIN_B4,bits=8,stream=PC,FORCE_SW)
.................... 
.................... 
....................     // -------------SPI--------------------
....................     // MOSI:PIN_C5, MISO:PIN_C4, SCK:PIN_C3
....................     // Shared Mission Flash
....................     #define MIS_FM_CS  PIN_D3
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS= 8, STREAM = MIS_FM_STREAM)
.................... 
....................     // Mission Flash
....................     #define SMF_CS PIN_D1
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = SMF_STREAM)
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = spi_cell_write)
....................     // Analog to Digital Converter 
....................     #define ADC_CS PIN_D2
....................     //#use spi(MASTER, SPI1, BAUD = 9600, MODE=2, BITS = 16, STREAM = ADC_STREAM)
....................     #use spi(MASTER, CLK = PIN_C3, DI = PIN_C4, DO = PIN_C5, ENABLE = PIN_D2, BAUD = 57600, BITS = 16, STREAM = ADC_STREAM, MODE = 2 )
....................     
....................     
....................     // AI/O___ADC
....................     #define TEMP_TOP PIN_B0
....................     #define TEMP_BOT PIN_A3
....................     #define CIGS_VOLT PIN_A0 //PIN_A0
....................     #define CIGS_CURR PIN_A1
....................     #define PD PIN_E0
....................     #define VREF PIN_A4
....................  
....................     // AI/O___DAC
....................     #define LOAD PIN_A5
.................... 
....................     /* DEMO
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A0, MODE=0, BITS=8, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A1, MODE=0, BITS=8, ENABLE_ACTIVE=1, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A3, BAUD=40000, MODE=2, BITS=16, ENABLE_ACTIVE=1, STREAM=ADC)
....................     #use spi (MASTER, MODE=0, BITS=8, STREAM=SPI_4)
....................     */
.................... #endif
.................... 
.................... #ifdef PIC18
....................     //#include <18F67J94.h>
....................     //-------------UART--------------------
....................     // BOSS command port
....................     #pin_select TX3=PIN_E3                                                          
....................     #pin_select RX3=PIN_F2                                                        
....................     #use rs232(baud=9600, parity=N, UART3, bits=8, stream=BOSS, ERRORS)                      
*
00218:  BTFSS  FA6.5
0021A:  GOTO   0218
0021E:  MOVLB  F
00220:  MOVF   x2F,W
00222:  MOVWF  1B
00224:  MOVLB  0
00226:  MOVLB  F
00228:  MOVF   x2A,W
0022A:  MOVWF  01
0022C:  BTFSC  1B.1
0022E:  BRA    0236
00230:  MOVLB  0
00232:  GOTO   023A
00236:  BCF    x2F.4
00238:  BSF    x2F.4
0023A:  MOVLB  0
0023C:  GOTO   0276 (RETURN)
*
0558E:  BTFSS  FA6.4
05590:  GOTO   558E
05594:  MOVLB  F
05596:  MOVWF  x29
05598:  MOVLB  0
0559A:  GOTO   55D0 (RETURN)
....................     
....................     // PC debug port
....................     #pin_select TX4=PIN_E5
....................     #pin_select RX4=PIN_D4  
....................     #use rs232(baud=9600,parity=N, UART4, bits=8,stream=PC, ERRORS)
*
08BA6:  BTFSS  FA6.6
08BA8:  GOTO   8BA6
08BAC:  MOVLB  E
08BAE:  MOVWF  xF9
08BB0:  MOVLB  0
08BB2:  RETURN 0
.................... 
....................     // -------------SPI--------------------
....................     // Shared Mission Flash
....................     #define SMF_CS PIN_A2
....................     #pin_select SCK1OUT=PIN_A3
....................     #pin_select SDI1=PIN_A0
....................     #pin_select SDO1=PIN_A1
....................     // #use spi (MASTER, SPI1, BAUD=200000, MODE=0, BITS=8, STREAM=SMF_STREAM)
....................     #use spi (MASTER, CLK=PIN_A3, DI=PIN_A1, DO=PIN_A0, BAUD=20000000, MODE=0, BITS=8, STREAM=SMF_STREAM)
*
02960:  MOVLB  B
02962:  MOVF   x26,W
02964:  SUBLW  08
02966:  BTFSS  FD8.2
02968:  BRA    2970
0296A:  MOVLB  0
0296C:  GOTO   2988
02970:  MOVWF  x28
02972:  MOVLB  0
02974:  MOVLB  B
02976:  RLCF   x25,F
02978:  DECFSZ x28,F
0297A:  BRA    2980
0297C:  BRA    2986
0297E:  MOVLB  0
02980:  MOVLB  0
02982:  GOTO   2974
02986:  MOVLB  0
02988:  BSF    F92.1
0298A:  BCF    F92.0
0298C:  BCF    F92.3
0298E:  BCF    F89.3
02990:  MOVFF  B26,B28
02994:  MOVLB  B
02996:  BTFSS  x25.7
02998:  BCF    F89.0
0299A:  BTFSC  x25.7
0299C:  BSF    F89.0
0299E:  RLCF   x25,F
029A0:  BSF    F89.3
029A2:  RLCF   01,F
029A4:  BTFSS  F80.1
029A6:  BCF    01.0
029A8:  BTFSC  F80.1
029AA:  BSF    01.0
029AC:  BCF    F89.3
029AE:  DECFSZ x28,F
029B0:  BRA    29B6
029B2:  BRA    29BC
029B4:  MOVLB  0
029B6:  MOVLB  0
029B8:  GOTO   2994
029BC:  MOVLB  0
029BE:  RETURN 0
.................... 
.................... 
....................     // Mission Flash
....................     #define MIS_FM_CS  PIN_G0
....................     #use spi (MASTER, CLK=PIN_E1, DI=PIN_E0, DO=PIN_E6, BAUD=20000000, MODE=0, BITS=8, STREAM=MIS_FM_STREAM)
*
02900:  MOVLB  B
02902:  MOVF   x26,W
02904:  SUBLW  08
02906:  BTFSS  FD8.2
02908:  BRA    2910
0290A:  MOVLB  0
0290C:  GOTO   2928
02910:  MOVWF  x28
02912:  MOVLB  0
02914:  MOVLB  B
02916:  RLCF   x25,F
02918:  DECFSZ x28,F
0291A:  BRA    2920
0291C:  BRA    2926
0291E:  MOVLB  0
02920:  MOVLB  0
02922:  GOTO   2914
02926:  MOVLB  0
02928:  BSF    F96.0
0292A:  BCF    F96.6
0292C:  BCF    F96.1
0292E:  BCF    F8D.1
02930:  MOVFF  B26,B28
02934:  MOVLB  B
02936:  BTFSS  x25.7
02938:  BCF    F8D.6
0293A:  BTFSC  x25.7
0293C:  BSF    F8D.6
0293E:  RLCF   x25,F
02940:  BSF    F8D.1
02942:  RLCF   01,F
02944:  BTFSS  F84.0
02946:  BCF    01.0
02948:  BTFSC  F84.0
0294A:  BSF    01.0
0294C:  BCF    F8D.1
0294E:  DECFSZ x28,F
02950:  BRA    2956
02952:  BRA    295C
02954:  MOVLB  0
02956:  MOVLB  0
02958:  GOTO   2934
0295C:  MOVLB  0
0295E:  RETURN 0
.................... 
.................... 
....................     // ADC  
....................     #define ADC_CS PIN_B1
....................     // #pin_select SCK2OUT=PIN_B2
....................     // #pin_select SDI2=PIN_B4
....................     // #pin_select SDO2=PIN_B5
....................     // #use spi (MASTER, SPI2, BAUD=200000, MODE=2, BITS=16, STREAM=ADC_STREAM)
....................     #use spi (MASTER, CLK=PIN_B2, DI=PIN_B4, DO=PIN_B5, BAUD=20000000, MODE=2, BITS=16, STREAM=ADC_STREAM)
*
0224E:  MOVLB  9
02250:  MOVF   xF7,W
02252:  SUBLW  10
02254:  BTFSS  FD8.2
02256:  BRA    225E
02258:  MOVLB  0
0225A:  GOTO   2278
0225E:  MOVWF  xF9
02260:  MOVLB  0
02262:  MOVLB  9
02264:  RLCF   xF5,F
02266:  RLCF   xF6,F
02268:  DECFSZ xF9,F
0226A:  BRA    2270
0226C:  BRA    2276
0226E:  MOVLB  0
02270:  MOVLB  0
02272:  GOTO   2262
02276:  MOVLB  0
02278:  BSF    F93.4
0227A:  BCF    F93.5
0227C:  BCF    F93.2
0227E:  BSF    F8A.2
02280:  MOVFF  9F7,9F9
02284:  MOVLB  9
02286:  BTFSS  xF6.7
02288:  BCF    F8A.5
0228A:  BTFSC  xF6.7
0228C:  BSF    F8A.5
0228E:  RLCF   xF5,F
02290:  RLCF   xF6,F
02292:  BCF    F8A.2
02294:  RLCF   01,F
02296:  RLCF   02,F
02298:  BTFSS  F81.4
0229A:  BCF    01.0
0229C:  BTFSC  F81.4
0229E:  BSF    01.0
022A0:  BSF    F8A.2
022A2:  DECFSZ xF9,F
022A4:  BRA    22AA
022A6:  BRA    22B0
022A8:  MOVLB  0
022AA:  MOVLB  0
022AC:  GOTO   2284
022B0:  MOVLB  0
022B2:  RETURN 0
.................... 
....................     // DAC
....................     #define DAC1_CS PIN_D7
....................     #define DAC2_CS PIN_D6
....................     #use spi (MASTER, CLK=PIN_D5, DO=PIN_D4,  BAUD=20000000, MODE=2, BITS=16, STREAM=DAC_STREAM)
*
0260C:  MOVLB  9
0260E:  MOVF   xE2,W
02610:  SUBLW  10
02612:  BTFSS  FD8.2
02614:  BRA    261C
02616:  MOVLB  0
02618:  GOTO   2636
0261C:  MOVWF  xE4
0261E:  MOVLB  0
02620:  MOVLB  9
02622:  RLCF   xE0,F
02624:  RLCF   xE1,F
02626:  DECFSZ xE4,F
02628:  BRA    262E
0262A:  BRA    2634
0262C:  MOVLB  0
0262E:  MOVLB  0
02630:  GOTO   2620
02634:  MOVLB  0
02636:  BCF    F95.4
02638:  BCF    F95.5
0263A:  BSF    F8C.5
0263C:  MOVFF  9E2,9E4
02640:  MOVLB  9
02642:  BTFSS  xE1.7
02644:  BCF    F8C.4
02646:  BTFSC  xE1.7
02648:  BSF    F8C.4
0264A:  RLCF   xE0,F
0264C:  RLCF   xE1,F
0264E:  BCF    F8C.5
02650:  BSF    F8C.5
02652:  DECFSZ xE4,F
02654:  BRA    265A
02656:  BRA    2660
02658:  MOVLB  0
0265A:  MOVLB  0
0265C:  GOTO   2640
02660:  MOVLB  0
02662:  RETURN 0
.................... 
.................... 
....................     // DI/O___
....................     #define CONNECT_CIGS1 PIN_C3
....................     #define CONNECT_CIGS2 PIN_C5
....................     #define EN_NPWR1 PIN_C7
....................     #define EN_NPWR2 PIN_C6
.................... 
.................... #endif
.................... 
.................... //-------------I/O port--------------------
.................... #use FIXED_IO( A_outputs=SMF_CS )
.................... #use FIXED_IO( B_outputs=ADC_CS )
.................... #use FIXED_IO( C_outputs=CONNECT_CIGS1, CONNECT_CIGS2, EN_NPWR1, EN_NPWR2 )
.................... #use FIXED_IO( D_outputs=DAC1_CS, DAC2_CS )
.................... #use FIXED_IO( G_outputs=MIS_FM_CS )
.................... 
.................... // ADC Settings
.................... #define ADC_CIGS1_VOLT      AD7490_CH0
.................... #define ADC_CIGS1_CURR      AD7490_CH1
.................... #define ADC_CIGS1_AMP       AD7490_CH2
.................... #define ADC_CIGS1_VREF      AD7490_CH3
.................... #define ADC_CIGS2_VOLT      AD7490_CH4
.................... #define ADC_CIGS2_CURR      AD7490_CH5
.................... #define ADC_CIGS2_AMP       AD7490_CH6
.................... #define ADC_CIGS2_VREF      AD7490_CH7
.................... #define ADC_CIGS1_DAC       AD7490_CH8
.................... #define ADC_CIGS2_DAC       AD7490_CH9
.................... #define EMPTY_VIN0          AD7490_CH10
.................... #define EMPTY_VIN1          AD7490_CH11
.................... #define ADC_TEMP_MIS7       AD7490_CH12
.................... #define ADC_TEMP_PY_TOP     AD7490_CH13
.................... #define ADC_TEMP_PY_BOT     AD7490_CH14
.................... #define ADC_PD              AD7490_CH15
.................... 
.................... #endif // MMJ_CIGS_CONFIG_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... 
.................... // レベル2: ハードウェア抽象化層  
.................... #include "hal/timer.h"
.................... #ifndef TIMER_H
.................... #define TIMER_H
.................... 
.................... // __________ define _________
.................... 
.................... #define SEC_IN_A_DAY 86400
.................... #define CLOCK_FREQUENCY 32768 // 32.768 kHz
.................... 
.................... // __________ values _________
.................... 
.................... int32 tick_10ms = 0; 
.................... 
.................... unsigned int32 dsec = 0, sec = 0; //dsec -> deci second (0.01 sec)
.................... volatile unsigned int16 day = 0;
.................... 
.................... void timer_init();
.................... // __________ functions _________
.................... unsigned int32 get_current_sec();
.................... unsigned int16 get_current_msec();
.................... unsigned int16 get_current_day();
.................... void set_current_10msec(unsigned int32 new_10msec);
.................... 
.................... #INT_TIMER0
.................... static void TIMER0_isr();
.................... 
.................... #INT_TIMER1 
.................... static void TIMER1_isr();
.................... 
.................... // Clock Freq : 32.768kHz
.................... #define TIMER_ISR_1S 0x8000 // 1秒ごとのタイマー割り込み
.................... #define TIMER_ISR_100MSEC 0xF313 // 100ミリ秒ごとのタイマー割り込み
.................... #define TIMER_ISR_10MSEC 0xFEA8 // 10ミリ秒ごとのタイマー割り込み
.................... #define TIMER_ISR_25MSEC 0xFC8D // 25ミリ秒ごとのタイマー割り込み
.................... 
.................... void set_current_sec(unsigned int32 new_sec);
.................... unsigned int32 get_current_sec();
.................... unsigned int16 get_current_msec();
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "hal/uart.h"
.................... #ifndef UART_H
.................... #define UART_H
.................... 
.................... // _________ defines ________________
.................... 
.................... #define RECEIVE_BUFFER_MAX 32
.................... 
.................... 
.................... // _____________ values _______________
.................... 
.................... volatile unsigned int8 boss_receive_buffer[RECEIVE_BUFFER_MAX] = {0x00};
.................... volatile int8 boss_receive_buffer_size = 0;
.................... 
.................... 
.................... // _______________ functions ___________
.................... 
.................... #INT_RDA3
.................... static void boss_receive_isr(void);
.................... 
.................... void setup_uart_to_boss();
.................... 
.................... void clear_receive_signal(unsigned int8 receive_signal[], int8 *receive_signal_size);
.................... 
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "hal/gpio.h"
.................... #ifndef GPIO_H
.................... #define GPIO_H
.................... 
.................... void gpio_init();
.................... void enable_negative_power();
.................... void disable_negative_power();
.................... void connect_port1();
.................... void disconnect_port1();
.................... void connect_port2();
.................... void disconnect_port2();
.................... 
.................... 
.................... // 
.................... void connect_negative_power1(int1 state);
.................... void connect_negative_power2(int1 state);
.................... #endif // GPIO_H
.................... 
.................... #include "device_driver/ad7490_driver.h"
.................... #ifndef AD7490_DRIVER_H
.................... #define AD7490_DRIVER_H
.................... 
.................... 
.................... // AD7490 Functions
.................... void ad7490_init(void);
.................... unsigned int16 ad7490_read(int8 channel);
.................... 
.................... 
.................... #endif // MMJ_CIGS_DEVCE_H
.................... //------------------End of File------------------
.................... 
.................... #include "device_driver/mcp4901_driver.h"
.................... #ifndef MCP4901_DRIVER_H
.................... #define MCP4901_DRIVER_H
.................... 
.................... // MCP4901 Functions
.................... void mcp4901_init();
.................... void mcp4901_1_write(unsigned int16 val);
.................... void mcp4901_2_write(unsigned int16 val);
.................... 
.................... #endif // MCP4901_DRIVER_H
.................... //------------------End of File------------------
.................... 
.................... 
.................... // レベル3: 基本ライブラリヘッダー（型定義・通信・ツール）
.................... #include "../lib/communication/typedef_content.h"
.................... #ifndef TYPEDEF_CONTENT_H
.................... #define TYPEDEF_CONTENT_H
.................... 
.................... // there is used in main.c
.................... 
.................... typedef enum {
....................     EXECUTING_MISSION = 0x02,
....................     IDLE              = 0x03,
....................     SMF_USE_REQ       = 0x04,
....................     COPYING           = 0x05,
....................     FINISHED          = 0x06,
....................     TIME_REQ          = 0x07
.................... } MisMcuStatusContent;
.................... 
.................... 
.................... typedef enum {
....................     ALLOW = 0x01,
....................     DENY  = 0x00
.................... } IsSmfAvailableContent;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../lib/communication/value_status.h"
.................... #ifndef VALUE_STATUS_H
.................... #define VALUE_STATUS_H
.................... 
.................... // there is used in main.c and mission
.................... 
.................... volatile int1 is_use_smf_req_in_mission = FALSE;
.................... volatile int8 status[4] = {IDLE, 0, 0, 0};
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../lib/tool/calc_tools.h"
.................... #ifndef CALC_TOOLS_H
.................... #define CALC_TOOLS_H
....................  
.................... unsigned int8 calc_crc8(unsigned int8 *frame, unsigned int8 payload_size);
.................... int1 is_crc_valid(unsigned int8 *frame, int8 payload_size);
.................... void int32_to_be_array(int32 value, int8 *buf, int8 index);
.................... int32 lsb_array_to_int32(int8 *buf, int8 index);
.................... unsigned int32 lsb_to_msb(unsigned int32 value);
.................... unsigned int32 msb_to_lsb(unsigned int32 value);
.................... 
.................... 
.................... #endif // CALC_TOOLS_H  
.................... 
.................... #include "../lib/tool/smf_queue.h"
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... #include "../lib/tool/mmj_smf_memorymap.h"
.................... #ifndef SMF_MEMORY_MAP_H
.................... #define SMF_MEMORY_MAP_H
.................... 
.................... /*
....................  * Auto-generated Memory Map Header
....................  * Generated from: MMJ_ICD_021_IICD_06_Memory_map.xlsx
....................  * Generated at: 2025-07-27 20:54:05
....................  */
.................... #define PACKET_SIZE 64
.................... 
.................... typedef struct {
....................     unsigned int32 used_size;
....................     unsigned int8 loop_counter;
....................     unsigned int8 reserved[3];
.................... } partition_header_t;
.................... 
.................... 
.................... typedef enum smf_memory_id_t{
....................     // SATO
....................     SMF_SATO_DATA_TABLE = 0xA0,
....................     SMF_SATO_PICLOG = 0xA1,
....................     SMF_SATO_INNER_DIODE_HEADER = 0xA2,
....................     SMF_SATO_INNER_DIODE_DATA = 0xA3,
....................     SMF_SATO_OUTER_DIODE_HEADER = 0xA4,
....................     SMF_SATO_OUTER_DIODE_DATA = 0xA5,
.................... 
....................     // CIGS related IDs
....................     SMF_CIGS_DATA_TABLE = 0xC0,
....................     SMF_CIGS_PICLOG = 0xC1,
....................     SMF_CIGS_ENVIRO = 0xC2,
....................     SMF_CIGS_IV1_HEADER = 0xC3,
....................     SMF_CIGS_IV1_DATA = 0xC4,
....................     SMF_CIGS_IV2_HEADER = 0xC5,
....................     SMF_CIGS_IV2_DATA = 0xC6,
.................... };
.................... 
.................... 
.................... 
.................... // Base Memory Configuration
.................... #define SMF_SIZE 0x08000000 // 128MB
.................... #define SMF_START_ADDRESS 0x00000000
.................... #define SMF_END_ADDRESS   0x07FFFFFF
.................... 
.................... 
.................... // ===== Device IDs from メモリマップ  =====
.................... #define MAIN_DEVICE_ID 0x10
.................... #define COM_DEVICE_ID 0x20
.................... #define APRS_DEVICE_ID 0x60
.................... #define CAM_DEVICE_ID 0x70
.................... #define CHO_DEVICE_ID 0x80
.................... #define SATO_DEVICE_ID 0x90
.................... #define BHU_DEVICE_ID 0xB0
.................... #define CIGS_DEVICE_ID 0xC0
.................... 
.................... // ===== Data IDs from メモリマップ  =====
.................... #define ID_MAIN_ADDRESS_AREA 0x10
.................... #define ID_MAIN_ADDRESS 0x11
.................... #define ID_MAIN_RESERVED_COMMAND 0x12
.................... #define ID_MAIN_HK 0x14
.................... #define ID_MAIN_HSHK 0x15
.................... #define ID_MAIN_LSHK 0x16
.................... #define ID_MAIN_PIC_LOG 0x1F
.................... #define ID_COM_RSSI_TRX_T_LOG 0x20
.................... #define ID_COM_PIC_LOG 0x2F
.................... #define ID_APRS_PIC_DATA_TABLE 0x60
.................... #define ID_APRS_APRS 0x61
.................... #define ID_APRS_IN_VEHICLE_COMMUNICATION_MISSION 0x62
.................... #define ID_APRS_TLE_DATA 0x63
.................... #define ID_APRS_ECOSYSTEM 0x67
.................... #define ID_APRS_PIC_LOG 0x6F
.................... #define ID_CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE 0x70
.................... #define ID_CAM_CHIBANY_IMAGE_DATA_SIZE 0x71
.................... #define ID_CAM_CHIBANY_VIDEO_SIZE 0x72
.................... #define ID_CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE 0x73
.................... #define ID_CAM_POLEN_IMAGE_DATA_SIZE 0x74
.................... #define ID_CAM_POLLEN_VIDEO_DATA_SIZE 0x75
.................... #define ID_CAM_MCU_LOG_DATA_SIZE 0x7F
.................... #define ID_CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE 0x80
.................... #define ID_CHO_GREECE_IMAGE_DATA_SIZE 0x81
.................... #define ID_CHO_SENSOR_DATA_SIZE 0x82
.................... #define ID_CHO_MCU_LOG_DATA_SIZE 0x8F
.................... #define ID_SATO_PIC_DATA_TABLE 0x90
.................... #define ID_SATO_CYCLE_MODE_DATA 0x91
.................... #define ID_SATO_RANDOM_MODE_DATA 0x92
.................... #define ID_SATO_MULTIPLE_POINT_MODE_DATA 0x93
.................... #define ID_SATO_VOLTAGE_SWEEP_MODE_DATA 0x94
.................... #define ID_SATO_PIC_LOG 0x9F
.................... #define ID_BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE 0xB0
.................... #define ID_BHU_FOREST_IMAGE_DATA_SIZE 0xB1
.................... #define ID_BHU_SENSOR_DATA_DATA_SIZE 0xB2
.................... #define ID_BHU_MCU_LOG_DATA_SIZE 0xBF
.................... #define ID_CIGS_DATA_TABLE 0xC0
.................... #define ID_CIGS_MEASURE_DATA 0xC1
.................... #define ID_CIGS_PICLOG 0xCF
.................... 
.................... // ===== Memory Address Mappings from メモリマップ  =====
.................... #define MAIN_ADDRESS_AREA_START_ADDRESS 0x00000000
.................... #define MAIN_ADDRESS_AREA_END_ADDRESS 0x00000FFF
.................... #define MAIN_ADDRESS_START_ADDRESS 0x00001000
.................... #define MAIN_ADDRESS_END_ADDRESS 0x00001FFF
.................... #define MAIN_RESERVED_COMMAND_START_ADDRESS 0x00002000
.................... #define MAIN_RESERVED_COMMAND_END_ADDRESS 0x00003FFF
.................... #define MAIN_HK_START_ADDRESS 0x00004000
.................... #define MAIN_HK_END_ADDRESS 0x02003FFF
.................... #define MAIN_HSHK_START_ADDRESS 0x02004000
.................... #define MAIN_HSHK_END_ADDRESS 0x02103FFF
.................... #define MAIN_LSHK_START_ADDRESS 0x02104000
.................... #define MAIN_LSHK_END_ADDRESS 0x02303FFF
.................... #define MAIN_PIC_LOG_START_ADDRESS 0x02304000
.................... #define MAIN_PIC_LOG_END_ADDRESS 0x0240FFFF
.................... #define COM_RSSI_TRX_T_LOG_START_ADDRESS 0x02800000
.................... #define COM_RSSI_TRX_T_LOG_END_ADDRESS 0x028FFFFF
.................... #define COM_PIC_LOG_START_ADDRESS 0x02900000
.................... #define COM_PIC_LOG_END_ADDRESS 0x029FFFFF
.................... #define APRS_PIC_DATA_TABLE_START_ADDRESS 0x02C00000
.................... #define APRS_PIC_DATA_TABLE_END_ADDRESS 0x02C00FFF
.................... #define APRS_APRS_START_ADDRESS 0x02C01000
.................... #define APRS_APRS_END_ADDRESS 0x02D00FFF
.................... #define APRS_IN_VEHICLE_COMMUNICATION_MISSION_START_ADDRESS 0x02D01000
.................... #define APRS_IN_VEHICLE_COMMUNICATION_MISSION_END_ADDRESS 0x02D01FFF
.................... #define APRS_TLE_DATA_START_ADDRESS 0x02D02000
.................... #define APRS_TLE_DATA_END_ADDRESS 0x02D02FFF
.................... #define APRS_ECOSYSTEM_START_ADDRESS 0x02D03000
.................... #define APRS_ECOSYSTEM_END_ADDRESS 0x02E02FFF
.................... #define APRS_PIC_LOG_START_ADDRESS 0x02E03000
.................... #define APRS_PIC_LOG_END_ADDRESS 0x02E03FFF
.................... #define CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x02F10000
.................... #define CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x02F10FFF
.................... #define CAM_CHIBANY_IMAGE_DATA_SIZE_START_ADDRESS 0x03311000
.................... #define CAM_CHIBANY_IMAGE_DATA_SIZE_END_ADDRESS 0x03311FFF
.................... #define CAM_CHIBANY_VIDEO_SIZE_START_ADDRESS 0x03712000
.................... #define CAM_CHIBANY_VIDEO_SIZE_END_ADDRESS 0x03712FFF
.................... #define CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x03B13000
.................... #define CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x03B13FFF
.................... #define CAM_POLEN_IMAGE_DATA_SIZE_START_ADDRESS 0x03F14000
.................... #define CAM_POLEN_IMAGE_DATA_SIZE_END_ADDRESS 0x03F14FFF
.................... #define CAM_POLLEN_VIDEO_DATA_SIZE_START_ADDRESS 0x04315000
.................... #define CAM_POLLEN_VIDEO_DATA_SIZE_END_ADDRESS 0x04315FFF
.................... #define CAM_MCU_LOG_DATA_SIZE_START_ADDRESS 0x04320000
.................... #define CAM_MCU_LOG_DATA_SIZE_END_ADDRESS 0x04320FFF
.................... #define CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x04440000
.................... #define CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x04440FFF
.................... #define CHO_GREECE_IMAGE_DATA_SIZE_START_ADDRESS 0x04451000
.................... #define CHO_GREECE_IMAGE_DATA_SIZE_END_ADDRESS 0x04451FFF
.................... #define CHO_SENSOR_DATA_SIZE_START_ADDRESS 0x04852000
.................... #define CHO_SENSOR_DATA_SIZE_END_ADDRESS 0x04852FFF
.................... #define CHO_MCU_LOG_DATA_SIZE_START_ADDRESS 0x04863000
.................... #define CHO_MCU_LOG_DATA_SIZE_END_ADDRESS 0x04863FFF
.................... #define SATO_PIC_DATA_TABLE_START_ADDRESS 0x04980000
.................... #define SATO_PIC_DATA_TABLE_END_ADDRESS 0x04980FFF
.................... #define SATO_CYCLE_MODE_DATA_START_ADDRESS 0x04981000
.................... #define SATO_CYCLE_MODE_DATA_END_ADDRESS 0x04A80FFF
.................... #define SATO_RANDOM_MODE_DATA_START_ADDRESS 0x04A81000
.................... #define SATO_RANDOM_MODE_DATA_END_ADDRESS 0x04E80FFF
.................... #define SATO_MULTIPLE_POINT_MODE_DATA_START_ADDRESS 0x04E81000
.................... #define SATO_MULTIPLE_POINT_MODE_DATA_END_ADDRESS 0x04F80FFF
.................... #define SATO_VOLTAGE_SWEEP_MODE_DATA_START_ADDRESS 0x04F81000
.................... #define SATO_VOLTAGE_SWEEP_MODE_DATA_END_ADDRESS 0x05080FFF
.................... #define SATO_PIC_LOG_START_ADDRESS 0x05081000
.................... #define SATO_PIC_LOG_END_ADDRESS 0x05081FFF
.................... #define BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x05190000
.................... #define BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x05190FFF
.................... #define BHU_FOREST_IMAGE_DATA_SIZE_START_ADDRESS 0x05591000
.................... #define BHU_FOREST_IMAGE_DATA_SIZE_END_ADDRESS 0x05591FFF
.................... #define BHU_SENSOR_DATA_DATA_SIZE_START_ADDRESS 0x05992000
.................... #define BHU_SENSOR_DATA_DATA_SIZE_END_ADDRESS 0x05992FFF
.................... #define BHU_MCU_LOG_DATA_SIZE_START_ADDRESS 0x06993000
.................... #define BHU_MCU_LOG_DATA_SIZE_END_ADDRESS   0x06993FFF
.................... // CIGS related partitions
.................... #define CIGS_DATA_TABLE_START_ADDRESS   0x06AA0000
.................... #define CIGS_DATA_TABLE_END_ADDRESS     0x06AA0FFF
.................... #define CIGS_PICLOG_START_ADDRESS       0x06AA1000
.................... #define CIGS_PICLOG_END_ADDRESS         0x06AB0FFF
.................... #define CIGS_ENVIRO_START_ADDRESS       0x06AB1000
.................... #define CIGS_ENVIRO_END_ADDRESS         0x06B50FFF
.................... #define CIGS_IV1_HEADER_START_ADDRESS   0x06B51000
.................... #define CIGS_IV1_HEADER_END_ADDRESS     0x06BF0FFF
.................... #define CIGS_IV1_DATA_START_ADDRESS     0x06BF1000
.................... #define CIGS_IV1_DATA_END_ADDRESS       0x06FF0FFF
.................... #define CIGS_IV2_HEADER_START_ADDRESS   0x06FF1000
.................... #define CIGS_IV2_HEADER_END_ADDRESS     0x07090FFF
.................... #define CIGS_IV2_DATA_START_ADDRESS     0x07091000
.................... #define CIGS_IV2_DATA_END_ADDRESS       0x07490FFF
.................... 
.................... /*
.................... enum smf_memory_id{
....................     // SATO
....................     SATO_DATA_TABLE = 0xA0,
....................     SATO_PICLOG = 0xA1,
....................     SATO_INNER_DIODE_HEADER = 0xA2,
....................     SATO_INNER_DIODE_DATA = 0xA3,
....................     SATO_OUTER_DIODE_HEADER = 0xA4,
....................     SATO_OUTER_DIODE_DATA = 0xA5,
.................... 
....................     // CIGS related IDs
....................     IDF_CIGS_DATA_TABLE = 0xC0,
....................     IDF_CIGS_PICLOG = 0xC1,
....................     IDF_CIGS_ENVIRO = 0xC2,
....................     IDF_CIGS_IV1_HEADER = 0xC3,
....................     IDF_CIGS_IV1_DATA = 0xC4,
....................     IDF_CIGS_IV2_HEADER = 0xC5,
....................     IDF_CIGS_IV2_DATA = 0xC6,
.................... }
.................... */
.................... // DATA ID for CIGS
.................... #define DATA_ID_CIGS_DATA_TABLE 0xC0
.................... #define DATA_ID_CIGS_PICLOG 0xC1
.................... #define DATA_ID_CIGS_ENVIRO 0xC2
.................... #define DATA_ID_CIGS_IV1_HEADER 0xC3
.................... #define DATA_ID_CIGS_IV1_DATA 0xC4
.................... #define DATA_ID_CIGS_IV2_HEADER 0xC5
.................... #define DATA_ID_CIGS_IV2_DATA 0xC6
.................... 
.................... // FLASH ADDRESS for CIGS
.................... #define SMF_DATA_TABLE_HEADER_START_ADDRESS   0x07284000
.................... #define SMF_DATA_TABLE_HEADER_END_ADDRESS     0x07284FFF
.................... #define SMF_DATA_TABLE_DATA_START_ADDRESS     0x07285000
.................... #define SMF_DATA_TABLE_DATA_END_ADDRESS       0x07285FFF
.................... 
.................... #define SMF_PICLOG_HEADER_START_ADDRESS       0x07286000
.................... #define SMF_PICLOG_HEADER_END_ADDRESS         0x07286FFF
.................... #define SMF_PICLOG_DATA_START_ADDRESS         0x07287000
.................... #define SMF_PICLOG_DATA_END_ADDRESS           0x07296FFF
.................... 
.................... #define SMF_ENVIRO_HEADER_START_ADDRESS       0x07297000
.................... #define SMF_ENVIRO_HEADER_END_ADDRESS         0x07297FFF
.................... #define SMF_ENVIRO_DATA_START_ADDRESS         0x07298000
.................... #define SMF_ENVIRO_DATA_END_ADDRESS           0x07337FFF
.................... 
.................... #define SMF_IV1_HEADER_HEADER_START_ADDRESS   0x07338000
.................... #define SMF_IV1_HEADER_HEADER_END_ADDRESS     0x07338FFF
.................... #define SMF_IV1_HEADER_DATA_START_ADDRESS     0x07339000
.................... #define SMF_IV1_HEADER_DATA_END_ADDRESS       0x073D8FFF
.................... 
.................... #define SMF_IV1_DATA_HEADER_START_ADDRESS     0x073D9000
.................... #define SMF_IV1_DATA_HEADER_END_ADDRESS       0x073D9FFF
.................... #define SMF_IV1_DATA_DATA_START_ADDRESS       0x073DA000
.................... #define SMF_IV1_DATA_DATA_END_ADDRESS         0x077D9FFF
.................... 
.................... #define SMF_IV2_HEADER_HEADER_START_ADDRESS   0x077DA000
.................... #define SMF_IV2_HEADER_HEADER_END_ADDRESS     0x077DAFFF
.................... #define SMF_IV2_HEADER_DATA_START_ADDRESS     0x077DB000
.................... #define SMF_IV2_HEADER_DATA_END_ADDRESS       0x0787AFFF
.................... 
.................... #define SMF_IV2_DATA_HEADER_START_ADDRESS     0x0787B000
.................... #define SMF_IV2_DATA_HEADER_END_ADDRESS       0x0787BFFF
.................... #define SMF_IV2_DATA_DATA_START_ADDRESS       0x0787C000
.................... #define SMF_IV2_DATA_DATA_END_ADDRESS         0x07C7BFFF
.................... 
.................... 
.................... // FLASH SIZE for CIGS
.................... #define SMF_DATA_TABLE_SIZE  4096
.................... #define SMF_PICLOG_SIZE     1310720
.................... #define SMF_ENVIRO_SIZE     1310720
.................... #define SMF_IV1_HEADER_SIZE  655360
.................... #define SMF_IV1_DATA_SIZE    4194304
.................... #define SMF_IV2_HEADER_SIZE  655360
.................... #define SMF_IV2_DATA_SIZE    4194304
.................... 
.................... #endif // SMF_MEMORY_MAP_H
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... // レベル4: デバイスドライバヘッダー
.................... #include "../lib/device/mt25q.h"
.................... #ifndef MT25Q_H
.................... #define MT25Q_H
.................... 
.................... // =========
.................... //#define MT25Q_DEBUG
.................... // =========
.................... 
.................... #define SUBSECTOR_4K_BYTE 0x00001000
.................... #define SUBSECTOR_32K_BYTE 0x00008000
.................... #define SECTOR_64K_BYTE 0x00010000
.................... 
.................... 
.................... 
.................... #define FLASH_STREAM0 MIS_FM_STREAM     // <- Align the names to `config.h` Stream name
.................... #define FLASH_STREAM1 SMF_STREAM
.................... #define FLASH_STREAM2 SMF_STREAM // dont use
.................... #define FLASH_STREAM3 SMF_STREAM // dont use
.................... 
.................... typedef enum spi_stream{
....................     SPI_0 = 0,
....................     SPI_1,
....................     SPI_2,
....................     SPI_3
.................... }SpiStreamId;
.................... 
.................... #define MT25QL128ABA 0x00     //Mission Flash
.................... #define MT25QL01GBBB 0x01     //SMF,CF
.................... typedef struct select_stream_to_flash{
....................     SpiStreamId spi_stream_id;
....................     unsigned int8 flash_model;
....................     int16 cs_pin;
.................... }Flash;
.................... 
.................... 
.................... Flash mis_fm = {SPI_0, MT25QL128ABA, MIS_FM_CS};
.................... Flash smf = {SPI_1, MT25QL01GBBB, SMF_CS};
.................... 
.................... 
.................... 
.................... // ===================== Function List =====================
.................... // Public Functions
.................... 
.................... int1 is_connect(Flash flash_stream);
.................... 
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount);      
.................... 
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount);  
.................... 
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address);
.................... 
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address);  
....................                                
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address);      
.................... 
.................... //Private Functions
....................  
.................... void flash_setting(Flash flash_stream);
....................  
.................... int8 status_register(Flash flash_stream);
....................  
.................... int8 read_id(Flash flash_stream);
.................... 
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address);
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data);
.................... 
.................... 
.................... 
.................... // ===================== Flash Commands =====================
.................... #define CMD_READ_ID                     0x9F
.................... #define CMD_READ_STATUS_REGISTER        0x05
.................... #define CMD_READ                        0x03//for MT25QL128ABA
.................... #define CMD_4BYTE_READ                  0x13//for MT25QL01GBBB
.................... #define CMD_WRITE_ENABLE                0x06
.................... #define CMD_PAGE_PROGRAM                0x02//for MT25QL128ABA
.................... #define CMD_4BYTE_PAGE_PROGRAM          0x12//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_4KB_ERASE         0x20//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_4KB_ERASE   0x21//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_32KB_ERASE        0x52//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_32KB_ERASE  0x5C//for MT25QL01GBBB
.................... #define CMD_SECTOR_ERASE                0xD8//for MT25QL128ABA
.................... #define CMD_4BYTE_SECTOR_ERASE          0xDC//for MT25QL01GBBB
.................... 
.................... // ====================== Value List =====================
.................... #define MANUFACTURER_ID_MICRON 0x20 // Manufacturer ID for Micron flash
.................... #define READ_ID_DATASIZE 20 // 20 bytes for read ID data
.................... 
.................... 
.................... // ====================== Data Structures =====================
.................... typedef union
.................... {
....................     unsigned int8 bytes[READ_ID_DATASIZE]; // 20 bytes for read ID
....................     struct {
....................         unsigned int8 manufacturer_id; // 1 byte
....................         unsigned int8 memory_type;     // 1 byte
....................         unsigned int8 capacity;        // 1 byte
....................         unsigned int8 reserved;       // 1 byte
....................     } fields;
.................... }READ_ID_DATA;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... #include "../lib/device/ad7490.h"
.................... #ifndef  _AD7490_H_
.................... #define  _AD7490_H_
.................... 
.................... // === AD7490 Control Word ===
.................... // Bit[15]   : WRITE (常に0)
.................... // Bit[14:13]: SEQ mode (シーケンス設定)
.................... // Bit[12]   : SHADOW (0=disabled, 1=enabled)
.................... // Bit[11]   : Don't Care
.................... // Bit[10]   : PM1 (Power Management)
.................... // Bit[9]    : PM0
.................... // Bit[8]    : REFSEL (0=internal, 1=external)
.................... // Bit[7]    : Coding (0=straight binary, 1=twos complement)
.................... // Bit[6]    : Don't Care
.................... // Bit[5]    : ADD2
.................... // Bit[4]    : ADD1
.................... // Bit[3]    : ADD0
.................... // Bit[2]    : DIFF (0=single-ended, 1=differential)
.................... // Bit[1:0]  : Don't Care
.................... 
.................... 
.................... 
.................... typedef union {
....................     unsigned int16 value; // 16-bit value for direct access
....................     struct {
....................         int1 reserved0; // Reserved bits
....................         int1 reserved1; // Reserved bits
....................         int1 reserved2; // Reserved bits
....................         int1 reserved3; // Reserved bits   
....................         int1 coding; // 1: Two's complement, 0: Binary
....................         int1 range; // 1: Range mode, 0: Normal mode
....................         int1 weak_tri; // 1: Weak trigger, 0: Strong trigger
....................         int1 shadow; // 1: Shadow register, 0: Direct access
....................         int1 pm0;
....................         int1 pm1; // Power mode bits
....................         int1 add0;
....................         int1 add1; // Channel address bits
....................         int1 add2;
....................         int1 add3; // Channel address bits
....................         int1 seq; // 1: Sequential mode, 0: Random mode
....................         int1 write; // 1: Write operation, 0: Read operation
.................... 
....................     } fields;
.................... } ad7490_cmd_t;
.................... 
.................... // Public Function 
.................... //void ad7490_init(void);
.................... unsigned int16 ad7490_make_cmd(int8 channel);
.................... 
.................... 
.................... // Resistor Settings
.................... #define AD7490_EN_WRITE 0b1
.................... 
.................... // Power Mode Register
.................... #define AD7490_PM_NORMAL 0b00000011
.................... #define AD7490_PM_SHUTDOWN 0b00000001
.................... #define AD7490_PM_AUTO_SHUTDOWN 0b00000010
.................... #define AD7490_PM_AUTO_STANDBY 0b00000000
.................... 
.................... 
.................... // ----------------------------
.................... // WRITE bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_WRITE_DISABLE = 0,  // 書き込み無効
....................     AD7490_WRITE_ENABLE  = 1   // 書き込み有効
.................... } ad7490_write_t;
.................... 
.................... // ----------------------------
.................... // SEQ bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_SEQ_DISABLE = 0,
....................     AD7490_SEQ_ENABLE  = 1
.................... } ad7490_seq_t;
.................... 
.................... // ----------------------------
.................... // CODING bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_CODING_BINARY  = 0, // ストレートバイナリ
....................     AD7490_CODING_TWOS    = 1  // Two’s complement
.................... } ad7490_coding_t;
.................... 
.................... // ----------------------------
.................... // RANGE bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_RANGE_2REF  = 0, // 0〜2*REFIN
....................     AD7490_RANGE_REF   = 1  // 0〜REFIN
.................... } ad7490_range_t;
.................... 
.................... // ----------------------------
.................... // WEAK/TRI bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_DOUT_TRI   = 0, // Three-state
....................     AD7490_DOUT_WEAK  = 1  // Weakly driven
.................... } ad7490_dout_t;
.................... 
.................... // ----------------------------
.................... // SHADOW bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_SHADOW_DISABLE = 0,
....................     AD7490_SHADOW_ENABLE  = 1
.................... } ad7490_shadow_t;
.................... 
.................... // ----------------------------
.................... // Power Mode (PM1, PM0)
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_PWR_NORMAL    = 0, // 00
....................     AD7490_PWR_FULLDOWN  = 1, // 01
....................     AD7490_PWR_AUTO      = 2, // 10
....................     AD7490_PWR_SHUTDOWN  = 3  // 11
.................... } ad7490_pwr_mode_t;
.................... 
.................... // ----------------------------
.................... // Channel Address (ADD3–ADD0)
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_CH0  = 0,
....................     AD7490_CH1  = 1,
....................     AD7490_CH2  = 2,
....................     AD7490_CH3  = 3,
....................     AD7490_CH4  = 4,
....................     AD7490_CH5  = 5,
....................     AD7490_CH6  = 6,
....................     AD7490_CH7  = 7,
....................     AD7490_CH8  = 8,
....................     AD7490_CH9  = 9,
....................     AD7490_CH10 = 10,
....................     AD7490_CH11 = 11,
....................     AD7490_CH12 = 12,
....................     AD7490_CH13 = 13,
....................     AD7490_CH14 = 14,
....................     AD7490_CH15 = 15
.................... } ad7490_channel_t;
.................... 
.................... typedef struct {
....................     ad7490_write_t     write;
....................     ad7490_seq_t       seq;
....................     ad7490_coding_t    coding;
....................     ad7490_range_t     range;
....................     ad7490_dout_t      dout;
....................     ad7490_shadow_t    shadow;
....................     ad7490_pwr_mode_t  power_mode;
....................     ad7490_channel_t   channel;
.................... } ad7490_config_t;
.................... 
.................... 
.................... unsigned int16 ad7490_make_cmd(ad7490_config_t config);
.................... 
.................... 
.................... #endif // _AD7490_H_
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/device/mcp4901.h"
.................... // ===================== mcp4911.h =====================
.................... #ifndef _MCP4901_H_
.................... #define _MCP4901_H_
.................... 
.................... typedef union {
....................    unsigned int16 value; // 16-bit value to write to the DAC
....................    struct {
....................       int1 reserved4; // Reserved bit, should be 0
....................       int1 reserved3; // Reserved bit, should be 0
....................       int1 reserved2; // Reserved bit, should be 0
....................       int1 reserved; // Reserved bit, should be 0
....................       int1 data0; // LSB of the data
....................       int1 data1; // 8-bit data to write to the DAC
....................       int1 data2; // 8-bit data to write to the DAC
....................       int1 data3; // 8-bit data to write to the DAC
....................       int1 data4; // 8-bit data to write to the DAC
....................       int1 data5; // 8-bit data to write to the DAC
....................       int1 data6; // 8-bit data to write to the DAC
....................       int1 data7; // 8-bit data to write to the DAC
....................       int1 shutdown; // 1: Shutdown mode, 0: Normal operation
....................       int1 gain; // 1: Gain 2x, 0: Gain 1x
....................       int1 buffer; // Buffer not used, should be 0
....................       int1 startbit; // Start bit, should be 1
....................    } fields;
.................... } mcp4901_cmd_t;
.................... 
.................... typedef enum {
....................    MCP4901_SHUTDOWN = 0,
....................    MCP4901_NORMAL_OPERATION = 1
.................... } mcp4901_mode_t;
.................... 
.................... typedef enum {
....................    MCP4901_GAIN_2X = 0,
....................    MCP4901_GAIN_1X = 1
.................... } mcp4901_gain_t;
.................... 
.................... 
.................... 
.................... 
.................... 
.................... // ---------------------- Public API --------------------------
.................... void mcp4911_init();
.................... 
.................... unsigned int16 mcp4901_make_cmd(unsigned int16 value);
.................... 
.................... #endif /* _MCP4911_H_ */
.................... // ===================== mcp4911.h =====================
.................... 
.................... 
.................... // レベル5: 通信ライブラリヘッダー
.................... #include "../lib/communication/communication.h"
.................... #ifndef COMMUNICATION_H
.................... #define COMMUNICATION_H
.................... 
.................... // __________ device IDs ______________
.................... 
.................... #define GS        0x00
.................... #define MAIN_PIC  0x01
.................... #define COM_PIC   0x02
.................... #define RESET_PIC 0x03
.................... #define FAB_PIC   0x04
.................... #define BOSS_PIC  0x05
.................... #define APRS_PIC  0x06
.................... #define CAM_MCU   0x07
.................... #define CHO_MCU   0x08
.................... #define NAKA_PIC  0x09
.................... #define SATO_PIC  0x0A
.................... #define BHU_MCU   0x0B
.................... #define CIGS_PIC  0x0C
.................... 
....................  // <- change to your device name
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... // ____________ SFD ______________
.................... 
.................... #define SFD 0xAA
.................... 
.................... 
.................... // ____________ typedef _____________
.................... 
.................... typedef struct {
....................     int8 id;
....................     int8 length;
.................... } FrameID;
.................... 
.................... #define CONTENT_MAX 9
.................... typedef struct {
....................     int8 frame_id;
....................     unsigned int8 size;
....................     int1 is_exist;
....................     unsigned int8 content[CONTENT_MAX];
.................... } Command;
.................... 
.................... #include "frame.h"
.................... #ifndef FRAME_CONTENT_H
.................... #define FRAME_CONTENT_H
.................... 
.................... 
.................... // __________ Receives _________
.................... 
.................... #define UPLINK_COMMAND        0x00
.................... #define STATUS_CHECK          0x01
.................... #define IS_SMF_AVAILABLE      0x02
.................... #define SEND_TIME             0x03
.................... 
.................... #define UPLINK_COMMAND_LENGTH     9
.................... #define STATUS_CHECK_LENGTH       0
.................... #define IS_SMF_AVAILABLE_LENGTH   1
.................... #define SEND_TIME_LENGTH         4
.................... 
.................... volatile FrameID frame_ids[] = {
....................    {UPLINK_COMMAND, UPLINK_COMMAND_LENGTH}, 
....................    {STATUS_CHECK, STATUS_CHECK_LENGTH}, 
....................    {IS_SMF_AVAILABLE, IS_SMF_AVAILABLE_LENGTH},
....................    {SEND_TIME, SEND_TIME_LENGTH}
.................... };
.................... 
.................... 
.................... // __________ Transmits _____________
.................... 
.................... typedef enum {
....................    MIS_MCU_STATUS = 0x03,
....................    ACK = 0x0F
.................... } TransmitFrameId;
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... // ______ Receive _______
.................... 
.................... Command make_receive_command(unsigned int8 receive_signal[], int8 receive_signal_size);
.................... 
.................... static int8 trim_receive_signal_header(unsigned int8 receive_signal[], int8 receive_signal_size);
.................... 
.................... static int8 get_content_size(unsigned int8 frame_id);
.................... 
.................... static int1 check_crc(unsigned int8 frame[], int8 receive_frame_size);
.................... 
.................... static int1 check_device_id(unsigned int8 device_id);
.................... 
.................... 
.................... // ______ Transmit _______
.................... 
.................... void transmit_command(TransmitFrameId frame_id, unsigned int8 content[], int8 size);
.................... 
.................... static void transmit(unsigned int8 data[], int8 data_size);
.................... 
.................... // ______ Common _________
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../lib/communication/communication_driver.h"
.................... #ifndef COMMUNICATION_DRIVER_H
.................... #define COMMUNICATION_DRIVER_H
.................... 
.................... #include "communication.h"
.................... #ifndef COMMUNICATION_H
.................... #define COMMUNICATION_H
.................... 
.................... // __________ device IDs ______________
.................... 
.................... #define GS        0x00
.................... #define MAIN_PIC  0x01
.................... #define COM_PIC   0x02
.................... #define RESET_PIC 0x03
.................... #define FAB_PIC   0x04
.................... #define BOSS_PIC  0x05
.................... #define APRS_PIC  0x06
.................... #define CAM_MCU   0x07
.................... #define CHO_MCU   0x08
.................... #define NAKA_PIC  0x09
.................... #define SATO_PIC  0x0A
.................... #define BHU_MCU   0x0B
.................... #define CIGS_PIC  0x0C
.................... 
....................  // <- change to your device name
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... // ____________ SFD ______________
.................... 
.................... #define SFD 0xAA
.................... 
.................... 
.................... // ____________ typedef _____________
.................... 
.................... typedef struct {
....................     int8 id;
....................     int8 length;
.................... } FrameID;
.................... 
.................... #define CONTENT_MAX 9
.................... typedef struct {
....................     int8 frame_id;
....................     unsigned int8 size;
....................     int1 is_exist;
....................     unsigned int8 content[CONTENT_MAX];
.................... } Command;
.................... 
.................... #include "frame.h"
.................... 
.................... // ______ Receive _______
.................... 
.................... Command make_receive_command(unsigned int8 receive_signal[], int8 receive_signal_size);
.................... 
.................... static int8 trim_receive_signal_header(unsigned int8 receive_signal[], int8 receive_signal_size);
.................... 
.................... static int8 get_content_size(unsigned int8 frame_id);
.................... 
.................... static int1 check_crc(unsigned int8 frame[], int8 receive_frame_size);
.................... 
.................... static int1 check_device_id(unsigned int8 device_id);
.................... 
.................... 
.................... // ______ Transmit _______
.................... 
.................... void transmit_command(TransmitFrameId frame_id, unsigned int8 content[], int8 size);
.................... 
.................... static void transmit(unsigned int8 data[], int8 data_size);
.................... 
.................... // ______ Common _________
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... 
.................... // This is redundant, but it is a process to hide the Communication library as a driver.
.................... Command make_command(unsigned int8 receive_signal[], int8 receive_signal_size);
.................... 
.................... void transmit_ack(void);
.................... void transmit_status(void);
.................... 
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../lib/communication/mission_tools.h"
.................... #ifndef MISSION_TOOLS_H
.................... #define MISSION_TOOLS_H
.................... 
.................... #include "communication_driver.h"
.................... #ifndef COMMUNICATION_DRIVER_H
.................... #define COMMUNICATION_DRIVER_H
.................... 
.................... #include "communication.h"
.................... 
.................... 
.................... // This is redundant, but it is a process to hide the Communication library as a driver.
.................... Command make_command(unsigned int8 receive_signal[], int8 receive_signal_size);
.................... 
.................... void transmit_ack(void);
.................... void transmit_status(void);
.................... 
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... 
.................... // ________________ fuctions ____________
.................... 
.................... // Check and reply to messages received from BOSS PIC
.................... void check_and_respond_to_boss();
.................... 
.................... // Request using SMF to BOSS PIC
.................... // !!!After use, you must call `void finished_use_smf()`
.................... int1 req_use_smf();
.................... 
.................... // Call after using SMF
.................... void finished_use_smf();
.................... //unsigned int8 calc_crc8(unsigned int8 frame[], int8 payload_size);
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... // レベル6: コア機能ヘッダー
.................... #include "domain/cigs_iv.h"
.................... #ifndef mmj_cigs_iv_H
.................... #define mmj_cigs_iv_H
.................... 
.................... /*
.................... // _________ values _________
.................... #define MISSION_DATA_SIZE 64
.................... volatile unsigned int8 mission_datas[MISSION_DATA_SIZE] = {0x00};
.................... volatile int8 executed_mission_count = 0;
.................... */
.................... 
.................... #define START_MAKER 0xFF
.................... #define RESERVED_VALUE 0x00
.................... 
.................... #define HEADER_SIZE 5  // START_MAKER + time (4バイト)
.................... #define ENV_SIZE    6  // pd + temp_py_top + temp_py_bot + temp_mis7 packed
.................... #define DATA_SIZE_PER_STEP 3 // data0 + data1 12bitずつ
.................... 
.................... 
.................... void make_meas_header(unsigned int8 *packetdata, unsigned int8 *cmd);
.................... 
.................... 
.................... // void sweep(unsigned int8 parameter[]);
.................... void sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit, unsigned int16 pd_limit);  
.................... void test_sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit);
.................... 
.................... typedef struct{
....................     unsigned int32 time;
....................     unsigned int16 pd;
....................     unsigned int16 temp_py_top;
....................     unsigned int16 temp_py_bot;
....................     unsigned int16 temp_mis7;
.................... } iv_env_t;
.................... 
.................... /*
.................... typedef struct{
....................     unsigned int8 port_num; // Port number (1 or 2)
....................     unsigned int16 sweep_step; // Number of steps in the sweep
....................     unsigned int16 data_buffer[2][0xFF]; // Data buffer for voltage and current readings
....................     int1 active; // Indicates if the port is active (1 for active, 0 for inactive)
.................... } sweep_config_t;
.................... */
.................... 
.................... 
.................... typedef union{
....................     struct{
....................         unsigned int8 start_marker;
....................         unsigned int8 reserved;
....................         unsigned int8 command;
....................         unsigned int8 port_num;
....................         unsigned int16 data[2];
....................     }fields;
.................... 
....................     unsigned int8 raw[PACKET_SIZE];
.................... }iv_packet_t;
.................... 
.................... typedef struct {
....................     unsigned int16 voltage;
....................     unsigned int16 current;
.................... } iv_data_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     unsigned int8 data_buffer[0x300];
....................     int1 active;
.................... } sweep_config_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     iv_data_t data_buffer[0xFF];
....................     int1 active;
.................... } sweep_debug_config_t;
.................... 
.................... typedef struct 
.................... {
....................     unsigned int8 data[3];
.................... } meas_data_t;
.................... 
.................... #define PACKET_IV_HEADER_SIZE 51
.................... #define IV_HEADER_SIZE 17
.................... #define PACKET_IV_DATA_SIZE  63
.................... #define IV_DATA_SIZE  21
.................... 
.................... typedef union{
....................     unsigned int8 raw[PACKET_SIZE];
....................     struct {
....................         unsigned int8  start_marker;
....................         unsigned int32 time_sec;
....................         unsigned int8 time_msec;
....................         unsigned int8 envdata[6];
....................         unsigned int8 ivdata[PACKET_IV_HEADER_SIZE];
....................         unsigned int8 crc;
....................     }header;
....................     struct {
....................         unsigned int8 iv_data[PACKET_IV_DATA_SIZE];
....................         unsigned int8 crc;
....................     }data;
.................... } iv_data_packet_t;
.................... 
....................     
.................... 
.................... iv_env_t create_meas_data();
.................... void log_meas_data(iv_env_t *measured_data_ptr, sweep_config_t *port_data_ptr);
.................... 
.................... void sweep_with_print();
.................... 
.................... unsigned int16 calc_pd_value(unsigned int16 data);
.................... // 
.................... unsigned int16 calc_curr_value(unsigned int16 data);
.................... #define SHUNT_RESISTANCE_OHM 0.05
.................... #define AMP_GAIN 200
.................... #define ADC_REF_VOLTAGE_MV 2500 
.................... #define ADC_MAX_READING 4095
.................... #define ADC_CURR_REF_VOLTAGE_MV 1250
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "domain/cigs_flash.h"
.................... #ifndef MMJ_CIGS_FLASH_H
.................... #define MMJ_CIGS_FLASH_H
.................... 
.................... //#include <string.h>
.................... //#include "../hal/cigs_config.h"
.................... 
.................... #ifndef PACKET_SIZE
....................     #define PACKET_SIZE 64
.................... #endif
.................... 
.................... 
.................... #define MISF_START 0x00000000
.................... #define MISF_END   0x00BC0FFF
.................... #define SECTOR_64K_BYTE  0x10000
.................... 
.................... #define MISF_CIGS_DATA_TABLE_SIZE 64
.................... 
.................... // Flash Address
.................... #define MISF_CIGS_DATA_TABLE_START 0x00000000
.................... #define MISF_CIGS_DATA_TABLE_END   0x00000FFF
.................... #define MISF_CIGS_DATA_TABLE_SIZE  4096
.................... 
.................... #define MISF_CIGS_PICLOG_START    0x00010000
.................... #define MISF_CIGS_PICLOG_END      0x00140FFF
.................... #define MISF_CIGS_PICLOG_SIZE     1310720
.................... 
.................... #define MISF_CIGS_ENVIRO_START    0x00141000
.................... #define MISF_CIGS_ENVIRO_END      0x00280FFF
.................... #define MISF_CIGS_ENVIRO_SIZE     1310720
.................... 
.................... #define MISF_CIGS_IV1_HEADER_START 0x00281000
.................... #define MISF_CIGS_IV1_HEADER_END   0x00320FFF
.................... #define MISF_CIGS_IV1_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV1_DATA_START   0x00321000
.................... #define MISF_CIGS_IV1_DATA_END     0x00720FFF
.................... #define MISF_CIGS_IV1_DATA_SIZE    4194304
.................... 
.................... #define MISF_CIGS_IV2_HEADER_START 0x00721000
.................... #define MISF_CIGS_IV2_HEADER_END   0x007C0FFF
.................... #define MISF_CIGS_IV2_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV2_DATA_START   0x007C1000
.................... #define MISF_CIGS_IV2_DATA_END     0x00BC0FFF
.................... #define MISF_CIGS_IV2_DATA_SIZE    4194304
.................... 
.................... // 重複していた #define はここに一度だけ残す
.................... // 例: #define SECTOR_4K_BYTE  0x1000  // 4KByte
.................... // 他ファイルに同じ行があれば削除
.................... 
.................... // Flash カウンタだけを保持する汎用構造
.................... typedef struct {
....................     unsigned int32 used_counter;
....................     unsigned int32 uncopied_counter;
....................     unsigned int8  reserve_counter1;
....................     unsigned int8  reserve_counter2;
.................... } FlashCounter_t;
.................... 
.................... // データ種別ID
.................... typedef enum {
....................     FLASH_ID_DATA_TABLE = 0 ,
....................     FLASH_ID_PICLOG ,
....................     FLASH_ID_ENVIRONMENT,
....................     FLASH_ID_IV1_HEADER,
....................     FLASH_ID_IV1_DATA,
....................     FLASH_ID_IV2_HEADER,
....................     FLASH_ID_IV2_DATA,
....................     FLASH_ID_COUNT = 7
.................... } FlashDataId_t;
.................... 
.................... // Flash_t : 実体側で使用する拡張(必要なら id を保持)
.................... typedef struct {
....................     FlashDataId_t   id;
....................     unsigned int32  used_counter;
....................     unsigned int32  uncopied_counter;
....................     unsigned int8   reserve_counter1;
....................     unsigned int8   reserve_counter2;
.................... } Flash_t;
.................... 
.................... // FlashData_t （既存定義が別ヘッダなら重複しないよう確認）
.................... // ここでは payload 内の logdata.* が FlashCounter_t と仮定
.................... typedef union {
....................     struct {
....................         union {
....................             struct {
....................                 FlashCounter_t piclog;
....................                 FlashCounter_t environment;
....................                 FlashCounter_t iv1_header;
....................                 FlashCounter_t iv1_data;
....................                 FlashCounter_t iv2_header;
....................                 FlashCounter_t iv2_data;
....................             } logdata;  // 合計サイズは63バイト
....................             unsigned int8 reserve[63];
....................         } payload;
....................         unsigned int8 crc;  // 1バイトCRC
....................     } packet;
....................     unsigned int8 bytes[64];
.................... } FlashData_t;
.................... 
.................... 
.................... // 取得系
.................... FlashData_t make_flash_data_table(void);
.................... void misf_update_address_area(void);
.................... void print_flash_status(void);
.................... 
.................... 
.................... // キュー投入
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode);
.................... void misf_init();
.................... 
.................... // Flash 操作用構造体
.................... typedef struct {
....................     unsigned int32 start;
....................     unsigned int32 end;
....................     unsigned int32 size;
.................... } ADDRESS_AREA_T;
.................... 
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t misf_counter_table[];
.................... extern FlashCounter_t *misf_counter_table_ptr[];
.................... 
.................... void print_MISF_ADDRESS_TABLE(void);
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size);
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "domain/cigs_piclog.h"
.................... #ifndef     MMJ_CIGS_PICLOG_H
.................... #define     MMJ_CIGS_PICLOG_H
.................... 
.................... // PICLOG Param
.................... #define PICLOG_STARTUP 0x00
.................... #define PICLOG_PARAM_START 0x00
.................... #define PICLOG_PARAM_END   0xFF
.................... 
.................... 
.................... #define PICLOG_PACKET_SIZE 6
.................... 
.................... // PICLOG Union
.................... typedef union {
....................     struct {
....................         unsigned int32 time;
....................         unsigned int8  function;
....................         unsigned int8  parameter;
....................     } fields;
....................     unsigned int8 bytes[PICLOG_PACKET_SIZE];
.................... } piclog_t;
.................... 
.................... #define PICLOG_BLANK_SIZE 4
.................... unsigned int8 PICLOG_BLANK_DATA[PICLOG_BLANK_SIZE];
.................... 
.................... // PICLOG 関数（実装は .c）
.................... void piclog_save(unsigned int8 function, unsigned int8 parameter);
.................... 
.................... #endif // MMJ_CIGS_PICLOG_H
.................... //------------------End of File------------------
.................... 
.................... #include "domain/cigs_smf.h"
.................... #ifndef MMJ_CIGS_SMF_H
.................... #define MMJ_CIGS_SMF_H
.................... 
.................... #include "../lib/tool/smf_queue.h"  // FlashOperationStruct定義
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... #include "../hal/cigs_config.h" // int8,int32 型など(CCS C) 依存
.................... #ifndef MMJ_CIGS_CONFIG_H
.................... #define MMJ_CIGS_CONFIG_H
.................... 
.................... 
.................... 
.................... 
.................... #include <18F67J94.h>
.................... //#include <16F1789.h>
.................... #opt 0 // 0 = no optimization, 1 = optimize for speed, 2 = optimize for size
.................... 
.................... #device ADC=12
.................... #use delay(crystal=16MHz)
.................... #fuses HS, NOWDT, NOBROWNOUT, NOPROTECT
.................... #device HIGH_INTS=TRUE
.................... #define PIC18
.................... //#define PIC16
.................... 
.................... 
.................... 
.................... #ifdef PIC16
....................     //#include <16F1789.h>
....................     #fuses NOMCLR
....................     //-------------Serial--------------------
....................     #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,stream=BOSS)
....................     #use rs232(baud=9600,parity=N,xmit=PIN_B4,bits=8,stream=PC,FORCE_SW)
.................... 
.................... 
....................     // -------------SPI--------------------
....................     // MOSI:PIN_C5, MISO:PIN_C4, SCK:PIN_C3
....................     // Shared Mission Flash
....................     #define MIS_FM_CS  PIN_D3
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS= 8, STREAM = MIS_FM_STREAM)
.................... 
....................     // Mission Flash
....................     #define SMF_CS PIN_D1
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = SMF_STREAM)
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = spi_cell_write)
....................     // Analog to Digital Converter 
....................     #define ADC_CS PIN_D2
....................     //#use spi(MASTER, SPI1, BAUD = 9600, MODE=2, BITS = 16, STREAM = ADC_STREAM)
....................     #use spi(MASTER, CLK = PIN_C3, DI = PIN_C4, DO = PIN_C5, ENABLE = PIN_D2, BAUD = 57600, BITS = 16, STREAM = ADC_STREAM, MODE = 2 )
....................     
....................     
....................     // AI/O___ADC
....................     #define TEMP_TOP PIN_B0
....................     #define TEMP_BOT PIN_A3
....................     #define CIGS_VOLT PIN_A0 //PIN_A0
....................     #define CIGS_CURR PIN_A1
....................     #define PD PIN_E0
....................     #define VREF PIN_A4
....................  
....................     // AI/O___DAC
....................     #define LOAD PIN_A5
.................... 
....................     /* DEMO
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A0, MODE=0, BITS=8, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A1, MODE=0, BITS=8, ENABLE_ACTIVE=1, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A3, BAUD=40000, MODE=2, BITS=16, ENABLE_ACTIVE=1, STREAM=ADC)
....................     #use spi (MASTER, MODE=0, BITS=8, STREAM=SPI_4)
....................     */
.................... #endif
.................... 
.................... #ifdef PIC18
....................     //#include <18F67J94.h>
....................     //-------------UART--------------------
....................     // BOSS command port
....................     #pin_select TX3=PIN_E3                                                          
....................     #pin_select RX3=PIN_F2                                                        
....................     #use rs232(baud=9600, parity=N, UART3, bits=8, stream=BOSS, ERRORS)                      
....................     
....................     // PC debug port
....................     #pin_select TX4=PIN_E5
....................     #pin_select RX4=PIN_D4  
....................     #use rs232(baud=9600,parity=N, UART4, bits=8,stream=PC, ERRORS)
.................... 
....................     // -------------SPI--------------------
....................     // Shared Mission Flash
....................     #define SMF_CS PIN_A2
....................     #pin_select SCK1OUT=PIN_A3
....................     #pin_select SDI1=PIN_A0
....................     #pin_select SDO1=PIN_A1
....................     // #use spi (MASTER, SPI1, BAUD=200000, MODE=0, BITS=8, STREAM=SMF_STREAM)
....................     #use spi (MASTER, CLK=PIN_A3, DI=PIN_A1, DO=PIN_A0, BAUD=20000000, MODE=0, BITS=8, STREAM=SMF_STREAM)
.................... 
.................... 
....................     // Mission Flash
....................     #define MIS_FM_CS  PIN_G0
....................     #use spi (MASTER, CLK=PIN_E1, DI=PIN_E0, DO=PIN_E6, BAUD=20000000, MODE=0, BITS=8, STREAM=MIS_FM_STREAM)
.................... 
.................... 
....................     // ADC  
....................     #define ADC_CS PIN_B1
....................     // #pin_select SCK2OUT=PIN_B2
....................     // #pin_select SDI2=PIN_B4
....................     // #pin_select SDO2=PIN_B5
....................     // #use spi (MASTER, SPI2, BAUD=200000, MODE=2, BITS=16, STREAM=ADC_STREAM)
....................     #use spi (MASTER, CLK=PIN_B2, DI=PIN_B4, DO=PIN_B5, BAUD=20000000, MODE=2, BITS=16, STREAM=ADC_STREAM)
.................... 
....................     // DAC
....................     #define DAC1_CS PIN_D7
....................     #define DAC2_CS PIN_D6
....................     #use spi (MASTER, CLK=PIN_D5, DO=PIN_D4,  BAUD=20000000, MODE=2, BITS=16, STREAM=DAC_STREAM)
.................... 
.................... 
....................     // DI/O___
....................     #define CONNECT_CIGS1 PIN_C3
....................     #define CONNECT_CIGS2 PIN_C5
....................     #define EN_NPWR1 PIN_C7
....................     #define EN_NPWR2 PIN_C6
.................... 
.................... #endif
.................... 
.................... //-------------I/O port--------------------
.................... #use FIXED_IO( A_outputs=SMF_CS )
.................... #use FIXED_IO( B_outputs=ADC_CS )
.................... #use FIXED_IO( C_outputs=CONNECT_CIGS1, CONNECT_CIGS2, EN_NPWR1, EN_NPWR2 )
.................... #use FIXED_IO( D_outputs=DAC1_CS, DAC2_CS )
.................... #use FIXED_IO( G_outputs=MIS_FM_CS )
.................... 
.................... // ADC Settings
.................... #define ADC_CIGS1_VOLT      AD7490_CH0
.................... #define ADC_CIGS1_CURR      AD7490_CH1
.................... #define ADC_CIGS1_AMP       AD7490_CH2
.................... #define ADC_CIGS1_VREF      AD7490_CH3
.................... #define ADC_CIGS2_VOLT      AD7490_CH4
.................... #define ADC_CIGS2_CURR      AD7490_CH5
.................... #define ADC_CIGS2_AMP       AD7490_CH6
.................... #define ADC_CIGS2_VREF      AD7490_CH7
.................... #define ADC_CIGS1_DAC       AD7490_CH8
.................... #define ADC_CIGS2_DAC       AD7490_CH9
.................... #define EMPTY_VIN0          AD7490_CH10
.................... #define EMPTY_VIN1          AD7490_CH11
.................... #define ADC_TEMP_MIS7       AD7490_CH12
.................... #define ADC_TEMP_PY_TOP     AD7490_CH13
.................... #define ADC_TEMP_PY_BOT     AD7490_CH14
.................... #define ADC_PD              AD7490_CH15
.................... 
.................... #endif // MMJ_CIGS_CONFIG_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "cigs_flash.h"       // MISF_ADDRESS_TABLE, misf_counter_table 依存
.................... #ifndef MMJ_CIGS_FLASH_H
.................... #define MMJ_CIGS_FLASH_H
.................... 
.................... //#include <string.h>
.................... //#include "../hal/cigs_config.h"
.................... 
.................... #ifndef PACKET_SIZE
....................     #define PACKET_SIZE 64
.................... #endif
.................... 
.................... 
.................... #define MISF_START 0x00000000
.................... #define MISF_END   0x00BC0FFF
.................... #define SECTOR_64K_BYTE  0x10000
.................... 
.................... #define MISF_CIGS_DATA_TABLE_SIZE 64
.................... 
.................... // Flash Address
.................... #define MISF_CIGS_DATA_TABLE_START 0x00000000
.................... #define MISF_CIGS_DATA_TABLE_END   0x00000FFF
.................... #define MISF_CIGS_DATA_TABLE_SIZE  4096
.................... 
.................... #define MISF_CIGS_PICLOG_START    0x00010000
.................... #define MISF_CIGS_PICLOG_END      0x00140FFF
.................... #define MISF_CIGS_PICLOG_SIZE     1310720
.................... 
.................... #define MISF_CIGS_ENVIRO_START    0x00141000
.................... #define MISF_CIGS_ENVIRO_END      0x00280FFF
.................... #define MISF_CIGS_ENVIRO_SIZE     1310720
.................... 
.................... #define MISF_CIGS_IV1_HEADER_START 0x00281000
.................... #define MISF_CIGS_IV1_HEADER_END   0x00320FFF
.................... #define MISF_CIGS_IV1_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV1_DATA_START   0x00321000
.................... #define MISF_CIGS_IV1_DATA_END     0x00720FFF
.................... #define MISF_CIGS_IV1_DATA_SIZE    4194304
.................... 
.................... #define MISF_CIGS_IV2_HEADER_START 0x00721000
.................... #define MISF_CIGS_IV2_HEADER_END   0x007C0FFF
.................... #define MISF_CIGS_IV2_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV2_DATA_START   0x007C1000
.................... #define MISF_CIGS_IV2_DATA_END     0x00BC0FFF
.................... #define MISF_CIGS_IV2_DATA_SIZE    4194304
.................... 
.................... // 重複していた #define はここに一度だけ残す
.................... // 例: #define SECTOR_4K_BYTE  0x1000  // 4KByte
.................... // 他ファイルに同じ行があれば削除
.................... 
.................... // Flash カウンタだけを保持する汎用構造
.................... typedef struct {
....................     unsigned int32 used_counter;
....................     unsigned int32 uncopied_counter;
....................     unsigned int8  reserve_counter1;
....................     unsigned int8  reserve_counter2;
.................... } FlashCounter_t;
.................... 
.................... // データ種別ID
.................... typedef enum {
....................     FLASH_ID_DATA_TABLE = 0 ,
....................     FLASH_ID_PICLOG ,
....................     FLASH_ID_ENVIRONMENT,
....................     FLASH_ID_IV1_HEADER,
....................     FLASH_ID_IV1_DATA,
....................     FLASH_ID_IV2_HEADER,
....................     FLASH_ID_IV2_DATA,
....................     FLASH_ID_COUNT = 7
.................... } FlashDataId_t;
.................... 
.................... // Flash_t : 実体側で使用する拡張(必要なら id を保持)
.................... typedef struct {
....................     FlashDataId_t   id;
....................     unsigned int32  used_counter;
....................     unsigned int32  uncopied_counter;
....................     unsigned int8   reserve_counter1;
....................     unsigned int8   reserve_counter2;
.................... } Flash_t;
.................... 
.................... // FlashData_t （既存定義が別ヘッダなら重複しないよう確認）
.................... // ここでは payload 内の logdata.* が FlashCounter_t と仮定
.................... typedef union {
....................     struct {
....................         union {
....................             struct {
....................                 FlashCounter_t piclog;
....................                 FlashCounter_t environment;
....................                 FlashCounter_t iv1_header;
....................                 FlashCounter_t iv1_data;
....................                 FlashCounter_t iv2_header;
....................                 FlashCounter_t iv2_data;
....................             } logdata;  // 合計サイズは63バイト
....................             unsigned int8 reserve[63];
....................         } payload;
....................         unsigned int8 crc;  // 1バイトCRC
....................     } packet;
....................     unsigned int8 bytes[64];
.................... } FlashData_t;
.................... 
.................... 
.................... // 取得系
.................... FlashData_t make_flash_data_table(void);
.................... void misf_update_address_area(void);
.................... void print_flash_status(void);
.................... 
.................... 
.................... // キュー投入
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode);
.................... void misf_init();
.................... 
.................... // Flash 操作用構造体
.................... typedef struct {
....................     unsigned int32 start;
....................     unsigned int32 end;
....................     unsigned int32 size;
.................... } ADDRESS_AREA_T;
.................... 
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t misf_counter_table[];
.................... extern FlashCounter_t *misf_counter_table_ptr[];
.................... 
.................... void print_MISF_ADDRESS_TABLE(void);
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size);
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... 
.................... #define CRC_RETRY_COUNT 5
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t smf_counter_table[];
.................... 
.................... extern int1 smf_update_flag[10]; // SMF更新フラグ
.................... 
.................... 
.................... // SMF管理用構造体
.................... typedef struct {
....................     ADDRESS_AREA_T header_area;
....................     ADDRESS_AREA_T data_area;
.................... } SMF_AREA_T;
.................... #define SMF_ID_COUNT 7
.................... 
.................... 
.................... // Mission ID 列挙（smf_queue.h の MissionID と整合させる）
.................... typedef enum{
....................     SMF_MISSION_DATA_TABLE = CIGS_DATA_TABLE,
....................     SMF_MISSION_PICLOG     = CIGS_PICLOG_DATA,
....................     SMF_MISSION_ENVIRO     = CIGS_ENVIRO_DATA,
....................     SMF_MISSION_IV1_HEADER = CIGS_IV1_HEADER,
....................     SMF_MISSION_IV1_DATA   = CIGS_IV1_DATA,
....................     SMF_MISSION_IV2_HEADER = CIGS_IV2_HEADER,
....................     SMF_MISSION_IV2_DATA   = CIGS_IV2_DATA
.................... } SmfMissionAlias; // 利便用Alias
.................... 
.................... // SMF操作関数
.................... void smf_write(FlashOperationStruct *smf_data_ptr);
.................... void smf_read(FlashOperationStruct *smf_data_ptr);
.................... void smf_erase(FlashOperationStruct *smf_data_ptr);
.................... 
.................... // カウンター管理関数
.................... void update_misf_counters(int8 mission_id, int32 transfer_size);
.................... void reset_misf_counters(int8 mission_id);
.................... void print_misf_counter_status(int8 mission_id);
.................... 
.................... 
.................... // SMF Partition Header
.................... typedef struct {
....................     int32 misf_used_size;
....................     int32 smf_copied_size;
.................... } SMF_PARTITION;
.................... 
.................... 
.................... 
.................... 
.................... typedef union {
....................     unsigned int8 bytes[PACKET_SIZE];  // 生データアクセス用
....................     struct {
....................         SMF_PARTITION headers[7];
....................         unsigned int8 reserved[7];
....................         unsigned int8 crc;  // 最後の1バイト
....................     } fields;
.................... } smf_data_table_t;
.................... 
.................... void smf_write_header(smf_data_table_t *smf_data_table);
.................... void print_smf_counter_status(smf_data_table_t *smf_data_table);
.................... 
.................... // mission_idから対応するSMF_PARTITIONを取得する関数
.................... SMF_PARTITION* get_smf_partition_by_mission_id(int8 mission_id);
.................... void update_smf_partition_by_mission_id(int8 mission_id, int32 used_size, int32 loop_counter);
.................... 
.................... void smf_update_smf_area(void);
.................... 
.................... typedef union{
....................     unsigned int8 bytes[PACKET_SIZE];
....................     struct {
....................         unsigned int32 piclog_used_size;
....................         unsigned int32 envero_used_size;
....................         unsigned int32 iv1_header_used_size;
....................         unsigned int32 iv1_data_used_size;
....................         unsigned int32 iv2_header_used_size;
....................         unsigned int32 iv2_data_used_size;
....................         unsigned int32 reserved[9];
....................     } fields;
.................... 
.................... }smf_address_header_t;
.................... 
.................... 
.................... 
.................... #endif  // MMJ_CIGS_SMF_H
.................... 
.................... 
.................... // レベル7: アプリケーションヘッダー
.................... #include "application/cigs_excute_mission.h"
.................... #ifndef MMJ_CIGS_EXCUTE_MISSION_H
.................... #define MMJ_CIGS_EXCUTE_MISSION_H
.................... 
.................... // _________ values _________
.................... //#define PARAMETER_LENGTH 8
.................... // #include "../lib/communication/mission_tools.h"
.................... 
.................... 
.................... 
.................... int1 execute_command(Command *command);
.................... 
.................... void handle_uplink_command(Command *command);
.................... 
.................... int1 handle_status_check(Command *command);
.................... 
.................... void handle_smf_available(Command *command);
.................... 
.................... void handle_recieve_time(Command *command);
.................... 
.................... 
.................... void execute_mission(unsigned int8 *content);
.................... 
.................... int8 duration_sec = 30; // duration sec for mission
.................... 
.................... 
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "application/cigs_mode_mission.h"
.................... #ifndef MMJ_CIGS_MODE_MISSION_H
.................... #define MMJ_CIGS_MODE_MISSION_H
.................... 
.................... #define CMD_LENGTH 9
.................... 
.................... // ______________CMD ID________________
.................... // Operation Command
.................... #define ID_MEAS_IV 0xA0
.................... #define ID_MEAS_DEBUG 0xA1
.................... #define ID_MEAS_ENV 0xA2
.................... #define ID_MEAS_ENV_PRINT 0xA3
.................... #define ID_MEAS_IV_PRINT 0xA4
.................... #define ID_MEAS_PD 0xA5
.................... 
.................... // ______________MODE FUNCTIONS____________
.................... void mode_meas_iv(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_debug(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_env(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_env_debug(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_pd(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_1sweep(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_port1(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_port2(unsigned int8 *uplinkcmd_ptr);
.................... 
.................... typedef union {
....................     unsigned int8 raw;
....................     struct {
....................         unsigned int8 mission_continue : 1;
....................         unsigned int8 erase_and_save : 1;
....................         unsigned int8 reserved : 6;
....................     } flag;
.................... } mission_state_t;
.................... 
.................... 
.................... typedef struct {
....................     unsigned int8 id; // Command ID
....................     unsigned int16 sleep_time; // Sleep time in milliseconds
....................     unsigned int16 curr_threshold; // Current threshold for measurement
....................     unsigned int16 pd_threshold; // PD threshold for measurement
....................     unsigned int16 curr_limit; // Current limit for measurement
....................     unsigned int16 meas_time; // Measurement time in milliseconds
....................     mission_state_t mission_state; // Flag to indicate if the measurement is finished
.................... } MEAS_IV_CMD;
.................... 
.................... typedef struct {
....................     unsigned int8 id;
....................     unsigned int16 interval;
....................     unsigned int16 pd_threshold;
....................     unsigned int16 meas_time;
....................     unsigned int16 log_threshold;
....................     unsigned int16 sweep_limit;
.................... } meas_iv_param_t;
.................... 
.................... 
.................... // MEAS_IV_CMD make_meas_iv_cmd(unsigned int8 uplinkcmd[]);
.................... meas_iv_param_t make_meas_iv_cmd(int8 *uplinkcmd_ptr);
.................... void print_meas_iv_cmd(meas_iv_param_t *cmd_ptr);
.................... #endif // MMJ_CIGS_MODE_MISSION_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "application/cigs_mode_flash.h"
.................... #ifndef MMJ_CIGS_MODE_FLASH_H
.................... #define MMJ_CIGS_MODE_FLASH_H
.................... 
.................... #define PARAMETER_LENGTH 9
.................... 
.................... 
.................... typedef union{
....................     unsigned int8 bytes[PARAMETER_LENGTH];
....................     struct{
....................         unsigned int8 cmd;
....................         unsigned int32 address;
....................         unsigned int8 blank;
....................         unsigned int16 copy_packet_size;
....................         unsigned int8 sector_size;
....................     } fields;
.................... } flash_mode_param_t;
.................... 
.................... 
.................... 
.................... // ___________MISF FUNCTIONS____________
.................... // Command ID 
.................... #define ID_MISF_ERASE_ALL 0x80
.................... #define ID_MISF_ERASE_1SECTOR 0x81
.................... #define ID_MISF_ERASE_4kByte_SUBSECTOR 0x82
.................... #define ID_MISF_ERASE_64kByte_SUBSECTOR 0x83
.................... #define ID_MISF_WRITE_DEMO 0x84
.................... #define ID_MISF_WRITE_4kByte_SUBSECTOR 0x85
.................... #define ID_MISF_READ 0x86
.................... #define ID_MISF_READ_ADDRESS 0x87
.................... #define ID_MISF_ERASE_AND_RESET 0x88
.................... #define ID_MISF_ADDRESS_RESET 0x8F
.................... 
.................... // Mode
.................... void mode_misf_erase_all(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_1sector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_4kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_64kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_write_demo(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_write_4kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_read(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_read_address(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_erase_and_reset(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_address_reset(unsigned int8 *uplinkcmd_ptr);
.................... 
.................... // ___________SMF FUNCTIONS____________
.................... // Command
.................... #define ID_SMF_COPY 0x90
.................... #define ID_SMF_READ 0x91
.................... #define ID_SMF_ERASE 0x92
.................... #define ID_SMF_COPY_FORCE 0x93
.................... #define ID_SMF_READ_FORCE 0x94
.................... #define ID_SMF_ERASE_FORCE 0x95
.................... #define ID_SMF_RESET 0x96
.................... 
.................... // Mode
.................... void mode_smf_copy(unsigned int8 parameter[]);
.................... void mode_smf_read(unsigned int8 parameter[]);
.................... void mode_smf_erase(unsigned int8 parameter[]);
.................... void mode_smf_copy_force(unsigned int8 parameter[]);
.................... void mode_smf_read_force(unsigned int8 parameter[]);
.................... void mode_smf_erase_force(unsigned int8 parameter[]);
.................... void mode_smf_address_reset(unsigned int8 parameter[]);
.................... 
.................... #endif // MMJ_CIGS_MODE_FLASH_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... 
.................... 
.................... //==============================================================================
.................... // .cファイル統合（CCS C単一コンパイル単位）
.................... //==============================================================================
.................... 
.................... // ハードウェア層実装ファイル
.................... // 実装は各 .c からビルドするためヘッダーでの取り込みは不要。必要なら下記のように直下参照に修正。
.................... #include "hal/timer.c"
.................... #include "timer.h"
.................... #ifndef TIMER_H
.................... #define TIMER_H
.................... 
.................... // __________ define _________
.................... 
.................... #define SEC_IN_A_DAY 86400
.................... #define CLOCK_FREQUENCY 32768 // 32.768 kHz
.................... 
.................... // __________ values _________
.................... 
.................... int32 tick_10ms = 0; 
.................... 
.................... unsigned int32 dsec = 0, sec = 0; //dsec -> deci second (0.01 sec)
.................... volatile unsigned int16 day = 0;
.................... 
.................... void timer_init();
.................... // __________ functions _________
.................... unsigned int32 get_current_sec();
.................... unsigned int16 get_current_msec();
.................... unsigned int16 get_current_day();
.................... void set_current_10msec(unsigned int32 new_10msec);
.................... 
.................... #INT_TIMER0
.................... static void TIMER0_isr();
.................... 
.................... #INT_TIMER1 
.................... static void TIMER1_isr();
.................... 
.................... // Clock Freq : 32.768kHz
.................... #define TIMER_ISR_1S 0x8000 // 1秒ごとのタイマー割り込み
.................... #define TIMER_ISR_100MSEC 0xF313 // 100ミリ秒ごとのタイマー割り込み
.................... #define TIMER_ISR_10MSEC 0xFEA8 // 10ミリ秒ごとのタイマー割り込み
.................... #define TIMER_ISR_25MSEC 0xFC8D // 25ミリ秒ごとのタイマー割り込み
.................... 
.................... void set_current_sec(unsigned int32 new_sec);
.................... unsigned int32 get_current_sec();
.................... unsigned int16 get_current_msec();
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... int8 subsec;
.................... unsigned int32 time_ms = 0;
.................... unsigned int32 time_sec = 0;
.................... 
.................... #INT_TIMER0
.................... static void TIMER0_isr()
.................... {
....................    set_timer0(0);  // 10msごとにリロード
*
0014E:  CLRF   FD7
00150:  CLRF   FD6
00152:  NOP   
....................    time_ms += 4;
00154:  MOVLW  04
00156:  MOVLB  1
00158:  ADDWF  x7E,F
0015A:  MOVLW  00
0015C:  ADDWFC x7F,F
0015E:  MOVLW  00
00160:  ADDWFC x80,F
00162:  MOVLW  00
00164:  ADDWFC x81,F
....................    if (time_ms >= 4294967290) {
00166:  MOVF   x81,W
00168:  SUBLW  FE
0016A:  BTFSS  FD8.0
0016C:  BRA    0174
0016E:  MOVLB  0
00170:  GOTO   01D0
00174:  MOVLB  0
00176:  XORLW  FF
00178:  BTFSS  FD8.2
0017A:  GOTO   01C4
0017E:  MOVLB  1
00180:  MOVF   x80,W
00182:  SUBLW  FE
00184:  BTFSS  FD8.0
00186:  BRA    018E
00188:  MOVLB  0
0018A:  GOTO   01D0
0018E:  MOVLB  0
00190:  XORLW  FF
00192:  BTFSS  FD8.2
00194:  GOTO   01C4
00198:  MOVLB  1
0019A:  MOVF   x7F,W
0019C:  SUBLW  FE
0019E:  BTFSS  FD8.0
001A0:  BRA    01A8
001A2:  MOVLB  0
001A4:  GOTO   01D0
001A8:  MOVLB  0
001AA:  XORLW  FF
001AC:  BTFSS  FD8.2
001AE:  GOTO   01C4
001B2:  MOVLB  1
001B4:  MOVF   x7E,W
001B6:  SUBLW  F9
001B8:  BTFSS  FD8.0
001BA:  BRA    01C2
001BC:  MOVLB  0
001BE:  GOTO   01D0
001C2:  MOVLB  0
....................       time_ms = 0;
001C4:  MOVLB  1
001C6:  CLRF   x81
001C8:  CLRF   x80
001CA:  CLRF   x7F
001CC:  CLRF   x7E
001CE:  MOVLB  0
....................    }
.................... }
.................... 
001D0:  BCF    FF2.2
001D2:  GOTO   0090
.................... #INT_TIMER1 
.................... static void TIMER1_isr()
.................... {
....................    set_timer1(0x8000); 
001D6:  MOVLW  80
001D8:  MOVWF  FCF
001DA:  CLRF   FCE
001DC:  NOP   
....................    time_sec++;
001DE:  MOVLW  01
001E0:  MOVLB  1
001E2:  ADDWF  x82,F
001E4:  BTFSC  FD8.0
001E6:  INCF   x83,F
001E8:  BTFSC  FD8.2
001EA:  INCF   x84,F
001EC:  BTFSC  FD8.2
001EE:  INCF   x85,F
001F0:  MOVLB  0
001F2:  BCF    F9E.0
001F4:  GOTO   0090
.................... }
.................... 
.................... void timer_init()
.................... {
....................    fprintf(PC, "Timer Initialize\r\n");
*
0218C:  MOVLW  F8
0218E:  MOVWF  FF6
02190:  MOVLW  01
02192:  MOVWF  FF7
02194:  MOVLW  00
02196:  MOVWF  FF8
02198:  CALL   20CE
....................    clear_interrupt(INT_TIMER1);
0219C:  BCF    F9E.0
....................    time_ms = 0;
0219E:  MOVLB  1
021A0:  CLRF   x81
021A2:  CLRF   x80
021A4:  CLRF   x7F
021A6:  CLRF   x7E
....................    time_sec = 0;
021A8:  CLRF   x85
021AA:  CLRF   x84
021AC:  CLRF   x83
021AE:  CLRF   x82
....................    setup_timer_1(T1_EXTERNAL | T1_DIV_BY_1 | T1_ENABLE_SOSC);
021B0:  MOVLW  8F
021B2:  MOVWF  FCD
021B4:  CLRF   FAA
....................    setup_timer_0(RTCC_INTERNAL|RTCC_DIV_256|RTCC_8_BIT);
021B6:  MOVLW  D7
021B8:  MOVWF  FD5
....................    set_timer1(0); 
021BA:  CLRF   FCF
021BC:  CLRF   FCE
021BE:  NOP   
....................    enable_interrupts(INT_TIMER1);   
021C0:  BSF    F9D.0
....................    enable_interrupts(INT_TIMER0);
021C2:  BSF    FF2.5
....................    enable_interrupts(GLOBAL);
021C4:  MOVLW  C0
021C6:  IORWF  FF2,F
....................    fprintf(PC, "\tComplete\r\n");
021C8:  MOVLW  0C
021CA:  MOVWF  FF6
021CC:  MOVLW  02
021CE:  MOVWF  FF7
021D0:  MOVLW  00
021D2:  MOVWF  FF8
021D4:  MOVLB  0
021D6:  CALL   20CE
021DA:  GOTO   12DD2 (RETURN)
.................... }
.................... 
.................... void set_current_sec(unsigned int32 new_sec)
.................... {
....................    time_sec = new_sec;
*
0FF50:  MOVFF  1A9,185
0FF54:  MOVFF  1A8,184
0FF58:  MOVFF  1A7,183
0FF5C:  MOVFF  1A6,182
0FF60:  GOTO   12742 (RETURN)
.................... }
.................... 
.................... unsigned int32 get_current_sec()
.................... {
....................    return time_sec;
*
03A08:  MOVFF  182,00
03A0C:  MOVFF  183,01
03A10:  MOVFF  184,02
03A14:  MOVFF  185,03
03A18:  RETURN 0
.................... }
.................... 
.................... unsigned int16 get_current_msec()
.................... {
....................    return time_ms;
*
0E288:  MOVLB  1
0E28A:  MOVF   x7E,W
0E28C:  MOVWF  01
0E28E:  MOVF   x7F,W
0E290:  MOVWF  02
0E292:  MOVLB  0
0E294:  RETURN 0
.................... }
.................... 
.................... 
.................... #include "hal/uart.c"
.................... #include "uart.h"
.................... #ifndef UART_H
.................... #define UART_H
.................... 
.................... // _________ defines ________________
.................... 
.................... #define RECEIVE_BUFFER_MAX 32
.................... 
.................... 
.................... // _____________ values _______________
.................... 
.................... volatile unsigned int8 boss_receive_buffer[RECEIVE_BUFFER_MAX] = {0x00};
.................... volatile int8 boss_receive_buffer_size = 0;
.................... 
.................... 
.................... // _______________ functions ___________
.................... 
.................... #INT_RDA3
.................... static void boss_receive_isr(void);
.................... 
.................... void setup_uart_to_boss();
.................... 
.................... void clear_receive_signal(unsigned int8 receive_signal[], int8 *receive_signal_size);
.................... 
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... #INT_RDA3
.................... static void boss_receive_isr(void)
.................... {
....................    if (!(status == EXECUTING_MISSION || status == COPYING) || is_use_smf_req_in_mission)
*
00240:  GOTO   0244
00244:  GOTO   024E
00248:  BTFSS  4B.0
0024A:  GOTO   0282
....................       if (boss_receive_buffer_size < RECEIVE_BUFFER_MAX)
0024E:  MOVF   4A,W
00250:  SUBLW  1F
00252:  BTFSS  FD8.0
00254:  GOTO   0282
....................          boss_receive_buffer[boss_receive_buffer_size++ % RECEIVE_BUFFER_MAX] = fgetc(BOSS);
00258:  MOVF   4A,W
0025A:  INCF   4A,F
0025C:  ANDLW  1F
0025E:  CLRF   03
00260:  ADDLW  2A
00262:  MOVWF  FE9
00264:  MOVLW  00
00266:  ADDWFC 03,W
00268:  MOVWF  FEA
0026A:  MOVFF  FEA,B2E
0026E:  MOVFF  FE9,B2D
00272:  GOTO   0218
00276:  MOVFF  B2E,FEA
0027A:  MOVFF  B2D,FE9
0027E:  MOVF   01,W
00280:  MOVWF  FEF
00282:  BCF    FA6.5
00284:  GOTO   0090
.................... }
.................... 
.................... void setup_uart_to_boss()
.................... {
....................    fprintf(PC, "UART Initialize\r\n");
*
02162:  MOVLW  88
02164:  MOVWF  FF6
02166:  MOVLW  02
02168:  MOVWF  FF7
0216A:  MOVLW  00
0216C:  MOVWF  FF8
0216E:  CALL   20CE
....................    enable_interrupts(INT_RDA3);
02172:  BSF    F61.5
....................    enable_interrupts(GLOBAL);
02174:  MOVLW  C0
02176:  IORWF  FF2,F
....................    fprintf(PC, "\tComplete\r\n");
02178:  MOVLW  9A
0217A:  MOVWF  FF6
0217C:  MOVLW  02
0217E:  MOVWF  FF7
02180:  MOVLW  00
02182:  MOVWF  FF8
02184:  CALL   20CE
02188:  GOTO   12DCE (RETURN)
.................... }
.................... 
.................... void clear_receive_signal(unsigned int8 receive_signal[], int8 *receive_signal_size)
.................... {
....................    memset(receive_signal, 0x00, *receive_signal_size);
*
05552:  MOVFF  1E2,03
05556:  MOVLB  1
05558:  MOVF   xE1,W
0555A:  MOVWF  FE9
0555C:  MOVFF  03,FEA
05560:  MOVFF  FEF,1E3
05564:  MOVFF  1E0,FEA
05568:  MOVFF  1DF,FE9
0556C:  CLRF   00
0556E:  CLRF   02
05570:  MOVFF  1E3,01
05574:  MOVLB  0
05576:  CALL   213E
....................    *receive_signal_size = 0;
0557A:  MOVFF  1E2,03
0557E:  MOVLB  1
05580:  MOVF   xE1,W
05582:  MOVWF  FE9
05584:  MOVFF  03,FEA
05588:  CLRF   FEF
0558A:  MOVLB  0
0558C:  RETURN 0
.................... }
.................... // End of file
.................... 
.................... #include "hal/gpio.c"
.................... #include "cigs_config.h"
.................... #ifndef MMJ_CIGS_CONFIG_H
.................... #define MMJ_CIGS_CONFIG_H
.................... 
.................... 
.................... 
.................... 
.................... #include <18F67J94.h>
.................... //#include <16F1789.h>
.................... #opt 0 // 0 = no optimization, 1 = optimize for speed, 2 = optimize for size
.................... 
.................... #device ADC=12
.................... #use delay(crystal=16MHz)
.................... #fuses HS, NOWDT, NOBROWNOUT, NOPROTECT
.................... #device HIGH_INTS=TRUE
.................... #define PIC18
.................... //#define PIC16
.................... 
.................... 
.................... 
.................... #ifdef PIC16
....................     //#include <16F1789.h>
....................     #fuses NOMCLR
....................     //-------------Serial--------------------
....................     #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,stream=BOSS)
....................     #use rs232(baud=9600,parity=N,xmit=PIN_B4,bits=8,stream=PC,FORCE_SW)
.................... 
.................... 
....................     // -------------SPI--------------------
....................     // MOSI:PIN_C5, MISO:PIN_C4, SCK:PIN_C3
....................     // Shared Mission Flash
....................     #define MIS_FM_CS  PIN_D3
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS= 8, STREAM = MIS_FM_STREAM)
.................... 
....................     // Mission Flash
....................     #define SMF_CS PIN_D1
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = SMF_STREAM)
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = spi_cell_write)
....................     // Analog to Digital Converter 
....................     #define ADC_CS PIN_D2
....................     //#use spi(MASTER, SPI1, BAUD = 9600, MODE=2, BITS = 16, STREAM = ADC_STREAM)
....................     #use spi(MASTER, CLK = PIN_C3, DI = PIN_C4, DO = PIN_C5, ENABLE = PIN_D2, BAUD = 57600, BITS = 16, STREAM = ADC_STREAM, MODE = 2 )
....................     
....................     
....................     // AI/O___ADC
....................     #define TEMP_TOP PIN_B0
....................     #define TEMP_BOT PIN_A3
....................     #define CIGS_VOLT PIN_A0 //PIN_A0
....................     #define CIGS_CURR PIN_A1
....................     #define PD PIN_E0
....................     #define VREF PIN_A4
....................  
....................     // AI/O___DAC
....................     #define LOAD PIN_A5
.................... 
....................     /* DEMO
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A0, MODE=0, BITS=8, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A1, MODE=0, BITS=8, ENABLE_ACTIVE=1, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A3, BAUD=40000, MODE=2, BITS=16, ENABLE_ACTIVE=1, STREAM=ADC)
....................     #use spi (MASTER, MODE=0, BITS=8, STREAM=SPI_4)
....................     */
.................... #endif
.................... 
.................... #ifdef PIC18
....................     //#include <18F67J94.h>
....................     //-------------UART--------------------
....................     // BOSS command port
....................     #pin_select TX3=PIN_E3                                                          
....................     #pin_select RX3=PIN_F2                                                        
....................     #use rs232(baud=9600, parity=N, UART3, bits=8, stream=BOSS, ERRORS)                      
....................     
....................     // PC debug port
....................     #pin_select TX4=PIN_E5
....................     #pin_select RX4=PIN_D4  
....................     #use rs232(baud=9600,parity=N, UART4, bits=8,stream=PC, ERRORS)
.................... 
....................     // -------------SPI--------------------
....................     // Shared Mission Flash
....................     #define SMF_CS PIN_A2
....................     #pin_select SCK1OUT=PIN_A3
....................     #pin_select SDI1=PIN_A0
....................     #pin_select SDO1=PIN_A1
....................     // #use spi (MASTER, SPI1, BAUD=200000, MODE=0, BITS=8, STREAM=SMF_STREAM)
....................     #use spi (MASTER, CLK=PIN_A3, DI=PIN_A1, DO=PIN_A0, BAUD=20000000, MODE=0, BITS=8, STREAM=SMF_STREAM)
.................... 
.................... 
....................     // Mission Flash
....................     #define MIS_FM_CS  PIN_G0
....................     #use spi (MASTER, CLK=PIN_E1, DI=PIN_E0, DO=PIN_E6, BAUD=20000000, MODE=0, BITS=8, STREAM=MIS_FM_STREAM)
.................... 
.................... 
....................     // ADC  
....................     #define ADC_CS PIN_B1
....................     // #pin_select SCK2OUT=PIN_B2
....................     // #pin_select SDI2=PIN_B4
....................     // #pin_select SDO2=PIN_B5
....................     // #use spi (MASTER, SPI2, BAUD=200000, MODE=2, BITS=16, STREAM=ADC_STREAM)
....................     #use spi (MASTER, CLK=PIN_B2, DI=PIN_B4, DO=PIN_B5, BAUD=20000000, MODE=2, BITS=16, STREAM=ADC_STREAM)
.................... 
....................     // DAC
....................     #define DAC1_CS PIN_D7
....................     #define DAC2_CS PIN_D6
....................     #use spi (MASTER, CLK=PIN_D5, DO=PIN_D4,  BAUD=20000000, MODE=2, BITS=16, STREAM=DAC_STREAM)
.................... 
.................... 
....................     // DI/O___
....................     #define CONNECT_CIGS1 PIN_C3
....................     #define CONNECT_CIGS2 PIN_C5
....................     #define EN_NPWR1 PIN_C7
....................     #define EN_NPWR2 PIN_C6
.................... 
.................... #endif
.................... 
.................... //-------------I/O port--------------------
.................... #use FIXED_IO( A_outputs=SMF_CS )
.................... #use FIXED_IO( B_outputs=ADC_CS )
.................... #use FIXED_IO( C_outputs=CONNECT_CIGS1, CONNECT_CIGS2, EN_NPWR1, EN_NPWR2 )
.................... #use FIXED_IO( D_outputs=DAC1_CS, DAC2_CS )
.................... #use FIXED_IO( G_outputs=MIS_FM_CS )
.................... 
.................... // ADC Settings
.................... #define ADC_CIGS1_VOLT      AD7490_CH0
.................... #define ADC_CIGS1_CURR      AD7490_CH1
.................... #define ADC_CIGS1_AMP       AD7490_CH2
.................... #define ADC_CIGS1_VREF      AD7490_CH3
.................... #define ADC_CIGS2_VOLT      AD7490_CH4
.................... #define ADC_CIGS2_CURR      AD7490_CH5
.................... #define ADC_CIGS2_AMP       AD7490_CH6
.................... #define ADC_CIGS2_VREF      AD7490_CH7
.................... #define ADC_CIGS1_DAC       AD7490_CH8
.................... #define ADC_CIGS2_DAC       AD7490_CH9
.................... #define EMPTY_VIN0          AD7490_CH10
.................... #define EMPTY_VIN1          AD7490_CH11
.................... #define ADC_TEMP_MIS7       AD7490_CH12
.................... #define ADC_TEMP_PY_TOP     AD7490_CH13
.................... #define ADC_TEMP_PY_BOT     AD7490_CH14
.................... #define ADC_PD              AD7490_CH15
.................... 
.................... #endif // MMJ_CIGS_CONFIG_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "gpio.h"
.................... #ifndef GPIO_H
.................... #define GPIO_H
.................... 
.................... void gpio_init();
.................... void enable_negative_power();
.................... void disable_negative_power();
.................... void connect_port1();
.................... void disconnect_port1();
.................... void connect_port2();
.................... void disconnect_port2();
.................... 
.................... 
.................... // 
.................... void connect_negative_power1(int1 state);
.................... void connect_negative_power2(int1 state);
.................... #endif // GPIO_H
.................... 
.................... #include "../../lib/tool/types.h"
.................... #ifndef TYPES_H
.................... #define TYPES_H
.................... 
.................... #define bool int1
.................... 
.................... 
.................... 
.................... #endif // TYPES_H
.................... // End of types.h
.................... 
.................... 
.................... 
.................... void gpio_init() {
....................     enable_negative_power();
....................     disconnect_port1();
....................     disconnect_port2();
.................... }
.................... 
.................... void enable_negative_power() {
....................     output_low(EN_NPWR1);
.................... }
.................... 
.................... void connect_negative_power1(int1 state) {
....................     if (state) {
*
05014:  MOVLB  1
05016:  MOVF   x99,F
05018:  BTFSS  FD8.2
0501A:  BRA    5022
0501C:  MOVLB  0
0501E:  GOTO   502E
05022:  MOVLB  0
....................         output_low(EN_NPWR1);
05024:  MOVLW  17
05026:  MOVWF  F94
05028:  BCF    F8B.7
....................     } else {
0502A:  GOTO   5034
....................         output_high(EN_NPWR1);
0502E:  MOVLW  17
05030:  MOVWF  F94
05032:  BSF    F8B.7
....................     }
05034:  GOTO   12E2C (RETURN)
.................... }
.................... 
.................... void connect_negative_power2(int1 state) {
....................     if (state) {
....................         output_high(EN_NPWR2);
....................     } else {
....................         output_low(EN_NPWR2);
....................     }
.................... }
.................... 
.................... void connect_port1(){
....................     output_high(CONNECT_CIGS1);
*
05004:  MOVLW  17
05006:  MOVWF  F94
05008:  BSF    F8B.3
0500A:  RETURN 0
.................... }
.................... 
.................... void disconnect_port1(){
....................     output_low(CONNECT_CIGS1);
*
08D3A:  MOVLW  17
08D3C:  MOVWF  F94
08D3E:  BCF    F8B.3
08D40:  RETURN 0
.................... }
.................... 
.................... void connect_port2(){
....................     output_high(CONNECT_CIGS2);
*
0500C:  MOVLW  17
0500E:  MOVWF  F94
05010:  BSF    F8B.5
05012:  RETURN 0
.................... }
.................... 
.................... void disconnect_port2(){
....................     output_low(CONNECT_CIGS2);
*
08D42:  MOVLW  17
08D44:  MOVWF  F94
08D46:  BCF    F8B.5
08D48:  RETURN 0
.................... }
.................... 
.................... 
.................... #include "device_driver/ad7490_driver.c"
.................... #include "ad7490_driver.h"                          // 同じデバイスフォルダのヘッダー
.................... #ifndef AD7490_DRIVER_H
.................... #define AD7490_DRIVER_H
.................... 
.................... 
.................... // AD7490 Functions
.................... void ad7490_init(void);
.................... unsigned int16 ad7490_read(int8 channel);
.................... 
.................... 
.................... #endif // MMJ_CIGS_DEVCE_H
.................... //------------------End of File------------------
.................... 
.................... #include "../hal/cigs_config.h"             // システム設定
.................... #ifndef MMJ_CIGS_CONFIG_H
.................... #define MMJ_CIGS_CONFIG_H
.................... 
.................... 
.................... 
.................... 
.................... #include <18F67J94.h>
.................... //#include <16F1789.h>
.................... #opt 0 // 0 = no optimization, 1 = optimize for speed, 2 = optimize for size
.................... 
.................... #device ADC=12
.................... #use delay(crystal=16MHz)
.................... #fuses HS, NOWDT, NOBROWNOUT, NOPROTECT
.................... #device HIGH_INTS=TRUE
.................... #define PIC18
.................... //#define PIC16
.................... 
.................... 
.................... 
.................... #ifdef PIC16
....................     //#include <16F1789.h>
....................     #fuses NOMCLR
....................     //-------------Serial--------------------
....................     #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,stream=BOSS)
....................     #use rs232(baud=9600,parity=N,xmit=PIN_B4,bits=8,stream=PC,FORCE_SW)
.................... 
.................... 
....................     // -------------SPI--------------------
....................     // MOSI:PIN_C5, MISO:PIN_C4, SCK:PIN_C3
....................     // Shared Mission Flash
....................     #define MIS_FM_CS  PIN_D3
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS= 8, STREAM = MIS_FM_STREAM)
.................... 
....................     // Mission Flash
....................     #define SMF_CS PIN_D1
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = SMF_STREAM)
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = spi_cell_write)
....................     // Analog to Digital Converter 
....................     #define ADC_CS PIN_D2
....................     //#use spi(MASTER, SPI1, BAUD = 9600, MODE=2, BITS = 16, STREAM = ADC_STREAM)
....................     #use spi(MASTER, CLK = PIN_C3, DI = PIN_C4, DO = PIN_C5, ENABLE = PIN_D2, BAUD = 57600, BITS = 16, STREAM = ADC_STREAM, MODE = 2 )
....................     
....................     
....................     // AI/O___ADC
....................     #define TEMP_TOP PIN_B0
....................     #define TEMP_BOT PIN_A3
....................     #define CIGS_VOLT PIN_A0 //PIN_A0
....................     #define CIGS_CURR PIN_A1
....................     #define PD PIN_E0
....................     #define VREF PIN_A4
....................  
....................     // AI/O___DAC
....................     #define LOAD PIN_A5
.................... 
....................     /* DEMO
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A0, MODE=0, BITS=8, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A1, MODE=0, BITS=8, ENABLE_ACTIVE=1, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A3, BAUD=40000, MODE=2, BITS=16, ENABLE_ACTIVE=1, STREAM=ADC)
....................     #use spi (MASTER, MODE=0, BITS=8, STREAM=SPI_4)
....................     */
.................... #endif
.................... 
.................... #ifdef PIC18
....................     //#include <18F67J94.h>
....................     //-------------UART--------------------
....................     // BOSS command port
....................     #pin_select TX3=PIN_E3                                                          
....................     #pin_select RX3=PIN_F2                                                        
....................     #use rs232(baud=9600, parity=N, UART3, bits=8, stream=BOSS, ERRORS)                      
....................     
....................     // PC debug port
....................     #pin_select TX4=PIN_E5
....................     #pin_select RX4=PIN_D4  
....................     #use rs232(baud=9600,parity=N, UART4, bits=8,stream=PC, ERRORS)
.................... 
....................     // -------------SPI--------------------
....................     // Shared Mission Flash
....................     #define SMF_CS PIN_A2
....................     #pin_select SCK1OUT=PIN_A3
....................     #pin_select SDI1=PIN_A0
....................     #pin_select SDO1=PIN_A1
....................     // #use spi (MASTER, SPI1, BAUD=200000, MODE=0, BITS=8, STREAM=SMF_STREAM)
....................     #use spi (MASTER, CLK=PIN_A3, DI=PIN_A1, DO=PIN_A0, BAUD=20000000, MODE=0, BITS=8, STREAM=SMF_STREAM)
.................... 
.................... 
....................     // Mission Flash
....................     #define MIS_FM_CS  PIN_G0
....................     #use spi (MASTER, CLK=PIN_E1, DI=PIN_E0, DO=PIN_E6, BAUD=20000000, MODE=0, BITS=8, STREAM=MIS_FM_STREAM)
.................... 
.................... 
....................     // ADC  
....................     #define ADC_CS PIN_B1
....................     // #pin_select SCK2OUT=PIN_B2
....................     // #pin_select SDI2=PIN_B4
....................     // #pin_select SDO2=PIN_B5
....................     // #use spi (MASTER, SPI2, BAUD=200000, MODE=2, BITS=16, STREAM=ADC_STREAM)
....................     #use spi (MASTER, CLK=PIN_B2, DI=PIN_B4, DO=PIN_B5, BAUD=20000000, MODE=2, BITS=16, STREAM=ADC_STREAM)
.................... 
....................     // DAC
....................     #define DAC1_CS PIN_D7
....................     #define DAC2_CS PIN_D6
....................     #use spi (MASTER, CLK=PIN_D5, DO=PIN_D4,  BAUD=20000000, MODE=2, BITS=16, STREAM=DAC_STREAM)
.................... 
.................... 
....................     // DI/O___
....................     #define CONNECT_CIGS1 PIN_C3
....................     #define CONNECT_CIGS2 PIN_C5
....................     #define EN_NPWR1 PIN_C7
....................     #define EN_NPWR2 PIN_C6
.................... 
.................... #endif
.................... 
.................... //-------------I/O port--------------------
.................... #use FIXED_IO( A_outputs=SMF_CS )
.................... #use FIXED_IO( B_outputs=ADC_CS )
.................... #use FIXED_IO( C_outputs=CONNECT_CIGS1, CONNECT_CIGS2, EN_NPWR1, EN_NPWR2 )
.................... #use FIXED_IO( D_outputs=DAC1_CS, DAC2_CS )
.................... #use FIXED_IO( G_outputs=MIS_FM_CS )
.................... 
.................... // ADC Settings
.................... #define ADC_CIGS1_VOLT      AD7490_CH0
.................... #define ADC_CIGS1_CURR      AD7490_CH1
.................... #define ADC_CIGS1_AMP       AD7490_CH2
.................... #define ADC_CIGS1_VREF      AD7490_CH3
.................... #define ADC_CIGS2_VOLT      AD7490_CH4
.................... #define ADC_CIGS2_CURR      AD7490_CH5
.................... #define ADC_CIGS2_AMP       AD7490_CH6
.................... #define ADC_CIGS2_VREF      AD7490_CH7
.................... #define ADC_CIGS1_DAC       AD7490_CH8
.................... #define ADC_CIGS2_DAC       AD7490_CH9
.................... #define EMPTY_VIN0          AD7490_CH10
.................... #define EMPTY_VIN1          AD7490_CH11
.................... #define ADC_TEMP_MIS7       AD7490_CH12
.................... #define ADC_TEMP_PY_TOP     AD7490_CH13
.................... #define ADC_TEMP_PY_BOT     AD7490_CH14
.................... #define ADC_PD              AD7490_CH15
.................... 
.................... #endif // MMJ_CIGS_CONFIG_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/device/ad7490.h"               // ADCデバイスライブラリ
.................... #ifndef  _AD7490_H_
.................... #define  _AD7490_H_
.................... 
.................... // === AD7490 Control Word ===
.................... // Bit[15]   : WRITE (常に0)
.................... // Bit[14:13]: SEQ mode (シーケンス設定)
.................... // Bit[12]   : SHADOW (0=disabled, 1=enabled)
.................... // Bit[11]   : Don't Care
.................... // Bit[10]   : PM1 (Power Management)
.................... // Bit[9]    : PM0
.................... // Bit[8]    : REFSEL (0=internal, 1=external)
.................... // Bit[7]    : Coding (0=straight binary, 1=twos complement)
.................... // Bit[6]    : Don't Care
.................... // Bit[5]    : ADD2
.................... // Bit[4]    : ADD1
.................... // Bit[3]    : ADD0
.................... // Bit[2]    : DIFF (0=single-ended, 1=differential)
.................... // Bit[1:0]  : Don't Care
.................... 
.................... 
.................... 
.................... typedef union {
....................     unsigned int16 value; // 16-bit value for direct access
....................     struct {
....................         int1 reserved0; // Reserved bits
....................         int1 reserved1; // Reserved bits
....................         int1 reserved2; // Reserved bits
....................         int1 reserved3; // Reserved bits   
....................         int1 coding; // 1: Two's complement, 0: Binary
....................         int1 range; // 1: Range mode, 0: Normal mode
....................         int1 weak_tri; // 1: Weak trigger, 0: Strong trigger
....................         int1 shadow; // 1: Shadow register, 0: Direct access
....................         int1 pm0;
....................         int1 pm1; // Power mode bits
....................         int1 add0;
....................         int1 add1; // Channel address bits
....................         int1 add2;
....................         int1 add3; // Channel address bits
....................         int1 seq; // 1: Sequential mode, 0: Random mode
....................         int1 write; // 1: Write operation, 0: Read operation
.................... 
....................     } fields;
.................... } ad7490_cmd_t;
.................... 
.................... // Public Function 
.................... //void ad7490_init(void);
.................... unsigned int16 ad7490_make_cmd(int8 channel);
.................... 
.................... 
.................... // Resistor Settings
.................... #define AD7490_EN_WRITE 0b1
.................... 
.................... // Power Mode Register
.................... #define AD7490_PM_NORMAL 0b00000011
.................... #define AD7490_PM_SHUTDOWN 0b00000001
.................... #define AD7490_PM_AUTO_SHUTDOWN 0b00000010
.................... #define AD7490_PM_AUTO_STANDBY 0b00000000
.................... 
.................... 
.................... // ----------------------------
.................... // WRITE bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_WRITE_DISABLE = 0,  // 書き込み無効
....................     AD7490_WRITE_ENABLE  = 1   // 書き込み有効
.................... } ad7490_write_t;
.................... 
.................... // ----------------------------
.................... // SEQ bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_SEQ_DISABLE = 0,
....................     AD7490_SEQ_ENABLE  = 1
.................... } ad7490_seq_t;
.................... 
.................... // ----------------------------
.................... // CODING bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_CODING_BINARY  = 0, // ストレートバイナリ
....................     AD7490_CODING_TWOS    = 1  // Two’s complement
.................... } ad7490_coding_t;
.................... 
.................... // ----------------------------
.................... // RANGE bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_RANGE_2REF  = 0, // 0〜2*REFIN
....................     AD7490_RANGE_REF   = 1  // 0〜REFIN
.................... } ad7490_range_t;
.................... 
.................... // ----------------------------
.................... // WEAK/TRI bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_DOUT_TRI   = 0, // Three-state
....................     AD7490_DOUT_WEAK  = 1  // Weakly driven
.................... } ad7490_dout_t;
.................... 
.................... // ----------------------------
.................... // SHADOW bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_SHADOW_DISABLE = 0,
....................     AD7490_SHADOW_ENABLE  = 1
.................... } ad7490_shadow_t;
.................... 
.................... // ----------------------------
.................... // Power Mode (PM1, PM0)
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_PWR_NORMAL    = 0, // 00
....................     AD7490_PWR_FULLDOWN  = 1, // 01
....................     AD7490_PWR_AUTO      = 2, // 10
....................     AD7490_PWR_SHUTDOWN  = 3  // 11
.................... } ad7490_pwr_mode_t;
.................... 
.................... // ----------------------------
.................... // Channel Address (ADD3–ADD0)
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_CH0  = 0,
....................     AD7490_CH1  = 1,
....................     AD7490_CH2  = 2,
....................     AD7490_CH3  = 3,
....................     AD7490_CH4  = 4,
....................     AD7490_CH5  = 5,
....................     AD7490_CH6  = 6,
....................     AD7490_CH7  = 7,
....................     AD7490_CH8  = 8,
....................     AD7490_CH9  = 9,
....................     AD7490_CH10 = 10,
....................     AD7490_CH11 = 11,
....................     AD7490_CH12 = 12,
....................     AD7490_CH13 = 13,
....................     AD7490_CH14 = 14,
....................     AD7490_CH15 = 15
.................... } ad7490_channel_t;
.................... 
.................... typedef struct {
....................     ad7490_write_t     write;
....................     ad7490_seq_t       seq;
....................     ad7490_coding_t    coding;
....................     ad7490_range_t     range;
....................     ad7490_dout_t      dout;
....................     ad7490_shadow_t    shadow;
....................     ad7490_pwr_mode_t  power_mode;
....................     ad7490_channel_t   channel;
.................... } ad7490_config_t;
.................... 
.................... 
.................... unsigned int16 ad7490_make_cmd(ad7490_config_t config);
.................... 
.................... 
.................... #endif // _AD7490_H_
.................... //------------------End of File------------------
.................... 
.................... 
.................... 
.................... #define AD7490_MULTI_CHANNEL_MAX 4
.................... 
.................... unsigned int16 ad7490_make_single_channel_cmd(unsigned int8 channel)
.................... {
....................     ad7490_cmd_t cmd;
....................     
....................     // Set default values for all fields
....................     cmd.fields.reserved0 = 0; 
....................     cmd.fields.reserved1 = 0; 
....................     cmd.fields.reserved2 = 0; 
....................     cmd.fields.reserved3 = 0;
....................     cmd.fields.coding = AD7490_CODING_BINARY; 
....................     cmd.fields.range = AD7490_RANGE_REF; 
....................     cmd.fields.weak_tri = AD7490_DOUT_TRI; 
....................     cmd.fields.shadow = AD7490_SHADOW_DISABLE; 
....................     cmd.fields.pm0 = (AD7490_PM_NORMAL >> 0) & 1; 
....................     cmd.fields.pm1 = (AD7490_PM_NORMAL >> 1) & 1; 
....................     cmd.fields.add0 = (channel >> 0) & 1; 
....................     cmd.fields.add1 = (channel >> 1) & 1; 
....................     cmd.fields.add2 = (channel >> 2) & 1;     
....................     cmd.fields.add3 = (channel >> 3) & 1; 
....................     cmd.fields.seq = AD7490_SEQ_DISABLE; 
....................     cmd.fields.write = AD7490_WRITE_ENABLE;
.................... 
....................     return cmd.value;
.................... }
.................... 
.................... void ad7490_set_multi_channel(ad7490_channel_t channel, unsigned int8 num_channels)
.................... {
....................     ad7490_cmd_t cmd;
....................     // Set default values for all fields
....................     cmd.fields.reserved0 = 0; 
....................     cmd.fields.reserved1 = 0; 
....................     cmd.fields.reserved2 = 0; 
....................     cmd.fields.reserved3 = 0;
....................     cmd.fields.coding = AD7490_CODING_BINARY; 
....................     cmd.fields.range = AD7490_RANGE_REF; 
....................     cmd.fields.weak_tri = AD7490_DOUT_TRI; 
....................     cmd.fields.shadow = AD7490_SHADOW_DISABLE; 
....................     cmd.fields.pm0 = (AD7490_PM_NORMAL >> 0) & 1; 
....................     cmd.fields.pm1 = (AD7490_PM_NORMAL >> 1) & 1; 
....................     cmd.fields.add0 = (channel >> 0) & 1; 
....................     cmd.fields.add1 = (channel >> 1) & 1; 
....................     cmd.fields.add2 = (channel >> 2) & 1;     
....................     cmd.fields.add3 = (channel >> 3) & 1; 
....................     cmd.fields.seq = AD7490_SEQ_ENABLE; 
....................     cmd.fields.write = AD7490_WRITE_ENABLE;
.................... }
.................... 
.................... void ad7490_init()
.................... {
....................     fprintf(PC, "AD7490 Initialize\r\n");
*
023B0:  MOVLW  A6
023B2:  MOVWF  FF6
023B4:  MOVLW  02
023B6:  MOVWF  FF7
023B8:  MOVLW  00
023BA:  MOVWF  FF8
023BC:  CALL   20CE
....................     output_high(ADC_CS); 
023C0:  MOVLW  FD
023C2:  MOVWF  F93
023C4:  BSF    F8A.1
....................     delay_ms(10); 
023C6:  MOVLW  0A
023C8:  MOVLB  B
023CA:  MOVWF  x03
023CC:  MOVLB  0
023CE:  CALL   20A0
....................     unsigned int16 readdata = ad7490_read(ADC_CIGS1_CURR);
023D2:  MOVLW  01
023D4:  MOVLB  9
023D6:  MOVWF  xEE
023D8:  MOVLB  0
023DA:  CALL   22B4
023DE:  MOVFF  02,19A
023E2:  MOVFF  01,199
....................     delay_ms(1);
023E6:  MOVLW  01
023E8:  MOVLB  B
023EA:  MOVWF  x03
023EC:  MOVLB  0
023EE:  CALL   20A0
....................     fprintf(PC, "\t%04LX\r\n", readdata);
023F2:  MOVLW  09
023F4:  BTFSS  FA6.6
023F6:  GOTO   23F4
023FA:  MOVLB  E
023FC:  MOVWF  xF9
023FE:  MOVFF  19A,9E8
02402:  MOVLW  37
02404:  MOVLB  9
02406:  MOVWF  xE9
02408:  MOVLB  0
0240A:  CALL   2334
0240E:  MOVFF  199,9E8
02412:  MOVLW  37
02414:  MOVLB  9
02416:  MOVWF  xE9
02418:  MOVLB  0
0241A:  CALL   2334
0241E:  MOVLW  0D
02420:  BTFSS  FA6.6
02422:  GOTO   2420
02426:  MOVLB  E
02428:  MOVWF  xF9
0242A:  MOVLW  0A
0242C:  MOVLB  0
0242E:  BTFSS  FA6.6
02430:  GOTO   242E
02434:  MOVLB  E
02436:  MOVWF  xF9
....................     if (readdata == 0xFFFF || readdata == 0x0000) {
02438:  MOVLB  1
0243A:  INCFSZ x99,W
0243C:  BRA    2442
0243E:  BRA    2448
02440:  MOVLB  0
02442:  MOVLB  0
02444:  GOTO   2460
02448:  MOVLB  0
0244A:  MOVLB  1
0244C:  INCFSZ x9A,W
0244E:  BRA    2454
02450:  BRA    245A
02452:  MOVLB  0
02454:  MOVLB  0
02456:  GOTO   2460
0245A:  MOVLB  0
0245C:  GOTO   2480
02460:  MOVLB  1
02462:  MOVF   x99,F
02464:  BTFSC  FD8.2
02466:  BRA    246E
02468:  MOVLB  0
0246A:  GOTO   2494
0246E:  MOVLB  0
02470:  MOVLB  1
02472:  MOVF   x9A,F
02474:  BTFSC  FD8.2
02476:  BRA    247E
02478:  MOVLB  0
0247A:  GOTO   2494
0247E:  MOVLB  0
....................         fprintf(PC, "\tConnect error!\r\n");
02480:  MOVLW  BA
02482:  MOVWF  FF6
02484:  MOVLW  02
02486:  MOVWF  FF7
02488:  MOVLW  00
0248A:  MOVWF  FF8
0248C:  CALL   20CE
....................     } else {
02490:  GOTO   24A4
....................         fprintf(PC, "\tConnect successful\r\n");
02494:  MOVLW  CC
02496:  MOVWF  FF6
02498:  MOVLW  02
0249A:  MOVWF  FF7
0249C:  MOVLW  00
0249E:  MOVWF  FF8
024A0:  CALL   20CE
....................     }
....................     fprintf(PC, "\tComplete\r\n");
024A4:  MOVLW  E2
024A6:  MOVWF  FF6
024A8:  MOVLW  02
024AA:  MOVWF  FF7
024AC:  MOVLW  00
024AE:  MOVWF  FF8
024B0:  CALL   20CE
024B4:  GOTO   12DD6 (RETURN)
.................... }
.................... 
.................... unsigned int16 ad7490_read(int8 channel)
*
022B4:  MOVFF  9EE,9F5
022B8:  GOTO   21DE
022BC:  MOVFF  02,9F0
022C0:  MOVFF  01,9EF
.................... {   
....................     unsigned int16 cmd = ad7490_make_cmd(channel);
....................     // fprintf(PC, "\t[ADC] Command: %04LX\r\n", cmd);
....................     output_low(ADC_CS); 
022C4:  MOVLW  FD
022C6:  MOVWF  F93
022C8:  BCF    F8A.1
....................     delay_us(1); 
022CA:  BRA    22CC
022CC:  BRA    22CE
....................     spi_xfer(ADC_STREAM, cmd); 
022CE:  MOVFF  9F0,9F6
022D2:  MOVFF  9EF,9F5
022D6:  MOVLW  10
022D8:  MOVLB  9
022DA:  MOVWF  xF7
022DC:  MOVLW  01
022DE:  MOVWF  xF8
022E0:  MOVLB  0
022E2:  CALL   224E
....................     #ifdef AD7490_DEBUG
....................        fprintf(PC,"\t[ADC] <<< %04LX\r\n", cmd);
....................     #endif
....................     output_high(ADC_CS); 
022E6:  MOVLW  FD
022E8:  MOVWF  F93
022EA:  BSF    F8A.1
....................     delay_us(1);
022EC:  BRA    22EE
022EE:  BRA    22F0
.................... 
....................     // Read the ADC data
....................     output_low(ADC_CS); 
022F0:  MOVLW  FD
022F2:  MOVWF  F93
022F4:  BCF    F8A.1
....................     delay_us(1);
022F6:  BRA    22F8
022F8:  BRA    22FA
....................     unsigned int16 ans = spi_xfer(ADC_STREAM, 0x0000);
022FA:  MOVLB  9
022FC:  CLRF   xF6
022FE:  CLRF   xF5
02300:  MOVLW  10
02302:  MOVWF  xF7
02304:  MOVLW  01
02306:  MOVWF  xF8
02308:  MOVLB  0
0230A:  CALL   224E
0230E:  MOVFF  02,9F2
02312:  MOVFF  01,9F1
....................     output_high(ADC_CS); 
02316:  MOVLW  FD
02318:  MOVWF  F93
0231A:  BSF    F8A.1
....................     unsigned int16 readdata = ans & 0x0FFF; //Conver LSB <--> MSB
0231C:  MOVLB  9
0231E:  MOVF   xF1,W
02320:  MOVWF  xF3
02322:  MOVF   xF2,W
02324:  ANDLW  0F
02326:  MOVWF  xF4
....................     
....................     #ifdef AD7490_DEBUG
....................         fprintf(PC,"\t[ADC] >>> %04LX\r\n", readdata);
....................     #endif
....................     return readdata;
02328:  MOVF   xF3,W
0232A:  MOVWF  01
0232C:  MOVF   xF4,W
0232E:  MOVWF  02
02330:  MOVLB  0
02332:  RETURN 0
.................... }
.................... 
.................... void ad7490_read_2port(unsigned int8 channel1, unsigned int8 channel2, unsigned int16 *data1, unsigned int16 *data2)
.................... {   
....................     unsigned int16 cmd1 = ad7490_make_cmd(channel1);
....................     unsigned int16 cmd2 = ad7490_make_cmd(channel2);
....................     // fprintf(PC, "\t[ADC] Command: %04LX\r\n", cmd);
....................     output_low(ADC_CS); 
....................     delay_us(1); 
....................     spi_xfer(ADC_STREAM, cmd1); 
....................     #ifdef AD7490_DEBUG
....................        fprintf(PC,"\t[ADC] <<< %04LX\r\n", cmd1);
....................     #endif
....................     output_high(ADC_CS); 
....................     delay_us(1);
.................... 
....................     // Read the ADC data
....................     output_low(ADC_CS); 
....................     delay_us(1);
....................     unsigned int16 ans1 = spi_xfer(ADC_STREAM, cmd2);
....................     #ifdef AD7490_DEBUG
....................        fprintf(PC,"\t[ADC] <<< %04LX\r\n", cmd2);
....................     #endif
....................     output_high(ADC_CS); 
....................     delay_us(1);
....................     unsigned int16 ans2 = spi_xfer(ADC_STREAM, 0x0000);
....................     output_high(ADC_CS); 
....................     unsigned int16 readdata1 = ans1 & 0x0FFF; //Conver LSB <--> MSB
....................     unsigned int16 readdata2 = ans2 & 0x0FFF; //Conver LSB <--> MSB
....................     
....................     #ifdef AD7490_DEBUG
....................         fprintf(PC,"\t[ADC] >>> %04LX\r\n", readdata1);
....................         fprintf(PC,"\t[ADC] >>> %04LX\r\n", readdata2);
....................     #endif
....................     *data1 = readdata1;
....................     *data2 = readdata2;
.................... }
.................... 
.................... 
.................... // End of file
.................... 
.................... #include "device_driver/mcp4901_driver.c"
.................... #include "mcp4901_driver.h"                        
.................... #ifndef MCP4901_DRIVER_H
.................... #define MCP4901_DRIVER_H
.................... 
.................... // MCP4901 Functions
.................... void mcp4901_init();
.................... void mcp4901_1_write(unsigned int16 val);
.................... void mcp4901_2_write(unsigned int16 val);
.................... 
.................... #endif // MCP4901_DRIVER_H
.................... //------------------End of File------------------
.................... 
.................... #include "../hal/cigs_config.h"             
.................... #ifndef MMJ_CIGS_CONFIG_H
.................... #define MMJ_CIGS_CONFIG_H
.................... 
.................... 
.................... 
.................... 
.................... #include <18F67J94.h>
.................... //#include <16F1789.h>
.................... #opt 0 // 0 = no optimization, 1 = optimize for speed, 2 = optimize for size
.................... 
.................... #device ADC=12
.................... #use delay(crystal=16MHz)
.................... #fuses HS, NOWDT, NOBROWNOUT, NOPROTECT
.................... #device HIGH_INTS=TRUE
.................... #define PIC18
.................... //#define PIC16
.................... 
.................... 
.................... 
.................... #ifdef PIC16
....................     //#include <16F1789.h>
....................     #fuses NOMCLR
....................     //-------------Serial--------------------
....................     #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,stream=BOSS)
....................     #use rs232(baud=9600,parity=N,xmit=PIN_B4,bits=8,stream=PC,FORCE_SW)
.................... 
.................... 
....................     // -------------SPI--------------------
....................     // MOSI:PIN_C5, MISO:PIN_C4, SCK:PIN_C3
....................     // Shared Mission Flash
....................     #define MIS_FM_CS  PIN_D3
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS= 8, STREAM = MIS_FM_STREAM)
.................... 
....................     // Mission Flash
....................     #define SMF_CS PIN_D1
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = SMF_STREAM)
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = spi_cell_write)
....................     // Analog to Digital Converter 
....................     #define ADC_CS PIN_D2
....................     //#use spi(MASTER, SPI1, BAUD = 9600, MODE=2, BITS = 16, STREAM = ADC_STREAM)
....................     #use spi(MASTER, CLK = PIN_C3, DI = PIN_C4, DO = PIN_C5, ENABLE = PIN_D2, BAUD = 57600, BITS = 16, STREAM = ADC_STREAM, MODE = 2 )
....................     
....................     
....................     // AI/O___ADC
....................     #define TEMP_TOP PIN_B0
....................     #define TEMP_BOT PIN_A3
....................     #define CIGS_VOLT PIN_A0 //PIN_A0
....................     #define CIGS_CURR PIN_A1
....................     #define PD PIN_E0
....................     #define VREF PIN_A4
....................  
....................     // AI/O___DAC
....................     #define LOAD PIN_A5
.................... 
....................     /* DEMO
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A0, MODE=0, BITS=8, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A1, MODE=0, BITS=8, ENABLE_ACTIVE=1, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A3, BAUD=40000, MODE=2, BITS=16, ENABLE_ACTIVE=1, STREAM=ADC)
....................     #use spi (MASTER, MODE=0, BITS=8, STREAM=SPI_4)
....................     */
.................... #endif
.................... 
.................... #ifdef PIC18
....................     //#include <18F67J94.h>
....................     //-------------UART--------------------
....................     // BOSS command port
....................     #pin_select TX3=PIN_E3                                                          
....................     #pin_select RX3=PIN_F2                                                        
....................     #use rs232(baud=9600, parity=N, UART3, bits=8, stream=BOSS, ERRORS)                      
....................     
....................     // PC debug port
....................     #pin_select TX4=PIN_E5
....................     #pin_select RX4=PIN_D4  
....................     #use rs232(baud=9600,parity=N, UART4, bits=8,stream=PC, ERRORS)
.................... 
....................     // -------------SPI--------------------
....................     // Shared Mission Flash
....................     #define SMF_CS PIN_A2
....................     #pin_select SCK1OUT=PIN_A3
....................     #pin_select SDI1=PIN_A0
....................     #pin_select SDO1=PIN_A1
....................     // #use spi (MASTER, SPI1, BAUD=200000, MODE=0, BITS=8, STREAM=SMF_STREAM)
....................     #use spi (MASTER, CLK=PIN_A3, DI=PIN_A1, DO=PIN_A0, BAUD=20000000, MODE=0, BITS=8, STREAM=SMF_STREAM)
.................... 
.................... 
....................     // Mission Flash
....................     #define MIS_FM_CS  PIN_G0
....................     #use spi (MASTER, CLK=PIN_E1, DI=PIN_E0, DO=PIN_E6, BAUD=20000000, MODE=0, BITS=8, STREAM=MIS_FM_STREAM)
.................... 
.................... 
....................     // ADC  
....................     #define ADC_CS PIN_B1
....................     // #pin_select SCK2OUT=PIN_B2
....................     // #pin_select SDI2=PIN_B4
....................     // #pin_select SDO2=PIN_B5
....................     // #use spi (MASTER, SPI2, BAUD=200000, MODE=2, BITS=16, STREAM=ADC_STREAM)
....................     #use spi (MASTER, CLK=PIN_B2, DI=PIN_B4, DO=PIN_B5, BAUD=20000000, MODE=2, BITS=16, STREAM=ADC_STREAM)
.................... 
....................     // DAC
....................     #define DAC1_CS PIN_D7
....................     #define DAC2_CS PIN_D6
....................     #use spi (MASTER, CLK=PIN_D5, DO=PIN_D4,  BAUD=20000000, MODE=2, BITS=16, STREAM=DAC_STREAM)
.................... 
.................... 
....................     // DI/O___
....................     #define CONNECT_CIGS1 PIN_C3
....................     #define CONNECT_CIGS2 PIN_C5
....................     #define EN_NPWR1 PIN_C7
....................     #define EN_NPWR2 PIN_C6
.................... 
.................... #endif
.................... 
.................... //-------------I/O port--------------------
.................... #use FIXED_IO( A_outputs=SMF_CS )
.................... #use FIXED_IO( B_outputs=ADC_CS )
.................... #use FIXED_IO( C_outputs=CONNECT_CIGS1, CONNECT_CIGS2, EN_NPWR1, EN_NPWR2 )
.................... #use FIXED_IO( D_outputs=DAC1_CS, DAC2_CS )
.................... #use FIXED_IO( G_outputs=MIS_FM_CS )
.................... 
.................... // ADC Settings
.................... #define ADC_CIGS1_VOLT      AD7490_CH0
.................... #define ADC_CIGS1_CURR      AD7490_CH1
.................... #define ADC_CIGS1_AMP       AD7490_CH2
.................... #define ADC_CIGS1_VREF      AD7490_CH3
.................... #define ADC_CIGS2_VOLT      AD7490_CH4
.................... #define ADC_CIGS2_CURR      AD7490_CH5
.................... #define ADC_CIGS2_AMP       AD7490_CH6
.................... #define ADC_CIGS2_VREF      AD7490_CH7
.................... #define ADC_CIGS1_DAC       AD7490_CH8
.................... #define ADC_CIGS2_DAC       AD7490_CH9
.................... #define EMPTY_VIN0          AD7490_CH10
.................... #define EMPTY_VIN1          AD7490_CH11
.................... #define ADC_TEMP_MIS7       AD7490_CH12
.................... #define ADC_TEMP_PY_TOP     AD7490_CH13
.................... #define ADC_TEMP_PY_BOT     AD7490_CH14
.................... #define ADC_PD              AD7490_CH15
.................... 
.................... #endif // MMJ_CIGS_CONFIG_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/device/mcp4901.h"       
.................... // ===================== mcp4911.h =====================
.................... #ifndef _MCP4901_H_
.................... #define _MCP4901_H_
.................... 
.................... typedef union {
....................    unsigned int16 value; // 16-bit value to write to the DAC
....................    struct {
....................       int1 reserved4; // Reserved bit, should be 0
....................       int1 reserved3; // Reserved bit, should be 0
....................       int1 reserved2; // Reserved bit, should be 0
....................       int1 reserved; // Reserved bit, should be 0
....................       int1 data0; // LSB of the data
....................       int1 data1; // 8-bit data to write to the DAC
....................       int1 data2; // 8-bit data to write to the DAC
....................       int1 data3; // 8-bit data to write to the DAC
....................       int1 data4; // 8-bit data to write to the DAC
....................       int1 data5; // 8-bit data to write to the DAC
....................       int1 data6; // 8-bit data to write to the DAC
....................       int1 data7; // 8-bit data to write to the DAC
....................       int1 shutdown; // 1: Shutdown mode, 0: Normal operation
....................       int1 gain; // 1: Gain 2x, 0: Gain 1x
....................       int1 buffer; // Buffer not used, should be 0
....................       int1 startbit; // Start bit, should be 1
....................    } fields;
.................... } mcp4901_cmd_t;
.................... 
.................... typedef enum {
....................    MCP4901_SHUTDOWN = 0,
....................    MCP4901_NORMAL_OPERATION = 1
.................... } mcp4901_mode_t;
.................... 
.................... typedef enum {
....................    MCP4901_GAIN_2X = 0,
....................    MCP4901_GAIN_1X = 1
.................... } mcp4901_gain_t;
.................... 
.................... 
.................... 
.................... 
.................... 
.................... // ---------------------- Public API --------------------------
.................... void mcp4911_init();
.................... 
.................... unsigned int16 mcp4901_make_cmd(unsigned int16 value);
.................... 
.................... #endif /* _MCP4911_H_ */
.................... // ===================== mcp4911.h =====================
.................... 
.................... 
.................... // #define MCP4901_DEBUG
.................... 
.................... void mcp4901_init()
.................... {
....................     fprintf(PC, "MCP4901 Initialize\r\n");
*
026E0:  MOVLW  EE
026E2:  MOVWF  FF6
026E4:  MOVLW  02
026E6:  MOVWF  FF7
026E8:  MOVLW  00
026EA:  MOVWF  FF8
026EC:  CALL   20CE
....................     output_high(DAC1_CS); 
026F0:  MOVLW  3F
026F2:  MOVWF  F95
026F4:  BSF    F8C.7
....................     output_high(DAC2_CS); 
026F6:  MOVLW  3F
026F8:  MOVWF  F95
026FA:  BSF    F8C.6
....................     delay_ms(10); 
026FC:  MOVLW  0A
026FE:  MOVLB  B
02700:  MOVWF  x03
02702:  MOVLB  0
02704:  CALL   20A0
....................     mcp4901_1_write(10); 
02708:  MOVLB  9
0270A:  CLRF   xDD
0270C:  MOVLW  0A
0270E:  MOVWF  xDC
02710:  MOVLB  0
02712:  CALL   2664
....................     mcp4901_2_write(10); 
02716:  MOVLB  9
02718:  CLRF   xDD
0271A:  MOVLW  0A
0271C:  MOVWF  xDC
0271E:  MOVLB  0
02720:  CALL   26A2
....................     unsigned int16 readdata;
....................     readdata = ad7490_read(ADC_CIGS1_CURR); 
02724:  MOVLW  01
02726:  MOVLB  9
02728:  MOVWF  xEE
0272A:  MOVLB  0
0272C:  CALL   22B4
02730:  MOVFF  02,19A
02734:  MOVFF  01,199
....................     fprintf(PC, "%04LX\r\n", readdata);
02738:  MOVFF  19A,9E8
0273C:  MOVLW  37
0273E:  MOVLB  9
02740:  MOVWF  xE9
02742:  MOVLB  0
02744:  CALL   2334
02748:  MOVFF  199,9E8
0274C:  MOVLW  37
0274E:  MOVLB  9
02750:  MOVWF  xE9
02752:  MOVLB  0
02754:  CALL   2334
02758:  MOVLW  0D
0275A:  BTFSS  FA6.6
0275C:  GOTO   275A
02760:  MOVLB  E
02762:  MOVWF  xF9
02764:  MOVLW  0A
02766:  MOVLB  0
02768:  BTFSS  FA6.6
0276A:  GOTO   2768
0276E:  MOVLB  E
02770:  MOVWF  xF9
....................     if (readdata == 0xFFFF || readdata == 0x0000) {
02772:  MOVLB  1
02774:  INCFSZ x99,W
02776:  BRA    277C
02778:  BRA    2782
0277A:  MOVLB  0
0277C:  MOVLB  0
0277E:  GOTO   279A
02782:  MOVLB  0
02784:  MOVLB  1
02786:  INCFSZ x9A,W
02788:  BRA    278E
0278A:  BRA    2794
0278C:  MOVLB  0
0278E:  MOVLB  0
02790:  GOTO   279A
02794:  MOVLB  0
02796:  GOTO   27BA
0279A:  MOVLB  1
0279C:  MOVF   x99,F
0279E:  BTFSC  FD8.2
027A0:  BRA    27A8
027A2:  MOVLB  0
027A4:  GOTO   27CE
027A8:  MOVLB  0
027AA:  MOVLB  1
027AC:  MOVF   x9A,F
027AE:  BTFSC  FD8.2
027B0:  BRA    27B8
027B2:  MOVLB  0
027B4:  GOTO   27CE
027B8:  MOVLB  0
....................         fprintf(PC, "\t[DAC Port 1] Connect error!\r\n");
027BA:  MOVLW  04
027BC:  MOVWF  FF6
027BE:  MOVLW  03
027C0:  MOVWF  FF7
027C2:  MOVLW  00
027C4:  MOVWF  FF8
027C6:  CALL   20CE
....................     } else {
027CA:  GOTO   27DE
....................         fprintf(PC, "\t[DAC Port 1] Connect successful\r\n");
027CE:  MOVLW  24
027D0:  MOVWF  FF6
027D2:  MOVLW  03
027D4:  MOVWF  FF7
027D6:  MOVLW  00
027D8:  MOVWF  FF8
027DA:  CALL   20CE
....................     }
....................     fprintf(PC, "%04LX\r\n", readdata);
027DE:  MOVFF  19A,9E8
027E2:  MOVLW  37
027E4:  MOVLB  9
027E6:  MOVWF  xE9
027E8:  MOVLB  0
027EA:  CALL   2334
027EE:  MOVFF  199,9E8
027F2:  MOVLW  37
027F4:  MOVLB  9
027F6:  MOVWF  xE9
027F8:  MOVLB  0
027FA:  CALL   2334
027FE:  MOVLW  0D
02800:  BTFSS  FA6.6
02802:  GOTO   2800
02806:  MOVLB  E
02808:  MOVWF  xF9
0280A:  MOVLW  0A
0280C:  MOVLB  0
0280E:  BTFSS  FA6.6
02810:  GOTO   280E
02814:  MOVLB  E
02816:  MOVWF  xF9
....................     readdata = ad7490_read(ADC_CIGS2_CURR); 
02818:  MOVLW  05
0281A:  MOVLB  9
0281C:  MOVWF  xEE
0281E:  MOVLB  0
02820:  CALL   22B4
02824:  MOVFF  02,19A
02828:  MOVFF  01,199
....................     if (readdata == 0xFFFF || readdata == 0x0000) {
0282C:  MOVLB  1
0282E:  INCFSZ x99,W
02830:  BRA    2836
02832:  BRA    283C
02834:  MOVLB  0
02836:  MOVLB  0
02838:  GOTO   2854
0283C:  MOVLB  0
0283E:  MOVLB  1
02840:  INCFSZ x9A,W
02842:  BRA    2848
02844:  BRA    284E
02846:  MOVLB  0
02848:  MOVLB  0
0284A:  GOTO   2854
0284E:  MOVLB  0
02850:  GOTO   2874
02854:  MOVLB  1
02856:  MOVF   x99,F
02858:  BTFSC  FD8.2
0285A:  BRA    2862
0285C:  MOVLB  0
0285E:  GOTO   2888
02862:  MOVLB  0
02864:  MOVLB  1
02866:  MOVF   x9A,F
02868:  BTFSC  FD8.2
0286A:  BRA    2872
0286C:  MOVLB  0
0286E:  GOTO   2888
02872:  MOVLB  0
....................         fprintf(PC, "\t[DAC Port 2] Connect error!\r\n");
02874:  MOVLW  48
02876:  MOVWF  FF6
02878:  MOVLW  03
0287A:  MOVWF  FF7
0287C:  MOVLW  00
0287E:  MOVWF  FF8
02880:  CALL   20CE
....................     } else {
02884:  GOTO   2898
....................         fprintf(PC, "\t[DAC Port 2] Connect successful\r\n");
02888:  MOVLW  68
0288A:  MOVWF  FF6
0288C:  MOVLW  03
0288E:  MOVWF  FF7
02890:  MOVLW  00
02892:  MOVWF  FF8
02894:  CALL   20CE
....................     }
....................     fprintf(PC, "\tComplete\r\n");
02898:  MOVLW  8C
0289A:  MOVWF  FF6
0289C:  MOVLW  03
0289E:  MOVWF  FF7
028A0:  MOVLW  00
028A2:  MOVWF  FF8
028A4:  CALL   20CE
028A8:  GOTO   12DDA (RETURN)
.................... }
.................... 
.................... 
.................... void mcp4901_1_write(unsigned int16 value)
*
02664:  MOVFF  9DD,9E1
02668:  MOVFF  9DC,9E0
0266C:  CALL   24B8
02670:  MOVFF  02,9DF
02674:  MOVFF  01,9DE
.................... {
....................     unsigned int16 cmd = mcp4901_make_cmd(value);
....................     #ifdef MCP4901_DEBUG
....................       fprintf(PC, "\t[DAC] <<< %04LX\r\n", cmd);
....................     #endif
....................     output_low(DAC1_CS); 
02678:  MOVLW  3F
0267A:  MOVWF  F95
0267C:  BCF    F8C.7
....................     delay_us(1); 
0267E:  BRA    2680
02680:  BRA    2682
....................     spi_xfer(DAC_STREAM, cmd); 
02682:  MOVFF  9DF,9E1
02686:  MOVFF  9DE,9E0
0268A:  MOVLW  10
0268C:  MOVLB  9
0268E:  MOVWF  xE2
02690:  MOVLW  01
02692:  MOVWF  xE3
02694:  MOVLB  0
02696:  CALL   260C
....................     output_high(DAC1_CS); 
0269A:  MOVLW  3F
0269C:  MOVWF  F95
0269E:  BSF    F8C.7
026A0:  RETURN 0
.................... }
.................... 
.................... void mcp4901_2_write(unsigned int16 value)
026A2:  MOVFF  9DD,9E1
026A6:  MOVFF  9DC,9E0
026AA:  CALL   24B8
026AE:  MOVFF  02,9DF
026B2:  MOVFF  01,9DE
.................... {
....................    unsigned int16 cmd = mcp4901_make_cmd(value);
....................    #ifdef MCP4901_DEBUG
....................       fprintf(PC, "\t[DAC] <<< %04LX\r\n", cmd);
....................    #endif
....................    output_low(DAC2_CS); 
026B6:  MOVLW  3F
026B8:  MOVWF  F95
026BA:  BCF    F8C.6
....................    delay_us(1); 
026BC:  BRA    26BE
026BE:  BRA    26C0
....................    spi_xfer(DAC_STREAM, cmd); 
026C0:  MOVFF  9DF,9E1
026C4:  MOVFF  9DE,9E0
026C8:  MOVLW  10
026CA:  MOVLB  9
026CC:  MOVWF  xE2
026CE:  MOVLW  01
026D0:  MOVWF  xE3
026D2:  MOVLB  0
026D4:  CALL   260C
....................    output_high(DAC2_CS); 
026D8:  MOVLW  3F
026DA:  MOVWF  F95
026DC:  BSF    F8C.6
026DE:  RETURN 0
.................... }
.................... // End of file
.................... 
.................... 
.................... // ライブラリ実装ファイル
.................... #include "../lib/device/ad7490.c"
.................... // #include "ad7490.h"  // ヘッダーファイルから自動的にインクルードされるため不要
.................... 
.................... unsigned int16 ad7490_readdata(unsigned int16 channel)
.................... {
....................     spi_xfer(ADC_STREAM, channel); // Dummy transfer to start communication
....................     #ifdef AD7490_DEBUG
....................         fprintf(PC, "\t[ADC] <<< %04LX\r\n", channel);
....................     #endif
....................     unsigned int16 ans = spi_xfer(ADC_STREAM);
....................     return ans & 0x0FFF; //Conver LSB <--> MSB
.................... }
.................... 
.................... unsigned int16 ad7490_make_cmd(int8 channel)
.................... {
....................     ad7490_cmd_t cmd;
....................     
....................     cmd.fields.reserved0 = 0; // Reserved bits
*
021DE:  MOVLB  9
021E0:  BCF    xF6.0
....................     cmd.fields.reserved1 = 0; // Reserved bits
021E2:  BCF    xF6.1
....................     cmd.fields.reserved2 = 0; // Reserved bits
021E4:  BCF    xF6.2
....................     cmd.fields.reserved3 = 0;
021E6:  BCF    xF6.3
....................     cmd.fields.coding = 1; // Two's complement
021E8:  BSF    xF6.4
....................     cmd.fields.range = 0; // Normal mode
021EA:  BCF    xF6.5
....................     cmd.fields.weak_tri = 0; // Strong trigger
021EC:  BCF    xF6.6
....................     cmd.fields.shadow = 0; // Direct access
021EE:  BCF    xF6.7
....................     cmd.fields.pm0 = AD7490_PM_NORMAL & 0b00000001; // Power mode bits
021F0:  BSF    xF7.0
....................     cmd.fields.pm1 = (AD7490_PM_NORMAL >> 1) & 0b00000001; // Power mode bits
021F2:  BSF    xF7.1
....................     cmd.fields.add0 = (channel >> 0) & 0b00000001; // Channel address bits
021F4:  MOVF   xF5,W
021F6:  ANDLW  01
021F8:  MOVWF  01
021FA:  BCF    xF7.2
021FC:  BTFSC  01.0
021FE:  BSF    xF7.2
....................     cmd.fields.add1 = (channel >> 1) & 0b00000001; // Channel address bits
02200:  BCF    FD8.0
02202:  RRCF   xF5,W
02204:  ANDLW  01
02206:  MOVWF  01
02208:  BCF    xF7.3
0220A:  BTFSC  01.0
0220C:  BSF    xF7.3
....................     cmd.fields.add2 = (channel >> 2) & 0b00000001; // Channel address bits
0220E:  RRCF   xF5,W
02210:  MOVWF  00
02212:  RRCF   00,F
02214:  MOVLW  3F
02216:  ANDWF  00,F
02218:  MOVF   00,W
0221A:  ANDLW  01
0221C:  MOVWF  01
0221E:  BCF    xF7.4
02220:  BTFSC  01.0
02222:  BSF    xF7.4
....................     cmd.fields.add3 = (channel >> 3) & 0b00000001; // Channel address bits
02224:  RRCF   xF5,W
02226:  MOVWF  00
02228:  RRCF   00,F
0222A:  RRCF   00,F
0222C:  MOVLW  1F
0222E:  ANDWF  00,F
02230:  MOVF   00,W
02232:  ANDLW  01
02234:  MOVWF  01
02236:  BCF    xF7.5
02238:  BTFSC  01.0
0223A:  BSF    xF7.5
....................     cmd.fields.seq = 0; // Random mode
0223C:  BCF    xF7.6
....................     cmd.fields.write = 1; // Read operation
0223E:  BSF    xF7.7
....................     return cmd.value;
02240:  MOVF   xF6,W
02242:  MOVWF  01
02244:  MOVF   xF7,W
02246:  MOVWF  02
02248:  MOVLB  0
0224A:  GOTO   22BC (RETURN)
.................... }
.................... 
.................... #include "../lib/device/mcp4901.c"
.................... // #include "mcp4901.h"  // ヘッダーファイルから自動的にインクルードされるため不要
.................... 
.................... unsigned int16 mcp4901_make_cmd(unsigned int16 value)
.................... {
....................    mcp4901_cmd_t cmd;
....................    cmd.fields.startbit = 0; // Start bit
*
024B8:  MOVLB  9
024BA:  BCF    xE3.7
....................    cmd.fields.buffer = 1; // Buffer used
024BC:  BSF    xE3.6
....................    cmd.fields.gain = 1; // Gain 1x
024BE:  BSF    xE3.5
....................    cmd.fields.shutdown = 1; // Normal operation
024C0:  BSF    xE3.4
....................    cmd.fields.data7 = (value >> 7) & 0x01;
024C2:  RRCF   xE1,W
024C4:  MOVWF  xE5
024C6:  RRCF   xE0,W
024C8:  MOVWF  xE4
024CA:  RRCF   xE5,F
024CC:  RRCF   xE4,F
024CE:  RRCF   xE5,F
024D0:  RRCF   xE4,F
024D2:  RRCF   xE5,F
024D4:  RRCF   xE4,F
024D6:  RRCF   xE5,F
024D8:  RRCF   xE4,F
024DA:  RRCF   xE5,F
024DC:  RRCF   xE4,F
024DE:  RRCF   xE5,F
024E0:  RRCF   xE4,F
024E2:  MOVLW  01
024E4:  ANDWF  xE5,F
024E6:  MOVF   xE4,W
024E8:  ANDLW  01
024EA:  MOVWF  00
024EC:  CLRF   03
024EE:  MOVF   00,W
024F0:  MOVWF  01
024F2:  BCF    xE3.3
024F4:  BTFSC  01.0
024F6:  BSF    xE3.3
....................    cmd.fields.data6 = (value >> 6) & 0x01;
024F8:  RRCF   xE1,W
024FA:  MOVWF  xE5
024FC:  RRCF   xE0,W
024FE:  MOVWF  xE4
02500:  RRCF   xE5,F
02502:  RRCF   xE4,F
02504:  RRCF   xE5,F
02506:  RRCF   xE4,F
02508:  RRCF   xE5,F
0250A:  RRCF   xE4,F
0250C:  RRCF   xE5,F
0250E:  RRCF   xE4,F
02510:  RRCF   xE5,F
02512:  RRCF   xE4,F
02514:  MOVLW  03
02516:  ANDWF  xE5,F
02518:  MOVF   xE4,W
0251A:  ANDLW  01
0251C:  MOVWF  00
0251E:  CLRF   03
02520:  MOVF   00,W
02522:  MOVWF  01
02524:  BCF    xE3.2
02526:  BTFSC  01.0
02528:  BSF    xE3.2
....................    cmd.fields.data5 = (value >> 5) & 0x01;
0252A:  RRCF   xE1,W
0252C:  MOVWF  xE5
0252E:  RRCF   xE0,W
02530:  MOVWF  xE4
02532:  RRCF   xE5,F
02534:  RRCF   xE4,F
02536:  RRCF   xE5,F
02538:  RRCF   xE4,F
0253A:  RRCF   xE5,F
0253C:  RRCF   xE4,F
0253E:  RRCF   xE5,F
02540:  RRCF   xE4,F
02542:  MOVLW  07
02544:  ANDWF  xE5,F
02546:  MOVF   xE4,W
02548:  ANDLW  01
0254A:  MOVWF  00
0254C:  CLRF   03
0254E:  MOVF   00,W
02550:  MOVWF  01
02552:  BCF    xE3.1
02554:  BTFSC  01.0
02556:  BSF    xE3.1
....................    cmd.fields.data4 = (value >> 4) & 0x01;
02558:  RRCF   xE1,W
0255A:  MOVWF  xE5
0255C:  RRCF   xE0,W
0255E:  MOVWF  xE4
02560:  RRCF   xE5,F
02562:  RRCF   xE4,F
02564:  RRCF   xE5,F
02566:  RRCF   xE4,F
02568:  RRCF   xE5,F
0256A:  RRCF   xE4,F
0256C:  MOVLW  0F
0256E:  ANDWF  xE5,F
02570:  MOVF   xE4,W
02572:  ANDLW  01
02574:  MOVWF  00
02576:  CLRF   03
02578:  MOVF   00,W
0257A:  MOVWF  01
0257C:  BCF    xE3.0
0257E:  BTFSC  01.0
02580:  BSF    xE3.0
....................    cmd.fields.data3 = (value >> 3) & 0x01;
02582:  RRCF   xE1,W
02584:  MOVWF  xE5
02586:  RRCF   xE0,W
02588:  MOVWF  xE4
0258A:  RRCF   xE5,F
0258C:  RRCF   xE4,F
0258E:  RRCF   xE5,F
02590:  RRCF   xE4,F
02592:  MOVLW  1F
02594:  ANDWF  xE5,F
02596:  MOVF   xE4,W
02598:  ANDLW  01
0259A:  MOVWF  00
0259C:  CLRF   03
0259E:  MOVF   00,W
025A0:  MOVWF  01
025A2:  BCF    xE2.7
025A4:  BTFSC  01.0
025A6:  BSF    xE2.7
....................    cmd.fields.data2 = (value >> 2) & 0x01;
025A8:  RRCF   xE1,W
025AA:  MOVWF  xE5
025AC:  RRCF   xE0,W
025AE:  MOVWF  xE4
025B0:  RRCF   xE5,F
025B2:  RRCF   xE4,F
025B4:  MOVLW  3F
025B6:  ANDWF  xE5,F
025B8:  MOVF   xE4,W
025BA:  ANDLW  01
025BC:  MOVWF  00
025BE:  CLRF   03
025C0:  MOVF   00,W
025C2:  MOVWF  01
025C4:  BCF    xE2.6
025C6:  BTFSC  01.0
025C8:  BSF    xE2.6
....................    cmd.fields.data1 = (value >> 1) & 0x01;
025CA:  BCF    FD8.0
025CC:  RRCF   xE1,W
025CE:  MOVWF  xE5
025D0:  RRCF   xE0,W
025D2:  MOVWF  xE4
025D4:  MOVF   xE4,W
025D6:  ANDLW  01
025D8:  MOVWF  00
025DA:  CLRF   03
025DC:  MOVF   00,W
025DE:  MOVWF  01
025E0:  BCF    xE2.5
025E2:  BTFSC  01.0
025E4:  BSF    xE2.5
....................    cmd.fields.data0 = value & 0x01; // LSB of the data
025E6:  MOVF   xE0,W
025E8:  ANDLW  01
025EA:  MOVWF  00
025EC:  CLRF   03
025EE:  MOVF   00,W
025F0:  MOVWF  01
025F2:  BCF    xE2.4
025F4:  BTFSC  01.0
025F6:  BSF    xE2.4
....................    cmd.fields.reserved = 0; // Reserved bits
025F8:  BCF    xE2.3
....................    cmd.fields.reserved2 = 0; // Reserved bits
025FA:  BCF    xE2.2
....................    cmd.fields.reserved3 = 0; // Reserved bits
025FC:  BCF    xE2.1
....................    cmd.fields.reserved4 = 0; // Reserved bits
025FE:  BCF    xE2.0
.................... 
....................    return cmd.value;
02600:  MOVF   xE2,W
02602:  MOVWF  01
02604:  MOVF   xE3,W
02606:  MOVWF  02
02608:  MOVLB  0
0260A:  RETURN 0
.................... }
.................... 
.................... #include "../lib/device/mt25q.c"
.................... #include "mt25q.h"  // ヘッダーファイルから自動的にインクルードされるため不要
.................... #ifndef MT25Q_H
.................... #define MT25Q_H
.................... 
.................... // =========
.................... //#define MT25Q_DEBUG
.................... // =========
.................... 
.................... #define SUBSECTOR_4K_BYTE 0x00001000
.................... #define SUBSECTOR_32K_BYTE 0x00008000
.................... #define SECTOR_64K_BYTE 0x00010000
.................... 
.................... 
.................... 
.................... #define FLASH_STREAM0 MIS_FM_STREAM     // <- Align the names to `config.h` Stream name
.................... #define FLASH_STREAM1 SMF_STREAM
.................... #define FLASH_STREAM2 SMF_STREAM // dont use
.................... #define FLASH_STREAM3 SMF_STREAM // dont use
.................... 
.................... typedef enum spi_stream{
....................     SPI_0 = 0,
....................     SPI_1,
....................     SPI_2,
....................     SPI_3
.................... }SpiStreamId;
.................... 
.................... #define MT25QL128ABA 0x00     //Mission Flash
.................... #define MT25QL01GBBB 0x01     //SMF,CF
.................... typedef struct select_stream_to_flash{
....................     SpiStreamId spi_stream_id;
....................     unsigned int8 flash_model;
....................     int16 cs_pin;
.................... }Flash;
.................... 
.................... 
.................... Flash mis_fm = {SPI_0, MT25QL128ABA, MIS_FM_CS};
.................... Flash smf = {SPI_1, MT25QL01GBBB, SMF_CS};
.................... 
.................... 
.................... 
.................... // ===================== Function List =====================
.................... // Public Functions
.................... 
.................... int1 is_connect(Flash flash_stream);
.................... 
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount);      
.................... 
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount);  
.................... 
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address);
.................... 
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address);  
....................                                
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address);      
.................... 
.................... //Private Functions
....................  
.................... void flash_setting(Flash flash_stream);
....................  
.................... int8 status_register(Flash flash_stream);
....................  
.................... int8 read_id(Flash flash_stream);
.................... 
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address);
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data);
.................... 
.................... 
.................... 
.................... // ===================== Flash Commands =====================
.................... #define CMD_READ_ID                     0x9F
.................... #define CMD_READ_STATUS_REGISTER        0x05
.................... #define CMD_READ                        0x03//for MT25QL128ABA
.................... #define CMD_4BYTE_READ                  0x13//for MT25QL01GBBB
.................... #define CMD_WRITE_ENABLE                0x06
.................... #define CMD_PAGE_PROGRAM                0x02//for MT25QL128ABA
.................... #define CMD_4BYTE_PAGE_PROGRAM          0x12//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_4KB_ERASE         0x20//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_4KB_ERASE   0x21//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_32KB_ERASE        0x52//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_32KB_ERASE  0x5C//for MT25QL01GBBB
.................... #define CMD_SECTOR_ERASE                0xD8//for MT25QL128ABA
.................... #define CMD_4BYTE_SECTOR_ERASE          0xDC//for MT25QL01GBBB
.................... 
.................... // ====================== Value List =====================
.................... #define MANUFACTURER_ID_MICRON 0x20 // Manufacturer ID for Micron flash
.................... #define READ_ID_DATASIZE 20 // 20 bytes for read ID data
.................... 
.................... 
.................... // ====================== Data Structures =====================
.................... typedef union
.................... {
....................     unsigned int8 bytes[READ_ID_DATASIZE]; // 20 bytes for read ID
....................     struct {
....................         unsigned int8 manufacturer_id; // 1 byte
....................         unsigned int8 memory_type;     // 1 byte
....................         unsigned int8 capacity;        // 1 byte
....................         unsigned int8 reserved;       // 1 byte
....................     } fields;
.................... }READ_ID_DATA;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... //send multi bytes
.................... void spi_xfer_select_stream(Flash flash_stream, unsigned int8 *write_data, unsigned int16 write_amount){
....................    switch(flash_stream.spi_stream_id){
*
03A1A:  MOVLB  B
03A1C:  MOVF   x03,W
03A1E:  XORLW  00
03A20:  MOVLB  0
03A22:  BTFSC  FD8.2
03A24:  GOTO   3A34
03A28:  XORLW  01
03A2A:  BTFSC  FD8.2
03A2C:  GOTO   3A9C
03A30:  GOTO   3B04
....................       case SPI_0:
....................          for(unsigned int16 spi_xfer_num = 0;spi_xfer_num < write_amount;spi_xfer_num++)
03A34:  MOVLB  B
03A36:  CLRF   x0C
03A38:  CLRF   x0B
03A3A:  MOVLB  0
03A3C:  MOVLB  B
03A3E:  MOVF   x0C,W
03A40:  SUBWF  x0A,W
03A42:  BTFSC  FD8.0
03A44:  BRA    3A4C
03A46:  MOVLB  0
03A48:  GOTO   3A98
03A4C:  MOVLB  0
03A4E:  BTFSS  FD8.2
03A50:  GOTO   3A66
03A54:  MOVLB  B
03A56:  MOVF   x09,W
03A58:  SUBWF  x0B,W
03A5A:  BTFSS  FD8.0
03A5C:  BRA    3A64
03A5E:  MOVLB  0
03A60:  GOTO   3A98
03A64:  MOVLB  0
....................             spi_xfer(FLASH_STREAM0,write_data[spi_xfer_num]);
03A66:  MOVLB  B
03A68:  MOVF   x07,W
03A6A:  ADDWF  x0B,W
03A6C:  MOVWF  FE9
03A6E:  MOVF   x08,W
03A70:  ADDWFC x0C,W
03A72:  MOVWF  FEA
03A74:  MOVFF  FEF,B0F
03A78:  MOVFF  B0F,B25
03A7C:  MOVLW  08
03A7E:  MOVWF  x26
03A80:  MOVLW  01
03A82:  MOVWF  x27
03A84:  MOVLB  0
03A86:  CALL   2900
03A8A:  MOVLB  B
03A8C:  INCF   x0B,F
03A8E:  BTFSC  FD8.2
03A90:  INCF   x0C,F
03A92:  MOVLB  0
03A94:  GOTO   3A3C
....................          break;
03A98:  GOTO   3B08
....................          
....................       case SPI_1:
....................          for(unsigned int16 spi_xfer_num = 0;spi_xfer_num < write_amount;spi_xfer_num++)
03A9C:  MOVLB  B
03A9E:  CLRF   x0E
03AA0:  CLRF   x0D
03AA2:  MOVLB  0
03AA4:  MOVLB  B
03AA6:  MOVF   x0E,W
03AA8:  SUBWF  x0A,W
03AAA:  BTFSC  FD8.0
03AAC:  BRA    3AB4
03AAE:  MOVLB  0
03AB0:  GOTO   3B00
03AB4:  MOVLB  0
03AB6:  BTFSS  FD8.2
03AB8:  GOTO   3ACE
03ABC:  MOVLB  B
03ABE:  MOVF   x09,W
03AC0:  SUBWF  x0D,W
03AC2:  BTFSS  FD8.0
03AC4:  BRA    3ACC
03AC6:  MOVLB  0
03AC8:  GOTO   3B00
03ACC:  MOVLB  0
....................             spi_xfer(FLASH_STREAM1,write_data[spi_xfer_num]);
03ACE:  MOVLB  B
03AD0:  MOVF   x07,W
03AD2:  ADDWF  x0D,W
03AD4:  MOVWF  FE9
03AD6:  MOVF   x08,W
03AD8:  ADDWFC x0E,W
03ADA:  MOVWF  FEA
03ADC:  MOVFF  FEF,B0F
03AE0:  MOVFF  B0F,B25
03AE4:  MOVLW  08
03AE6:  MOVWF  x26
03AE8:  MOVLW  01
03AEA:  MOVWF  x27
03AEC:  MOVLB  0
03AEE:  CALL   2960
03AF2:  MOVLB  B
03AF4:  INCF   x0D,F
03AF6:  BTFSC  FD8.2
03AF8:  INCF   x0E,F
03AFA:  MOVLB  0
03AFC:  GOTO   3AA4
....................          break;
03B00:  GOTO   3B08
....................          
....................       default:
....................          break;
03B04:  GOTO   3B08
....................    }
....................    return;
03B08:  RETURN 0
.................... }
.................... 
.................... //send multi bytes then receive multi bytes 
.................... void spi_xfer_and_read_select_stream(Flash flash_stream, unsigned int8 *write_data, unsigned int16 write_amount, unsigned int8 *read_data, unsigned int32 read_amount){
....................    switch(flash_stream.spi_stream_id){
*
029C0:  MOVLB  B
029C2:  MOVF   x09,W
029C4:  XORLW  00
029C6:  MOVLB  0
029C8:  BTFSC  FD8.2
029CA:  GOTO   29DA
029CE:  XORLW  01
029D0:  BTFSC  FD8.2
029D2:  GOTO   2AE4
029D6:  GOTO   2BEE
....................       case SPI_0:
....................       for(unsigned int16 spi_xfer_num = 0;spi_xfer_num < write_amount;spi_xfer_num++)
029DA:  MOVLB  B
029DC:  CLRF   x18
029DE:  CLRF   x17
029E0:  MOVLB  0
029E2:  MOVLB  B
029E4:  MOVF   x18,W
029E6:  SUBWF  x10,W
029E8:  BTFSC  FD8.0
029EA:  BRA    29F2
029EC:  MOVLB  0
029EE:  GOTO   2A3E
029F2:  MOVLB  0
029F4:  BTFSS  FD8.2
029F6:  GOTO   2A0C
029FA:  MOVLB  B
029FC:  MOVF   x0F,W
029FE:  SUBWF  x17,W
02A00:  BTFSS  FD8.0
02A02:  BRA    2A0A
02A04:  MOVLB  0
02A06:  GOTO   2A3E
02A0A:  MOVLB  0
....................          spi_xfer(FLASH_STREAM0, write_data[spi_xfer_num]);
02A0C:  MOVLB  B
02A0E:  MOVF   x0D,W
02A10:  ADDWF  x17,W
02A12:  MOVWF  FE9
02A14:  MOVF   x0E,W
02A16:  ADDWFC x18,W
02A18:  MOVWF  FEA
02A1A:  MOVFF  FEF,B23
02A1E:  MOVFF  B23,B25
02A22:  MOVLW  08
02A24:  MOVWF  x26
02A26:  MOVLW  01
02A28:  MOVWF  x27
02A2A:  MOVLB  0
02A2C:  CALL   2900
02A30:  MOVLB  B
02A32:  INCF   x17,F
02A34:  BTFSC  FD8.2
02A36:  INCF   x18,F
02A38:  MOVLB  0
02A3A:  GOTO   29E2
....................       for(unsigned int32 spi_rcv_num = 0;spi_rcv_num < read_amount;spi_rcv_num++)
02A3E:  MOVLB  B
02A40:  CLRF   x1C
02A42:  CLRF   x1B
02A44:  CLRF   x1A
02A46:  CLRF   x19
02A48:  MOVLB  0
02A4A:  MOVLB  B
02A4C:  MOVF   x1C,W
02A4E:  SUBWF  x16,W
02A50:  BTFSC  FD8.0
02A52:  BRA    2A5A
02A54:  MOVLB  0
02A56:  GOTO   2AE0
02A5A:  MOVLB  0
02A5C:  BTFSS  FD8.2
02A5E:  GOTO   2AA4
02A62:  MOVLB  B
02A64:  MOVF   x1B,W
02A66:  SUBWF  x15,W
02A68:  BTFSC  FD8.0
02A6A:  BRA    2A72
02A6C:  MOVLB  0
02A6E:  GOTO   2AE0
02A72:  MOVLB  0
02A74:  BTFSS  FD8.2
02A76:  GOTO   2AA4
02A7A:  MOVLB  B
02A7C:  MOVF   x1A,W
02A7E:  SUBWF  x14,W
02A80:  BTFSC  FD8.0
02A82:  BRA    2A8A
02A84:  MOVLB  0
02A86:  GOTO   2AE0
02A8A:  MOVLB  0
02A8C:  BTFSS  FD8.2
02A8E:  GOTO   2AA4
02A92:  MOVLB  B
02A94:  MOVF   x13,W
02A96:  SUBWF  x19,W
02A98:  BTFSS  FD8.0
02A9A:  BRA    2AA2
02A9C:  MOVLB  0
02A9E:  GOTO   2AE0
02AA2:  MOVLB  0
....................          read_data[spi_rcv_num] = spi_xfer(FLASH_STREAM0);
02AA4:  MOVLB  B
02AA6:  MOVF   x11,W
02AA8:  ADDWF  x19,W
02AAA:  MOVWF  FE9
02AAC:  MOVF   x12,W
02AAE:  ADDWFC x1A,W
02AB0:  MOVWF  FEA
02AB2:  MOVLW  02
02AB4:  MOVWF  x25
02AB6:  MOVLW  08
02AB8:  MOVWF  x26
02ABA:  MOVLW  01
02ABC:  MOVWF  x27
02ABE:  MOVLB  0
02AC0:  CALL   2900
02AC4:  MOVFF  01,FEF
02AC8:  MOVLW  01
02ACA:  MOVLB  B
02ACC:  ADDWF  x19,F
02ACE:  BTFSC  FD8.0
02AD0:  INCF   x1A,F
02AD2:  BTFSC  FD8.2
02AD4:  INCF   x1B,F
02AD6:  BTFSC  FD8.2
02AD8:  INCF   x1C,F
02ADA:  MOVLB  0
02ADC:  GOTO   2A4A
....................          break;
02AE0:  GOTO   2BF2
....................          
....................       case SPI_1:
....................          for(unsigned int16 spi_xfer_num = 0;spi_xfer_num < write_amount;spi_xfer_num++)
02AE4:  MOVLB  B
02AE6:  CLRF   x1E
02AE8:  CLRF   x1D
02AEA:  MOVLB  0
02AEC:  MOVLB  B
02AEE:  MOVF   x1E,W
02AF0:  SUBWF  x10,W
02AF2:  BTFSC  FD8.0
02AF4:  BRA    2AFC
02AF6:  MOVLB  0
02AF8:  GOTO   2B48
02AFC:  MOVLB  0
02AFE:  BTFSS  FD8.2
02B00:  GOTO   2B16
02B04:  MOVLB  B
02B06:  MOVF   x0F,W
02B08:  SUBWF  x1D,W
02B0A:  BTFSS  FD8.0
02B0C:  BRA    2B14
02B0E:  MOVLB  0
02B10:  GOTO   2B48
02B14:  MOVLB  0
....................             spi_xfer(FLASH_STREAM1, write_data[spi_xfer_num]);
02B16:  MOVLB  B
02B18:  MOVF   x0D,W
02B1A:  ADDWF  x1D,W
02B1C:  MOVWF  FE9
02B1E:  MOVF   x0E,W
02B20:  ADDWFC x1E,W
02B22:  MOVWF  FEA
02B24:  MOVFF  FEF,B23
02B28:  MOVFF  B23,B25
02B2C:  MOVLW  08
02B2E:  MOVWF  x26
02B30:  MOVLW  01
02B32:  MOVWF  x27
02B34:  MOVLB  0
02B36:  CALL   2960
02B3A:  MOVLB  B
02B3C:  INCF   x1D,F
02B3E:  BTFSC  FD8.2
02B40:  INCF   x1E,F
02B42:  MOVLB  0
02B44:  GOTO   2AEC
....................          for(unsigned int32 spi_rcv_num = 0;spi_rcv_num < read_amount;spi_rcv_num++)
02B48:  MOVLB  B
02B4A:  CLRF   x22
02B4C:  CLRF   x21
02B4E:  CLRF   x20
02B50:  CLRF   x1F
02B52:  MOVLB  0
02B54:  MOVLB  B
02B56:  MOVF   x22,W
02B58:  SUBWF  x16,W
02B5A:  BTFSC  FD8.0
02B5C:  BRA    2B64
02B5E:  MOVLB  0
02B60:  GOTO   2BEA
02B64:  MOVLB  0
02B66:  BTFSS  FD8.2
02B68:  GOTO   2BAE
02B6C:  MOVLB  B
02B6E:  MOVF   x21,W
02B70:  SUBWF  x15,W
02B72:  BTFSC  FD8.0
02B74:  BRA    2B7C
02B76:  MOVLB  0
02B78:  GOTO   2BEA
02B7C:  MOVLB  0
02B7E:  BTFSS  FD8.2
02B80:  GOTO   2BAE
02B84:  MOVLB  B
02B86:  MOVF   x20,W
02B88:  SUBWF  x14,W
02B8A:  BTFSC  FD8.0
02B8C:  BRA    2B94
02B8E:  MOVLB  0
02B90:  GOTO   2BEA
02B94:  MOVLB  0
02B96:  BTFSS  FD8.2
02B98:  GOTO   2BAE
02B9C:  MOVLB  B
02B9E:  MOVF   x13,W
02BA0:  SUBWF  x1F,W
02BA2:  BTFSS  FD8.0
02BA4:  BRA    2BAC
02BA6:  MOVLB  0
02BA8:  GOTO   2BEA
02BAC:  MOVLB  0
....................             read_data[spi_rcv_num] = spi_xfer(FLASH_STREAM1);
02BAE:  MOVLB  B
02BB0:  MOVF   x11,W
02BB2:  ADDWF  x1F,W
02BB4:  MOVWF  FE9
02BB6:  MOVF   x12,W
02BB8:  ADDWFC x20,W
02BBA:  MOVWF  FEA
02BBC:  MOVLW  01
02BBE:  MOVWF  x25
02BC0:  MOVLW  08
02BC2:  MOVWF  x26
02BC4:  MOVLW  01
02BC6:  MOVWF  x27
02BC8:  MOVLB  0
02BCA:  CALL   2960
02BCE:  MOVFF  01,FEF
02BD2:  MOVLW  01
02BD4:  MOVLB  B
02BD6:  ADDWF  x1F,F
02BD8:  BTFSC  FD8.0
02BDA:  INCF   x20,F
02BDC:  BTFSC  FD8.2
02BDE:  INCF   x21,F
02BE0:  BTFSC  FD8.2
02BE2:  INCF   x22,F
02BE4:  MOVLB  0
02BE6:  GOTO   2B54
....................          break;
02BEA:  GOTO   2BF2
....................    
....................          
....................       default:
....................          break;
02BEE:  GOTO   2BF2
....................    }
....................    return;
02BF2:  RETURN 0
.................... }
.................... 
.................... //send multi bytes(ex:cmd) then send other multi bytes(for write multi bytes) 
.................... void spi_xfer_two_datas_select_stream(Flash flash_stream, unsigned int8 *cmd_data, unsigned int8 cmd_amount, unsigned int8 *write_data, unsigned int16 write_amount){
....................    switch(flash_stream.spi_stream_id){
*
03B0A:  MOVLB  B
03B0C:  MOVF   x03,W
03B0E:  XORLW  00
03B10:  MOVLB  0
03B12:  BTFSC  FD8.2
03B14:  GOTO   3B24
03B18:  XORLW  01
03B1A:  BTFSC  FD8.2
03B1C:  GOTO   3BD2
03B20:  GOTO   3C80
....................       case SPI_0:
....................       for(unsigned int8 spi_xfer_num = 0;spi_xfer_num < cmd_amount;spi_xfer_num++)
03B24:  MOVLB  B
03B26:  CLRF   x0E
03B28:  MOVLB  0
03B2A:  MOVLB  B
03B2C:  MOVF   x09,W
03B2E:  SUBWF  x0E,W
03B30:  BTFSS  FD8.0
03B32:  BRA    3B3A
03B34:  MOVLB  0
03B36:  GOTO   3B6A
03B3A:  MOVLB  0
....................          spi_xfer(FLASH_STREAM0, cmd_data[spi_xfer_num]);
03B3C:  MOVLB  B
03B3E:  MOVF   x0E,W
03B40:  ADDWF  x07,W
03B42:  MOVWF  FE9
03B44:  MOVLW  00
03B46:  ADDWFC x08,W
03B48:  MOVWF  FEA
03B4A:  MOVFF  FEF,B14
03B4E:  MOVFF  B14,B25
03B52:  MOVLW  08
03B54:  MOVWF  x26
03B56:  MOVLW  01
03B58:  MOVWF  x27
03B5A:  MOVLB  0
03B5C:  CALL   2900
03B60:  MOVLB  B
03B62:  INCF   x0E,F
03B64:  MOVLB  0
03B66:  GOTO   3B2A
....................       for(unsigned int16 spi_xfer_num = 0;spi_xfer_num < write_amount;spi_xfer_num++)
03B6A:  MOVLB  B
03B6C:  CLRF   x10
03B6E:  CLRF   x0F
03B70:  MOVLB  0
03B72:  MOVLB  B
03B74:  MOVF   x10,W
03B76:  SUBWF  x0D,W
03B78:  BTFSC  FD8.0
03B7A:  BRA    3B82
03B7C:  MOVLB  0
03B7E:  GOTO   3BCE
03B82:  MOVLB  0
03B84:  BTFSS  FD8.2
03B86:  GOTO   3B9C
03B8A:  MOVLB  B
03B8C:  MOVF   x0C,W
03B8E:  SUBWF  x0F,W
03B90:  BTFSS  FD8.0
03B92:  BRA    3B9A
03B94:  MOVLB  0
03B96:  GOTO   3BCE
03B9A:  MOVLB  0
....................          spi_xfer(FLASH_STREAM0, write_data[spi_xfer_num]);
03B9C:  MOVLB  B
03B9E:  MOVF   x0A,W
03BA0:  ADDWF  x0F,W
03BA2:  MOVWF  FE9
03BA4:  MOVF   x0B,W
03BA6:  ADDWFC x10,W
03BA8:  MOVWF  FEA
03BAA:  MOVFF  FEF,B14
03BAE:  MOVFF  B14,B25
03BB2:  MOVLW  08
03BB4:  MOVWF  x26
03BB6:  MOVLW  01
03BB8:  MOVWF  x27
03BBA:  MOVLB  0
03BBC:  CALL   2900
03BC0:  MOVLB  B
03BC2:  INCF   x0F,F
03BC4:  BTFSC  FD8.2
03BC6:  INCF   x10,F
03BC8:  MOVLB  0
03BCA:  GOTO   3B72
....................          break;
03BCE:  GOTO   3C84
....................          
....................       case SPI_1:
....................          for(unsigned int8 spi_xfer_num = 0;spi_xfer_num < cmd_amount;spi_xfer_num++)
03BD2:  MOVLB  B
03BD4:  CLRF   x11
03BD6:  MOVLB  0
03BD8:  MOVLB  B
03BDA:  MOVF   x09,W
03BDC:  SUBWF  x11,W
03BDE:  BTFSS  FD8.0
03BE0:  BRA    3BE8
03BE2:  MOVLB  0
03BE4:  GOTO   3C18
03BE8:  MOVLB  0
....................             spi_xfer(FLASH_STREAM1, cmd_data[spi_xfer_num]);
03BEA:  MOVLB  B
03BEC:  MOVF   x11,W
03BEE:  ADDWF  x07,W
03BF0:  MOVWF  FE9
03BF2:  MOVLW  00
03BF4:  ADDWFC x08,W
03BF6:  MOVWF  FEA
03BF8:  MOVFF  FEF,B14
03BFC:  MOVFF  B14,B25
03C00:  MOVLW  08
03C02:  MOVWF  x26
03C04:  MOVLW  01
03C06:  MOVWF  x27
03C08:  MOVLB  0
03C0A:  CALL   2960
03C0E:  MOVLB  B
03C10:  INCF   x11,F
03C12:  MOVLB  0
03C14:  GOTO   3BD8
....................          for(unsigned int16 spi_xfer_num = 0;spi_xfer_num < write_amount;spi_xfer_num++)
03C18:  MOVLB  B
03C1A:  CLRF   x13
03C1C:  CLRF   x12
03C1E:  MOVLB  0
03C20:  MOVLB  B
03C22:  MOVF   x13,W
03C24:  SUBWF  x0D,W
03C26:  BTFSC  FD8.0
03C28:  BRA    3C30
03C2A:  MOVLB  0
03C2C:  GOTO   3C7C
03C30:  MOVLB  0
03C32:  BTFSS  FD8.2
03C34:  GOTO   3C4A
03C38:  MOVLB  B
03C3A:  MOVF   x0C,W
03C3C:  SUBWF  x12,W
03C3E:  BTFSS  FD8.0
03C40:  BRA    3C48
03C42:  MOVLB  0
03C44:  GOTO   3C7C
03C48:  MOVLB  0
....................             spi_xfer(FLASH_STREAM1, write_data[spi_xfer_num]);
03C4A:  MOVLB  B
03C4C:  MOVF   x0A,W
03C4E:  ADDWF  x12,W
03C50:  MOVWF  FE9
03C52:  MOVF   x0B,W
03C54:  ADDWFC x13,W
03C56:  MOVWF  FEA
03C58:  MOVFF  FEF,B14
03C5C:  MOVFF  B14,B25
03C60:  MOVLW  08
03C62:  MOVWF  x26
03C64:  MOVLW  01
03C66:  MOVWF  x27
03C68:  MOVLB  0
03C6A:  CALL   2960
03C6E:  MOVLB  B
03C70:  INCF   x12,F
03C72:  BTFSC  FD8.2
03C74:  INCF   x13,F
03C76:  MOVLB  0
03C78:  GOTO   3C20
....................          break;
03C7C:  GOTO   3C84
....................          
....................       default:
....................          break;
03C80:  GOTO   3C84
....................    }
....................    return;
03C84:  RETURN 0
.................... }
.................... 
.................... ///////////////////////////////////////////////////////////////////////////////
.................... ///////////////////////////////////////////////////////////////////////////////
.................... ///////////////////////////////////////////////////////////////////////////////
.................... 
.................... void flash_setting(Flash flash_stream){
....................    output_high(flash_stream.cs_pin);
*
06298:  MOVFF  1B7,B09
0629C:  MOVLW  01
0629E:  MOVLB  B
062A0:  MOVWF  x0A
062A2:  MOVLW  0F
062A4:  MOVWF  x0C
062A6:  MOVLW  89
062A8:  MOVWF  x0B
062AA:  MOVLB  0
062AC:  CALL   28AC
062B0:  MOVFF  1B7,B09
062B4:  MOVLB  B
062B6:  CLRF   x0A
062B8:  MOVLW  0F
062BA:  MOVWF  x0C
062BC:  MOVLW  92
062BE:  MOVWF  x0B
062C0:  MOVLB  0
062C2:  CALL   28AC
062C6:  RETURN 0
.................... }
....................  
.................... int8 status_register(Flash flash_stream){
*
03C86:  MOVLW  05
03C88:  MOVLB  B
03C8A:  MOVWF  x07
....................    int8 flash_cmd = CMD_READ_STATUS_REGISTER;
....................    int8 status_reg;
....................    output_low(flash_stream.cs_pin);                                              //lower the CS PIN
03C8C:  MOVFF  B05,B09
03C90:  CLRF   x0A
03C92:  MOVLW  0F
03C94:  MOVWF  x0C
03C96:  MOVLW  89
03C98:  MOVWF  x0B
03C9A:  MOVLB  0
03C9C:  CALL   28AC
03CA0:  MOVFF  B05,B09
03CA4:  MOVLB  B
03CA6:  CLRF   x0A
03CA8:  MOVLW  0F
03CAA:  MOVWF  x0C
03CAC:  MOVLW  92
03CAE:  MOVWF  x0B
03CB0:  MOVLB  0
03CB2:  CALL   28AC
....................    spi_xfer_and_read_select_stream(flash_stream, &flash_cmd, 1, &status_reg, 1);
03CB6:  MOVFF  B06,B0C
03CBA:  MOVFF  B05,B0B
03CBE:  MOVFF  B04,B0A
03CC2:  MOVFF  B03,B09
03CC6:  MOVLW  0B
03CC8:  MOVLB  B
03CCA:  MOVWF  x0E
03CCC:  MOVLW  07
03CCE:  MOVWF  x0D
03CD0:  CLRF   x10
03CD2:  MOVLW  01
03CD4:  MOVWF  x0F
03CD6:  MOVLW  0B
03CD8:  MOVWF  x12
03CDA:  MOVLW  08
03CDC:  MOVWF  x11
03CDE:  CLRF   x16
03CE0:  CLRF   x15
03CE2:  CLRF   x14
03CE4:  MOVLW  01
03CE6:  MOVWF  x13
03CE8:  MOVLB  0
03CEA:  CALL   29C0
....................    output_high(flash_stream.cs_pin);                                             //take CS PIN higher back
03CEE:  MOVFF  B05,B09
03CF2:  MOVLW  01
03CF4:  MOVLB  B
03CF6:  MOVWF  x0A
03CF8:  MOVLW  0F
03CFA:  MOVWF  x0C
03CFC:  MOVLW  89
03CFE:  MOVWF  x0B
03D00:  MOVLB  0
03D02:  CALL   28AC
03D06:  MOVFF  B05,B09
03D0A:  MOVLB  B
03D0C:  CLRF   x0A
03D0E:  MOVLW  0F
03D10:  MOVWF  x0C
03D12:  MOVLW  92
03D14:  MOVWF  x0B
03D16:  MOVLB  0
03D18:  CALL   28AC
....................    #ifdef MT25Q_DEBUG
....................       if((status_reg & 0x01) == true)                                          //masking status bit   
....................          fprintf(PC,"flash busy\n\r");
....................    #endif
....................    return status_reg;  
03D1C:  MOVLB  B
03D1E:  MOVF   x08,W
03D20:  MOVWF  01
03D22:  MOVLB  0
03D24:  RETURN 0
.................... }
.................... 
.................... //
.................... //->success:True,fail:false 
.................... int8 read_id(Flash flash_stream){
....................    int8 flash_cmd = CMD_READ_ID;
....................    int8 chip_id[20];
....................    output_low(flash_stream.cs_pin);
....................    spi_xfer_and_read_select_stream(flash_stream, &flash_cmd, 1, chip_id, 16);
....................    output_high(flash_stream.cs_pin);
....................    #ifdef MT25Q_DEBUG
....................       fprintf(PC,"Read ID:");
....................       for(int8 print_counter = 0;print_counter < 20;print_counter++)
....................          fprintf(PC,"%x ",chip_id[print_counter]);
....................       fprintf(PC,"\r\n");
....................    #endif
....................    //chip id check
....................    if(chip_id[0] == MANUFACTURER_ID_MICRON){  
....................       #ifdef MT25Q_DEBUG
....................          fprintf(PC,"flash connect OK\r\n");
....................       #endif
....................       return true;
....................    }
....................    else{
....................       #ifdef MT25Q_DEBUG
....................          fprintf(PC,"flash not connect\r\n");
....................       #endif
....................       return false;
....................    }
.................... }
....................  
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address){
.................... //!   #ifdef MT25Q_DEBUG
.................... //!      fprintf(PC,"Sector Erase\r\n");
.................... //!   #endif
....................    if(flash_stream.flash_model == MT25QL128ABA){
*
05704:  MOVLB  1
05706:  MOVF   xF6,F
05708:  BTFSC  FD8.2
0570A:  BRA    5712
0570C:  MOVLB  0
0570E:  GOTO   586E
05712:  MOVLB  0
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[4];
05714:  MOVLW  06
05716:  MOVLB  1
05718:  MOVWF  xFD
0571A:  MOVLB  0
.................... //!      #ifdef MT25Q_DEBUG
.................... //!         fprintf(PC,"FLASH MODEL:MT25QL128ABA\r\n");
.................... //!      #endif
....................       flash_cmd[0] = CMD_SECTOR_ERASE;
0571C:  MOVLW  D8
0571E:  MOVLB  1
05720:  MOVWF  xFE
....................       flash_cmd[1] = (unsigned int8)((sector_address>>16) & 0xff);   // 0x 00 _ _ 00 00
05722:  MOVFF  1FB,20A
05726:  MOVFF  1FC,20B
0572A:  MOVLB  2
0572C:  CLRF   x0C
0572E:  CLRF   x0D
05730:  MOVF   x0A,W
05732:  MOVWF  00
05734:  CLRF   01
05736:  CLRF   02
05738:  CLRF   03
0573A:  MOVFF  00,1FF
....................       flash_cmd[2] = (unsigned int8)((sector_address>>8) & 0xff);    // 0x 00 00 _ _ 00
0573E:  MOVFF  1FA,20A
05742:  MOVFF  1FB,20B
05746:  MOVFF  1FC,20C
0574A:  CLRF   x0D
0574C:  MOVF   x0A,W
0574E:  MOVWF  00
05750:  CLRF   01
05752:  CLRF   02
05754:  CLRF   03
05756:  MOVFF  00,200
....................       flash_cmd[3] = (unsigned int8)((sector_address) & 0xff);       // 0x 00 00 00 _ _
0575A:  MOVLB  1
0575C:  MOVF   xF9,W
0575E:  MOVWF  00
05760:  CLRF   01
05762:  CLRF   02
05764:  CLRF   03
05766:  MOVFF  00,201
....................             
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
0576A:  MOVFF  1F7,B09
0576E:  MOVLB  B
05770:  CLRF   x0A
05772:  MOVLW  0F
05774:  MOVWF  x0C
05776:  MOVLW  89
05778:  MOVWF  x0B
0577A:  MOVLB  0
0577C:  CALL   28AC
05780:  MOVFF  1F7,B09
05784:  MOVLB  B
05786:  CLRF   x0A
05788:  MOVLW  0F
0578A:  MOVWF  x0C
0578C:  MOVLW  92
0578E:  MOVWF  x0B
05790:  MOVLB  0
05792:  CALL   28AC
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
05796:  MOVFF  1F8,B06
0579A:  MOVFF  1F7,B05
0579E:  MOVFF  1F6,B04
057A2:  MOVFF  1F5,B03
057A6:  MOVLW  01
057A8:  MOVLB  B
057AA:  MOVWF  x08
057AC:  MOVLW  FD
057AE:  MOVWF  x07
057B0:  CLRF   x0A
057B2:  MOVLW  01
057B4:  MOVWF  x09
057B6:  MOVLB  0
057B8:  CALL   3A1A
....................       output_high(flash_stream.cs_pin);
057BC:  MOVFF  1F7,B09
057C0:  MOVLW  01
057C2:  MOVLB  B
057C4:  MOVWF  x0A
057C6:  MOVLW  0F
057C8:  MOVWF  x0C
057CA:  MOVLW  89
057CC:  MOVWF  x0B
057CE:  MOVLB  0
057D0:  CALL   28AC
057D4:  MOVFF  1F7,B09
057D8:  MOVLB  B
057DA:  CLRF   x0A
057DC:  MOVLW  0F
057DE:  MOVWF  x0C
057E0:  MOVLW  92
057E2:  MOVWF  x0B
057E4:  MOVLB  0
057E6:  CALL   28AC
....................       //Write enabled
....................       
....................       output_low(flash_stream.cs_pin);
057EA:  MOVFF  1F7,B09
057EE:  MOVLB  B
057F0:  CLRF   x0A
057F2:  MOVLW  0F
057F4:  MOVWF  x0C
057F6:  MOVLW  89
057F8:  MOVWF  x0B
057FA:  MOVLB  0
057FC:  CALL   28AC
05800:  MOVFF  1F7,B09
05804:  MOVLB  B
05806:  CLRF   x0A
05808:  MOVLW  0F
0580A:  MOVWF  x0C
0580C:  MOVLW  92
0580E:  MOVWF  x0B
05810:  MOVLB  0
05812:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_select_stream(flash_stream, flash_cmd, 4);
05816:  MOVFF  1F8,B06
0581A:  MOVFF  1F7,B05
0581E:  MOVFF  1F6,B04
05822:  MOVFF  1F5,B03
05826:  MOVLW  01
05828:  MOVLB  B
0582A:  MOVWF  x08
0582C:  MOVLW  FE
0582E:  MOVWF  x07
05830:  CLRF   x0A
05832:  MOVLW  04
05834:  MOVWF  x09
05836:  MOVLB  0
05838:  CALL   3A1A
....................       //////////////////////////////////////////////////////////////////
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
0583C:  MOVFF  1F7,B09
05840:  MOVLW  01
05842:  MOVLB  B
05844:  MOVWF  x0A
05846:  MOVLW  0F
05848:  MOVWF  x0C
0584A:  MOVLW  89
0584C:  MOVWF  x0B
0584E:  MOVLB  0
05850:  CALL   28AC
05854:  MOVFF  1F7,B09
05858:  MOVLB  B
0585A:  CLRF   x0A
0585C:  MOVLW  0F
0585E:  MOVWF  x0C
05860:  MOVLW  92
05862:  MOVWF  x0B
05864:  MOVLB  0
05866:  CALL   28AC
....................    }
0586A:  GOTO   59F0
....................    else if(flash_stream.flash_model == MT25QL01GBBB){
0586E:  MOVLB  1
05870:  DECFSZ xF6,W
05872:  BRA    5878
05874:  BRA    587E
05876:  MOVLB  0
05878:  MOVLB  0
0587A:  GOTO   59F0
0587E:  MOVLB  0
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[5];
05880:  MOVLW  06
05882:  MOVLB  2
05884:  MOVWF  x02
05886:  MOVLB  0
.................... //!      #ifdef MT25Q_DEBUG
.................... //!         fprintf(PC,"FLASH MODEL:MT25QL01GBBB\r\n");
.................... //!      #endif
....................       flash_cmd[0] = CMD_4BYTE_SECTOR_ERASE;
05888:  MOVLW  DC
0588A:  MOVLB  2
0588C:  MOVWF  x03
....................       flash_cmd[1] = (unsigned int8)((sector_address>>24) & 0xff);   // 0x _ _ 00 00 00
0588E:  MOVFF  1FC,20A
05892:  CLRF   x0B
05894:  CLRF   x0C
05896:  CLRF   x0D
05898:  MOVF   x0A,W
0589A:  MOVWF  00
0589C:  CLRF   01
0589E:  CLRF   02
058A0:  CLRF   03
058A2:  MOVFF  00,204
....................       flash_cmd[2] = (unsigned int8)((sector_address>>16) & 0xff);   // 0x 00 _ _ 00 00
058A6:  MOVFF  1FB,20A
058AA:  MOVFF  1FC,20B
058AE:  CLRF   x0C
058B0:  CLRF   x0D
058B2:  MOVF   x0A,W
058B4:  MOVWF  00
058B6:  CLRF   01
058B8:  CLRF   02
058BA:  CLRF   03
058BC:  MOVFF  00,205
....................       flash_cmd[3] = (unsigned int8)((sector_address>>8) & 0xff);    // 0x 00 00 _ _ 00
058C0:  MOVFF  1FA,20A
058C4:  MOVFF  1FB,20B
058C8:  MOVFF  1FC,20C
058CC:  CLRF   x0D
058CE:  MOVF   x0A,W
058D0:  MOVWF  00
058D2:  CLRF   01
058D4:  CLRF   02
058D6:  CLRF   03
058D8:  MOVFF  00,206
....................       flash_cmd[4] = (unsigned int8)((sector_address) & 0xff);       // 0x 00 00 00 _ _
058DC:  MOVLB  1
058DE:  MOVF   xF9,W
058E0:  MOVWF  00
058E2:  CLRF   01
058E4:  CLRF   02
058E6:  CLRF   03
058E8:  MOVFF  00,207
....................       
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
058EC:  MOVFF  1F7,B09
058F0:  MOVLB  B
058F2:  CLRF   x0A
058F4:  MOVLW  0F
058F6:  MOVWF  x0C
058F8:  MOVLW  89
058FA:  MOVWF  x0B
058FC:  MOVLB  0
058FE:  CALL   28AC
05902:  MOVFF  1F7,B09
05906:  MOVLB  B
05908:  CLRF   x0A
0590A:  MOVLW  0F
0590C:  MOVWF  x0C
0590E:  MOVLW  92
05910:  MOVWF  x0B
05912:  MOVLB  0
05914:  CALL   28AC
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
05918:  MOVFF  1F8,B06
0591C:  MOVFF  1F7,B05
05920:  MOVFF  1F6,B04
05924:  MOVFF  1F5,B03
05928:  MOVLW  02
0592A:  MOVLB  B
0592C:  MOVWF  x08
0592E:  MOVLW  02
05930:  MOVWF  x07
05932:  CLRF   x0A
05934:  MOVLW  01
05936:  MOVWF  x09
05938:  MOVLB  0
0593A:  CALL   3A1A
....................       output_high(flash_stream.cs_pin);
0593E:  MOVFF  1F7,B09
05942:  MOVLW  01
05944:  MOVLB  B
05946:  MOVWF  x0A
05948:  MOVLW  0F
0594A:  MOVWF  x0C
0594C:  MOVLW  89
0594E:  MOVWF  x0B
05950:  MOVLB  0
05952:  CALL   28AC
05956:  MOVFF  1F7,B09
0595A:  MOVLB  B
0595C:  CLRF   x0A
0595E:  MOVLW  0F
05960:  MOVWF  x0C
05962:  MOVLW  92
05964:  MOVWF  x0B
05966:  MOVLB  0
05968:  CALL   28AC
....................       //Write enabled
....................       
....................       output_low(flash_stream.cs_pin);
0596C:  MOVFF  1F7,B09
05970:  MOVLB  B
05972:  CLRF   x0A
05974:  MOVLW  0F
05976:  MOVWF  x0C
05978:  MOVLW  89
0597A:  MOVWF  x0B
0597C:  MOVLB  0
0597E:  CALL   28AC
05982:  MOVFF  1F7,B09
05986:  MOVLB  B
05988:  CLRF   x0A
0598A:  MOVLW  0F
0598C:  MOVWF  x0C
0598E:  MOVLW  92
05990:  MOVWF  x0B
05992:  MOVLB  0
05994:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_select_stream(flash_stream, flash_cmd, 5);
05998:  MOVFF  1F8,B06
0599C:  MOVFF  1F7,B05
059A0:  MOVFF  1F6,B04
059A4:  MOVFF  1F5,B03
059A8:  MOVLW  02
059AA:  MOVLB  B
059AC:  MOVWF  x08
059AE:  MOVLW  03
059B0:  MOVWF  x07
059B2:  CLRF   x0A
059B4:  MOVLW  05
059B6:  MOVWF  x09
059B8:  MOVLB  0
059BA:  CALL   3A1A
....................       //////////////////////////////////////////////////////////////////
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
059BE:  MOVFF  1F7,B09
059C2:  MOVLW  01
059C4:  MOVLB  B
059C6:  MOVWF  x0A
059C8:  MOVLW  0F
059CA:  MOVWF  x0C
059CC:  MOVLW  89
059CE:  MOVWF  x0B
059D0:  MOVLB  0
059D2:  CALL   28AC
059D6:  MOVFF  1F7,B09
059DA:  MOVLB  B
059DC:  CLRF   x0A
059DE:  MOVLW  0F
059E0:  MOVWF  x0C
059E2:  MOVLW  92
059E4:  MOVWF  x0B
059E6:  MOVLB  0
059E8:  CALL   28AC
....................    }
059EC:  GOTO   59F0
....................    
....................    else{
....................       #ifdef MT25Q_DEBUG
....................          fprintf(PC,"error:flash model is invalid\r\n");
....................       #endif
....................    }
....................    
....................    //wait process finished
....................    unsigned int8 timeout_counter = 0;
059F0:  MOVLB  2
059F2:  CLRF   x08
059F4:  MOVLB  0
....................    while((status_register(flash_stream) & 0x01) == 1){      //masking status bit
059F6:  MOVFF  1F8,B06
059FA:  MOVFF  1F7,B05
059FE:  MOVFF  1F6,B04
05A02:  MOVFF  1F5,B03
05A06:  CALL   3C86
05A0A:  MOVF   01,W
05A0C:  ANDLW  01
05A0E:  SUBLW  01
05A10:  BTFSS  FD8.2
05A12:  GOTO   5A64
....................       if(timeout_counter > 10)
05A16:  MOVLB  2
05A18:  MOVF   x08,W
05A1A:  SUBLW  0A
05A1C:  BTFSS  FD8.0
05A1E:  BRA    5A26
05A20:  MOVLB  0
05A22:  GOTO   5A38
05A26:  MOVLB  0
....................          delay_ms(200);
05A28:  MOVLW  C8
05A2A:  MOVLB  B
05A2C:  MOVWF  x03
05A2E:  MOVLB  0
05A30:  CALL   20A0
05A34:  GOTO   5A44
....................       else
....................          delay_ms(10);   
05A38:  MOVLW  0A
05A3A:  MOVLB  B
05A3C:  MOVWF  x03
05A3E:  MOVLB  0
05A40:  CALL   20A0
....................       
....................       if(timeout_counter > 100){
05A44:  MOVLB  2
05A46:  MOVF   x08,W
05A48:  SUBLW  64
05A4A:  BTFSS  FD8.0
05A4C:  BRA    5A54
05A4E:  MOVLB  0
05A50:  GOTO   5A5A
05A54:  MOVLB  0
....................          #ifdef MT25Q_DEBUG
....................             fprintf(PC,"flash timeout\r\n");
....................          #endif
....................          break;
05A56:  GOTO   5A64
....................       }  
....................       timeout_counter++;
05A5A:  MOVLB  2
05A5C:  INCF   x08,F
05A5E:  MOVLB  0
05A60:  GOTO   59F6
....................    }
....................    #ifdef MT25Q_DEBUG
....................       fprintf(PC,"flash sector erase complete\r\n");
....................    #endif
....................    return;
05A64:  RETURN 0
.................... }
....................  
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address){
....................    if(flash_stream.flash_model == MT25QL128ABA){
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[4];
....................       
....................       flash_cmd[0] = CMD_SUBSECTOR_32KB_ERASE;
....................       flash_cmd[1] = (unsigned int8)((subsector_address>>16) & 0xff);   // 0x 00 _ _ 00 00
....................       flash_cmd[2] = (unsigned int8)((subsector_address>>8) & 0xff);    // 0x 00 00 _ _ 00
....................       flash_cmd[3] = (unsigned int8)((subsector_address) & 0xff);       // 0x 00 00 00 _ _
....................             
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
....................       output_high(flash_stream.cs_pin);
....................       //Write enabled
....................       
....................       output_low(flash_stream.cs_pin);
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_select_stream(flash_stream, flash_cmd, 4);
....................       //////////////////////////////////////////////////////////////////
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
....................    }
....................    else if(flash_stream.flash_model == MT25QL01GBBB){
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[5];
....................       
....................       flash_cmd[0] = CMD_4BYTE_SUBSECTOR_32KB_ERASE;
....................       flash_cmd[1] = (unsigned int8)((subsector_address>>24) & 0xff);   // 0x __ 00 00 00
....................       flash_cmd[2] = (unsigned int8)((subsector_address>>16) & 0xff);   // 0x 00 __ 00 00
....................       flash_cmd[3] = (unsigned int8)((subsector_address>>8) & 0xff);    // 0x 00 00 __ 00
....................       flash_cmd[4] = (unsigned int8)((subsector_address) & 0xff);       // 0x 00 00 00 __
....................       
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
....................       output_high(flash_stream.cs_pin);
....................       //Write enabled
....................       
....................       output_low(flash_stream.cs_pin);
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_select_stream(flash_stream, flash_cmd, 5);
....................       //////////////////////////////////////////////////////////////////
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
....................    }
....................    
....................    else{
....................       #ifdef MT25Q_DEBUG
....................          fprintf(PC,"error:flash model is invalid\r\n");
....................       #endif
....................    }
....................    
....................    //wait process finished
....................    unsigned int8 timeout_counter = 0;
....................    while((status_register(flash_stream) & 0x01) == 1){                  //masking status bit
....................       if(timeout_counter > 10)
....................          delay_ms(200);
....................       else
....................          delay_ms(10);   
....................       
....................       if(timeout_counter > 100){
....................          #ifdef MT25Q_DEBUG
....................             fprintf(PC,"flash timeout\r\n");
....................          #endif
....................          break;
....................       }  
....................       timeout_counter++;
....................    }
....................    #ifdef MT25Q_DEBUG
....................       fprintf(PC,"flash 32kByte subsector erase complete\r\n");
....................    #endif
....................    return;
.................... }
....................  
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address){
....................    if(flash_stream.flash_model == MT25QL128ABA){
*
04B2A:  MOVLB  A
04B2C:  MOVF   x91,F
04B2E:  BTFSC  FD8.2
04B30:  BRA    4B38
04B32:  MOVLB  0
04B34:  GOTO   4C90
04B38:  MOVLB  0
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[4];
04B3A:  MOVLW  06
04B3C:  MOVLB  A
04B3E:  MOVWF  x98
04B40:  MOVLB  0
....................       
....................       flash_cmd[0] = CMD_SUBSECTOR_4KB_ERASE;
04B42:  MOVLW  20
04B44:  MOVLB  A
04B46:  MOVWF  x99
....................       flash_cmd[1] = (unsigned int8)((subsector_address>>16) & 0xff);   // 0x 00 _ _ 00 00
04B48:  MOVFF  A96,AA5
04B4C:  MOVFF  A97,AA6
04B50:  CLRF   xA7
04B52:  CLRF   xA8
04B54:  MOVF   xA5,W
04B56:  MOVWF  00
04B58:  CLRF   01
04B5A:  CLRF   02
04B5C:  CLRF   03
04B5E:  MOVFF  00,A9A
....................       flash_cmd[2] = (unsigned int8)((subsector_address>>8) & 0xff);    // 0x 00 00 _ _ 00
04B62:  MOVFF  A95,AA5
04B66:  MOVFF  A96,AA6
04B6A:  MOVFF  A97,AA7
04B6E:  CLRF   xA8
04B70:  MOVF   xA5,W
04B72:  MOVWF  00
04B74:  CLRF   01
04B76:  CLRF   02
04B78:  CLRF   03
04B7A:  MOVFF  00,A9B
....................       flash_cmd[3] = (unsigned int8)((subsector_address) & 0xff);       // 0x 00 00 00 _ _
04B7E:  MOVF   x94,W
04B80:  MOVWF  00
04B82:  CLRF   01
04B84:  CLRF   02
04B86:  CLRF   03
04B88:  MOVFF  00,A9C
....................             
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
04B8C:  MOVFF  A92,B09
04B90:  MOVLB  B
04B92:  CLRF   x0A
04B94:  MOVLW  0F
04B96:  MOVWF  x0C
04B98:  MOVLW  89
04B9A:  MOVWF  x0B
04B9C:  MOVLB  0
04B9E:  CALL   28AC
04BA2:  MOVFF  A92,B09
04BA6:  MOVLB  B
04BA8:  CLRF   x0A
04BAA:  MOVLW  0F
04BAC:  MOVWF  x0C
04BAE:  MOVLW  92
04BB0:  MOVWF  x0B
04BB2:  MOVLB  0
04BB4:  CALL   28AC
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
04BB8:  MOVFF  A93,B06
04BBC:  MOVFF  A92,B05
04BC0:  MOVFF  A91,B04
04BC4:  MOVFF  A90,B03
04BC8:  MOVLW  0A
04BCA:  MOVLB  B
04BCC:  MOVWF  x08
04BCE:  MOVLW  98
04BD0:  MOVWF  x07
04BD2:  CLRF   x0A
04BD4:  MOVLW  01
04BD6:  MOVWF  x09
04BD8:  MOVLB  0
04BDA:  CALL   3A1A
....................       output_high(flash_stream.cs_pin);
04BDE:  MOVFF  A92,B09
04BE2:  MOVLW  01
04BE4:  MOVLB  B
04BE6:  MOVWF  x0A
04BE8:  MOVLW  0F
04BEA:  MOVWF  x0C
04BEC:  MOVLW  89
04BEE:  MOVWF  x0B
04BF0:  MOVLB  0
04BF2:  CALL   28AC
04BF6:  MOVFF  A92,B09
04BFA:  MOVLB  B
04BFC:  CLRF   x0A
04BFE:  MOVLW  0F
04C00:  MOVWF  x0C
04C02:  MOVLW  92
04C04:  MOVWF  x0B
04C06:  MOVLB  0
04C08:  CALL   28AC
....................       //Write enabled
....................       
....................       output_low(flash_stream.cs_pin);
04C0C:  MOVFF  A92,B09
04C10:  MOVLB  B
04C12:  CLRF   x0A
04C14:  MOVLW  0F
04C16:  MOVWF  x0C
04C18:  MOVLW  89
04C1A:  MOVWF  x0B
04C1C:  MOVLB  0
04C1E:  CALL   28AC
04C22:  MOVFF  A92,B09
04C26:  MOVLB  B
04C28:  CLRF   x0A
04C2A:  MOVLW  0F
04C2C:  MOVWF  x0C
04C2E:  MOVLW  92
04C30:  MOVWF  x0B
04C32:  MOVLB  0
04C34:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_select_stream(flash_stream, flash_cmd, 4);
04C38:  MOVFF  A93,B06
04C3C:  MOVFF  A92,B05
04C40:  MOVFF  A91,B04
04C44:  MOVFF  A90,B03
04C48:  MOVLW  0A
04C4A:  MOVLB  B
04C4C:  MOVWF  x08
04C4E:  MOVLW  99
04C50:  MOVWF  x07
04C52:  CLRF   x0A
04C54:  MOVLW  04
04C56:  MOVWF  x09
04C58:  MOVLB  0
04C5A:  CALL   3A1A
....................       //////////////////////////////////////////////////////////////////
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
04C5E:  MOVFF  A92,B09
04C62:  MOVLW  01
04C64:  MOVLB  B
04C66:  MOVWF  x0A
04C68:  MOVLW  0F
04C6A:  MOVWF  x0C
04C6C:  MOVLW  89
04C6E:  MOVWF  x0B
04C70:  MOVLB  0
04C72:  CALL   28AC
04C76:  MOVFF  A92,B09
04C7A:  MOVLB  B
04C7C:  CLRF   x0A
04C7E:  MOVLW  0F
04C80:  MOVWF  x0C
04C82:  MOVLW  92
04C84:  MOVWF  x0B
04C86:  MOVLB  0
04C88:  CALL   28AC
....................    }
04C8C:  GOTO   4E10
....................    else if(flash_stream.flash_model == MT25QL01GBBB){
04C90:  MOVLB  A
04C92:  DECFSZ x91,W
04C94:  BRA    4C9A
04C96:  BRA    4CA0
04C98:  MOVLB  0
04C9A:  MOVLB  0
04C9C:  GOTO   4E10
04CA0:  MOVLB  0
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[5];
04CA2:  MOVLW  06
04CA4:  MOVLB  A
04CA6:  MOVWF  x9D
04CA8:  MOVLB  0
....................       
....................       flash_cmd[0] = CMD_4BYTE_SUBSECTOR_4KB_ERASE;
04CAA:  MOVLW  21
04CAC:  MOVLB  A
04CAE:  MOVWF  x9E
....................       flash_cmd[1] = (unsigned int8)((subsector_address>>24) & 0xff);   // 0x _ _ 00 00 00
04CB0:  MOVFF  A97,AA5
04CB4:  CLRF   xA6
04CB6:  CLRF   xA7
04CB8:  CLRF   xA8
04CBA:  MOVF   xA5,W
04CBC:  MOVWF  00
04CBE:  CLRF   01
04CC0:  CLRF   02
04CC2:  CLRF   03
04CC4:  MOVFF  00,A9F
....................       flash_cmd[2] = (unsigned int8)((subsector_address>>16) & 0xff);   // 0x 00 _ _ 00 00
04CC8:  MOVFF  A96,AA5
04CCC:  MOVFF  A97,AA6
04CD0:  CLRF   xA7
04CD2:  CLRF   xA8
04CD4:  MOVF   xA5,W
04CD6:  MOVWF  00
04CD8:  CLRF   01
04CDA:  CLRF   02
04CDC:  CLRF   03
04CDE:  MOVFF  00,AA0
....................       flash_cmd[3] = (unsigned int8)((subsector_address>>8) & 0xff);    // 0x 00 00 _ _ 00
04CE2:  MOVFF  A95,AA5
04CE6:  MOVFF  A96,AA6
04CEA:  MOVFF  A97,AA7
04CEE:  CLRF   xA8
04CF0:  MOVF   xA5,W
04CF2:  MOVWF  00
04CF4:  CLRF   01
04CF6:  CLRF   02
04CF8:  CLRF   03
04CFA:  MOVFF  00,AA1
....................       flash_cmd[4] = (unsigned int8)((subsector_address) & 0xff);       // 0x 00 00 00 _ _
04CFE:  MOVF   x94,W
04D00:  MOVWF  00
04D02:  CLRF   01
04D04:  CLRF   02
04D06:  CLRF   03
04D08:  MOVFF  00,AA2
....................       
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
04D0C:  MOVFF  A92,B09
04D10:  MOVLB  B
04D12:  CLRF   x0A
04D14:  MOVLW  0F
04D16:  MOVWF  x0C
04D18:  MOVLW  89
04D1A:  MOVWF  x0B
04D1C:  MOVLB  0
04D1E:  CALL   28AC
04D22:  MOVFF  A92,B09
04D26:  MOVLB  B
04D28:  CLRF   x0A
04D2A:  MOVLW  0F
04D2C:  MOVWF  x0C
04D2E:  MOVLW  92
04D30:  MOVWF  x0B
04D32:  MOVLB  0
04D34:  CALL   28AC
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
04D38:  MOVFF  A93,B06
04D3C:  MOVFF  A92,B05
04D40:  MOVFF  A91,B04
04D44:  MOVFF  A90,B03
04D48:  MOVLW  0A
04D4A:  MOVLB  B
04D4C:  MOVWF  x08
04D4E:  MOVLW  9D
04D50:  MOVWF  x07
04D52:  CLRF   x0A
04D54:  MOVLW  01
04D56:  MOVWF  x09
04D58:  MOVLB  0
04D5A:  CALL   3A1A
....................       output_high(flash_stream.cs_pin);
04D5E:  MOVFF  A92,B09
04D62:  MOVLW  01
04D64:  MOVLB  B
04D66:  MOVWF  x0A
04D68:  MOVLW  0F
04D6A:  MOVWF  x0C
04D6C:  MOVLW  89
04D6E:  MOVWF  x0B
04D70:  MOVLB  0
04D72:  CALL   28AC
04D76:  MOVFF  A92,B09
04D7A:  MOVLB  B
04D7C:  CLRF   x0A
04D7E:  MOVLW  0F
04D80:  MOVWF  x0C
04D82:  MOVLW  92
04D84:  MOVWF  x0B
04D86:  MOVLB  0
04D88:  CALL   28AC
....................       //Write enabled
....................       
....................       output_low(flash_stream.cs_pin);
04D8C:  MOVFF  A92,B09
04D90:  MOVLB  B
04D92:  CLRF   x0A
04D94:  MOVLW  0F
04D96:  MOVWF  x0C
04D98:  MOVLW  89
04D9A:  MOVWF  x0B
04D9C:  MOVLB  0
04D9E:  CALL   28AC
04DA2:  MOVFF  A92,B09
04DA6:  MOVLB  B
04DA8:  CLRF   x0A
04DAA:  MOVLW  0F
04DAC:  MOVWF  x0C
04DAE:  MOVLW  92
04DB0:  MOVWF  x0B
04DB2:  MOVLB  0
04DB4:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_select_stream(flash_stream, flash_cmd, 5);
04DB8:  MOVFF  A93,B06
04DBC:  MOVFF  A92,B05
04DC0:  MOVFF  A91,B04
04DC4:  MOVFF  A90,B03
04DC8:  MOVLW  0A
04DCA:  MOVLB  B
04DCC:  MOVWF  x08
04DCE:  MOVLW  9E
04DD0:  MOVWF  x07
04DD2:  CLRF   x0A
04DD4:  MOVLW  05
04DD6:  MOVWF  x09
04DD8:  MOVLB  0
04DDA:  CALL   3A1A
....................       //////////////////////////////////////////////////////////////////
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
04DDE:  MOVFF  A92,B09
04DE2:  MOVLW  01
04DE4:  MOVLB  B
04DE6:  MOVWF  x0A
04DE8:  MOVLW  0F
04DEA:  MOVWF  x0C
04DEC:  MOVLW  89
04DEE:  MOVWF  x0B
04DF0:  MOVLB  0
04DF2:  CALL   28AC
04DF6:  MOVFF  A92,B09
04DFA:  MOVLB  B
04DFC:  CLRF   x0A
04DFE:  MOVLW  0F
04E00:  MOVWF  x0C
04E02:  MOVLW  92
04E04:  MOVWF  x0B
04E06:  MOVLB  0
04E08:  CALL   28AC
....................    }
04E0C:  GOTO   4E10
....................    
....................    else{
....................       #ifdef MT25Q_DEBUG
....................          fprintf(PC,"error:flash model is invalid\r\n");
....................       #endif
....................    }
....................    
....................    //wait process finished
....................    unsigned int8 timeout_counter = 0;
04E10:  MOVLB  A
04E12:  CLRF   xA3
04E14:  MOVLB  0
....................    while((status_register(flash_stream) & 0x01) == 1){                           //masking status bit
04E16:  MOVFF  A93,B06
04E1A:  MOVFF  A92,B05
04E1E:  MOVFF  A91,B04
04E22:  MOVFF  A90,B03
04E26:  CALL   3C86
04E2A:  MOVF   01,W
04E2C:  ANDLW  01
04E2E:  SUBLW  01
04E30:  BTFSS  FD8.2
04E32:  GOTO   4E4C
....................       delay_ms(1);   
04E36:  MOVLW  01
04E38:  MOVLB  B
04E3A:  MOVWF  x03
04E3C:  MOVLB  0
04E3E:  CALL   20A0
....................       if(timeout_counter > 1000){
....................          #ifdef MT25Q_DEBUG
....................             fprintf(PC,"flash timeout\r\n");
....................          #endif
....................          break;
....................       }  
....................       timeout_counter++;
04E42:  MOVLB  A
04E44:  INCF   xA3,F
04E46:  MOVLB  0
04E48:  GOTO   4E16
....................    }
....................    #ifdef MT25Q_DEBUG
....................       fprintf(PC,"flash 4kByte subsector erase complete\r\n");
....................    #endif
....................    return;
04E4C:  RETURN 0
.................... }
....................  
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address)
.................... {
....................    unsigned int8 read_data;
....................    if(flash_stream.flash_model == MT25QL128ABA){
....................       unsigned int8 flash_cmd[4];
....................       
....................       flash_cmd[0] = CMD_READ;
....................       flash_cmd[1] = (unsigned int8)((read_address>>16) & 0xff);   // 0x 00 _ _ 00 00
....................       flash_cmd[2] = (unsigned int8)((read_address>>8) & 0xff);    // 0x 00 00 _ _ 00
....................       flash_cmd[3] = (unsigned int8)((read_address) & 0xff);       // 0x 00 00 00 _ _
....................             
....................       output_low(flash_stream.cs_pin);
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_and_read_select_stream(flash_stream, flash_cmd, 4, &read_data, 1);
....................       //////////////////////////////////////////////////////////////////
....................       delay_us(2);
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
....................    }
....................    else if(flash_stream.flash_model == MT25QL01GBBB){
....................       unsigned int8 flash_cmd[5];
....................       
....................       flash_cmd[0] = CMD_4BYTE_READ;
....................       flash_cmd[1] = (unsigned int8)((read_address>>24) & 0xff);   // 0x _ _ 00 00 00
....................       flash_cmd[2] = (unsigned int8)((read_address>>16) & 0xff);   // 0x 00 _ _ 00 00
....................       flash_cmd[3] = (unsigned int8)((read_address>>8) & 0xff);    // 0x 00 00 _ _ 00
....................       flash_cmd[4] = (unsigned int8)((read_address) & 0xff);       // 0x 00 00 00 _ _
....................    
....................       output_low(flash_stream.cs_pin);
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_and_read_select_stream(flash_stream, flash_cmd, 5, &read_data, 1);
....................       //////////////////////////////////////////////////////////////////
....................       delay_us(2);
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
....................    }
....................    return read_data;
.................... }
....................  
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount)
.................... {
....................    if(flash_stream.flash_model == MT25QL128ABA){
*
02CBC:  MOVLB  A
02CBE:  MOVF   xEC,F
02CC0:  BTFSC  FD8.2
02CC2:  BRA    2CCA
02CC4:  MOVLB  0
02CC6:  GOTO   2DC0
02CCA:  MOVLB  0
....................       unsigned int8 flash_cmd[4];
....................       
....................       flash_cmd[0] = CMD_READ;
02CCC:  MOVLW  03
02CCE:  MOVLB  A
02CD0:  MOVWF  xF9
....................       flash_cmd[1] = (unsigned int8)((read_start_address>>16) & 0xff);   // 0x 00 _ _ 00 00
02CD2:  MOVFF  AF1,B03
02CD6:  MOVFF  AF2,B04
02CDA:  MOVLB  B
02CDC:  CLRF   x05
02CDE:  CLRF   x06
02CE0:  MOVF   x03,W
02CE2:  MOVWF  00
02CE4:  CLRF   01
02CE6:  CLRF   02
02CE8:  CLRF   03
02CEA:  MOVFF  00,AFA
....................       flash_cmd[2] = (unsigned int8)((read_start_address>>8) & 0xff);    // 0x 00 00 _ _ 00
02CEE:  MOVFF  AF0,B03
02CF2:  MOVFF  AF1,B04
02CF6:  MOVFF  AF2,B05
02CFA:  CLRF   x06
02CFC:  MOVF   x03,W
02CFE:  MOVWF  00
02D00:  CLRF   01
02D02:  CLRF   02
02D04:  CLRF   03
02D06:  MOVFF  00,AFB
....................       flash_cmd[3] = (unsigned int8)((read_start_address) & 0xff);       // 0x 00 00 00 _ _
02D0A:  MOVLB  A
02D0C:  MOVF   xEF,W
02D0E:  MOVWF  00
02D10:  CLRF   01
02D12:  CLRF   02
02D14:  CLRF   03
02D16:  MOVFF  00,AFC
....................             
....................       output_low(flash_stream.cs_pin);
02D1A:  MOVFF  AED,B09
02D1E:  MOVLB  B
02D20:  CLRF   x0A
02D22:  MOVLW  0F
02D24:  MOVWF  x0C
02D26:  MOVLW  89
02D28:  MOVWF  x0B
02D2A:  MOVLB  0
02D2C:  CALL   28AC
02D30:  MOVFF  AED,B09
02D34:  MOVLB  B
02D36:  CLRF   x0A
02D38:  MOVLW  0F
02D3A:  MOVWF  x0C
02D3C:  MOVLW  92
02D3E:  MOVWF  x0B
02D40:  MOVLB  0
02D42:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_and_read_select_stream(flash_stream, flash_cmd, 4, read_data, read_amount);
02D46:  MOVFF  AEE,B0C
02D4A:  MOVFF  AED,B0B
02D4E:  MOVFF  AEC,B0A
02D52:  MOVFF  AEB,B09
02D56:  MOVLW  0A
02D58:  MOVLB  B
02D5A:  MOVWF  x0E
02D5C:  MOVLW  F9
02D5E:  MOVWF  x0D
02D60:  CLRF   x10
02D62:  MOVLW  04
02D64:  MOVWF  x0F
02D66:  MOVFF  AF4,B12
02D6A:  MOVFF  AF3,B11
02D6E:  MOVFF  AF8,B16
02D72:  MOVFF  AF7,B15
02D76:  MOVFF  AF6,B14
02D7A:  MOVFF  AF5,B13
02D7E:  MOVLB  0
02D80:  CALL   29C0
....................       //////////////////////////////////////////////////////////////////
....................       delay_us(2);
02D84:  MOVLW  02
02D86:  MOVWF  00
02D88:  DECFSZ 00,F
02D8A:  BRA    2D88
02D8C:  NOP   
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
02D8E:  MOVFF  AED,B09
02D92:  MOVLW  01
02D94:  MOVLB  B
02D96:  MOVWF  x0A
02D98:  MOVLW  0F
02D9A:  MOVWF  x0C
02D9C:  MOVLW  89
02D9E:  MOVWF  x0B
02DA0:  MOVLB  0
02DA2:  CALL   28AC
02DA6:  MOVFF  AED,B09
02DAA:  MOVLB  B
02DAC:  CLRF   x0A
02DAE:  MOVLW  0F
02DB0:  MOVWF  x0C
02DB2:  MOVLW  92
02DB4:  MOVWF  x0B
02DB6:  MOVLB  0
02DB8:  CALL   28AC
....................    }
02DBC:  GOTO   2EDA
....................    else if(flash_stream.flash_model == MT25QL01GBBB){
02DC0:  MOVLB  A
02DC2:  DECFSZ xEC,W
02DC4:  BRA    2DCA
02DC6:  BRA    2DD0
02DC8:  MOVLB  0
02DCA:  MOVLB  0
02DCC:  GOTO   2EDA
02DD0:  MOVLB  0
....................       unsigned int8 flash_cmd[5];
....................       
....................       flash_cmd[0] = CMD_4BYTE_READ;
02DD2:  MOVLW  13
02DD4:  MOVLB  A
02DD6:  MOVWF  xFD
....................       flash_cmd[1] = (unsigned int8)((read_start_address>>24) & 0xff);   // 0x _ _ 00 00 00
02DD8:  MOVFF  AF2,B03
02DDC:  MOVLB  B
02DDE:  CLRF   x04
02DE0:  CLRF   x05
02DE2:  CLRF   x06
02DE4:  MOVF   x03,W
02DE6:  MOVWF  00
02DE8:  CLRF   01
02DEA:  CLRF   02
02DEC:  CLRF   03
02DEE:  MOVFF  00,AFE
....................       flash_cmd[2] = (unsigned int8)((read_start_address>>16) & 0xff);   // 0x 00 _ _ 00 00
02DF2:  MOVFF  AF1,B03
02DF6:  MOVFF  AF2,B04
02DFA:  CLRF   x05
02DFC:  CLRF   x06
02DFE:  MOVF   x03,W
02E00:  MOVWF  00
02E02:  CLRF   01
02E04:  CLRF   02
02E06:  CLRF   03
02E08:  MOVFF  00,AFF
....................       flash_cmd[3] = (unsigned int8)((read_start_address>>8) & 0xff);    // 0x 00 00 _ _ 00
02E0C:  MOVFF  AF0,B03
02E10:  MOVFF  AF1,B04
02E14:  MOVFF  AF2,B05
02E18:  CLRF   x06
02E1A:  MOVF   x03,W
02E1C:  MOVWF  00
02E1E:  CLRF   01
02E20:  CLRF   02
02E22:  CLRF   03
02E24:  MOVFF  00,B00
....................       flash_cmd[4] = (unsigned int8)((read_start_address) & 0xff);       // 0x 00 00 00 _ _
02E28:  MOVLB  A
02E2A:  MOVF   xEF,W
02E2C:  MOVWF  00
02E2E:  CLRF   01
02E30:  CLRF   02
02E32:  CLRF   03
02E34:  MOVFF  00,B01
....................    
....................       output_low(flash_stream.cs_pin);
02E38:  MOVFF  AED,B09
02E3C:  MOVLB  B
02E3E:  CLRF   x0A
02E40:  MOVLW  0F
02E42:  MOVWF  x0C
02E44:  MOVLW  89
02E46:  MOVWF  x0B
02E48:  MOVLB  0
02E4A:  CALL   28AC
02E4E:  MOVFF  AED,B09
02E52:  MOVLB  B
02E54:  CLRF   x0A
02E56:  MOVLW  0F
02E58:  MOVWF  x0C
02E5A:  MOVLW  92
02E5C:  MOVWF  x0B
02E5E:  MOVLB  0
02E60:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_and_read_select_stream(flash_stream, flash_cmd, 5, read_data, read_amount);
02E64:  MOVFF  AEE,B0C
02E68:  MOVFF  AED,B0B
02E6C:  MOVFF  AEC,B0A
02E70:  MOVFF  AEB,B09
02E74:  MOVLW  0A
02E76:  MOVLB  B
02E78:  MOVWF  x0E
02E7A:  MOVLW  FD
02E7C:  MOVWF  x0D
02E7E:  CLRF   x10
02E80:  MOVLW  05
02E82:  MOVWF  x0F
02E84:  MOVFF  AF4,B12
02E88:  MOVFF  AF3,B11
02E8C:  MOVFF  AF8,B16
02E90:  MOVFF  AF7,B15
02E94:  MOVFF  AF6,B14
02E98:  MOVFF  AF5,B13
02E9C:  MOVLB  0
02E9E:  CALL   29C0
....................       //////////////////////////////////////////////////////////////////
....................       delay_us(2);
02EA2:  MOVLW  02
02EA4:  MOVWF  00
02EA6:  DECFSZ 00,F
02EA8:  BRA    2EA6
02EAA:  NOP   
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
02EAC:  MOVFF  AED,B09
02EB0:  MOVLW  01
02EB2:  MOVLB  B
02EB4:  MOVWF  x0A
02EB6:  MOVLW  0F
02EB8:  MOVWF  x0C
02EBA:  MOVLW  89
02EBC:  MOVWF  x0B
02EBE:  MOVLB  0
02EC0:  CALL   28AC
02EC4:  MOVFF  AED,B09
02EC8:  MOVLB  B
02ECA:  CLRF   x0A
02ECC:  MOVLW  0F
02ECE:  MOVWF  x0C
02ED0:  MOVLW  92
02ED2:  MOVWF  x0B
02ED4:  MOVLB  0
02ED6:  CALL   28AC
....................    }
....................    return;
02EDA:  RETURN 0
.................... }
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data)
.................... {
....................    if(flash_stream.flash_model == MT25QL128ABA){
*
1013A:  MOVLB  2
1013C:  MOVF   x1A,F
1013E:  BTFSC  FD8.2
10140:  BRA    10148
10142:  MOVLB  0
10144:  GOTO   102AE
10148:  MOVLB  0
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[5];
1014A:  MOVLW  06
1014C:  MOVLB  2
1014E:  MOVWF  x22
10150:  MOVLB  0
....................       
....................       flash_cmd[0] = CMD_PAGE_PROGRAM;
10152:  MOVLW  02
10154:  MOVLB  2
10156:  MOVWF  x23
....................       flash_cmd[1] = (unsigned int8)((write_address>>16) & 0xff);   // 0x 00 _ _ 00 00
10158:  MOVFF  21F,231
1015C:  MOVFF  220,232
10160:  CLRF   x33
10162:  CLRF   x34
10164:  MOVF   x31,W
10166:  MOVWF  00
10168:  CLRF   01
1016A:  CLRF   02
1016C:  CLRF   03
1016E:  MOVFF  00,224
....................       flash_cmd[2] = (unsigned int8)((write_address>>8) & 0xff);    // 0x 00 00 _ _ 00
10172:  MOVFF  21E,231
10176:  MOVFF  21F,232
1017A:  MOVFF  220,233
1017E:  CLRF   x34
10180:  MOVF   x31,W
10182:  MOVWF  00
10184:  CLRF   01
10186:  CLRF   02
10188:  CLRF   03
1018A:  MOVFF  00,225
....................       flash_cmd[3] = (unsigned int8)((write_address) & 0xff);       // 0x 00 00 00 _ _
1018E:  MOVF   x1D,W
10190:  MOVWF  00
10192:  CLRF   01
10194:  CLRF   02
10196:  CLRF   03
10198:  MOVFF  00,226
....................       flash_cmd[4] = write_data;
1019C:  MOVFF  221,227
.................... 
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
101A0:  MOVFF  21B,B09
101A4:  MOVLB  B
101A6:  CLRF   x0A
101A8:  MOVLW  0F
101AA:  MOVWF  x0C
101AC:  MOVLW  89
101AE:  MOVWF  x0B
101B0:  MOVLB  0
101B2:  CALL   28AC
101B6:  MOVFF  21B,B09
101BA:  MOVLB  B
101BC:  CLRF   x0A
101BE:  MOVLW  0F
101C0:  MOVWF  x0C
101C2:  MOVLW  92
101C4:  MOVWF  x0B
101C6:  MOVLB  0
101C8:  CALL   28AC
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
101CC:  MOVFF  21C,B06
101D0:  MOVFF  21B,B05
101D4:  MOVFF  21A,B04
101D8:  MOVFF  219,B03
101DC:  MOVLW  02
101DE:  MOVLB  B
101E0:  MOVWF  x08
101E2:  MOVLW  22
101E4:  MOVWF  x07
101E6:  CLRF   x0A
101E8:  MOVLW  01
101EA:  MOVWF  x09
101EC:  MOVLB  0
101EE:  CALL   3A1A
....................       output_high(flash_stream.cs_pin);
101F2:  MOVFF  21B,B09
101F6:  MOVLW  01
101F8:  MOVLB  B
101FA:  MOVWF  x0A
101FC:  MOVLW  0F
101FE:  MOVWF  x0C
10200:  MOVLW  89
10202:  MOVWF  x0B
10204:  MOVLB  0
10206:  CALL   28AC
1020A:  MOVFF  21B,B09
1020E:  MOVLB  B
10210:  CLRF   x0A
10212:  MOVLW  0F
10214:  MOVWF  x0C
10216:  MOVLW  92
10218:  MOVWF  x0B
1021A:  MOVLB  0
1021C:  CALL   28AC
....................       //Write enabled
....................       
....................       output_low(flash_stream.cs_pin);
10220:  MOVFF  21B,B09
10224:  MOVLB  B
10226:  CLRF   x0A
10228:  MOVLW  0F
1022A:  MOVWF  x0C
1022C:  MOVLW  89
1022E:  MOVWF  x0B
10230:  MOVLB  0
10232:  CALL   28AC
10236:  MOVFF  21B,B09
1023A:  MOVLB  B
1023C:  CLRF   x0A
1023E:  MOVLW  0F
10240:  MOVWF  x0C
10242:  MOVLW  92
10244:  MOVWF  x0B
10246:  MOVLB  0
10248:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_select_stream(flash_stream, flash_cmd, 5);
1024C:  MOVFF  21C,B06
10250:  MOVFF  21B,B05
10254:  MOVFF  21A,B04
10258:  MOVFF  219,B03
1025C:  MOVLW  02
1025E:  MOVLB  B
10260:  MOVWF  x08
10262:  MOVLW  23
10264:  MOVWF  x07
10266:  CLRF   x0A
10268:  MOVLW  05
1026A:  MOVWF  x09
1026C:  MOVLB  0
1026E:  CALL   3A1A
....................       //////////////////////////////////////////////////////////////////
....................       delay_us(2);
10272:  MOVLW  02
10274:  MOVWF  00
10276:  DECFSZ 00,F
10278:  BRA    10276
1027A:  NOP   
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
1027C:  MOVFF  21B,B09
10280:  MOVLW  01
10282:  MOVLB  B
10284:  MOVWF  x0A
10286:  MOVLW  0F
10288:  MOVWF  x0C
1028A:  MOVLW  89
1028C:  MOVWF  x0B
1028E:  MOVLB  0
10290:  CALL   28AC
10294:  MOVFF  21B,B09
10298:  MOVLB  B
1029A:  CLRF   x0A
1029C:  MOVLW  0F
1029E:  MOVWF  x0C
102A0:  MOVLW  92
102A2:  MOVWF  x0B
102A4:  MOVLB  0
102A6:  CALL   28AC
....................    }
102AA:  GOTO   10438
....................    else if(flash_stream.flash_model == MT25QL01GBBB){
102AE:  MOVLB  2
102B0:  DECFSZ x1A,W
102B2:  BRA    102B8
102B4:  BRA    102BE
102B6:  MOVLB  0
102B8:  MOVLB  0
102BA:  GOTO   10438
102BE:  MOVLB  0
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[6];
102C0:  MOVLW  06
102C2:  MOVLB  2
102C4:  MOVWF  x28
102C6:  MOVLB  0
....................       
....................       flash_cmd[0] = CMD_4BYTE_PAGE_PROGRAM;
102C8:  MOVLW  12
102CA:  MOVLB  2
102CC:  MOVWF  x29
....................       flash_cmd[1] = (unsigned int8)((write_address>>24) & 0xff);   // 0x _ _ 00 00 00
102CE:  MOVFF  220,231
102D2:  CLRF   x32
102D4:  CLRF   x33
102D6:  CLRF   x34
102D8:  MOVF   x31,W
102DA:  MOVWF  00
102DC:  CLRF   01
102DE:  CLRF   02
102E0:  CLRF   03
102E2:  MOVFF  00,22A
....................       flash_cmd[2] = (unsigned int8)((write_address>>16) & 0xff);   // 0x 00 _ _ 00 00
102E6:  MOVFF  21F,231
102EA:  MOVFF  220,232
102EE:  CLRF   x33
102F0:  CLRF   x34
102F2:  MOVF   x31,W
102F4:  MOVWF  00
102F6:  CLRF   01
102F8:  CLRF   02
102FA:  CLRF   03
102FC:  MOVFF  00,22B
....................       flash_cmd[3] = (unsigned int8)((write_address>>8) & 0xff);    // 0x 00 00 _ _ 00
10300:  MOVFF  21E,231
10304:  MOVFF  21F,232
10308:  MOVFF  220,233
1030C:  CLRF   x34
1030E:  MOVF   x31,W
10310:  MOVWF  00
10312:  CLRF   01
10314:  CLRF   02
10316:  CLRF   03
10318:  MOVFF  00,22C
....................       flash_cmd[4] = (unsigned int8)((write_address) & 0xff);       // 0x 00 00 00 _ _
1031C:  MOVF   x1D,W
1031E:  MOVWF  00
10320:  CLRF   01
10322:  CLRF   02
10324:  CLRF   03
10326:  MOVFF  00,22D
....................       flash_cmd[5] = write_data;
1032A:  MOVFF  221,22E
....................    
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
1032E:  MOVFF  21B,B09
10332:  MOVLB  B
10334:  CLRF   x0A
10336:  MOVLW  0F
10338:  MOVWF  x0C
1033A:  MOVLW  89
1033C:  MOVWF  x0B
1033E:  MOVLB  0
10340:  CALL   28AC
10344:  MOVFF  21B,B09
10348:  MOVLB  B
1034A:  CLRF   x0A
1034C:  MOVLW  0F
1034E:  MOVWF  x0C
10350:  MOVLW  92
10352:  MOVWF  x0B
10354:  MOVLB  0
10356:  CALL   28AC
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
1035A:  MOVFF  21C,B06
1035E:  MOVFF  21B,B05
10362:  MOVFF  21A,B04
10366:  MOVFF  219,B03
1036A:  MOVLW  02
1036C:  MOVLB  B
1036E:  MOVWF  x08
10370:  MOVLW  28
10372:  MOVWF  x07
10374:  CLRF   x0A
10376:  MOVLW  01
10378:  MOVWF  x09
1037A:  MOVLB  0
1037C:  CALL   3A1A
....................       output_high(flash_stream.cs_pin);
10380:  MOVFF  21B,B09
10384:  MOVLW  01
10386:  MOVLB  B
10388:  MOVWF  x0A
1038A:  MOVLW  0F
1038C:  MOVWF  x0C
1038E:  MOVLW  89
10390:  MOVWF  x0B
10392:  MOVLB  0
10394:  CALL   28AC
10398:  MOVFF  21B,B09
1039C:  MOVLB  B
1039E:  CLRF   x0A
103A0:  MOVLW  0F
103A2:  MOVWF  x0C
103A4:  MOVLW  92
103A6:  MOVWF  x0B
103A8:  MOVLB  0
103AA:  CALL   28AC
....................       //Write enabled
....................       output_low(flash_stream.cs_pin);
103AE:  MOVFF  21B,B09
103B2:  MOVLB  B
103B4:  CLRF   x0A
103B6:  MOVLW  0F
103B8:  MOVWF  x0C
103BA:  MOVLW  89
103BC:  MOVWF  x0B
103BE:  MOVLB  0
103C0:  CALL   28AC
103C4:  MOVFF  21B,B09
103C8:  MOVLB  B
103CA:  CLRF   x0A
103CC:  MOVLW  0F
103CE:  MOVWF  x0C
103D0:  MOVLW  92
103D2:  MOVWF  x0B
103D4:  MOVLB  0
103D6:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_select_stream(flash_stream, flash_cmd, 6);
103DA:  MOVFF  21C,B06
103DE:  MOVFF  21B,B05
103E2:  MOVFF  21A,B04
103E6:  MOVFF  219,B03
103EA:  MOVLW  02
103EC:  MOVLB  B
103EE:  MOVWF  x08
103F0:  MOVLW  29
103F2:  MOVWF  x07
103F4:  CLRF   x0A
103F6:  MOVLW  06
103F8:  MOVWF  x09
103FA:  MOVLB  0
103FC:  CALL   3A1A
....................       //////////////////////////////////////////////////////////////////
....................       delay_us(2);
10400:  MOVLW  02
10402:  MOVWF  00
10404:  DECFSZ 00,F
10406:  BRA    10404
10408:  NOP   
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
1040A:  MOVFF  21B,B09
1040E:  MOVLW  01
10410:  MOVLB  B
10412:  MOVWF  x0A
10414:  MOVLW  0F
10416:  MOVWF  x0C
10418:  MOVLW  89
1041A:  MOVWF  x0B
1041C:  MOVLB  0
1041E:  CALL   28AC
10422:  MOVFF  21B,B09
10426:  MOVLB  B
10428:  CLRF   x0A
1042A:  MOVLW  0F
1042C:  MOVWF  x0C
1042E:  MOVLW  92
10430:  MOVWF  x0B
10432:  MOVLB  0
10434:  CALL   28AC
....................    }
....................    
....................    //wait process finished
....................    unsigned int8 timeout_counter = 0;
10438:  MOVLB  2
1043A:  CLRF   x2F
1043C:  MOVLB  0
....................    while((status_register(flash_stream) & 0x01) == 1){                           //masking status bit
1043E:  MOVFF  21C,B06
10442:  MOVFF  21B,B05
10446:  MOVFF  21A,B04
1044A:  MOVFF  219,B03
1044E:  CALL   3C86
10452:  MOVF   01,W
10454:  ANDLW  01
10456:  SUBLW  01
10458:  BTFSS  FD8.2
1045A:  GOTO   10474
....................       delay_ms(1);   
1045E:  MOVLW  01
10460:  MOVLB  B
10462:  MOVWF  x03
10464:  MOVLB  0
10466:  CALL   20A0
....................       if(timeout_counter > 1000){
....................          #ifdef MT25Q_DEBUG
....................             fprintf(PC,"flash timeout\r\n");
....................          #endif
....................          break;
....................       }  
....................       timeout_counter++;
1046A:  MOVLB  2
1046C:  INCF   x2F,F
1046E:  MOVLB  0
10470:  GOTO   1043E
....................    }
....................    #ifdef MT25Q_DEBUG
....................       fprintf(PC,"flash write complete\r\n");
....................    #endif
....................    return;
10474:  RETURN 0
.................... }
....................  
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount){
....................    if(flash_stream.flash_model == MT25QL128ABA){
*
03D26:  MOVLB  A
03D28:  MOVF   xEC,F
03D2A:  BTFSC  FD8.2
03D2C:  BRA    3D34
03D2E:  MOVLB  0
03D30:  GOTO   3EA8
03D34:  MOVLB  0
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[4];
03D36:  MOVLW  06
03D38:  MOVLB  A
03D3A:  MOVWF  xF7
03D3C:  MOVLB  0
....................       
....................       flash_cmd[0] = CMD_PAGE_PROGRAM;
03D3E:  MOVLW  02
03D40:  MOVLB  A
03D42:  MOVWF  xF8
....................       flash_cmd[1] = (unsigned int8)((write_start_address>>16) & 0xff);   // 0x 00 _ _ 00 00
03D44:  MOVFF  AF1,B04
03D48:  MOVFF  AF2,B05
03D4C:  MOVLB  B
03D4E:  CLRF   x06
03D50:  CLRF   x07
03D52:  MOVF   x04,W
03D54:  MOVWF  00
03D56:  CLRF   01
03D58:  CLRF   02
03D5A:  CLRF   03
03D5C:  MOVFF  00,AF9
....................       flash_cmd[2] = (unsigned int8)((write_start_address>>8) & 0xff);    // 0x 00 00 _ _ 00
03D60:  MOVFF  AF0,B04
03D64:  MOVFF  AF1,B05
03D68:  MOVFF  AF2,B06
03D6C:  CLRF   x07
03D6E:  MOVF   x04,W
03D70:  MOVWF  00
03D72:  CLRF   01
03D74:  CLRF   02
03D76:  CLRF   03
03D78:  MOVFF  00,AFA
....................       flash_cmd[3] = (unsigned int8)((write_start_address) & 0xff);       // 0x 00 00 00 _ _
03D7C:  MOVLB  A
03D7E:  MOVF   xEF,W
03D80:  MOVWF  00
03D82:  CLRF   01
03D84:  CLRF   02
03D86:  CLRF   03
03D88:  MOVFF  00,AFB
.................... 
....................       //fprintf(PC, "address:0x%08LX\r\n", write_start_address);
.................... 
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
03D8C:  MOVFF  AED,B09
03D90:  MOVLB  B
03D92:  CLRF   x0A
03D94:  MOVLW  0F
03D96:  MOVWF  x0C
03D98:  MOVLW  89
03D9A:  MOVWF  x0B
03D9C:  MOVLB  0
03D9E:  CALL   28AC
03DA2:  MOVFF  AED,B09
03DA6:  MOVLB  B
03DA8:  CLRF   x0A
03DAA:  MOVLW  0F
03DAC:  MOVWF  x0C
03DAE:  MOVLW  92
03DB0:  MOVWF  x0B
03DB2:  MOVLB  0
03DB4:  CALL   28AC
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
03DB8:  MOVFF  AEE,B06
03DBC:  MOVFF  AED,B05
03DC0:  MOVFF  AEC,B04
03DC4:  MOVFF  AEB,B03
03DC8:  MOVLW  0A
03DCA:  MOVLB  B
03DCC:  MOVWF  x08
03DCE:  MOVLW  F7
03DD0:  MOVWF  x07
03DD2:  CLRF   x0A
03DD4:  MOVLW  01
03DD6:  MOVWF  x09
03DD8:  MOVLB  0
03DDA:  CALL   3A1A
....................       output_high(flash_stream.cs_pin);
03DDE:  MOVFF  AED,B09
03DE2:  MOVLW  01
03DE4:  MOVLB  B
03DE6:  MOVWF  x0A
03DE8:  MOVLW  0F
03DEA:  MOVWF  x0C
03DEC:  MOVLW  89
03DEE:  MOVWF  x0B
03DF0:  MOVLB  0
03DF2:  CALL   28AC
03DF6:  MOVFF  AED,B09
03DFA:  MOVLB  B
03DFC:  CLRF   x0A
03DFE:  MOVLW  0F
03E00:  MOVWF  x0C
03E02:  MOVLW  92
03E04:  MOVWF  x0B
03E06:  MOVLB  0
03E08:  CALL   28AC
....................       //Write enabled
....................       
....................       output_low(flash_stream.cs_pin);
03E0C:  MOVFF  AED,B09
03E10:  MOVLB  B
03E12:  CLRF   x0A
03E14:  MOVLW  0F
03E16:  MOVWF  x0C
03E18:  MOVLW  89
03E1A:  MOVWF  x0B
03E1C:  MOVLB  0
03E1E:  CALL   28AC
03E22:  MOVFF  AED,B09
03E26:  MOVLB  B
03E28:  CLRF   x0A
03E2A:  MOVLW  0F
03E2C:  MOVWF  x0C
03E2E:  MOVLW  92
03E30:  MOVWF  x0B
03E32:  MOVLB  0
03E34:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_two_datas_select_stream(flash_stream, flash_cmd, 4, write_data, write_amount);
03E38:  MOVFF  AEE,B06
03E3C:  MOVFF  AED,B05
03E40:  MOVFF  AEC,B04
03E44:  MOVFF  AEB,B03
03E48:  MOVLW  0A
03E4A:  MOVLB  B
03E4C:  MOVWF  x08
03E4E:  MOVLW  F8
03E50:  MOVWF  x07
03E52:  MOVLW  04
03E54:  MOVWF  x09
03E56:  MOVFF  AF4,B0B
03E5A:  MOVFF  AF3,B0A
03E5E:  MOVFF  AF6,B0D
03E62:  MOVFF  AF5,B0C
03E66:  MOVLB  0
03E68:  CALL   3B0A
....................       //////////////////////////////////////////////////////////////////
....................       delay_us(2);
03E6C:  MOVLW  02
03E6E:  MOVWF  00
03E70:  DECFSZ 00,F
03E72:  BRA    3E70
03E74:  NOP   
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
03E76:  MOVFF  AED,B09
03E7A:  MOVLW  01
03E7C:  MOVLB  B
03E7E:  MOVWF  x0A
03E80:  MOVLW  0F
03E82:  MOVWF  x0C
03E84:  MOVLW  89
03E86:  MOVWF  x0B
03E88:  MOVLB  0
03E8A:  CALL   28AC
03E8E:  MOVFF  AED,B09
03E92:  MOVLB  B
03E94:  CLRF   x0A
03E96:  MOVLW  0F
03E98:  MOVWF  x0C
03E9A:  MOVLW  92
03E9C:  MOVWF  x0B
03E9E:  MOVLB  0
03EA0:  CALL   28AC
....................    }
03EA4:  GOTO   4040
....................    else if(flash_stream.flash_model == MT25QL01GBBB){
03EA8:  MOVLB  A
03EAA:  DECFSZ xEC,W
03EAC:  BRA    3EB2
03EAE:  BRA    3EB8
03EB0:  MOVLB  0
03EB2:  MOVLB  0
03EB4:  GOTO   4040
03EB8:  MOVLB  0
....................       int8 write_enable_cmd = CMD_WRITE_ENABLE;
....................       unsigned int8 flash_cmd[5];
03EBA:  MOVLW  06
03EBC:  MOVLB  A
03EBE:  MOVWF  xFC
03EC0:  MOVLB  0
....................       
....................       flash_cmd[0] = CMD_4BYTE_PAGE_PROGRAM;
03EC2:  MOVLW  12
03EC4:  MOVLB  A
03EC6:  MOVWF  xFD
....................       flash_cmd[1] = (unsigned int8)((write_start_address>>24) & 0xff);   // 0x _ _ 00 00 00
03EC8:  MOVFF  AF2,B04
03ECC:  MOVLB  B
03ECE:  CLRF   x05
03ED0:  CLRF   x06
03ED2:  CLRF   x07
03ED4:  MOVF   x04,W
03ED6:  MOVWF  00
03ED8:  CLRF   01
03EDA:  CLRF   02
03EDC:  CLRF   03
03EDE:  MOVFF  00,AFE
....................       flash_cmd[2] = (unsigned int8)((write_start_address>>16) & 0xff);   // 0x 00 _ _ 00 00
03EE2:  MOVFF  AF1,B04
03EE6:  MOVFF  AF2,B05
03EEA:  CLRF   x06
03EEC:  CLRF   x07
03EEE:  MOVF   x04,W
03EF0:  MOVWF  00
03EF2:  CLRF   01
03EF4:  CLRF   02
03EF6:  CLRF   03
03EF8:  MOVFF  00,AFF
....................       flash_cmd[3] = (unsigned int8)((write_start_address>>8) & 0xff);    // 0x 00 00 _ _ 00
03EFC:  MOVFF  AF0,B04
03F00:  MOVFF  AF1,B05
03F04:  MOVFF  AF2,B06
03F08:  CLRF   x07
03F0A:  MOVF   x04,W
03F0C:  MOVWF  00
03F0E:  CLRF   01
03F10:  CLRF   02
03F12:  CLRF   03
03F14:  MOVFF  00,B00
....................       flash_cmd[4] = (unsigned int8)((write_start_address) & 0xff);       // 0x 00 00 00 _ _
03F18:  MOVLB  A
03F1A:  MOVF   xEF,W
03F1C:  MOVWF  00
03F1E:  CLRF   01
03F20:  CLRF   02
03F22:  CLRF   03
03F24:  MOVFF  00,B01
....................    
....................       //Write enable sequence
....................       output_low(flash_stream.cs_pin);
03F28:  MOVFF  AED,B09
03F2C:  MOVLB  B
03F2E:  CLRF   x0A
03F30:  MOVLW  0F
03F32:  MOVWF  x0C
03F34:  MOVLW  89
03F36:  MOVWF  x0B
03F38:  MOVLB  0
03F3A:  CALL   28AC
03F3E:  MOVFF  AED,B09
03F42:  MOVLB  B
03F44:  CLRF   x0A
03F46:  MOVLW  0F
03F48:  MOVWF  x0C
03F4A:  MOVLW  92
03F4C:  MOVWF  x0B
03F4E:  MOVLB  0
03F50:  CALL   28AC
....................       spi_xfer_select_stream(flash_stream, &write_enable_cmd, 1);
03F54:  MOVFF  AEE,B06
03F58:  MOVFF  AED,B05
03F5C:  MOVFF  AEC,B04
03F60:  MOVFF  AEB,B03
03F64:  MOVLW  0A
03F66:  MOVLB  B
03F68:  MOVWF  x08
03F6A:  MOVLW  FC
03F6C:  MOVWF  x07
03F6E:  CLRF   x0A
03F70:  MOVLW  01
03F72:  MOVWF  x09
03F74:  MOVLB  0
03F76:  CALL   3A1A
....................       output_high(flash_stream.cs_pin);
03F7A:  MOVFF  AED,B09
03F7E:  MOVLW  01
03F80:  MOVLB  B
03F82:  MOVWF  x0A
03F84:  MOVLW  0F
03F86:  MOVWF  x0C
03F88:  MOVLW  89
03F8A:  MOVWF  x0B
03F8C:  MOVLB  0
03F8E:  CALL   28AC
03F92:  MOVFF  AED,B09
03F96:  MOVLB  B
03F98:  CLRF   x0A
03F9A:  MOVLW  0F
03F9C:  MOVWF  x0C
03F9E:  MOVLW  92
03FA0:  MOVWF  x0B
03FA2:  MOVLB  0
03FA4:  CALL   28AC
....................       //Write enabled
....................       output_low(flash_stream.cs_pin);
03FA8:  MOVFF  AED,B09
03FAC:  MOVLB  B
03FAE:  CLRF   x0A
03FB0:  MOVLW  0F
03FB2:  MOVWF  x0C
03FB4:  MOVLW  89
03FB6:  MOVWF  x0B
03FB8:  MOVLB  0
03FBA:  CALL   28AC
03FBE:  MOVFF  AED,B09
03FC2:  MOVLB  B
03FC4:  CLRF   x0A
03FC6:  MOVLW  0F
03FC8:  MOVWF  x0C
03FCA:  MOVLW  92
03FCC:  MOVWF  x0B
03FCE:  MOVLB  0
03FD0:  CALL   28AC
....................       ///////////////////////////////////////////////////////////////////
....................       spi_xfer_two_datas_select_stream(flash_stream, flash_cmd, 5, write_data, write_amount);
03FD4:  MOVFF  AEE,B06
03FD8:  MOVFF  AED,B05
03FDC:  MOVFF  AEC,B04
03FE0:  MOVFF  AEB,B03
03FE4:  MOVLW  0A
03FE6:  MOVLB  B
03FE8:  MOVWF  x08
03FEA:  MOVLW  FD
03FEC:  MOVWF  x07
03FEE:  MOVLW  05
03FF0:  MOVWF  x09
03FF2:  MOVFF  AF4,B0B
03FF6:  MOVFF  AF3,B0A
03FFA:  MOVFF  AF6,B0D
03FFE:  MOVFF  AF5,B0C
04002:  MOVLB  0
04004:  CALL   3B0A
....................       //////////////////////////////////////////////////////////////////
....................       delay_us(2);
04008:  MOVLW  02
0400A:  MOVWF  00
0400C:  DECFSZ 00,F
0400E:  BRA    400C
04010:  NOP   
....................       output_high(flash_stream.cs_pin);            //take CS PIN higher back
04012:  MOVFF  AED,B09
04016:  MOVLW  01
04018:  MOVLB  B
0401A:  MOVWF  x0A
0401C:  MOVLW  0F
0401E:  MOVWF  x0C
04020:  MOVLW  89
04022:  MOVWF  x0B
04024:  MOVLB  0
04026:  CALL   28AC
0402A:  MOVFF  AED,B09
0402E:  MOVLB  B
04030:  CLRF   x0A
04032:  MOVLW  0F
04034:  MOVWF  x0C
04036:  MOVLW  92
04038:  MOVWF  x0B
0403A:  MOVLB  0
0403C:  CALL   28AC
....................    }
....................    
....................    //wait process finished
....................    unsigned int8 timeout_counter = 0;
04040:  MOVLB  B
04042:  CLRF   x02
04044:  MOVLB  0
....................    while((status_register(flash_stream) & 0x01) == 1){                           //masking status bit
04046:  MOVFF  AEE,B06
0404A:  MOVFF  AED,B05
0404E:  MOVFF  AEC,B04
04052:  MOVFF  AEB,B03
04056:  CALL   3C86
0405A:  MOVF   01,W
0405C:  ANDLW  01
0405E:  SUBLW  01
04060:  BTFSS  FD8.2
04062:  GOTO   407C
....................       delay_ms(1);
04066:  MOVLW  01
04068:  MOVLB  B
0406A:  MOVWF  x03
0406C:  MOVLB  0
0406E:  CALL   20A0
....................       if(timeout_counter > 1000){
....................          #ifdef MT25Q_DEBUG
....................             fprintf(PC,"flash timeout\r\n");
....................          #endif
....................          break;
....................       }  
....................       timeout_counter++;
04072:  MOVLB  B
04074:  INCF   x02,F
04076:  MOVLB  0
04078:  GOTO   4046
....................    }
....................    #ifdef MT25Q_DEBUG
....................       fprintf(PC,"flash write complete\r\n");
....................    #endif
....................    return;
0407C:  RETURN 0
.................... }
.................... 
....................  
.................... int1 is_connect(Flash flash_stream){
*
02BF4:  MOVLW  9F
02BF6:  MOVLB  2
02BF8:  MOVWF  x68
....................    READ_ID_DATA read_id_data;
....................    int8 flash_cmd = CMD_READ_ID;
....................    output_low(flash_stream.cs_pin);
02BFA:  MOVFF  252,B09
02BFE:  MOVLB  B
02C00:  CLRF   x0A
02C02:  MOVLW  0F
02C04:  MOVWF  x0C
02C06:  MOVLW  89
02C08:  MOVWF  x0B
02C0A:  MOVLB  0
02C0C:  CALL   28AC
02C10:  MOVFF  252,B09
02C14:  MOVLB  B
02C16:  CLRF   x0A
02C18:  MOVLW  0F
02C1A:  MOVWF  x0C
02C1C:  MOVLW  92
02C1E:  MOVWF  x0B
02C20:  MOVLB  0
02C22:  CALL   28AC
....................    delay_us(10);  
02C26:  MOVLW  0D
02C28:  MOVWF  00
02C2A:  DECFSZ 00,F
02C2C:  BRA    2C2A
....................    spi_xfer_and_read_select_stream(flash_stream, &flash_cmd, 1, read_id_data.bytes, sizeof(read_id_data.bytes));
02C2E:  MOVFF  253,B0C
02C32:  MOVFF  252,B0B
02C36:  MOVFF  251,B0A
02C3A:  MOVFF  250,B09
02C3E:  MOVLW  02
02C40:  MOVLB  B
02C42:  MOVWF  x0E
02C44:  MOVLW  68
02C46:  MOVWF  x0D
02C48:  CLRF   x10
02C4A:  MOVLW  01
02C4C:  MOVWF  x0F
02C4E:  MOVLW  02
02C50:  MOVWF  x12
02C52:  MOVLW  54
02C54:  MOVWF  x11
02C56:  CLRF   x16
02C58:  CLRF   x15
02C5A:  CLRF   x14
02C5C:  MOVLW  14
02C5E:  MOVWF  x13
02C60:  MOVLB  0
02C62:  CALL   29C0
....................    output_high(flash_stream.cs_pin);
02C66:  MOVFF  252,B09
02C6A:  MOVLW  01
02C6C:  MOVLB  B
02C6E:  MOVWF  x0A
02C70:  MOVLW  0F
02C72:  MOVWF  x0C
02C74:  MOVLW  89
02C76:  MOVWF  x0B
02C78:  MOVLB  0
02C7A:  CALL   28AC
02C7E:  MOVFF  252,B09
02C82:  MOVLB  B
02C84:  CLRF   x0A
02C86:  MOVLW  0F
02C88:  MOVWF  x0C
02C8A:  MOVLW  92
02C8C:  MOVWF  x0B
02C8E:  MOVLB  0
02C90:  CALL   28AC
....................    //fprintf(PC,"Read ID:%02X", read_id_data.fields.manufacturer_id);
....................    #ifdef MT25Q_DEBUG
....................       fprintf(PC,"Read ID:");
.................... 
....................    #endif
....................    //chip id check
....................    if(read_id_data.fields.manufacturer_id == MANUFACTURER_ID_MICRON){  
02C94:  MOVLB  2
02C96:  MOVF   x54,W
02C98:  SUBLW  20
02C9A:  BTFSC  FD8.2
02C9C:  BRA    2CA4
02C9E:  MOVLB  0
02CA0:  GOTO   2CB2
02CA4:  MOVLB  0
....................       #ifdef MT25Q_DEBUG
....................          fprintf(PC,"flash connect OK\r\n");
....................       #endif
....................       return true;
02CA6:  MOVLW  01
02CA8:  MOVWF  01
02CAA:  GOTO   2CBA
....................    }
02CAE:  GOTO   2CBA
....................    else{
....................       #ifdef MT25Q_DEBUG
....................          fprintf(PC,"flash not connect\r\n");
....................       #endif
....................       return false;
02CB2:  MOVLW  00
02CB4:  MOVWF  01
02CB6:  GOTO   2CBA
....................    }
02CBA:  RETURN 0
.................... }
.................... 
.................... #include "../lib/tool/calc_tools.c"
.................... unsigned int8 calc_crc8(unsigned int8 *frame, unsigned int8 payload_size)
.................... {
....................    if (payload_size <= 0) return 0;
*
02EDC:  MOVLB  A
02EDE:  MOVF   xED,F
02EE0:  BTFSC  FD8.2
02EE2:  BRA    2EEA
02EE4:  MOVLB  0
02EE6:  GOTO   2EF4
02EEA:  MOVLB  0
02EEC:  MOVLW  00
02EEE:  MOVWF  01
02EF0:  GOTO   2F46
.................... 
....................    unsigned int8 crc = *frame++;
02EF4:  MOVLB  A
02EF6:  MOVF   xEC,W
02EF8:  MOVWF  03
02EFA:  MOVF   xEB,W
02EFC:  INCF   xEB,F
02EFE:  BTFSC  FD8.2
02F00:  INCF   xEC,F
02F02:  MOVWF  FE9
02F04:  MOVFF  03,FEA
02F08:  MOVFF  FEF,AEE
02F0C:  MOVLB  0
....................    while (--payload_size > 0)
02F0E:  MOVLB  A
02F10:  DECF   xED,F
02F12:  MOVF   xED,F
02F14:  BTFSS  FD8.2
02F16:  BRA    2F1E
02F18:  MOVLB  0
02F1A:  GOTO   2F3E
02F1E:  MOVLB  0
....................       crc ^= *frame++;
02F20:  MOVLB  A
02F22:  MOVF   xEC,W
02F24:  MOVWF  03
02F26:  MOVF   xEB,W
02F28:  INCF   xEB,F
02F2A:  BTFSC  FD8.2
02F2C:  INCF   xEC,F
02F2E:  MOVWF  FE9
02F30:  MOVFF  03,FEA
02F34:  MOVF   FEF,W
02F36:  XORWF  xEE,F
02F38:  MOVLB  0
02F3A:  GOTO   2F0E
.................... 
....................    return crc;
02F3E:  MOVLB  A
02F40:  MOVF   xEE,W
02F42:  MOVWF  01
02F44:  MOVLB  0
02F46:  RETURN 0
.................... }
.................... 
.................... int1 is_crc_valid(unsigned int8 *frame, int8 payload_size)
.................... {
....................    unsigned int8 received_crc = frame[payload_size - 1]; // CRC is the last byte
....................    unsigned int8 calculated_crc = calc_crc8(frame, payload_size - 1);
....................    return (received_crc == calculated_crc);
.................... }
.................... 
.................... void int32_to_be_array(int32 value, int8 *buf, int8 index)
.................... {
....................     buf[index + 0] = (int8)(value >> 24);   // MSB
....................     buf[index + 1] = (int8)(value >> 16);
....................     buf[index + 2] = (int8)(value >>  8);
....................     buf[index + 3] = (int8)(value      );   // LSB
.................... }
.................... 
.................... int32 lsb_array_to_int32(int8 *buf, int8 index)
.................... {
....................     return ((int32)buf[index + 0] <<  0) |
....................            ((int32)buf[index + 1] <<  8) |
....................            ((int32)buf[index + 2] << 16) |
....................            ((int32)buf[index + 3] << 24);
.................... }
.................... 
.................... 
.................... int32 msb_array_to_int32(int8 *buf, int8 index)
.................... {
....................     return ((int32)buf[index + 0] << 24) |
....................            ((int32)buf[index + 1] << 16) |
....................            ((int32)buf[index + 2] <<  8) |
....................            ((int32)buf[index + 3]);
.................... }
.................... 
.................... unsigned int32 int32_lsb_to_msb(unsigned int32 value)
.................... {
....................     return ((value & 0x000000FF) << 24) |
....................            ((value & 0x0000FF00) << 8)  |
....................            ((value & 0x00FF0000) >> 8)  |
....................            ((value & 0xFF000000) >> 24);
.................... }
.................... 
.................... unsigned int32 int32_msb_to_lsb(unsigned int32 value)
.................... {
....................     return ((value & 0xFF000000) >> 24) |
....................            ((value & 0x00FF0000) >> 8)  |
....................            ((value & 0x0000FF00) << 8)  |
....................            ((value & 0x000000FF) << 24);
.................... }
.................... // End of file
.................... 
.................... #include "../lib/tool/smf_queue.c"
.................... #include "smf_queue.h"
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... #include "mmj_smf_memorymap.h"
.................... #ifndef SMF_MEMORY_MAP_H
.................... #define SMF_MEMORY_MAP_H
.................... 
.................... /*
....................  * Auto-generated Memory Map Header
....................  * Generated from: MMJ_ICD_021_IICD_06_Memory_map.xlsx
....................  * Generated at: 2025-07-27 20:54:05
....................  */
.................... #define PACKET_SIZE 64
.................... 
.................... typedef struct {
....................     unsigned int32 used_size;
....................     unsigned int8 loop_counter;
....................     unsigned int8 reserved[3];
.................... } partition_header_t;
.................... 
.................... 
.................... typedef enum smf_memory_id_t{
....................     // SATO
....................     SMF_SATO_DATA_TABLE = 0xA0,
....................     SMF_SATO_PICLOG = 0xA1,
....................     SMF_SATO_INNER_DIODE_HEADER = 0xA2,
....................     SMF_SATO_INNER_DIODE_DATA = 0xA3,
....................     SMF_SATO_OUTER_DIODE_HEADER = 0xA4,
....................     SMF_SATO_OUTER_DIODE_DATA = 0xA5,
.................... 
....................     // CIGS related IDs
....................     SMF_CIGS_DATA_TABLE = 0xC0,
....................     SMF_CIGS_PICLOG = 0xC1,
....................     SMF_CIGS_ENVIRO = 0xC2,
....................     SMF_CIGS_IV1_HEADER = 0xC3,
....................     SMF_CIGS_IV1_DATA = 0xC4,
....................     SMF_CIGS_IV2_HEADER = 0xC5,
....................     SMF_CIGS_IV2_DATA = 0xC6,
.................... };
.................... 
.................... 
.................... 
.................... // Base Memory Configuration
.................... #define SMF_SIZE 0x08000000 // 128MB
.................... #define SMF_START_ADDRESS 0x00000000
.................... #define SMF_END_ADDRESS   0x07FFFFFF
.................... 
.................... 
.................... // ===== Device IDs from メモリマップ  =====
.................... #define MAIN_DEVICE_ID 0x10
.................... #define COM_DEVICE_ID 0x20
.................... #define APRS_DEVICE_ID 0x60
.................... #define CAM_DEVICE_ID 0x70
.................... #define CHO_DEVICE_ID 0x80
.................... #define SATO_DEVICE_ID 0x90
.................... #define BHU_DEVICE_ID 0xB0
.................... #define CIGS_DEVICE_ID 0xC0
.................... 
.................... // ===== Data IDs from メモリマップ  =====
.................... #define ID_MAIN_ADDRESS_AREA 0x10
.................... #define ID_MAIN_ADDRESS 0x11
.................... #define ID_MAIN_RESERVED_COMMAND 0x12
.................... #define ID_MAIN_HK 0x14
.................... #define ID_MAIN_HSHK 0x15
.................... #define ID_MAIN_LSHK 0x16
.................... #define ID_MAIN_PIC_LOG 0x1F
.................... #define ID_COM_RSSI_TRX_T_LOG 0x20
.................... #define ID_COM_PIC_LOG 0x2F
.................... #define ID_APRS_PIC_DATA_TABLE 0x60
.................... #define ID_APRS_APRS 0x61
.................... #define ID_APRS_IN_VEHICLE_COMMUNICATION_MISSION 0x62
.................... #define ID_APRS_TLE_DATA 0x63
.................... #define ID_APRS_ECOSYSTEM 0x67
.................... #define ID_APRS_PIC_LOG 0x6F
.................... #define ID_CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE 0x70
.................... #define ID_CAM_CHIBANY_IMAGE_DATA_SIZE 0x71
.................... #define ID_CAM_CHIBANY_VIDEO_SIZE 0x72
.................... #define ID_CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE 0x73
.................... #define ID_CAM_POLEN_IMAGE_DATA_SIZE 0x74
.................... #define ID_CAM_POLLEN_VIDEO_DATA_SIZE 0x75
.................... #define ID_CAM_MCU_LOG_DATA_SIZE 0x7F
.................... #define ID_CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE 0x80
.................... #define ID_CHO_GREECE_IMAGE_DATA_SIZE 0x81
.................... #define ID_CHO_SENSOR_DATA_SIZE 0x82
.................... #define ID_CHO_MCU_LOG_DATA_SIZE 0x8F
.................... #define ID_SATO_PIC_DATA_TABLE 0x90
.................... #define ID_SATO_CYCLE_MODE_DATA 0x91
.................... #define ID_SATO_RANDOM_MODE_DATA 0x92
.................... #define ID_SATO_MULTIPLE_POINT_MODE_DATA 0x93
.................... #define ID_SATO_VOLTAGE_SWEEP_MODE_DATA 0x94
.................... #define ID_SATO_PIC_LOG 0x9F
.................... #define ID_BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE 0xB0
.................... #define ID_BHU_FOREST_IMAGE_DATA_SIZE 0xB1
.................... #define ID_BHU_SENSOR_DATA_DATA_SIZE 0xB2
.................... #define ID_BHU_MCU_LOG_DATA_SIZE 0xBF
.................... #define ID_CIGS_DATA_TABLE 0xC0
.................... #define ID_CIGS_MEASURE_DATA 0xC1
.................... #define ID_CIGS_PICLOG 0xCF
.................... 
.................... // ===== Memory Address Mappings from メモリマップ  =====
.................... #define MAIN_ADDRESS_AREA_START_ADDRESS 0x00000000
.................... #define MAIN_ADDRESS_AREA_END_ADDRESS 0x00000FFF
.................... #define MAIN_ADDRESS_START_ADDRESS 0x00001000
.................... #define MAIN_ADDRESS_END_ADDRESS 0x00001FFF
.................... #define MAIN_RESERVED_COMMAND_START_ADDRESS 0x00002000
.................... #define MAIN_RESERVED_COMMAND_END_ADDRESS 0x00003FFF
.................... #define MAIN_HK_START_ADDRESS 0x00004000
.................... #define MAIN_HK_END_ADDRESS 0x02003FFF
.................... #define MAIN_HSHK_START_ADDRESS 0x02004000
.................... #define MAIN_HSHK_END_ADDRESS 0x02103FFF
.................... #define MAIN_LSHK_START_ADDRESS 0x02104000
.................... #define MAIN_LSHK_END_ADDRESS 0x02303FFF
.................... #define MAIN_PIC_LOG_START_ADDRESS 0x02304000
.................... #define MAIN_PIC_LOG_END_ADDRESS 0x0240FFFF
.................... #define COM_RSSI_TRX_T_LOG_START_ADDRESS 0x02800000
.................... #define COM_RSSI_TRX_T_LOG_END_ADDRESS 0x028FFFFF
.................... #define COM_PIC_LOG_START_ADDRESS 0x02900000
.................... #define COM_PIC_LOG_END_ADDRESS 0x029FFFFF
.................... #define APRS_PIC_DATA_TABLE_START_ADDRESS 0x02C00000
.................... #define APRS_PIC_DATA_TABLE_END_ADDRESS 0x02C00FFF
.................... #define APRS_APRS_START_ADDRESS 0x02C01000
.................... #define APRS_APRS_END_ADDRESS 0x02D00FFF
.................... #define APRS_IN_VEHICLE_COMMUNICATION_MISSION_START_ADDRESS 0x02D01000
.................... #define APRS_IN_VEHICLE_COMMUNICATION_MISSION_END_ADDRESS 0x02D01FFF
.................... #define APRS_TLE_DATA_START_ADDRESS 0x02D02000
.................... #define APRS_TLE_DATA_END_ADDRESS 0x02D02FFF
.................... #define APRS_ECOSYSTEM_START_ADDRESS 0x02D03000
.................... #define APRS_ECOSYSTEM_END_ADDRESS 0x02E02FFF
.................... #define APRS_PIC_LOG_START_ADDRESS 0x02E03000
.................... #define APRS_PIC_LOG_END_ADDRESS 0x02E03FFF
.................... #define CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x02F10000
.................... #define CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x02F10FFF
.................... #define CAM_CHIBANY_IMAGE_DATA_SIZE_START_ADDRESS 0x03311000
.................... #define CAM_CHIBANY_IMAGE_DATA_SIZE_END_ADDRESS 0x03311FFF
.................... #define CAM_CHIBANY_VIDEO_SIZE_START_ADDRESS 0x03712000
.................... #define CAM_CHIBANY_VIDEO_SIZE_END_ADDRESS 0x03712FFF
.................... #define CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x03B13000
.................... #define CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x03B13FFF
.................... #define CAM_POLEN_IMAGE_DATA_SIZE_START_ADDRESS 0x03F14000
.................... #define CAM_POLEN_IMAGE_DATA_SIZE_END_ADDRESS 0x03F14FFF
.................... #define CAM_POLLEN_VIDEO_DATA_SIZE_START_ADDRESS 0x04315000
.................... #define CAM_POLLEN_VIDEO_DATA_SIZE_END_ADDRESS 0x04315FFF
.................... #define CAM_MCU_LOG_DATA_SIZE_START_ADDRESS 0x04320000
.................... #define CAM_MCU_LOG_DATA_SIZE_END_ADDRESS 0x04320FFF
.................... #define CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x04440000
.................... #define CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x04440FFF
.................... #define CHO_GREECE_IMAGE_DATA_SIZE_START_ADDRESS 0x04451000
.................... #define CHO_GREECE_IMAGE_DATA_SIZE_END_ADDRESS 0x04451FFF
.................... #define CHO_SENSOR_DATA_SIZE_START_ADDRESS 0x04852000
.................... #define CHO_SENSOR_DATA_SIZE_END_ADDRESS 0x04852FFF
.................... #define CHO_MCU_LOG_DATA_SIZE_START_ADDRESS 0x04863000
.................... #define CHO_MCU_LOG_DATA_SIZE_END_ADDRESS 0x04863FFF
.................... #define SATO_PIC_DATA_TABLE_START_ADDRESS 0x04980000
.................... #define SATO_PIC_DATA_TABLE_END_ADDRESS 0x04980FFF
.................... #define SATO_CYCLE_MODE_DATA_START_ADDRESS 0x04981000
.................... #define SATO_CYCLE_MODE_DATA_END_ADDRESS 0x04A80FFF
.................... #define SATO_RANDOM_MODE_DATA_START_ADDRESS 0x04A81000
.................... #define SATO_RANDOM_MODE_DATA_END_ADDRESS 0x04E80FFF
.................... #define SATO_MULTIPLE_POINT_MODE_DATA_START_ADDRESS 0x04E81000
.................... #define SATO_MULTIPLE_POINT_MODE_DATA_END_ADDRESS 0x04F80FFF
.................... #define SATO_VOLTAGE_SWEEP_MODE_DATA_START_ADDRESS 0x04F81000
.................... #define SATO_VOLTAGE_SWEEP_MODE_DATA_END_ADDRESS 0x05080FFF
.................... #define SATO_PIC_LOG_START_ADDRESS 0x05081000
.................... #define SATO_PIC_LOG_END_ADDRESS 0x05081FFF
.................... #define BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x05190000
.................... #define BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x05190FFF
.................... #define BHU_FOREST_IMAGE_DATA_SIZE_START_ADDRESS 0x05591000
.................... #define BHU_FOREST_IMAGE_DATA_SIZE_END_ADDRESS 0x05591FFF
.................... #define BHU_SENSOR_DATA_DATA_SIZE_START_ADDRESS 0x05992000
.................... #define BHU_SENSOR_DATA_DATA_SIZE_END_ADDRESS 0x05992FFF
.................... #define BHU_MCU_LOG_DATA_SIZE_START_ADDRESS 0x06993000
.................... #define BHU_MCU_LOG_DATA_SIZE_END_ADDRESS   0x06993FFF
.................... // CIGS related partitions
.................... #define CIGS_DATA_TABLE_START_ADDRESS   0x06AA0000
.................... #define CIGS_DATA_TABLE_END_ADDRESS     0x06AA0FFF
.................... #define CIGS_PICLOG_START_ADDRESS       0x06AA1000
.................... #define CIGS_PICLOG_END_ADDRESS         0x06AB0FFF
.................... #define CIGS_ENVIRO_START_ADDRESS       0x06AB1000
.................... #define CIGS_ENVIRO_END_ADDRESS         0x06B50FFF
.................... #define CIGS_IV1_HEADER_START_ADDRESS   0x06B51000
.................... #define CIGS_IV1_HEADER_END_ADDRESS     0x06BF0FFF
.................... #define CIGS_IV1_DATA_START_ADDRESS     0x06BF1000
.................... #define CIGS_IV1_DATA_END_ADDRESS       0x06FF0FFF
.................... #define CIGS_IV2_HEADER_START_ADDRESS   0x06FF1000
.................... #define CIGS_IV2_HEADER_END_ADDRESS     0x07090FFF
.................... #define CIGS_IV2_DATA_START_ADDRESS     0x07091000
.................... #define CIGS_IV2_DATA_END_ADDRESS       0x07490FFF
.................... 
.................... /*
.................... enum smf_memory_id{
....................     // SATO
....................     SATO_DATA_TABLE = 0xA0,
....................     SATO_PICLOG = 0xA1,
....................     SATO_INNER_DIODE_HEADER = 0xA2,
....................     SATO_INNER_DIODE_DATA = 0xA3,
....................     SATO_OUTER_DIODE_HEADER = 0xA4,
....................     SATO_OUTER_DIODE_DATA = 0xA5,
.................... 
....................     // CIGS related IDs
....................     IDF_CIGS_DATA_TABLE = 0xC0,
....................     IDF_CIGS_PICLOG = 0xC1,
....................     IDF_CIGS_ENVIRO = 0xC2,
....................     IDF_CIGS_IV1_HEADER = 0xC3,
....................     IDF_CIGS_IV1_DATA = 0xC4,
....................     IDF_CIGS_IV2_HEADER = 0xC5,
....................     IDF_CIGS_IV2_DATA = 0xC6,
.................... }
.................... */
.................... // DATA ID for CIGS
.................... #define DATA_ID_CIGS_DATA_TABLE 0xC0
.................... #define DATA_ID_CIGS_PICLOG 0xC1
.................... #define DATA_ID_CIGS_ENVIRO 0xC2
.................... #define DATA_ID_CIGS_IV1_HEADER 0xC3
.................... #define DATA_ID_CIGS_IV1_DATA 0xC4
.................... #define DATA_ID_CIGS_IV2_HEADER 0xC5
.................... #define DATA_ID_CIGS_IV2_DATA 0xC6
.................... 
.................... // FLASH ADDRESS for CIGS
.................... #define SMF_DATA_TABLE_HEADER_START_ADDRESS   0x07284000
.................... #define SMF_DATA_TABLE_HEADER_END_ADDRESS     0x07284FFF
.................... #define SMF_DATA_TABLE_DATA_START_ADDRESS     0x07285000
.................... #define SMF_DATA_TABLE_DATA_END_ADDRESS       0x07285FFF
.................... 
.................... #define SMF_PICLOG_HEADER_START_ADDRESS       0x07286000
.................... #define SMF_PICLOG_HEADER_END_ADDRESS         0x07286FFF
.................... #define SMF_PICLOG_DATA_START_ADDRESS         0x07287000
.................... #define SMF_PICLOG_DATA_END_ADDRESS           0x07296FFF
.................... 
.................... #define SMF_ENVIRO_HEADER_START_ADDRESS       0x07297000
.................... #define SMF_ENVIRO_HEADER_END_ADDRESS         0x07297FFF
.................... #define SMF_ENVIRO_DATA_START_ADDRESS         0x07298000
.................... #define SMF_ENVIRO_DATA_END_ADDRESS           0x07337FFF
.................... 
.................... #define SMF_IV1_HEADER_HEADER_START_ADDRESS   0x07338000
.................... #define SMF_IV1_HEADER_HEADER_END_ADDRESS     0x07338FFF
.................... #define SMF_IV1_HEADER_DATA_START_ADDRESS     0x07339000
.................... #define SMF_IV1_HEADER_DATA_END_ADDRESS       0x073D8FFF
.................... 
.................... #define SMF_IV1_DATA_HEADER_START_ADDRESS     0x073D9000
.................... #define SMF_IV1_DATA_HEADER_END_ADDRESS       0x073D9FFF
.................... #define SMF_IV1_DATA_DATA_START_ADDRESS       0x073DA000
.................... #define SMF_IV1_DATA_DATA_END_ADDRESS         0x077D9FFF
.................... 
.................... #define SMF_IV2_HEADER_HEADER_START_ADDRESS   0x077DA000
.................... #define SMF_IV2_HEADER_HEADER_END_ADDRESS     0x077DAFFF
.................... #define SMF_IV2_HEADER_DATA_START_ADDRESS     0x077DB000
.................... #define SMF_IV2_HEADER_DATA_END_ADDRESS       0x0787AFFF
.................... 
.................... #define SMF_IV2_DATA_HEADER_START_ADDRESS     0x0787B000
.................... #define SMF_IV2_DATA_HEADER_END_ADDRESS       0x0787BFFF
.................... #define SMF_IV2_DATA_DATA_START_ADDRESS       0x0787C000
.................... #define SMF_IV2_DATA_DATA_END_ADDRESS         0x07C7BFFF
.................... 
.................... 
.................... // FLASH SIZE for CIGS
.................... #define SMF_DATA_TABLE_SIZE  4096
.................... #define SMF_PICLOG_SIZE     1310720
.................... #define SMF_ENVIRO_SIZE     1310720
.................... #define SMF_IV1_HEADER_SIZE  655360
.................... #define SMF_IV1_DATA_SIZE    4194304
.................... #define SMF_IV2_HEADER_SIZE  655360
.................... #define SMF_IV2_DATA_SIZE    4194304
.................... 
.................... #endif // SMF_MEMORY_MAP_H
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data)
.................... {   
....................    fprintf(PC, "Enqueue Flash Operation\r\n");
*
0A808:  MOVLW  98
0A80A:  MOVWF  FF6
0A80C:  MOVLW  03
0A80E:  MOVWF  FF7
0A810:  MOVLW  00
0A812:  MOVWF  FF8
0A814:  CALL   20CE
....................    int8 next_tail = (flash_queue.tail_index + 1) % SMF_QUEUE_SIZE;
0A818:  MOVLW  01
0A81A:  MOVLB  1
0A81C:  ADDWF  x11,W
0A81E:  ANDLW  0F
0A820:  MOVWF  xE1
.................... 
....................    if(next_tail == flash_queue.head_index)
0A822:  MOVF   x10,W
0A824:  SUBWF  xE1,W
0A826:  BTFSC  FD8.2
0A828:  BRA    A830
0A82A:  MOVLB  0
0A82C:  GOTO   A846
0A830:  MOVLB  0
....................       printf("Flash queue is full!!!\r\n");
0A832:  MOVLW  B2
0A834:  MOVWF  FF6
0A836:  MOVLW  03
0A838:  MOVWF  FF7
0A83A:  MOVLW  00
0A83C:  MOVWF  FF8
0A83E:  CALL   20CE
0A842:  GOTO   AA66
....................       
....................    else
....................    {
....................       flash_queue.entries[flash_queue.tail_index].mission_id = data->mission_id;
0A846:  MOVLB  1
0A848:  MOVF   x11,W
0A84A:  MULLW  0C
0A84C:  MOVF   FF3,W
0A84E:  CLRF   xE3
0A850:  MOVWF  xE2
0A852:  MOVLW  50
0A854:  ADDWF  xE2,W
0A856:  MOVWF  01
0A858:  MOVLW  00
0A85A:  ADDWFC xE3,W
0A85C:  MOVWF  03
0A85E:  MOVF   01,W
0A860:  MOVWF  xE4
0A862:  MOVFF  03,1E5
0A866:  MOVF   xDF,W
0A868:  MOVWF  FE9
0A86A:  MOVF   xE0,W
0A86C:  MOVWF  FEA
0A86E:  MOVF   FEF,W
0A870:  MOVWF  xE6
0A872:  MOVFF  1E5,FEA
0A876:  MOVFF  1E4,FE9
0A87A:  MOVFF  1E6,FEF
....................       flash_queue.entries[flash_queue.tail_index].func_type  = data->func_type;
0A87E:  MOVF   x11,W
0A880:  MULLW  0C
0A882:  MOVF   FF3,W
0A884:  CLRF   xE3
0A886:  MOVWF  xE2
0A888:  MOVLW  01
0A88A:  ADDWF  xE2,W
0A88C:  MOVWF  01
0A88E:  MOVLW  00
0A890:  ADDWFC xE3,W
0A892:  MOVWF  03
0A894:  MOVF   01,W
0A896:  ADDLW  50
0A898:  MOVWF  01
0A89A:  MOVLW  00
0A89C:  ADDWFC 03,F
0A89E:  MOVF   01,W
0A8A0:  MOVWF  xE2
0A8A2:  MOVFF  03,1E3
0A8A6:  MOVLW  01
0A8A8:  ADDWF  xDF,W
0A8AA:  MOVWF  FE9
0A8AC:  MOVLW  00
0A8AE:  ADDWFC xE0,W
0A8B0:  MOVWF  FEA
0A8B2:  MOVF   FEF,W
0A8B4:  MOVWF  xE4
0A8B6:  MOVFF  1E3,FEA
0A8BA:  MOVFF  1E2,FE9
0A8BE:  MOVFF  1E4,FEF
....................       flash_queue.entries[flash_queue.tail_index].write_mode = data->write_mode;
0A8C2:  MOVF   x11,W
0A8C4:  MULLW  0C
0A8C6:  MOVF   FF3,W
0A8C8:  CLRF   xE3
0A8CA:  MOVWF  xE2
0A8CC:  MOVLW  02
0A8CE:  ADDWF  xE2,W
0A8D0:  MOVWF  01
0A8D2:  MOVLW  00
0A8D4:  ADDWFC xE3,W
0A8D6:  MOVWF  03
0A8D8:  MOVF   01,W
0A8DA:  ADDLW  50
0A8DC:  MOVWF  01
0A8DE:  MOVLW  00
0A8E0:  ADDWFC 03,F
0A8E2:  MOVF   01,W
0A8E4:  MOVWF  xE2
0A8E6:  MOVFF  03,1E3
0A8EA:  MOVLW  02
0A8EC:  ADDWF  xDF,W
0A8EE:  MOVWF  FE9
0A8F0:  MOVLW  00
0A8F2:  ADDWFC xE0,W
0A8F4:  MOVWF  FEA
0A8F6:  MOVF   FEF,W
0A8F8:  MOVWF  xE4
0A8FA:  MOVFF  1E3,FEA
0A8FE:  MOVFF  1E2,FE9
0A902:  MOVFF  1E4,FEF
....................       flash_queue.entries[flash_queue.tail_index].source_type = data->source_type;
0A906:  MOVF   x11,W
0A908:  MULLW  0C
0A90A:  MOVF   FF3,W
0A90C:  CLRF   xE3
0A90E:  MOVWF  xE2
0A910:  MOVLW  03
0A912:  ADDWF  xE2,W
0A914:  MOVWF  01
0A916:  MOVLW  00
0A918:  ADDWFC xE3,W
0A91A:  MOVWF  03
0A91C:  MOVF   01,W
0A91E:  ADDLW  50
0A920:  MOVWF  01
0A922:  MOVLW  00
0A924:  ADDWFC 03,F
0A926:  MOVF   01,W
0A928:  MOVWF  xE2
0A92A:  MOVFF  03,1E3
0A92E:  MOVLW  03
0A930:  ADDWF  xDF,W
0A932:  MOVWF  01
0A934:  MOVLW  00
0A936:  ADDWFC xE0,W
0A938:  MOVWF  03
0A93A:  MOVF   01,W
0A93C:  MOVWF  FE9
0A93E:  MOVFF  03,FEA
0A942:  MOVLW  00
0A944:  BTFSC  FEF.0
0A946:  MOVLW  01
0A948:  MOVWF  01
0A94A:  BTFSS  01.0
0A94C:  BRA    A954
0A94E:  MOVLB  0
0A950:  GOTO   A964
0A954:  MOVLB  0
0A956:  MOVFF  1E3,FEA
0A95A:  MOVFF  1E2,FE9
0A95E:  BCF    FEF.0
0A960:  GOTO   A96E
0A964:  MOVFF  1E3,FEA
0A968:  MOVFF  1E2,FE9
0A96C:  BSF    FEF.0
....................       flash_queue.entries[flash_queue.tail_index].misf_start_addr = data->misf_start_addr;
0A96E:  MOVLB  1
0A970:  MOVF   x11,W
0A972:  MULLW  0C
0A974:  MOVF   FF3,W
0A976:  CLRF   xE3
0A978:  MOVWF  xE2
0A97A:  MOVLW  04
0A97C:  ADDWF  xE2,W
0A97E:  MOVWF  01
0A980:  MOVLW  00
0A982:  ADDWFC xE3,W
0A984:  MOVWF  03
0A986:  MOVF   01,W
0A988:  ADDLW  50
0A98A:  MOVWF  01
0A98C:  MOVLW  00
0A98E:  ADDWFC 03,F
0A990:  MOVF   01,W
0A992:  MOVWF  xE2
0A994:  MOVFF  03,1E3
0A998:  MOVLW  04
0A99A:  ADDWF  xDF,W
0A99C:  MOVWF  FE9
0A99E:  MOVLW  00
0A9A0:  ADDWFC xE0,W
0A9A2:  MOVWF  FEA
0A9A4:  MOVFF  FEF,00
0A9A8:  MOVFF  FEC,01
0A9AC:  MOVFF  FEC,02
0A9B0:  MOVFF  FEC,03
0A9B4:  MOVF   FED,F
0A9B6:  MOVF   FED,F
0A9B8:  MOVF   FED,F
0A9BA:  MOVFF  03,1E7
0A9BE:  MOVFF  02,1E6
0A9C2:  MOVFF  01,1E5
0A9C6:  MOVFF  00,1E4
0A9CA:  MOVFF  1E3,FEA
0A9CE:  MOVFF  1E2,FE9
0A9D2:  MOVFF  1E4,FEF
0A9D6:  MOVFF  1E5,FEC
0A9DA:  MOVFF  1E6,FEC
0A9DE:  MOVFF  1E7,FEC
0A9E2:  MOVF   FED,F
0A9E4:  MOVF   FED,F
0A9E6:  MOVF   FED,F
....................       flash_queue.entries[flash_queue.tail_index].misf_size = data->misf_size;
0A9E8:  MOVF   x11,W
0A9EA:  MULLW  0C
0A9EC:  MOVF   FF3,W
0A9EE:  CLRF   xE3
0A9F0:  MOVWF  xE2
0A9F2:  MOVLW  08
0A9F4:  ADDWF  xE2,W
0A9F6:  MOVWF  01
0A9F8:  MOVLW  00
0A9FA:  ADDWFC xE3,W
0A9FC:  MOVWF  03
0A9FE:  MOVF   01,W
0AA00:  ADDLW  50
0AA02:  MOVWF  01
0AA04:  MOVLW  00
0AA06:  ADDWFC 03,F
0AA08:  MOVF   01,W
0AA0A:  MOVWF  xE2
0AA0C:  MOVFF  03,1E3
0AA10:  MOVLW  08
0AA12:  ADDWF  xDF,W
0AA14:  MOVWF  FE9
0AA16:  MOVLW  00
0AA18:  ADDWFC xE0,W
0AA1A:  MOVWF  FEA
0AA1C:  MOVFF  FEF,00
0AA20:  MOVFF  FEC,01
0AA24:  MOVFF  FEC,02
0AA28:  MOVFF  FEC,03
0AA2C:  MOVF   FED,F
0AA2E:  MOVF   FED,F
0AA30:  MOVF   FED,F
0AA32:  MOVFF  03,1E7
0AA36:  MOVFF  02,1E6
0AA3A:  MOVFF  01,1E5
0AA3E:  MOVFF  00,1E4
0AA42:  MOVFF  1E3,FEA
0AA46:  MOVFF  1E2,FE9
0AA4A:  MOVFF  1E4,FEF
0AA4E:  MOVFF  1E5,FEC
0AA52:  MOVFF  1E6,FEC
0AA56:  MOVFF  1E7,FEC
0AA5A:  MOVF   FED,F
0AA5C:  MOVF   FED,F
0AA5E:  MOVF   FED,F
....................       flash_queue.tail_index = next_tail;
0AA60:  MOVFF  1E1,111
0AA64:  MOVLB  0
....................    }
0AA66:  RETURN 0
.................... 
.................... 
.................... }
.................... 
.................... 
.................... FlashOperationStruct *dequeue_flash_operation()
.................... {
....................    if (flash_queue.head_index == flash_queue.tail_index)
*
0FD68:  MOVLB  1
0FD6A:  MOVF   x11,W
0FD6C:  SUBWF  x10,W
0FD6E:  BTFSC  FD8.2
0FD70:  BRA    FD78
0FD72:  MOVLB  0
0FD74:  GOTO   FD9A
0FD78:  MOVLB  0
....................    {
....................       printf("Flash queue is empty\r\n");
0FD7A:  MOVLW  CC
0FD7C:  MOVWF  FF6
0FD7E:  MOVLW  03
0FD80:  MOVWF  FF7
0FD82:  MOVLW  00
0FD84:  MOVWF  FF8
0FD86:  CALL   20CE
....................       return 0x00;
0FD8A:  MOVLW  00
0FD8C:  MOVWF  01
0FD8E:  MOVLW  00
0FD90:  MOVWF  02
0FD92:  GOTO   FDC6
....................    }
0FD96:  GOTO   FDC6
....................    else
....................    {
....................       int8 current_head = flash_queue.head_index;
0FD9A:  MOVFF  110,1A1
....................       flash_queue.head_index = (flash_queue.head_index + 1) % SMF_QUEUE_SIZE;
0FD9E:  MOVLW  01
0FDA0:  MOVLB  1
0FDA2:  ADDWF  x10,W
0FDA4:  ANDLW  0F
0FDA6:  MOVWF  x10
.................... 
.................... 
....................       return &flash_queue.entries[current_head];
0FDA8:  MOVF   xA1,W
0FDAA:  MULLW  0C
0FDAC:  MOVF   FF3,W
0FDAE:  CLRF   03
0FDB0:  ADDLW  50
0FDB2:  MOVWF  01
0FDB4:  MOVLW  00
0FDB6:  ADDWFC 03,F
0FDB8:  MOVF   01,W
0FDBA:  MOVWF  01
0FDBC:  MOVF   03,W
0FDBE:  MOVWF  02
0FDC0:  MOVLB  0
0FDC2:  GOTO   FDC6
....................    }
0FDC6:  GOTO   12372 (RETURN)
.................... }
.................... 
.................... int1 is_empty_flash_queue(void)
.................... {
....................    return flash_queue.head_index == flash_queue.tail_index;
*
0FC8C:  MOVLB  1
0FC8E:  MOVF   x11,W
0FC90:  SUBWF  x10,W
0FC92:  BTFSS  FD8.2
0FC94:  BRA    FC9C
0FC96:  MOVLB  0
0FC98:  GOTO   FCA4
0FC9C:  MOVLB  0
0FC9E:  MOVLW  00
0FCA0:  GOTO   FCA6
0FCA4:  MOVLW  01
0FCA6:  MOVWF  01
0FCA8:  RETURN 0
.................... }
.................... 
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id)
.................... {
....................    SmfAddressStruct mis_struct = {0};
*
113AA:  MOVLB  2
113AC:  CLRF   x0B
113AE:  CLRF   x0C
113B0:  CLRF   x0D
113B2:  CLRF   x0E
113B4:  CLRF   x0F
113B6:  CLRF   x10
113B8:  CLRF   x11
113BA:  CLRF   x12
.................... 
....................    if (mission_id == CIGS_DATA_TABLE)
113BC:  MOVF   x0A,F
113BE:  BTFSC  FD8.2
113C0:  BRA    113C8
113C2:  MOVLB  0
113C4:  GOTO   113EC
113C8:  MOVLB  0
....................    {
....................       mis_struct.start_address = CIGS_DATA_TABLE_START_ADDRESS;
113CA:  MOVLW  06
113CC:  MOVLB  2
113CE:  MOVWF  x0E
113D0:  MOVLW  AA
113D2:  MOVWF  x0D
113D4:  CLRF   x0C
113D6:  CLRF   x0B
....................       mis_struct.end_address   = CIGS_DATA_TABLE_END_ADDRESS;
113D8:  MOVLW  06
113DA:  MOVWF  x12
113DC:  MOVLW  AA
113DE:  MOVWF  x11
113E0:  MOVLW  0F
113E2:  MOVWF  x10
113E4:  SETF   x0F
113E6:  MOVLB  0
....................    }
113E8:  GOTO   11528
....................    else if (mission_id == CIGS_PICLOG_DATA)
113EC:  MOVLB  2
113EE:  DECFSZ x0A,W
113F0:  BRA    113F6
113F2:  BRA    113FC
113F4:  MOVLB  0
113F6:  MOVLB  0
113F8:  GOTO   11422
113FC:  MOVLB  0
....................    {
....................       mis_struct.start_address = CIGS_PICLOG_START_ADDRESS;
113FE:  MOVLW  06
11400:  MOVLB  2
11402:  MOVWF  x0E
11404:  MOVLW  AA
11406:  MOVWF  x0D
11408:  MOVLW  10
1140A:  MOVWF  x0C
1140C:  CLRF   x0B
....................       mis_struct.end_address   = CIGS_PICLOG_END_ADDRESS;
1140E:  MOVLW  06
11410:  MOVWF  x12
11412:  MOVLW  AB
11414:  MOVWF  x11
11416:  MOVLW  0F
11418:  MOVWF  x10
1141A:  SETF   x0F
1141C:  MOVLB  0
....................    }
1141E:  GOTO   11528
....................    else if (mission_id == CIGS_ENVIRO_DATA)
11422:  MOVLB  2
11424:  MOVF   x0A,W
11426:  SUBLW  02
11428:  BTFSC  FD8.2
1142A:  BRA    11432
1142C:  MOVLB  0
1142E:  GOTO   11458
11432:  MOVLB  0
....................    {
....................       mis_struct.start_address = CIGS_PICLOG_START_ADDRESS;
11434:  MOVLW  06
11436:  MOVLB  2
11438:  MOVWF  x0E
1143A:  MOVLW  AA
1143C:  MOVWF  x0D
1143E:  MOVLW  10
11440:  MOVWF  x0C
11442:  CLRF   x0B
....................       mis_struct.end_address   = CIGS_PICLOG_END_ADDRESS;
11444:  MOVLW  06
11446:  MOVWF  x12
11448:  MOVLW  AB
1144A:  MOVWF  x11
1144C:  MOVLW  0F
1144E:  MOVWF  x10
11450:  SETF   x0F
11452:  MOVLB  0
....................    }
11454:  GOTO   11528
....................    else if (mission_id == CIGS_IV1_HEADER)
11458:  MOVLB  2
1145A:  MOVF   x0A,W
1145C:  SUBLW  03
1145E:  BTFSC  FD8.2
11460:  BRA    11468
11462:  MOVLB  0
11464:  GOTO   1148E
11468:  MOVLB  0
....................    {
....................       mis_struct.start_address = CIGS_IV1_HEADER_START_ADDRESS;
1146A:  MOVLW  06
1146C:  MOVLB  2
1146E:  MOVWF  x0E
11470:  MOVLW  B5
11472:  MOVWF  x0D
11474:  MOVLW  10
11476:  MOVWF  x0C
11478:  CLRF   x0B
....................       mis_struct.end_address   = CIGS_IV1_HEADER_END_ADDRESS;
1147A:  MOVLW  06
1147C:  MOVWF  x12
1147E:  MOVLW  BF
11480:  MOVWF  x11
11482:  MOVLW  0F
11484:  MOVWF  x10
11486:  SETF   x0F
11488:  MOVLB  0
....................    }
1148A:  GOTO   11528
....................    else if (mission_id == CIGS_IV1_DATA)
1148E:  MOVLB  2
11490:  MOVF   x0A,W
11492:  SUBLW  04
11494:  BTFSC  FD8.2
11496:  BRA    1149E
11498:  MOVLB  0
1149A:  GOTO   114C2
1149E:  MOVLB  0
....................    {
....................       mis_struct.start_address = CIGS_IV1_DATA_START_ADDRESS;
114A0:  MOVLW  06
114A2:  MOVLB  2
114A4:  MOVWF  x0E
114A6:  MOVLW  BF
114A8:  MOVWF  x0D
114AA:  MOVLW  10
114AC:  MOVWF  x0C
114AE:  CLRF   x0B
....................       mis_struct.end_address   = CIGS_IV1_DATA_END_ADDRESS;
114B0:  MOVLW  06
114B2:  MOVWF  x12
114B4:  SETF   x11
114B6:  MOVLW  0F
114B8:  MOVWF  x10
114BA:  SETF   x0F
114BC:  MOVLB  0
....................    }
114BE:  GOTO   11528
....................       else if (mission_id == CIGS_IV2_HEADER)
114C2:  MOVLB  2
114C4:  MOVF   x0A,W
114C6:  SUBLW  05
114C8:  BTFSC  FD8.2
114CA:  BRA    114D2
114CC:  MOVLB  0
114CE:  GOTO   114F6
114D2:  MOVLB  0
....................    {
....................       mis_struct.start_address = CIGS_IV2_HEADER_START_ADDRESS;
114D4:  MOVLW  06
114D6:  MOVLB  2
114D8:  MOVWF  x0E
114DA:  SETF   x0D
114DC:  MOVLW  10
114DE:  MOVWF  x0C
114E0:  CLRF   x0B
....................       mis_struct.end_address   = CIGS_IV2_HEADER_END_ADDRESS;
114E2:  MOVLW  07
114E4:  MOVWF  x12
114E6:  MOVLW  09
114E8:  MOVWF  x11
114EA:  MOVLW  0F
114EC:  MOVWF  x10
114EE:  SETF   x0F
114F0:  MOVLB  0
....................    }
114F2:  GOTO   11528
....................    else if (mission_id == CIGS_IV2_DATA)
114F6:  MOVLB  2
114F8:  MOVF   x0A,W
114FA:  SUBLW  06
114FC:  BTFSC  FD8.2
114FE:  BRA    11506
11500:  MOVLB  0
11502:  GOTO   11528
11506:  MOVLB  0
....................    {
....................       mis_struct.start_address = CIGS_IV2_DATA_START_ADDRESS;
11508:  MOVLW  07
1150A:  MOVLB  2
1150C:  MOVWF  x0E
1150E:  MOVLW  09
11510:  MOVWF  x0D
11512:  MOVLW  10
11514:  MOVWF  x0C
11516:  CLRF   x0B
....................       mis_struct.end_address   = CIGS_IV2_DATA_END_ADDRESS;
11518:  MOVLW  07
1151A:  MOVWF  x12
1151C:  MOVLW  49
1151E:  MOVWF  x11
11520:  MOVLW  0F
11522:  MOVWF  x10
11524:  SETF   x0F
11526:  MOVLB  0
....................    }
....................    return mis_struct;
11528:  MOVLW  0B
1152A:  MOVWF  01
1152C:  MOVLW  02
1152E:  MOVWF  02
11530:  RETURN 0
.................... }
.................... // End of file
.................... 
.................... #include "../lib/communication/communication.c"
.................... // #include "communication.h"  // ヘッダーファイルから自動的にインクルードされるため不要
.................... #include "mission_tools.h"
.................... #ifndef MISSION_TOOLS_H
.................... #define MISSION_TOOLS_H
.................... 
.................... #include "communication_driver.h"
.................... 
.................... 
.................... // ________________ fuctions ____________
.................... 
.................... // Check and reply to messages received from BOSS PIC
.................... void check_and_respond_to_boss();
.................... 
.................... // Request using SMF to BOSS PIC
.................... // !!!After use, you must call `void finished_use_smf()`
.................... int1 req_use_smf();
.................... 
.................... // Call after using SMF
.................... void finished_use_smf();
.................... //unsigned int8 calc_crc8(unsigned int8 frame[], int8 payload_size);
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../tool/calc_tools.h"
.................... #ifndef CALC_TOOLS_H
.................... #define CALC_TOOLS_H
....................  
.................... unsigned int8 calc_crc8(unsigned int8 *frame, unsigned int8 payload_size);
.................... int1 is_crc_valid(unsigned int8 *frame, int8 payload_size);
.................... void int32_to_be_array(int32 value, int8 *buf, int8 index);
.................... int32 lsb_array_to_int32(int8 *buf, int8 index);
.................... unsigned int32 lsb_to_msb(unsigned int32 value);
.................... unsigned int32 msb_to_lsb(unsigned int32 value);
.................... 
.................... 
.................... #endif // CALC_TOOLS_H  
.................... 
.................... 
.................... Command make_receive_command(unsigned int8 receive_signal[], int8 receive_signal_size)
.................... {
....................    Command command = {0, 0, FALSE,{0x00}};
*
05350:  MOVLB  1
05352:  CLRF   xA2
05354:  CLRF   xA3
05356:  CLRF   xA4
05358:  CLRF   xA5
0535A:  CLRF   xA6
0535C:  CLRF   xA7
0535E:  CLRF   xA8
05360:  CLRF   xA9
05362:  CLRF   xAA
05364:  CLRF   xAB
05366:  CLRF   xAC
05368:  CLRF   xAD
....................    fprintf(PC, "\r\nStart make_receive_command\r\n");
0536A:  MOVLW  E4
0536C:  MOVWF  FF6
0536E:  MOVLW  03
05370:  MOVWF  FF7
05372:  MOVLW  00
05374:  MOVWF  FF8
05376:  MOVLB  0
05378:  CALL   20CE
....................    fprintf(PC, "\t[BOSS] >>> ");
0537C:  MOVLW  04
0537E:  MOVWF  FF6
05380:  MOVLW  04
05382:  MOVWF  FF7
05384:  MOVLW  00
05386:  MOVWF  FF8
05388:  CALL   20CE
....................    for (int8 i = 0; i < receive_signal_size; i++)
0538C:  MOVLB  1
0538E:  CLRF   xAE
05390:  MOVLB  0
05392:  MOVLB  1
05394:  MOVF   xA1,W
05396:  SUBWF  xAE,W
05398:  BTFSS  FD8.0
0539A:  BRA    53A2
0539C:  MOVLB  0
0539E:  GOTO   53DE
053A2:  MOVLB  0
....................       fprintf(PC, "%X ", receive_signal[i]);
053A4:  MOVLB  1
053A6:  MOVF   xAE,W
053A8:  ADDWF  x9F,W
053AA:  MOVWF  FE9
053AC:  MOVLW  00
053AE:  ADDWFC xA0,W
053B0:  MOVWF  FEA
053B2:  MOVFF  FEF,1B5
053B6:  MOVFF  1B5,9E8
053BA:  MOVLW  37
053BC:  MOVLB  9
053BE:  MOVWF  xE9
053C0:  MOVLB  0
053C2:  CALL   2334
053C6:  MOVLW  20
053C8:  BTFSS  FA6.6
053CA:  GOTO   53C8
053CE:  MOVLB  E
053D0:  MOVWF  xF9
053D2:  MOVLB  0
053D4:  MOVLB  1
053D6:  INCF   xAE,F
053D8:  MOVLB  0
053DA:  GOTO   5392
....................    fprintf(PC, "\r\n");
053DE:  MOVLW  0D
053E0:  BTFSS  FA6.6
053E2:  GOTO   53E0
053E6:  MOVLB  E
053E8:  MOVWF  xF9
053EA:  MOVLW  0A
053EC:  MOVLB  0
053EE:  BTFSS  FA6.6
053F0:  GOTO   53EE
053F4:  MOVLB  E
053F6:  MOVWF  xF9
.................... 
....................    int8 frame_start_position = trim_receive_signal_header(receive_signal, receive_signal_size);
053F8:  MOVFF  1A0,1B6
053FC:  MOVFF  19F,1B5
05400:  MOVFF  1A1,1B7
05404:  MOVLB  0
05406:  GOTO   5038
0540A:  MOVFF  01,1AF
....................    if (frame_start_position == -1)
0540E:  MOVLB  1
05410:  MOVF   xAF,W
05412:  SUBLW  FF
05414:  BTFSC  FD8.2
05416:  BRA    541E
05418:  MOVLB  0
0541A:  GOTO   542C
0541E:  MOVLB  0
....................       return command;
05420:  MOVLW  A2
05422:  MOVWF  01
05424:  MOVLW  01
05426:  MOVWF  02
05428:  GOTO   554E
....................       
....................    unsigned int8 *frame = &receive_signal[frame_start_position];
....................    
....................    int8 frame_id = frame[0] & 0x0F;
....................    int8 content_size = get_content_size(frame_id);
0542C:  MOVLB  1
0542E:  MOVF   xAF,W
05430:  ADDWF  x9F,W
05432:  MOVWF  01
05434:  MOVLW  00
05436:  ADDWFC xA0,W
05438:  MOVWF  03
0543A:  MOVF   01,W
0543C:  MOVWF  xB0
0543E:  MOVFF  03,1B1
05442:  MOVF   xB0,W
05444:  MOVWF  FE9
05446:  MOVF   xB1,W
05448:  MOVWF  FEA
0544A:  MOVF   FEF,W
0544C:  ANDLW  0F
0544E:  MOVWF  xB2
05450:  MOVFF  1B2,1B5
05454:  MOVLB  0
05456:  GOTO   50E0
0545A:  MOVFF  01,1B3
....................    if (content_size == -1)
0545E:  MOVLB  1
05460:  MOVF   xB3,W
05462:  SUBLW  FF
05464:  BTFSC  FD8.2
05466:  BRA    546E
05468:  MOVLB  0
0546A:  GOTO   547C
0546E:  MOVLB  0
....................       return command;
05470:  MOVLW  A2
05472:  MOVWF  01
05474:  MOVLW  01
05476:  MOVWF  02
05478:  GOTO   554E
....................       
....................    unsigned int8 receive_frame_size = receive_signal_size - frame_start_position;
0547C:  MOVLB  1
0547E:  MOVF   xAF,W
05480:  SUBWF  xA1,W
05482:  MOVWF  xB4
....................    
....................    if (!check_crc(frame, receive_frame_size))
05484:  MOVFF  1B1,1B6
05488:  MOVFF  1B0,1B5
0548C:  MOVFF  1B4,1B7
05490:  MOVLB  0
05492:  GOTO   51A0
05496:  MOVF   01,F
05498:  BTFSS  FD8.2
0549A:  GOTO   54AA
....................       return command;
0549E:  MOVLW  A2
054A0:  MOVWF  01
054A2:  MOVLW  01
054A4:  MOVWF  02
054A6:  GOTO   554E
....................    
....................    if(!check_device_id((frame[0] & 0xF0) >> 4))
054AA:  MOVLB  1
054AC:  MOVF   xB0,W
054AE:  MOVWF  FE9
054B0:  MOVF   xB1,W
054B2:  MOVWF  FEA
054B4:  MOVF   FEF,W
054B6:  ANDLW  F0
054B8:  MOVWF  00
054BA:  SWAPF  00,W
054BC:  MOVWF  xB5
054BE:  MOVLW  0F
054C0:  ANDWF  xB5,F
054C2:  MOVFF  1B5,1B6
054C6:  MOVLB  0
054C8:  GOTO   5290
054CC:  MOVF   01,F
054CE:  BTFSS  FD8.2
054D0:  GOTO   54E0
....................       return command;
054D4:  MOVLW  A2
054D6:  MOVWF  01
054D8:  MOVLW  01
054DA:  MOVWF  02
054DC:  GOTO   554E
.................... 
....................    command.frame_id = frame_id;
054E0:  MOVFF  1B2,1A2
....................    memcpy(command.content, &frame[1], receive_frame_size-2); // '2' is for Decive ID, Frame ID and CRC
054E4:  MOVLW  01
054E6:  MOVLB  1
054E8:  ADDWF  xB0,W
054EA:  MOVWF  01
054EC:  MOVLW  00
054EE:  ADDWFC xB1,W
054F0:  MOVWF  03
054F2:  MOVF   01,W
054F4:  MOVWF  xB5
054F6:  MOVFF  03,1B6
054FA:  MOVLW  02
054FC:  SUBWF  xB4,W
054FE:  MOVWF  xB7
05500:  MOVLW  01
05502:  MOVWF  FEA
05504:  MOVLW  A5
05506:  MOVWF  FE9
05508:  MOVFF  1B6,FE2
0550C:  MOVFF  1B5,FE1
05510:  MOVF   xB7,W
05512:  MOVWF  01
05514:  BTFSS  FD8.2
05516:  BRA    551E
05518:  MOVLB  0
0551A:  GOTO   552A
0551E:  MOVLB  0
05520:  MOVFF  FE6,FEE
05524:  DECFSZ 01,F
05526:  GOTO   5520
....................    command.size = receive_frame_size-2;
0552A:  MOVLW  02
0552C:  MOVLB  1
0552E:  SUBWF  xB4,W
05530:  MOVWF  xA3
....................    command.is_exist = TRUE;
05532:  BSF    xA4.0
....................    //fprintf(PC, "\t-> Frame ID: %X\r\n", command.frame_id);
....................    //fprintf(PC, "\t-> Content size: %d\r\n", command.size);
....................    //fprintf(PC, "\t-> is_exist: %d\r\n", command.is_exist);
....................    fprintf(PC, "End make_recive_command\r\n\r\n");
05534:  MOVLW  12
05536:  MOVWF  FF6
05538:  MOVLW  04
0553A:  MOVWF  FF7
0553C:  MOVLW  00
0553E:  MOVWF  FF8
05540:  MOVLB  0
05542:  CALL   20CE
....................    return command;
05546:  MOVLW  A2
05548:  MOVWF  01
0554A:  MOVLW  01
0554C:  MOVWF  02
0554E:  GOTO   12E56 (RETURN)
.................... }
.................... 
.................... static int8 trim_receive_signal_header(unsigned int8 receive_signal[], int8 receive_signal_size)
*
05038:  MOVLB  1
0503A:  CLRF   xB8
.................... {
....................    int8 i = 0;
....................    for(i = 0; i < receive_signal_size-1; i++) // if SFD find 
0503C:  CLRF   xB8
0503E:  MOVLB  0
05040:  MOVLW  01
05042:  MOVLB  1
05044:  SUBWF  xB7,W
05046:  SUBWF  xB8,W
05048:  BTFSS  FD8.0
0504A:  BRA    5052
0504C:  MOVLB  0
0504E:  GOTO   508A
05052:  MOVLB  0
....................       if(receive_signal[i] == SFD)
05054:  MOVLB  1
05056:  MOVF   xB8,W
05058:  ADDWF  xB5,W
0505A:  MOVWF  FE9
0505C:  MOVLW  00
0505E:  ADDWFC xB6,W
05060:  MOVWF  FEA
05062:  MOVF   FEF,W
05064:  SUBLW  AA
05066:  BTFSC  FD8.2
05068:  BRA    5070
0506A:  MOVLB  0
0506C:  GOTO   5080
05070:  MOVLB  0
....................          return i+1;
05072:  MOVLW  01
05074:  MOVLB  1
05076:  ADDWF  xB8,W
05078:  MOVWF  01
0507A:  MOVLB  0
0507C:  GOTO   50DC
05080:  MOVLB  1
05082:  INCF   xB8,F
05084:  MOVLB  0
05086:  GOTO   5040
....................    if (receive_signal[i] == SFD)
0508A:  MOVLB  1
0508C:  MOVF   xB8,W
0508E:  ADDWF  xB5,W
05090:  MOVWF  FE9
05092:  MOVLW  00
05094:  ADDWFC xB6,W
05096:  MOVWF  FEA
05098:  MOVF   FEF,W
0509A:  SUBLW  AA
0509C:  BTFSC  FD8.2
0509E:  BRA    50A6
050A0:  MOVLB  0
050A2:  GOTO   50C4
050A6:  MOVLB  0
....................    {
....................       fprintf(PC, "signal end with SFD\r\n");
050A8:  MOVLW  2E
050AA:  MOVWF  FF6
050AC:  MOVLW  04
050AE:  MOVWF  FF7
050B0:  MOVLW  00
050B2:  MOVWF  FF8
050B4:  CALL   20CE
....................       return -1;
050B8:  MOVLW  FF
050BA:  MOVWF  01
050BC:  GOTO   50DC
....................    }
050C0:  GOTO   50DC
....................    else
....................    {
....................       fprintf(PC, "don't find SFD\r\n");
050C4:  MOVLW  44
050C6:  MOVWF  FF6
050C8:  MOVLW  04
050CA:  MOVWF  FF7
050CC:  MOVLW  00
050CE:  MOVWF  FF8
050D0:  CALL   20CE
....................       return -1;
050D4:  MOVLW  FF
050D6:  MOVWF  01
050D8:  GOTO   50DC
....................    }
050DC:  GOTO   540A (RETURN)
....................    
.................... }
.................... 
.................... static int8 get_content_size(unsigned int8 frame_id)
.................... {
....................    for (int i = 0; i < (sizeof(frame_ids) / sizeof(frame_ids[0])); i++)
050E0:  MOVLB  1
050E2:  CLRF   xB6
050E4:  MOVLB  0
050E6:  MOVLB  1
050E8:  MOVF   xB6,W
050EA:  SUBLW  03
050EC:  BTFSC  FD8.0
050EE:  BRA    50F6
050F0:  MOVLB  0
050F2:  GOTO   5154
050F6:  MOVLB  0
....................       if (frame_id == frame_ids[i].id)
050F8:  BCF    FD8.0
050FA:  MOVLB  1
050FC:  RLCF   xB6,W
050FE:  CLRF   xB8
05100:  MOVWF  xB7
05102:  MOVLW  1A
05104:  ADDWF  xB7,W
05106:  MOVWF  FE9
05108:  MOVLW  01
0510A:  ADDWFC xB8,W
0510C:  MOVWF  FEA
0510E:  MOVF   FEF,W
05110:  SUBWF  xB5,W
05112:  BTFSC  FD8.2
05114:  BRA    511C
05116:  MOVLB  0
05118:  GOTO   514A
0511C:  MOVLB  0
....................          return frame_ids[i].length;
0511E:  BCF    FD8.0
05120:  MOVLB  1
05122:  RLCF   xB6,W
05124:  CLRF   xB8
05126:  MOVWF  xB7
05128:  MOVLW  01
0512A:  ADDWF  xB7,W
0512C:  MOVWF  01
0512E:  MOVLW  00
05130:  ADDWFC xB8,W
05132:  MOVWF  03
05134:  MOVF   01,W
05136:  ADDLW  1A
05138:  MOVWF  FE9
0513A:  MOVLW  01
0513C:  ADDWFC 03,W
0513E:  MOVWF  FEA
05140:  MOVF   FEF,W
05142:  MOVWF  01
05144:  MOVLB  0
05146:  GOTO   519A
0514A:  MOVLB  1
0514C:  INCF   xB6,F
0514E:  MOVLB  0
05150:  GOTO   50E6
....................          
....................    fprintf(PC, "\t-> Invalid Frame ID received: %X\r\n", frame_id);
05154:  MOVLW  56
05156:  MOVWF  FF6
05158:  MOVLW  04
0515A:  MOVWF  FF7
0515C:  MOVLW  00
0515E:  MOVWF  FF8
05160:  MOVLW  1F
05162:  MOVLB  A
05164:  MOVWF  x4E
05166:  MOVLB  0
05168:  CALL   2104
0516C:  MOVFF  1B5,9E8
05170:  MOVLW  37
05172:  MOVLB  9
05174:  MOVWF  xE9
05176:  MOVLB  0
05178:  CALL   2334
0517C:  MOVLW  0D
0517E:  BTFSS  FA6.6
05180:  GOTO   517E
05184:  MOVLB  E
05186:  MOVWF  xF9
05188:  MOVLW  0A
0518A:  MOVLB  0
0518C:  BTFSS  FA6.6
0518E:  GOTO   518C
05192:  MOVLB  E
05194:  MOVWF  xF9
....................    return -1;
05196:  MOVLW  FF
05198:  MOVWF  01
0519A:  MOVLB  0
0519C:  GOTO   545A (RETURN)
.................... }
.................... 
.................... static int1 check_crc(unsigned int8 frame[], int8 receive_frame_size)
051A0:  MOVLW  01
051A2:  MOVLB  1
051A4:  SUBWF  xB7,W
051A6:  ADDWF  xB5,W
051A8:  MOVWF  FE9
051AA:  MOVLW  00
051AC:  ADDWFC xB6,W
051AE:  MOVWF  FEA
051B0:  MOVFF  FEF,1B8
051B4:  MOVLW  01
051B6:  SUBWF  xB7,W
051B8:  MOVWF  xBA
051BA:  MOVFF  1B6,AEC
051BE:  MOVFF  1B5,AEB
051C2:  MOVFF  1BA,AED
051C6:  MOVLB  0
051C8:  CALL   2EDC
051CC:  MOVFF  01,1B9
.................... {
....................    unsigned int8 received_crc = frame[receive_frame_size-1]; // '1' is for crc
....................    unsigned int8 collect_crc = calc_crc8(frame, receive_frame_size-1);
....................    if (received_crc == collect_crc)
051D0:  MOVLB  1
051D2:  MOVF   xB9,W
051D4:  SUBWF  xB8,W
051D6:  BTFSC  FD8.2
051D8:  BRA    51E0
051DA:  MOVLB  0
051DC:  GOTO   51EE
051E0:  MOVLB  0
....................       return TRUE;
051E2:  MOVLW  01
051E4:  MOVWF  01
051E6:  GOTO   528C
051EA:  GOTO   528C
....................    else
....................    {
....................       fprintf(PC, "\t-> CRC error!\r\n");
051EE:  MOVLW  7A
051F0:  MOVWF  FF6
051F2:  MOVLW  04
051F4:  MOVWF  FF7
051F6:  MOVLW  00
051F8:  MOVWF  FF8
051FA:  CALL   20CE
....................       fprintf(PC, "\t\t-> received CRC: %X\r\n", received_crc);
051FE:  MOVLW  8C
05200:  MOVWF  FF6
05202:  MOVLW  04
05204:  MOVWF  FF7
05206:  MOVLW  00
05208:  MOVWF  FF8
0520A:  MOVLW  13
0520C:  MOVLB  A
0520E:  MOVWF  x4E
05210:  MOVLB  0
05212:  CALL   2104
05216:  MOVFF  1B8,9E8
0521A:  MOVLW  37
0521C:  MOVLB  9
0521E:  MOVWF  xE9
05220:  MOVLB  0
05222:  CALL   2334
05226:  MOVLW  0D
05228:  BTFSS  FA6.6
0522A:  GOTO   5228
0522E:  MOVLB  E
05230:  MOVWF  xF9
05232:  MOVLW  0A
05234:  MOVLB  0
05236:  BTFSS  FA6.6
05238:  GOTO   5236
0523C:  MOVLB  E
0523E:  MOVWF  xF9
....................       fprintf(PC, "\t\t   collect CRC : %X\r\n", collect_crc);
05240:  MOVLW  A4
05242:  MOVWF  FF6
05244:  MOVLW  04
05246:  MOVWF  FF7
05248:  MOVLW  00
0524A:  MOVWF  FF8
0524C:  MOVLW  13
0524E:  MOVLB  A
05250:  MOVWF  x4E
05252:  MOVLB  0
05254:  CALL   2104
05258:  MOVFF  1B9,9E8
0525C:  MOVLW  37
0525E:  MOVLB  9
05260:  MOVWF  xE9
05262:  MOVLB  0
05264:  CALL   2334
05268:  MOVLW  0D
0526A:  BTFSS  FA6.6
0526C:  GOTO   526A
05270:  MOVLB  E
05272:  MOVWF  xF9
05274:  MOVLW  0A
05276:  MOVLB  0
05278:  BTFSS  FA6.6
0527A:  GOTO   5278
0527E:  MOVLB  E
05280:  MOVWF  xF9
....................       return FALSE;
05282:  MOVLW  00
05284:  MOVWF  01
05286:  MOVLB  0
05288:  GOTO   528C
....................    }
0528C:  GOTO   5496 (RETURN)
.................... }
.................... 
.................... static int1 check_device_id(unsigned int8 device_id)
.................... {
....................    if (SELF_DEVICE_ID == device_id)
05290:  MOVLB  1
05292:  MOVF   xB6,W
05294:  SUBLW  0C
05296:  BTFSC  FD8.2
05298:  BRA    52A0
0529A:  MOVLB  0
0529C:  GOTO   52AE
052A0:  MOVLB  0
....................       return TRUE;
052A2:  MOVLW  01
052A4:  MOVWF  01
052A6:  GOTO   534C
052AA:  GOTO   534C
....................    else
....................    {
....................       fprintf(PC, "\t-> Invalid device ID received\r\n");
052AE:  MOVLW  BC
052B0:  MOVWF  FF6
052B2:  MOVLW  04
052B4:  MOVWF  FF7
052B6:  MOVLW  00
052B8:  MOVWF  FF8
052BA:  CALL   20CE
....................       fprintf(PC, "\t\t-> received:     %X\r\n", device_id);
052BE:  MOVLW  DE
052C0:  MOVWF  FF6
052C2:  MOVLW  04
052C4:  MOVWF  FF7
052C6:  MOVLW  00
052C8:  MOVWF  FF8
052CA:  MOVLW  13
052CC:  MOVLB  A
052CE:  MOVWF  x4E
052D0:  MOVLB  0
052D2:  CALL   2104
052D6:  MOVFF  1B6,9E8
052DA:  MOVLW  37
052DC:  MOVLB  9
052DE:  MOVWF  xE9
052E0:  MOVLB  0
052E2:  CALL   2334
052E6:  MOVLW  0D
052E8:  BTFSS  FA6.6
052EA:  GOTO   52E8
052EE:  MOVLB  E
052F0:  MOVWF  xF9
052F2:  MOVLW  0A
052F4:  MOVLB  0
052F6:  BTFSS  FA6.6
052F8:  GOTO   52F6
052FC:  MOVLB  E
052FE:  MOVWF  xF9
....................       fprintf(PC, "\t\t   My device ID: %X\r\n", SELF_DEVICE_ID);
05300:  MOVLW  F6
05302:  MOVWF  FF6
05304:  MOVLW  04
05306:  MOVWF  FF7
05308:  MOVLW  00
0530A:  MOVWF  FF8
0530C:  MOVLW  13
0530E:  MOVLB  A
05310:  MOVWF  x4E
05312:  MOVLB  0
05314:  CALL   2104
05318:  MOVLW  0C
0531A:  MOVLB  9
0531C:  MOVWF  xE8
0531E:  MOVLW  37
05320:  MOVWF  xE9
05322:  MOVLB  0
05324:  CALL   2334
05328:  MOVLW  0D
0532A:  BTFSS  FA6.6
0532C:  GOTO   532A
05330:  MOVLB  E
05332:  MOVWF  xF9
05334:  MOVLW  0A
05336:  MOVLB  0
05338:  BTFSS  FA6.6
0533A:  GOTO   5338
0533E:  MOVLB  E
05340:  MOVWF  xF9
....................       return FALSE;  
05342:  MOVLW  00
05344:  MOVWF  01
05346:  MOVLB  0
05348:  GOTO   534C
....................    }
0534C:  GOTO   54CC (RETURN)
.................... }
.................... 
.................... 
.................... // _______ Transmit _______
.................... 
.................... void transmit_command(TransmitFrameId frame_id, unsigned int8 content[], int8 size)
.................... {
....................    unsigned int8 data[16];
....................    data[0] = SFD;
*
0565C:  MOVLW  AA
0565E:  MOVLB  1
05660:  MOVWF  xE3
....................    data[1] = (BOSS_PIC << 4) | frame_id;
05662:  MOVF   xDF,W
05664:  IORLW  50
05666:  MOVWF  xE4
....................    memcpy(&data[2], content, size);
05668:  MOVLW  01
0566A:  MOVWF  FEA
0566C:  MOVLW  E5
0566E:  MOVWF  FE9
05670:  MOVFF  1E1,FE2
05674:  MOVFF  1E0,FE1
05678:  MOVF   xE2,W
0567A:  MOVWF  01
0567C:  BTFSS  FD8.2
0567E:  BRA    5686
05680:  MOVLB  0
05682:  GOTO   5692
05686:  MOVLB  0
05688:  MOVFF  FE6,FEE
0568C:  DECFSZ 01,F
0568E:  GOTO   5688
....................    int8 payload_size = 2 + size; // '2' is for Device ID and Frame ID plus CRC
05692:  MOVLW  02
05694:  MOVLB  1
05696:  ADDWF  xE2,W
05698:  MOVWF  xF3
....................    data[payload_size] = calc_crc8(&data[1], payload_size-1); // '1' is for CRC
0569A:  CLRF   03
0569C:  MOVF   xF3,W
0569E:  ADDLW  E3
056A0:  MOVWF  01
056A2:  MOVLW  01
056A4:  ADDWFC 03,F
056A6:  MOVF   01,W
056A8:  MOVWF  xF5
056AA:  MOVFF  03,1F6
056AE:  MOVLW  01
056B0:  SUBWF  xF3,W
056B2:  MOVWF  xF7
056B4:  MOVLW  01
056B6:  MOVLB  A
056B8:  MOVWF  xEC
056BA:  MOVLW  E4
056BC:  MOVWF  xEB
056BE:  MOVFF  1F7,AED
056C2:  MOVLB  0
056C4:  CALL   2EDC
056C8:  MOVFF  1F6,FEA
056CC:  MOVFF  1F5,FE9
056D0:  MOVFF  01,FEF
....................    int8 data_size = payload_size + 1; // '1' is for CRC
056D4:  MOVLW  01
056D6:  MOVLB  1
056D8:  ADDWF  xF3,W
056DA:  MOVWF  xF4
....................    
....................    transmit(data, data_size);
056DC:  MOVLW  01
056DE:  MOVWF  xF6
056E0:  MOVLW  E3
056E2:  MOVWF  xF5
056E4:  MOVFF  1F4,1F7
056E8:  MOVLB  0
056EA:  GOTO   559E
056EE:  RETURN 0
.................... }
.................... 
.................... static void transmit(unsigned int8 data[], int8 data_size)
.................... {
....................    for(int i = 0; i < data_size; i++)
*
0559E:  MOVLB  1
055A0:  CLRF   xF8
055A2:  MOVLB  0
055A4:  MOVLB  1
055A6:  MOVF   xF7,W
055A8:  SUBWF  xF8,W
055AA:  BTFSS  FD8.0
055AC:  BRA    55B4
055AE:  MOVLB  0
055B0:  GOTO   55DA
055B4:  MOVLB  0
....................       fputc(data[i], BOSS);
055B6:  MOVLB  1
055B8:  MOVF   xF8,W
055BA:  ADDWF  xF5,W
055BC:  MOVWF  FE9
055BE:  MOVLW  00
055C0:  ADDWFC xF6,W
055C2:  MOVWF  FEA
055C4:  MOVFF  FEF,1FA
055C8:  MOVF   xFA,W
055CA:  MOVLB  0
055CC:  GOTO   558E
055D0:  MOVLB  1
055D2:  INCF   xF8,F
055D4:  MOVLB  0
055D6:  GOTO   55A4
....................       
....................    fprintf(PC, "\t[BOSS] <<< ");
055DA:  MOVLW  0E
055DC:  MOVWF  FF6
055DE:  MOVLW  05
055E0:  MOVWF  FF7
055E2:  MOVLW  00
055E4:  MOVWF  FF8
055E6:  CALL   20CE
....................    for(int i = 0; i < data_size; i++)
055EA:  MOVLB  1
055EC:  CLRF   xF9
055EE:  MOVLB  0
055F0:  MOVLB  1
055F2:  MOVF   xF7,W
055F4:  SUBWF  xF9,W
055F6:  BTFSS  FD8.0
055F8:  BRA    5600
055FA:  MOVLB  0
055FC:  GOTO   563C
05600:  MOVLB  0
....................       fprintf(PC, "%X ", data[i]);
05602:  MOVLB  1
05604:  MOVF   xF9,W
05606:  ADDWF  xF5,W
05608:  MOVWF  FE9
0560A:  MOVLW  00
0560C:  ADDWFC xF6,W
0560E:  MOVWF  FEA
05610:  MOVFF  FEF,1FA
05614:  MOVFF  1FA,9E8
05618:  MOVLW  37
0561A:  MOVLB  9
0561C:  MOVWF  xE9
0561E:  MOVLB  0
05620:  CALL   2334
05624:  MOVLW  20
05626:  BTFSS  FA6.6
05628:  GOTO   5626
0562C:  MOVLB  E
0562E:  MOVWF  xF9
05630:  MOVLB  0
05632:  MOVLB  1
05634:  INCF   xF9,F
05636:  MOVLB  0
05638:  GOTO   55F0
....................    fprintf(PC, "\r\n");
0563C:  MOVLW  0D
0563E:  BTFSS  FA6.6
05640:  GOTO   563E
05644:  MOVLB  E
05646:  MOVWF  xF9
05648:  MOVLW  0A
0564A:  MOVLB  0
0564C:  BTFSS  FA6.6
0564E:  GOTO   564C
05652:  MOVLB  E
05654:  MOVWF  xF9
05656:  MOVLB  0
05658:  GOTO   56EE (RETURN)
.................... }
.................... 
.................... #include "../lib/communication/communication_driver.c"
.................... Command make_command(unsigned int8 receive_signal[], int8 receive_signal_size)
.................... {
....................    Command command = make_receive_command(receive_signal, receive_signal_size);
....................    return command;
.................... }
.................... 
.................... void transmit_ack()
.................... {
....................    transmit_command(ACK, 0, 0);
*
056F0:  MOVLW  0F
056F2:  MOVLB  1
056F4:  MOVWF  xDF
056F6:  CLRF   xE1
056F8:  CLRF   xE0
056FA:  CLRF   xE2
056FC:  MOVLB  0
056FE:  CALL   565C
05702:  RETURN 0
.................... }
.................... 
.................... void transmit_status()
.................... {
....................    transmit_command(MIS_MCU_STATUS, &status, 4);
*
0A7B0:  MOVLW  03
0A7B2:  MOVLB  1
0A7B4:  MOVWF  xDF
0A7B6:  CLRF   xE1
0A7B8:  MOVLW  4C
0A7BA:  MOVWF  xE0
0A7BC:  MOVLW  04
0A7BE:  MOVWF  xE2
0A7C0:  MOVLB  0
0A7C2:  CALL   565C
0A7C6:  RETURN 0
.................... }
.................... 
.................... 
.................... #include "../lib/communication/mission_tools.c"
.................... int1 req_use_smf()
.................... {
....................    fprintf(PC, "Start SMF using reqest seaquence\r\n");
....................    status[0] = SMF_USE_REQ;
....................    is_use_smf_req_in_mission = TRUE;
....................    
....................    while (TRUE)
....................    {
....................       for (int16 i = 0; i < 1200; i++) // 10 min
....................       {
....................          if (boss_receive_buffer_size > 0)
....................          {
....................             Command command = make_receive_command(boss_receive_buffer, boss_receive_buffer_size);
....................             clear_receive_signal(boss_receive_buffer, &boss_receive_buffer_size);
....................             if (command.frame_id == STATUS_CHECK)
....................             {
....................                transmit_status();
....................                break;
....................             }
....................             else
....................             {
....................                fprintf(PC, "Error! Receiving command inconsistent with the design\r\n");
....................             }
....................          }
....................          delay_ms(500);
....................       }
....................       
....................       for (int16 i = 0; i < 1200; i++) // 10 min
....................       {
....................          if (boss_receive_buffer_size > 0)
....................          {
....................             Command command = make_receive_command(boss_receive_buffer, boss_receive_buffer_size); 
....................             clear_receive_signal(boss_receive_buffer, &boss_receive_buffer_size);
....................             if (command.frame_id == IS_SMF_AVAILABLE)
....................             {
....................                if (command.content[0] == ALLOW)
....................                {
....................                   fprintf(PC, "SMF use request allowed\r\n");
....................                   transmit_ack();
....................                   goto NEXT;
....................                }
....................                else
....................                {
....................                   fprintf(PC, "SMF use request denyed\r\n");
....................                   fprintf(PC, "Retry request to BOSS PIC\r\n");
....................                   transmit_ack();
....................                   break;
....................                }
....................             }
....................             else
....................             {
....................                fprintf(PC, "Error! Receiving command inconsistent with the design\r\n");
....................             }
....................          }
....................          delay_ms(500);
....................       }
....................    }
....................    
.................... NEXT:
....................    is_use_smf_req_in_mission = FALSE;
....................    status[0] = COPYING;
....................    return TRUE;
....................    fprintf(PC, "End SMF using reqest seaquence\r\n");
.................... }
.................... 
.................... 
.................... void finished_use_smf()
.................... {
....................    status[0] = EXECUTING_MISSION;
.................... }
.................... 
.................... void check_and_respond_to_boss()
.................... {
....................    if (boss_receive_buffer_size > 0)
0A7C8:  MOVF   4A,F
0A7CA:  BTFSC  FD8.2
0A7CC:  GOTO   A804
....................    {
....................       clear_receive_signal(boss_receive_buffer, &boss_receive_buffer_size);
0A7D0:  MOVLB  1
0A7D2:  CLRF   xE0
0A7D4:  MOVLW  2A
0A7D6:  MOVWF  xDF
0A7D8:  CLRF   xE2
0A7DA:  MOVLW  4A
0A7DC:  MOVWF  xE1
0A7DE:  MOVLB  0
0A7E0:  CALL   5552
....................       fprintf(PC, "\r\n");
0A7E4:  MOVLW  0D
0A7E6:  BTFSS  FA6.6
0A7E8:  GOTO   A7E6
0A7EC:  MOVLB  E
0A7EE:  MOVWF  xF9
0A7F0:  MOVLW  0A
0A7F2:  MOVLB  0
0A7F4:  BTFSS  FA6.6
0A7F6:  GOTO   A7F4
0A7FA:  MOVLB  E
0A7FC:  MOVWF  xF9
....................       transmit_status();
0A7FE:  MOVLB  0
0A800:  CALL   A7B0
....................    }
0A804:  GOTO   AB52 (RETURN)
.................... }
.................... 
.................... 
.................... 
.................... // コア機能実装ファイル
.................... #include "domain/cigs_iv.c"
.................... #include "cigs_iv.h"      
.................... #ifndef mmj_cigs_iv_H
.................... #define mmj_cigs_iv_H
.................... 
.................... /*
.................... // _________ values _________
.................... #define MISSION_DATA_SIZE 64
.................... volatile unsigned int8 mission_datas[MISSION_DATA_SIZE] = {0x00};
.................... volatile int8 executed_mission_count = 0;
.................... */
.................... 
.................... #define START_MAKER 0xFF
.................... #define RESERVED_VALUE 0x00
.................... 
.................... #define HEADER_SIZE 5  // START_MAKER + time (4バイト)
.................... #define ENV_SIZE    6  // pd + temp_py_top + temp_py_bot + temp_mis7 packed
.................... #define DATA_SIZE_PER_STEP 3 // data0 + data1 12bitずつ
.................... 
.................... 
.................... void make_meas_header(unsigned int8 *packetdata, unsigned int8 *cmd);
.................... 
.................... 
.................... // void sweep(unsigned int8 parameter[]);
.................... void sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit, unsigned int16 pd_limit);  
.................... void test_sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit);
.................... 
.................... typedef struct{
....................     unsigned int32 time;
....................     unsigned int16 pd;
....................     unsigned int16 temp_py_top;
....................     unsigned int16 temp_py_bot;
....................     unsigned int16 temp_mis7;
.................... } iv_env_t;
.................... 
.................... /*
.................... typedef struct{
....................     unsigned int8 port_num; // Port number (1 or 2)
....................     unsigned int16 sweep_step; // Number of steps in the sweep
....................     unsigned int16 data_buffer[2][0xFF]; // Data buffer for voltage and current readings
....................     int1 active; // Indicates if the port is active (1 for active, 0 for inactive)
.................... } sweep_config_t;
.................... */
.................... 
.................... 
.................... typedef union{
....................     struct{
....................         unsigned int8 start_marker;
....................         unsigned int8 reserved;
....................         unsigned int8 command;
....................         unsigned int8 port_num;
....................         unsigned int16 data[2];
....................     }fields;
.................... 
....................     unsigned int8 raw[PACKET_SIZE];
.................... }iv_packet_t;
.................... 
.................... typedef struct {
....................     unsigned int16 voltage;
....................     unsigned int16 current;
.................... } iv_data_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     unsigned int8 data_buffer[0x300];
....................     int1 active;
.................... } sweep_config_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     iv_data_t data_buffer[0xFF];
....................     int1 active;
.................... } sweep_debug_config_t;
.................... 
.................... typedef struct 
.................... {
....................     unsigned int8 data[3];
.................... } meas_data_t;
.................... 
.................... #define PACKET_IV_HEADER_SIZE 51
.................... #define IV_HEADER_SIZE 17
.................... #define PACKET_IV_DATA_SIZE  63
.................... #define IV_DATA_SIZE  21
.................... 
.................... typedef union{
....................     unsigned int8 raw[PACKET_SIZE];
....................     struct {
....................         unsigned int8  start_marker;
....................         unsigned int32 time_sec;
....................         unsigned int8 time_msec;
....................         unsigned int8 envdata[6];
....................         unsigned int8 ivdata[PACKET_IV_HEADER_SIZE];
....................         unsigned int8 crc;
....................     }header;
....................     struct {
....................         unsigned int8 iv_data[PACKET_IV_DATA_SIZE];
....................         unsigned int8 crc;
....................     }data;
.................... } iv_data_packet_t;
.................... 
....................     
.................... 
.................... iv_env_t create_meas_data();
.................... void log_meas_data(iv_env_t *measured_data_ptr, sweep_config_t *port_data_ptr);
.................... 
.................... void sweep_with_print();
.................... 
.................... unsigned int16 calc_pd_value(unsigned int16 data);
.................... // 
.................... unsigned int16 calc_curr_value(unsigned int16 data);
.................... #define SHUNT_RESISTANCE_OHM 0.05
.................... #define AMP_GAIN 200
.................... #define ADC_REF_VOLTAGE_MV 2500 
.................... #define ADC_MAX_READING 4095
.................... #define ADC_CURR_REF_VOLTAGE_MV 1250
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../hal/cigs_config.h"      
.................... #ifndef MMJ_CIGS_CONFIG_H
.................... #define MMJ_CIGS_CONFIG_H
.................... 
.................... 
.................... 
.................... 
.................... #include <18F67J94.h>
.................... //#include <16F1789.h>
.................... #opt 0 // 0 = no optimization, 1 = optimize for speed, 2 = optimize for size
.................... 
.................... #device ADC=12
.................... #use delay(crystal=16MHz)
.................... #fuses HS, NOWDT, NOBROWNOUT, NOPROTECT
.................... #device HIGH_INTS=TRUE
.................... #define PIC18
.................... //#define PIC16
.................... 
.................... 
.................... 
.................... #ifdef PIC16
....................     //#include <16F1789.h>
....................     #fuses NOMCLR
....................     //-------------Serial--------------------
....................     #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,stream=BOSS)
....................     #use rs232(baud=9600,parity=N,xmit=PIN_B4,bits=8,stream=PC,FORCE_SW)
.................... 
.................... 
....................     // -------------SPI--------------------
....................     // MOSI:PIN_C5, MISO:PIN_C4, SCK:PIN_C3
....................     // Shared Mission Flash
....................     #define MIS_FM_CS  PIN_D3
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS= 8, STREAM = MIS_FM_STREAM)
.................... 
....................     // Mission Flash
....................     #define SMF_CS PIN_D1
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = SMF_STREAM)
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = spi_cell_write)
....................     // Analog to Digital Converter 
....................     #define ADC_CS PIN_D2
....................     //#use spi(MASTER, SPI1, BAUD = 9600, MODE=2, BITS = 16, STREAM = ADC_STREAM)
....................     #use spi(MASTER, CLK = PIN_C3, DI = PIN_C4, DO = PIN_C5, ENABLE = PIN_D2, BAUD = 57600, BITS = 16, STREAM = ADC_STREAM, MODE = 2 )
....................     
....................     
....................     // AI/O___ADC
....................     #define TEMP_TOP PIN_B0
....................     #define TEMP_BOT PIN_A3
....................     #define CIGS_VOLT PIN_A0 //PIN_A0
....................     #define CIGS_CURR PIN_A1
....................     #define PD PIN_E0
....................     #define VREF PIN_A4
....................  
....................     // AI/O___DAC
....................     #define LOAD PIN_A5
.................... 
....................     /* DEMO
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A0, MODE=0, BITS=8, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A1, MODE=0, BITS=8, ENABLE_ACTIVE=1, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A3, BAUD=40000, MODE=2, BITS=16, ENABLE_ACTIVE=1, STREAM=ADC)
....................     #use spi (MASTER, MODE=0, BITS=8, STREAM=SPI_4)
....................     */
.................... #endif
.................... 
.................... #ifdef PIC18
....................     //#include <18F67J94.h>
....................     //-------------UART--------------------
....................     // BOSS command port
....................     #pin_select TX3=PIN_E3                                                          
....................     #pin_select RX3=PIN_F2                                                        
....................     #use rs232(baud=9600, parity=N, UART3, bits=8, stream=BOSS, ERRORS)                      
....................     
....................     // PC debug port
....................     #pin_select TX4=PIN_E5
....................     #pin_select RX4=PIN_D4  
....................     #use rs232(baud=9600,parity=N, UART4, bits=8,stream=PC, ERRORS)
.................... 
....................     // -------------SPI--------------------
....................     // Shared Mission Flash
....................     #define SMF_CS PIN_A2
....................     #pin_select SCK1OUT=PIN_A3
....................     #pin_select SDI1=PIN_A0
....................     #pin_select SDO1=PIN_A1
....................     // #use spi (MASTER, SPI1, BAUD=200000, MODE=0, BITS=8, STREAM=SMF_STREAM)
....................     #use spi (MASTER, CLK=PIN_A3, DI=PIN_A1, DO=PIN_A0, BAUD=20000000, MODE=0, BITS=8, STREAM=SMF_STREAM)
.................... 
.................... 
....................     // Mission Flash
....................     #define MIS_FM_CS  PIN_G0
....................     #use spi (MASTER, CLK=PIN_E1, DI=PIN_E0, DO=PIN_E6, BAUD=20000000, MODE=0, BITS=8, STREAM=MIS_FM_STREAM)
.................... 
.................... 
....................     // ADC  
....................     #define ADC_CS PIN_B1
....................     // #pin_select SCK2OUT=PIN_B2
....................     // #pin_select SDI2=PIN_B4
....................     // #pin_select SDO2=PIN_B5
....................     // #use spi (MASTER, SPI2, BAUD=200000, MODE=2, BITS=16, STREAM=ADC_STREAM)
....................     #use spi (MASTER, CLK=PIN_B2, DI=PIN_B4, DO=PIN_B5, BAUD=20000000, MODE=2, BITS=16, STREAM=ADC_STREAM)
.................... 
....................     // DAC
....................     #define DAC1_CS PIN_D7
....................     #define DAC2_CS PIN_D6
....................     #use spi (MASTER, CLK=PIN_D5, DO=PIN_D4,  BAUD=20000000, MODE=2, BITS=16, STREAM=DAC_STREAM)
.................... 
.................... 
....................     // DI/O___
....................     #define CONNECT_CIGS1 PIN_C3
....................     #define CONNECT_CIGS2 PIN_C5
....................     #define EN_NPWR1 PIN_C7
....................     #define EN_NPWR2 PIN_C6
.................... 
.................... #endif
.................... 
.................... //-------------I/O port--------------------
.................... #use FIXED_IO( A_outputs=SMF_CS )
.................... #use FIXED_IO( B_outputs=ADC_CS )
.................... #use FIXED_IO( C_outputs=CONNECT_CIGS1, CONNECT_CIGS2, EN_NPWR1, EN_NPWR2 )
.................... #use FIXED_IO( D_outputs=DAC1_CS, DAC2_CS )
.................... #use FIXED_IO( G_outputs=MIS_FM_CS )
.................... 
.................... // ADC Settings
.................... #define ADC_CIGS1_VOLT      AD7490_CH0
.................... #define ADC_CIGS1_CURR      AD7490_CH1
.................... #define ADC_CIGS1_AMP       AD7490_CH2
.................... #define ADC_CIGS1_VREF      AD7490_CH3
.................... #define ADC_CIGS2_VOLT      AD7490_CH4
.................... #define ADC_CIGS2_CURR      AD7490_CH5
.................... #define ADC_CIGS2_AMP       AD7490_CH6
.................... #define ADC_CIGS2_VREF      AD7490_CH7
.................... #define ADC_CIGS1_DAC       AD7490_CH8
.................... #define ADC_CIGS2_DAC       AD7490_CH9
.................... #define EMPTY_VIN0          AD7490_CH10
.................... #define EMPTY_VIN1          AD7490_CH11
.................... #define ADC_TEMP_MIS7       AD7490_CH12
.................... #define ADC_TEMP_PY_TOP     AD7490_CH13
.................... #define ADC_TEMP_PY_BOT     AD7490_CH14
.................... #define ADC_PD              AD7490_CH15
.................... 
.................... #endif // MMJ_CIGS_CONFIG_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "../device_driver/ad7490_driver.h"  
.................... #ifndef AD7490_DRIVER_H
.................... #define AD7490_DRIVER_H
.................... 
.................... 
.................... // AD7490 Functions
.................... void ad7490_init(void);
.................... unsigned int16 ad7490_read(int8 channel);
.................... 
.................... 
.................... #endif // MMJ_CIGS_DEVCE_H
.................... //------------------End of File------------------
.................... 
.................... #include "../device_driver/mcp4901_driver.h"
.................... #ifndef MCP4901_DRIVER_H
.................... #define MCP4901_DRIVER_H
.................... 
.................... // MCP4901 Functions
.................... void mcp4901_init();
.................... void mcp4901_1_write(unsigned int16 val);
.................... void mcp4901_2_write(unsigned int16 val);
.................... 
.................... #endif // MCP4901_DRIVER_H
.................... //------------------End of File------------------
.................... 
.................... #include "cigs_flash.h"               
.................... #ifndef MMJ_CIGS_FLASH_H
.................... #define MMJ_CIGS_FLASH_H
.................... 
.................... //#include <string.h>
.................... //#include "../hal/cigs_config.h"
.................... 
.................... #ifndef PACKET_SIZE
....................     #define PACKET_SIZE 64
.................... #endif
.................... 
.................... 
.................... #define MISF_START 0x00000000
.................... #define MISF_END   0x00BC0FFF
.................... #define SECTOR_64K_BYTE  0x10000
.................... 
.................... #define MISF_CIGS_DATA_TABLE_SIZE 64
.................... 
.................... // Flash Address
.................... #define MISF_CIGS_DATA_TABLE_START 0x00000000
.................... #define MISF_CIGS_DATA_TABLE_END   0x00000FFF
.................... #define MISF_CIGS_DATA_TABLE_SIZE  4096
.................... 
.................... #define MISF_CIGS_PICLOG_START    0x00010000
.................... #define MISF_CIGS_PICLOG_END      0x00140FFF
.................... #define MISF_CIGS_PICLOG_SIZE     1310720
.................... 
.................... #define MISF_CIGS_ENVIRO_START    0x00141000
.................... #define MISF_CIGS_ENVIRO_END      0x00280FFF
.................... #define MISF_CIGS_ENVIRO_SIZE     1310720
.................... 
.................... #define MISF_CIGS_IV1_HEADER_START 0x00281000
.................... #define MISF_CIGS_IV1_HEADER_END   0x00320FFF
.................... #define MISF_CIGS_IV1_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV1_DATA_START   0x00321000
.................... #define MISF_CIGS_IV1_DATA_END     0x00720FFF
.................... #define MISF_CIGS_IV1_DATA_SIZE    4194304
.................... 
.................... #define MISF_CIGS_IV2_HEADER_START 0x00721000
.................... #define MISF_CIGS_IV2_HEADER_END   0x007C0FFF
.................... #define MISF_CIGS_IV2_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV2_DATA_START   0x007C1000
.................... #define MISF_CIGS_IV2_DATA_END     0x00BC0FFF
.................... #define MISF_CIGS_IV2_DATA_SIZE    4194304
.................... 
.................... // 重複していた #define はここに一度だけ残す
.................... // 例: #define SECTOR_4K_BYTE  0x1000  // 4KByte
.................... // 他ファイルに同じ行があれば削除
.................... 
.................... // Flash カウンタだけを保持する汎用構造
.................... typedef struct {
....................     unsigned int32 used_counter;
....................     unsigned int32 uncopied_counter;
....................     unsigned int8  reserve_counter1;
....................     unsigned int8  reserve_counter2;
.................... } FlashCounter_t;
.................... 
.................... // データ種別ID
.................... typedef enum {
....................     FLASH_ID_DATA_TABLE = 0 ,
....................     FLASH_ID_PICLOG ,
....................     FLASH_ID_ENVIRONMENT,
....................     FLASH_ID_IV1_HEADER,
....................     FLASH_ID_IV1_DATA,
....................     FLASH_ID_IV2_HEADER,
....................     FLASH_ID_IV2_DATA,
....................     FLASH_ID_COUNT = 7
.................... } FlashDataId_t;
.................... 
.................... // Flash_t : 実体側で使用する拡張(必要なら id を保持)
.................... typedef struct {
....................     FlashDataId_t   id;
....................     unsigned int32  used_counter;
....................     unsigned int32  uncopied_counter;
....................     unsigned int8   reserve_counter1;
....................     unsigned int8   reserve_counter2;
.................... } Flash_t;
.................... 
.................... // FlashData_t （既存定義が別ヘッダなら重複しないよう確認）
.................... // ここでは payload 内の logdata.* が FlashCounter_t と仮定
.................... typedef union {
....................     struct {
....................         union {
....................             struct {
....................                 FlashCounter_t piclog;
....................                 FlashCounter_t environment;
....................                 FlashCounter_t iv1_header;
....................                 FlashCounter_t iv1_data;
....................                 FlashCounter_t iv2_header;
....................                 FlashCounter_t iv2_data;
....................             } logdata;  // 合計サイズは63バイト
....................             unsigned int8 reserve[63];
....................         } payload;
....................         unsigned int8 crc;  // 1バイトCRC
....................     } packet;
....................     unsigned int8 bytes[64];
.................... } FlashData_t;
.................... 
.................... 
.................... // 取得系
.................... FlashData_t make_flash_data_table(void);
.................... void misf_update_address_area(void);
.................... void print_flash_status(void);
.................... 
.................... 
.................... // キュー投入
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode);
.................... void misf_init();
.................... 
.................... // Flash 操作用構造体
.................... typedef struct {
....................     unsigned int32 start;
....................     unsigned int32 end;
....................     unsigned int32 size;
.................... } ADDRESS_AREA_T;
.................... 
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t misf_counter_table[];
.................... extern FlashCounter_t *misf_counter_table_ptr[];
.................... 
.................... void print_MISF_ADDRESS_TABLE(void);
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size);
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/communication/mission_tools.h"   
.................... #ifndef MISSION_TOOLS_H
.................... #define MISSION_TOOLS_H
.................... 
.................... #include "communication_driver.h"
.................... 
.................... 
.................... // ________________ fuctions ____________
.................... 
.................... // Check and reply to messages received from BOSS PIC
.................... void check_and_respond_to_boss();
.................... 
.................... // Request using SMF to BOSS PIC
.................... // !!!After use, you must call `void finished_use_smf()`
.................... int1 req_use_smf();
.................... 
.................... // Call after using SMF
.................... void finished_use_smf();
.................... //unsigned int8 calc_crc8(unsigned int8 frame[], int8 payload_size);
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../hal/timer.h"
.................... #ifndef TIMER_H
.................... #define TIMER_H
.................... 
.................... // __________ define _________
.................... 
.................... #define SEC_IN_A_DAY 86400
.................... #define CLOCK_FREQUENCY 32768 // 32.768 kHz
.................... 
.................... // __________ values _________
.................... 
.................... int32 tick_10ms = 0; 
.................... 
.................... unsigned int32 dsec = 0, sec = 0; //dsec -> deci second (0.01 sec)
.................... volatile unsigned int16 day = 0;
.................... 
.................... void timer_init();
.................... // __________ functions _________
.................... unsigned int32 get_current_sec();
.................... unsigned int16 get_current_msec();
.................... unsigned int16 get_current_day();
.................... void set_current_10msec(unsigned int32 new_10msec);
.................... 
.................... #INT_TIMER0
.................... static void TIMER0_isr();
.................... 
.................... #INT_TIMER1 
.................... static void TIMER1_isr();
.................... 
.................... // Clock Freq : 32.768kHz
.................... #define TIMER_ISR_1S 0x8000 // 1秒ごとのタイマー割り込み
.................... #define TIMER_ISR_100MSEC 0xF313 // 100ミリ秒ごとのタイマー割り込み
.................... #define TIMER_ISR_10MSEC 0xFEA8 // 10ミリ秒ごとのタイマー割り込み
.................... #define TIMER_ISR_25MSEC 0xFC8D // 25ミリ秒ごとのタイマー割り込み
.................... 
.................... void set_current_sec(unsigned int32 new_sec);
.................... unsigned int32 get_current_sec();
.................... unsigned int16 get_current_msec();
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../lib/device/mt25q.h"
.................... #ifndef MT25Q_H
.................... #define MT25Q_H
.................... 
.................... // =========
.................... //#define MT25Q_DEBUG
.................... // =========
.................... 
.................... #define SUBSECTOR_4K_BYTE 0x00001000
.................... #define SUBSECTOR_32K_BYTE 0x00008000
.................... #define SECTOR_64K_BYTE 0x00010000
.................... 
.................... 
.................... 
.................... #define FLASH_STREAM0 MIS_FM_STREAM     // <- Align the names to `config.h` Stream name
.................... #define FLASH_STREAM1 SMF_STREAM
.................... #define FLASH_STREAM2 SMF_STREAM // dont use
.................... #define FLASH_STREAM3 SMF_STREAM // dont use
.................... 
.................... typedef enum spi_stream{
....................     SPI_0 = 0,
....................     SPI_1,
....................     SPI_2,
....................     SPI_3
.................... }SpiStreamId;
.................... 
.................... #define MT25QL128ABA 0x00     //Mission Flash
.................... #define MT25QL01GBBB 0x01     //SMF,CF
.................... typedef struct select_stream_to_flash{
....................     SpiStreamId spi_stream_id;
....................     unsigned int8 flash_model;
....................     int16 cs_pin;
.................... }Flash;
.................... 
.................... 
.................... Flash mis_fm = {SPI_0, MT25QL128ABA, MIS_FM_CS};
.................... Flash smf = {SPI_1, MT25QL01GBBB, SMF_CS};
.................... 
.................... 
.................... 
.................... // ===================== Function List =====================
.................... // Public Functions
.................... 
.................... int1 is_connect(Flash flash_stream);
.................... 
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount);      
.................... 
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount);  
.................... 
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address);
.................... 
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address);  
....................                                
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address);      
.................... 
.................... //Private Functions
....................  
.................... void flash_setting(Flash flash_stream);
....................  
.................... int8 status_register(Flash flash_stream);
....................  
.................... int8 read_id(Flash flash_stream);
.................... 
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address);
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data);
.................... 
.................... 
.................... 
.................... // ===================== Flash Commands =====================
.................... #define CMD_READ_ID                     0x9F
.................... #define CMD_READ_STATUS_REGISTER        0x05
.................... #define CMD_READ                        0x03//for MT25QL128ABA
.................... #define CMD_4BYTE_READ                  0x13//for MT25QL01GBBB
.................... #define CMD_WRITE_ENABLE                0x06
.................... #define CMD_PAGE_PROGRAM                0x02//for MT25QL128ABA
.................... #define CMD_4BYTE_PAGE_PROGRAM          0x12//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_4KB_ERASE         0x20//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_4KB_ERASE   0x21//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_32KB_ERASE        0x52//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_32KB_ERASE  0x5C//for MT25QL01GBBB
.................... #define CMD_SECTOR_ERASE                0xD8//for MT25QL128ABA
.................... #define CMD_4BYTE_SECTOR_ERASE          0xDC//for MT25QL01GBBB
.................... 
.................... // ====================== Value List =====================
.................... #define MANUFACTURER_ID_MICRON 0x20 // Manufacturer ID for Micron flash
.................... #define READ_ID_DATASIZE 20 // 20 bytes for read ID data
.................... 
.................... 
.................... // ====================== Data Structures =====================
.................... typedef union
.................... {
....................     unsigned int8 bytes[READ_ID_DATASIZE]; // 20 bytes for read ID
....................     struct {
....................         unsigned int8 manufacturer_id; // 1 byte
....................         unsigned int8 memory_type;     // 1 byte
....................         unsigned int8 capacity;        // 1 byte
....................         unsigned int8 reserved;       // 1 byte
....................     } fields;
.................... }READ_ID_DATA;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... 
.................... void sweep_with_print()
*
0CB80:  MOVLW  03
0CB82:  MOVLB  1
0CB84:  MOVWF  xB0
0CB86:  CLRF   xAF
0CB88:  MOVLW  07
0CB8A:  MOVWF  xB2
0CB8C:  MOVLW  E0
0CB8E:  MOVWF  xB1
.................... {
....................     unsigned int16 curr_threshold = 0x300;
....................     unsigned int16 curr_limit = 0x7E0;
.................... 
....................     // Enable both CIGS ports
....................     connect_port1();
0CB90:  MOVLB  0
0CB92:  CALL   5004
....................     connect_port2();
0CB96:  CALL   500C
....................     mcp4901_1_write(0); 
0CB9A:  MOVLB  9
0CB9C:  CLRF   xDD
0CB9E:  CLRF   xDC
0CBA0:  MOVLB  0
0CBA2:  CALL   2664
....................     mcp4901_2_write(0);
0CBA6:  MOVLB  9
0CBA8:  CLRF   xDD
0CBAA:  CLRF   xDC
0CBAC:  MOVLB  0
0CBAE:  CALL   26A2
....................     delay_ms(100);
0CBB2:  MOVLW  64
0CBB4:  MOVLB  B
0CBB6:  MOVWF  x03
0CBB8:  MOVLB  0
0CBBA:  CALL   20A0
....................     
....................     // Init Port1
....................     sweep_debug_config_t port1 = {0};
0CBBE:  MOVLB  1
0CBC0:  CLRF   xB3
0CBC2:  CLRF   xB4
0CBC4:  CLRF   xB5
0CBC6:  CLRF   xB6
0CBC8:  CLRF   xB7
0CBCA:  CLRF   xB8
0CBCC:  CLRF   xB9
0CBCE:  CLRF   xBA
0CBD0:  CLRF   xBB
0CBD2:  CLRF   xBC
0CBD4:  CLRF   xBD
0CBD6:  CLRF   xBE
0CBD8:  CLRF   xBF
0CBDA:  CLRF   xC0
0CBDC:  CLRF   xC1
0CBDE:  CLRF   xC2
0CBE0:  CLRF   xC3
0CBE2:  CLRF   xC4
0CBE4:  CLRF   xC5
0CBE6:  CLRF   xC6
0CBE8:  CLRF   xC7
0CBEA:  CLRF   xC8
0CBEC:  CLRF   xC9
0CBEE:  CLRF   xCA
0CBF0:  CLRF   xCB
0CBF2:  CLRF   xCC
0CBF4:  CLRF   xCD
0CBF6:  CLRF   xCE
0CBF8:  CLRF   xCF
0CBFA:  CLRF   xD0
0CBFC:  CLRF   xD1
0CBFE:  CLRF   xD2
0CC00:  CLRF   xD3
0CC02:  CLRF   xD4
0CC04:  CLRF   xD5
0CC06:  CLRF   xD6
0CC08:  CLRF   xD7
0CC0A:  CLRF   xD8
0CC0C:  CLRF   xD9
0CC0E:  CLRF   xDA
0CC10:  CLRF   xDB
0CC12:  CLRF   xDC
0CC14:  CLRF   xDD
0CC16:  CLRF   xDE
0CC18:  CLRF   xDF
0CC1A:  CLRF   xE0
0CC1C:  CLRF   xE1
0CC1E:  CLRF   xE2
0CC20:  CLRF   xE3
0CC22:  CLRF   xE4
0CC24:  CLRF   xE5
0CC26:  CLRF   xE6
0CC28:  CLRF   xE7
0CC2A:  CLRF   xE8
0CC2C:  CLRF   xE9
0CC2E:  CLRF   xEA
0CC30:  CLRF   xEB
0CC32:  CLRF   xEC
0CC34:  CLRF   xED
0CC36:  CLRF   xEE
0CC38:  CLRF   xEF
0CC3A:  CLRF   xF0
0CC3C:  CLRF   xF1
0CC3E:  CLRF   xF2
0CC40:  CLRF   xF3
0CC42:  CLRF   xF4
0CC44:  CLRF   xF5
0CC46:  CLRF   xF6
0CC48:  CLRF   xF7
0CC4A:  CLRF   xF8
0CC4C:  CLRF   xF9
0CC4E:  CLRF   xFA
0CC50:  CLRF   xFB
0CC52:  CLRF   xFC
0CC54:  CLRF   xFD
0CC56:  CLRF   xFE
0CC58:  CLRF   xFF
0CC5A:  MOVLB  2
0CC5C:  CLRF   x00
0CC5E:  CLRF   x01
0CC60:  CLRF   x02
0CC62:  CLRF   x03
0CC64:  CLRF   x04
0CC66:  CLRF   x05
0CC68:  CLRF   x06
0CC6A:  CLRF   x07
0CC6C:  CLRF   x08
0CC6E:  CLRF   x09
0CC70:  CLRF   x0A
0CC72:  CLRF   x0B
0CC74:  CLRF   x0C
0CC76:  CLRF   x0D
0CC78:  CLRF   x0E
0CC7A:  CLRF   x0F
0CC7C:  CLRF   x10
0CC7E:  CLRF   x11
0CC80:  CLRF   x12
0CC82:  CLRF   x13
0CC84:  CLRF   x14
0CC86:  CLRF   x15
0CC88:  CLRF   x16
0CC8A:  CLRF   x17
0CC8C:  CLRF   x18
0CC8E:  CLRF   x19
0CC90:  CLRF   x1A
0CC92:  CLRF   x1B
0CC94:  CLRF   x1C
0CC96:  CLRF   x1D
0CC98:  CLRF   x1E
0CC9A:  CLRF   x1F
0CC9C:  CLRF   x20
0CC9E:  CLRF   x21
0CCA0:  CLRF   x22
0CCA2:  CLRF   x23
0CCA4:  CLRF   x24
0CCA6:  CLRF   x25
0CCA8:  CLRF   x26
0CCAA:  CLRF   x27
0CCAC:  CLRF   x28
0CCAE:  CLRF   x29
0CCB0:  CLRF   x2A
0CCB2:  CLRF   x2B
0CCB4:  CLRF   x2C
0CCB6:  CLRF   x2D
0CCB8:  CLRF   x2E
0CCBA:  CLRF   x2F
0CCBC:  CLRF   x30
0CCBE:  CLRF   x31
0CCC0:  CLRF   x32
0CCC2:  CLRF   x33
0CCC4:  CLRF   x34
0CCC6:  CLRF   x35
0CCC8:  CLRF   x36
0CCCA:  CLRF   x37
0CCCC:  CLRF   x38
0CCCE:  CLRF   x39
0CCD0:  CLRF   x3A
0CCD2:  CLRF   x3B
0CCD4:  CLRF   x3C
0CCD6:  CLRF   x3D
0CCD8:  CLRF   x3E
0CCDA:  CLRF   x3F
0CCDC:  CLRF   x40
0CCDE:  CLRF   x41
0CCE0:  CLRF   x42
0CCE2:  CLRF   x43
0CCE4:  CLRF   x44
0CCE6:  CLRF   x45
0CCE8:  CLRF   x46
0CCEA:  CLRF   x47
0CCEC:  CLRF   x48
0CCEE:  CLRF   x49
0CCF0:  CLRF   x4A
0CCF2:  CLRF   x4B
0CCF4:  CLRF   x4C
0CCF6:  CLRF   x4D
0CCF8:  CLRF   x4E
0CCFA:  CLRF   x4F
0CCFC:  CLRF   x50
0CCFE:  CLRF   x51
0CD00:  CLRF   x52
0CD02:  CLRF   x53
0CD04:  CLRF   x54
0CD06:  CLRF   x55
0CD08:  CLRF   x56
0CD0A:  CLRF   x57
0CD0C:  CLRF   x58
0CD0E:  CLRF   x59
0CD10:  CLRF   x5A
0CD12:  CLRF   x5B
0CD14:  CLRF   x5C
0CD16:  CLRF   x5D
0CD18:  CLRF   x5E
0CD1A:  CLRF   x5F
0CD1C:  CLRF   x60
0CD1E:  CLRF   x61
0CD20:  CLRF   x62
0CD22:  CLRF   x63
0CD24:  CLRF   x64
0CD26:  CLRF   x65
0CD28:  CLRF   x66
0CD2A:  CLRF   x67
0CD2C:  CLRF   x68
0CD2E:  CLRF   x69
0CD30:  CLRF   x6A
0CD32:  CLRF   x6B
0CD34:  CLRF   x6C
0CD36:  CLRF   x6D
0CD38:  CLRF   x6E
0CD3A:  CLRF   x6F
0CD3C:  CLRF   x70
0CD3E:  CLRF   x71
0CD40:  CLRF   x72
0CD42:  CLRF   x73
0CD44:  CLRF   x74
0CD46:  CLRF   x75
0CD48:  CLRF   x76
0CD4A:  CLRF   x77
0CD4C:  CLRF   x78
0CD4E:  CLRF   x79
0CD50:  CLRF   x7A
0CD52:  CLRF   x7B
0CD54:  CLRF   x7C
0CD56:  CLRF   x7D
0CD58:  CLRF   x7E
0CD5A:  CLRF   x7F
0CD5C:  CLRF   x80
0CD5E:  CLRF   x81
0CD60:  CLRF   x82
0CD62:  CLRF   x83
0CD64:  CLRF   x84
0CD66:  CLRF   x85
0CD68:  CLRF   x86
0CD6A:  CLRF   x87
0CD6C:  CLRF   x88
0CD6E:  CLRF   x89
0CD70:  CLRF   x8A
0CD72:  CLRF   x8B
0CD74:  CLRF   x8C
0CD76:  CLRF   x8D
0CD78:  CLRF   x8E
0CD7A:  CLRF   x8F
0CD7C:  CLRF   x90
0CD7E:  CLRF   x91
0CD80:  CLRF   x92
0CD82:  CLRF   x93
0CD84:  CLRF   x94
0CD86:  CLRF   x95
0CD88:  CLRF   x96
0CD8A:  CLRF   x97
0CD8C:  CLRF   x98
0CD8E:  CLRF   x99
0CD90:  CLRF   x9A
0CD92:  CLRF   x9B
0CD94:  CLRF   x9C
0CD96:  CLRF   x9D
0CD98:  CLRF   x9E
0CD9A:  CLRF   x9F
0CD9C:  CLRF   xA0
0CD9E:  CLRF   xA1
0CDA0:  CLRF   xA2
0CDA2:  CLRF   xA3
0CDA4:  CLRF   xA4
0CDA6:  CLRF   xA5
0CDA8:  CLRF   xA6
0CDAA:  CLRF   xA7
0CDAC:  CLRF   xA8
0CDAE:  CLRF   xA9
0CDB0:  CLRF   xAA
0CDB2:  CLRF   xAB
0CDB4:  CLRF   xAC
0CDB6:  CLRF   xAD
0CDB8:  CLRF   xAE
0CDBA:  CLRF   xAF
0CDBC:  CLRF   xB0
0CDBE:  CLRF   xB1
0CDC0:  CLRF   xB2
0CDC2:  CLRF   xB3
0CDC4:  CLRF   xB4
0CDC6:  CLRF   xB5
0CDC8:  CLRF   xB6
0CDCA:  CLRF   xB7
0CDCC:  CLRF   xB8
0CDCE:  CLRF   xB9
0CDD0:  CLRF   xBA
0CDD2:  CLRF   xBB
0CDD4:  CLRF   xBC
0CDD6:  CLRF   xBD
0CDD8:  CLRF   xBE
0CDDA:  CLRF   xBF
0CDDC:  CLRF   xC0
0CDDE:  CLRF   xC1
0CDE0:  CLRF   xC2
0CDE2:  CLRF   xC3
0CDE4:  CLRF   xC4
0CDE6:  CLRF   xC5
0CDE8:  CLRF   xC6
0CDEA:  CLRF   xC7
0CDEC:  CLRF   xC8
0CDEE:  CLRF   xC9
0CDF0:  CLRF   xCA
0CDF2:  CLRF   xCB
0CDF4:  CLRF   xCC
0CDF6:  CLRF   xCD
0CDF8:  CLRF   xCE
0CDFA:  CLRF   xCF
0CDFC:  CLRF   xD0
0CDFE:  CLRF   xD1
0CE00:  CLRF   xD2
0CE02:  CLRF   xD3
0CE04:  CLRF   xD4
0CE06:  CLRF   xD5
0CE08:  CLRF   xD6
0CE0A:  CLRF   xD7
0CE0C:  CLRF   xD8
0CE0E:  CLRF   xD9
0CE10:  CLRF   xDA
0CE12:  CLRF   xDB
0CE14:  CLRF   xDC
0CE16:  CLRF   xDD
0CE18:  CLRF   xDE
0CE1A:  CLRF   xDF
0CE1C:  CLRF   xE0
0CE1E:  CLRF   xE1
0CE20:  CLRF   xE2
0CE22:  CLRF   xE3
0CE24:  CLRF   xE4
0CE26:  CLRF   xE5
0CE28:  CLRF   xE6
0CE2A:  CLRF   xE7
0CE2C:  CLRF   xE8
0CE2E:  CLRF   xE9
0CE30:  CLRF   xEA
0CE32:  CLRF   xEB
0CE34:  CLRF   xEC
0CE36:  CLRF   xED
0CE38:  CLRF   xEE
0CE3A:  CLRF   xEF
0CE3C:  CLRF   xF0
0CE3E:  CLRF   xF1
0CE40:  CLRF   xF2
0CE42:  CLRF   xF3
0CE44:  CLRF   xF4
0CE46:  CLRF   xF5
0CE48:  CLRF   xF6
0CE4A:  CLRF   xF7
0CE4C:  CLRF   xF8
0CE4E:  CLRF   xF9
0CE50:  CLRF   xFA
0CE52:  CLRF   xFB
0CE54:  CLRF   xFC
0CE56:  CLRF   xFD
0CE58:  CLRF   xFE
0CE5A:  CLRF   xFF
0CE5C:  MOVLB  3
0CE5E:  CLRF   x00
0CE60:  CLRF   x01
0CE62:  CLRF   x02
0CE64:  CLRF   x03
0CE66:  CLRF   x04
0CE68:  CLRF   x05
0CE6A:  CLRF   x06
0CE6C:  CLRF   x07
0CE6E:  CLRF   x08
0CE70:  CLRF   x09
0CE72:  CLRF   x0A
0CE74:  CLRF   x0B
0CE76:  CLRF   x0C
0CE78:  CLRF   x0D
0CE7A:  CLRF   x0E
0CE7C:  CLRF   x0F
0CE7E:  CLRF   x10
0CE80:  CLRF   x11
0CE82:  CLRF   x12
0CE84:  CLRF   x13
0CE86:  CLRF   x14
0CE88:  CLRF   x15
0CE8A:  CLRF   x16
0CE8C:  CLRF   x17
0CE8E:  CLRF   x18
0CE90:  CLRF   x19
0CE92:  CLRF   x1A
0CE94:  CLRF   x1B
0CE96:  CLRF   x1C
0CE98:  CLRF   x1D
0CE9A:  CLRF   x1E
0CE9C:  CLRF   x1F
0CE9E:  CLRF   x20
0CEA0:  CLRF   x21
0CEA2:  CLRF   x22
0CEA4:  CLRF   x23
0CEA6:  CLRF   x24
0CEA8:  CLRF   x25
0CEAA:  CLRF   x26
0CEAC:  CLRF   x27
0CEAE:  CLRF   x28
0CEB0:  CLRF   x29
0CEB2:  CLRF   x2A
0CEB4:  CLRF   x2B
0CEB6:  CLRF   x2C
0CEB8:  CLRF   x2D
0CEBA:  CLRF   x2E
0CEBC:  CLRF   x2F
0CEBE:  CLRF   x30
0CEC0:  CLRF   x31
0CEC2:  CLRF   x32
0CEC4:  CLRF   x33
0CEC6:  CLRF   x34
0CEC8:  CLRF   x35
0CECA:  CLRF   x36
0CECC:  CLRF   x37
0CECE:  CLRF   x38
0CED0:  CLRF   x39
0CED2:  CLRF   x3A
0CED4:  CLRF   x3B
0CED6:  CLRF   x3C
0CED8:  CLRF   x3D
0CEDA:  CLRF   x3E
0CEDC:  CLRF   x3F
0CEDE:  CLRF   x40
0CEE0:  CLRF   x41
0CEE2:  CLRF   x42
0CEE4:  CLRF   x43
0CEE6:  CLRF   x44
0CEE8:  CLRF   x45
0CEEA:  CLRF   x46
0CEEC:  CLRF   x47
0CEEE:  CLRF   x48
0CEF0:  CLRF   x49
0CEF2:  CLRF   x4A
0CEF4:  CLRF   x4B
0CEF6:  CLRF   x4C
0CEF8:  CLRF   x4D
0CEFA:  CLRF   x4E
0CEFC:  CLRF   x4F
0CEFE:  CLRF   x50
0CF00:  CLRF   x51
0CF02:  CLRF   x52
0CF04:  CLRF   x53
0CF06:  CLRF   x54
0CF08:  CLRF   x55
0CF0A:  CLRF   x56
0CF0C:  CLRF   x57
0CF0E:  CLRF   x58
0CF10:  CLRF   x59
0CF12:  CLRF   x5A
0CF14:  CLRF   x5B
0CF16:  CLRF   x5C
0CF18:  CLRF   x5D
0CF1A:  CLRF   x5E
0CF1C:  CLRF   x5F
0CF1E:  CLRF   x60
0CF20:  CLRF   x61
0CF22:  CLRF   x62
0CF24:  CLRF   x63
0CF26:  CLRF   x64
0CF28:  CLRF   x65
0CF2A:  CLRF   x66
0CF2C:  CLRF   x67
0CF2E:  CLRF   x68
0CF30:  CLRF   x69
0CF32:  CLRF   x6A
0CF34:  CLRF   x6B
0CF36:  CLRF   x6C
0CF38:  CLRF   x6D
0CF3A:  CLRF   x6E
0CF3C:  CLRF   x6F
0CF3E:  CLRF   x70
0CF40:  CLRF   x71
0CF42:  CLRF   x72
0CF44:  CLRF   x73
0CF46:  CLRF   x74
0CF48:  CLRF   x75
0CF4A:  CLRF   x76
0CF4C:  CLRF   x77
0CF4E:  CLRF   x78
0CF50:  CLRF   x79
0CF52:  CLRF   x7A
0CF54:  CLRF   x7B
0CF56:  CLRF   x7C
0CF58:  CLRF   x7D
0CF5A:  CLRF   x7E
0CF5C:  CLRF   x7F
0CF5E:  CLRF   x80
0CF60:  CLRF   x81
0CF62:  CLRF   x82
0CF64:  CLRF   x83
0CF66:  CLRF   x84
0CF68:  CLRF   x85
0CF6A:  CLRF   x86
0CF6C:  CLRF   x87
0CF6E:  CLRF   x88
0CF70:  CLRF   x89
0CF72:  CLRF   x8A
0CF74:  CLRF   x8B
0CF76:  CLRF   x8C
0CF78:  CLRF   x8D
0CF7A:  CLRF   x8E
0CF7C:  CLRF   x8F
0CF7E:  CLRF   x90
0CF80:  CLRF   x91
0CF82:  CLRF   x92
0CF84:  CLRF   x93
0CF86:  CLRF   x94
0CF88:  CLRF   x95
0CF8A:  CLRF   x96
0CF8C:  CLRF   x97
0CF8E:  CLRF   x98
0CF90:  CLRF   x99
0CF92:  CLRF   x9A
0CF94:  CLRF   x9B
0CF96:  CLRF   x9C
0CF98:  CLRF   x9D
0CF9A:  CLRF   x9E
0CF9C:  CLRF   x9F
0CF9E:  CLRF   xA0
0CFA0:  CLRF   xA1
0CFA2:  CLRF   xA2
0CFA4:  CLRF   xA3
0CFA6:  CLRF   xA4
0CFA8:  CLRF   xA5
0CFAA:  CLRF   xA6
0CFAC:  CLRF   xA7
0CFAE:  CLRF   xA8
0CFB0:  CLRF   xA9
0CFB2:  CLRF   xAA
0CFB4:  CLRF   xAB
0CFB6:  CLRF   xAC
0CFB8:  CLRF   xAD
0CFBA:  CLRF   xAE
0CFBC:  CLRF   xAF
0CFBE:  CLRF   xB0
0CFC0:  CLRF   xB1
0CFC2:  CLRF   xB2
0CFC4:  CLRF   xB3
0CFC6:  CLRF   xB4
0CFC8:  CLRF   xB5
0CFCA:  CLRF   xB6
0CFCC:  CLRF   xB7
0CFCE:  CLRF   xB8
0CFD0:  CLRF   xB9
0CFD2:  CLRF   xBA
0CFD4:  CLRF   xBB
0CFD6:  CLRF   xBC
0CFD8:  CLRF   xBD
0CFDA:  CLRF   xBE
0CFDC:  CLRF   xBF
0CFDE:  CLRF   xC0
0CFE0:  CLRF   xC1
0CFE2:  CLRF   xC2
0CFE4:  CLRF   xC3
0CFE6:  CLRF   xC4
0CFE8:  CLRF   xC5
0CFEA:  CLRF   xC6
0CFEC:  CLRF   xC7
0CFEE:  CLRF   xC8
0CFF0:  CLRF   xC9
0CFF2:  CLRF   xCA
0CFF4:  CLRF   xCB
0CFF6:  CLRF   xCC
0CFF8:  CLRF   xCD
0CFFA:  CLRF   xCE
0CFFC:  CLRF   xCF
0CFFE:  CLRF   xD0
0D000:  CLRF   xD1
0D002:  CLRF   xD2
0D004:  CLRF   xD3
0D006:  CLRF   xD4
0D008:  CLRF   xD5
0D00A:  CLRF   xD6
0D00C:  CLRF   xD7
0D00E:  CLRF   xD8
0D010:  CLRF   xD9
0D012:  CLRF   xDA
0D014:  CLRF   xDB
0D016:  CLRF   xDC
0D018:  CLRF   xDD
0D01A:  CLRF   xDE
0D01C:  CLRF   xDF
0D01E:  CLRF   xE0
0D020:  CLRF   xE1
0D022:  CLRF   xE2
0D024:  CLRF   xE3
0D026:  CLRF   xE4
0D028:  CLRF   xE5
0D02A:  CLRF   xE6
0D02C:  CLRF   xE7
0D02E:  CLRF   xE8
0D030:  CLRF   xE9
0D032:  CLRF   xEA
0D034:  CLRF   xEB
0D036:  CLRF   xEC
0D038:  CLRF   xED
0D03A:  CLRF   xEE
0D03C:  CLRF   xEF
0D03E:  CLRF   xF0
0D040:  CLRF   xF1
0D042:  CLRF   xF2
0D044:  CLRF   xF3
0D046:  CLRF   xF4
0D048:  CLRF   xF5
0D04A:  CLRF   xF6
0D04C:  CLRF   xF7
0D04E:  CLRF   xF8
0D050:  CLRF   xF9
0D052:  CLRF   xFA
0D054:  CLRF   xFB
0D056:  CLRF   xFC
0D058:  CLRF   xFD
0D05A:  CLRF   xFE
0D05C:  CLRF   xFF
0D05E:  MOVLB  4
0D060:  CLRF   x00
0D062:  CLRF   x01
0D064:  CLRF   x02
0D066:  CLRF   x03
0D068:  CLRF   x04
0D06A:  CLRF   x05
0D06C:  CLRF   x06
0D06E:  CLRF   x07
0D070:  CLRF   x08
0D072:  CLRF   x09
0D074:  CLRF   x0A
0D076:  CLRF   x0B
0D078:  CLRF   x0C
0D07A:  CLRF   x0D
0D07C:  CLRF   x0E
0D07E:  CLRF   x0F
0D080:  CLRF   x10
0D082:  CLRF   x11
0D084:  CLRF   x12
0D086:  CLRF   x13
0D088:  CLRF   x14
0D08A:  CLRF   x15
0D08C:  CLRF   x16
0D08E:  CLRF   x17
0D090:  CLRF   x18
0D092:  CLRF   x19
0D094:  CLRF   x1A
0D096:  CLRF   x1B
0D098:  CLRF   x1C
0D09A:  CLRF   x1D
0D09C:  CLRF   x1E
0D09E:  CLRF   x1F
0D0A0:  CLRF   x20
0D0A2:  CLRF   x21
0D0A4:  CLRF   x22
0D0A6:  CLRF   x23
0D0A8:  CLRF   x24
0D0AA:  CLRF   x25
0D0AC:  CLRF   x26
0D0AE:  CLRF   x27
0D0B0:  CLRF   x28
0D0B2:  CLRF   x29
0D0B4:  CLRF   x2A
0D0B6:  CLRF   x2B
0D0B8:  CLRF   x2C
0D0BA:  CLRF   x2D
0D0BC:  CLRF   x2E
0D0BE:  CLRF   x2F
0D0C0:  CLRF   x30
0D0C2:  CLRF   x31
0D0C4:  CLRF   x32
0D0C6:  CLRF   x33
0D0C8:  CLRF   x34
0D0CA:  CLRF   x35
0D0CC:  CLRF   x36
0D0CE:  CLRF   x37
0D0D0:  CLRF   x38
0D0D2:  CLRF   x39
0D0D4:  CLRF   x3A
0D0D6:  CLRF   x3B
0D0D8:  CLRF   x3C
0D0DA:  CLRF   x3D
0D0DC:  CLRF   x3E
0D0DE:  CLRF   x3F
0D0E0:  CLRF   x40
0D0E2:  CLRF   x41
0D0E4:  CLRF   x42
0D0E6:  CLRF   x43
0D0E8:  CLRF   x44
0D0EA:  CLRF   x45
0D0EC:  CLRF   x46
0D0EE:  CLRF   x47
0D0F0:  CLRF   x48
0D0F2:  CLRF   x49
0D0F4:  CLRF   x4A
0D0F6:  CLRF   x4B
0D0F8:  CLRF   x4C
0D0FA:  CLRF   x4D
0D0FC:  CLRF   x4E
0D0FE:  CLRF   x4F
0D100:  CLRF   x50
0D102:  CLRF   x51
0D104:  CLRF   x52
0D106:  CLRF   x53
0D108:  CLRF   x54
0D10A:  CLRF   x55
0D10C:  CLRF   x56
0D10E:  CLRF   x57
0D110:  CLRF   x58
0D112:  CLRF   x59
0D114:  CLRF   x5A
0D116:  CLRF   x5B
0D118:  CLRF   x5C
0D11A:  CLRF   x5D
0D11C:  CLRF   x5E
0D11E:  CLRF   x5F
0D120:  CLRF   x60
0D122:  CLRF   x61
0D124:  CLRF   x62
0D126:  CLRF   x63
0D128:  CLRF   x64
0D12A:  CLRF   x65
0D12C:  CLRF   x66
0D12E:  CLRF   x67
0D130:  CLRF   x68
0D132:  CLRF   x69
0D134:  CLRF   x6A
0D136:  CLRF   x6B
0D138:  CLRF   x6C
0D13A:  CLRF   x6D
0D13C:  CLRF   x6E
0D13E:  CLRF   x6F
0D140:  CLRF   x70
0D142:  CLRF   x71
0D144:  CLRF   x72
0D146:  CLRF   x73
0D148:  CLRF   x74
0D14A:  CLRF   x75
0D14C:  CLRF   x76
0D14E:  CLRF   x77
0D150:  CLRF   x78
0D152:  CLRF   x79
0D154:  CLRF   x7A
0D156:  CLRF   x7B
0D158:  CLRF   x7C
0D15A:  CLRF   x7D
0D15C:  CLRF   x7E
0D15E:  CLRF   x7F
0D160:  CLRF   x80
0D162:  CLRF   x81
0D164:  CLRF   x82
0D166:  CLRF   x83
0D168:  CLRF   x84
0D16A:  CLRF   x85
0D16C:  CLRF   x86
0D16E:  CLRF   x87
0D170:  CLRF   x88
0D172:  CLRF   x89
0D174:  CLRF   x8A
0D176:  CLRF   x8B
0D178:  CLRF   x8C
0D17A:  CLRF   x8D
0D17C:  CLRF   x8E
0D17E:  CLRF   x8F
0D180:  CLRF   x90
0D182:  CLRF   x91
0D184:  CLRF   x92
0D186:  CLRF   x93
0D188:  CLRF   x94
0D18A:  CLRF   x95
0D18C:  CLRF   x96
0D18E:  CLRF   x97
0D190:  CLRF   x98
0D192:  CLRF   x99
0D194:  CLRF   x9A
0D196:  CLRF   x9B
0D198:  CLRF   x9C
0D19A:  CLRF   x9D
0D19C:  CLRF   x9E
0D19E:  CLRF   x9F
0D1A0:  CLRF   xA0
0D1A2:  CLRF   xA1
0D1A4:  CLRF   xA2
0D1A6:  CLRF   xA3
0D1A8:  CLRF   xA4
0D1AA:  CLRF   xA5
0D1AC:  CLRF   xA6
0D1AE:  CLRF   xA7
0D1B0:  CLRF   xA8
0D1B2:  CLRF   xA9
0D1B4:  CLRF   xAA
0D1B6:  CLRF   xAB
0D1B8:  CLRF   xAC
0D1BA:  CLRF   xAD
0D1BC:  CLRF   xAE
0D1BE:  CLRF   xAF
0D1C0:  CLRF   xB0
0D1C2:  CLRF   xB1
0D1C4:  CLRF   xB2
0D1C6:  CLRF   xB3
0D1C8:  CLRF   xB4
0D1CA:  CLRF   xB5
0D1CC:  CLRF   xB6
0D1CE:  CLRF   xB7
0D1D0:  CLRF   xB8
0D1D2:  CLRF   xB9
0D1D4:  CLRF   xBA
0D1D6:  CLRF   xBB
0D1D8:  CLRF   xBC
0D1DA:  CLRF   xBD
0D1DC:  CLRF   xBE
0D1DE:  CLRF   xBF
0D1E0:  CLRF   xC0
0D1E2:  CLRF   xC1
0D1E4:  CLRF   xC2
0D1E6:  CLRF   xC3
0D1E8:  CLRF   xC4
0D1EA:  CLRF   xC5
0D1EC:  CLRF   xC6
0D1EE:  CLRF   xC7
0D1F0:  CLRF   xC8
0D1F2:  CLRF   xC9
0D1F4:  CLRF   xCA
0D1F6:  CLRF   xCB
0D1F8:  CLRF   xCC
0D1FA:  CLRF   xCD
0D1FC:  CLRF   xCE
0D1FE:  CLRF   xCF
0D200:  CLRF   xD0
0D202:  CLRF   xD1
0D204:  CLRF   xD2
0D206:  CLRF   xD3
0D208:  CLRF   xD4
0D20A:  CLRF   xD5
0D20C:  CLRF   xD6
0D20E:  CLRF   xD7
0D210:  CLRF   xD8
0D212:  CLRF   xD9
0D214:  CLRF   xDA
0D216:  CLRF   xDB
0D218:  CLRF   xDC
0D21A:  CLRF   xDD
0D21C:  CLRF   xDE
0D21E:  CLRF   xDF
0D220:  CLRF   xE0
0D222:  CLRF   xE1
0D224:  CLRF   xE2
0D226:  CLRF   xE3
0D228:  CLRF   xE4
0D22A:  CLRF   xE5
0D22C:  CLRF   xE6
0D22E:  CLRF   xE7
0D230:  CLRF   xE8
0D232:  CLRF   xE9
0D234:  CLRF   xEA
0D236:  CLRF   xEB
0D238:  CLRF   xEC
0D23A:  CLRF   xED
0D23C:  CLRF   xEE
0D23E:  CLRF   xEF
0D240:  CLRF   xF0
0D242:  CLRF   xF1
0D244:  CLRF   xF2
0D246:  CLRF   xF3
0D248:  CLRF   xF4
0D24A:  CLRF   xF5
0D24C:  CLRF   xF6
0D24E:  CLRF   xF7
0D250:  CLRF   xF8
0D252:  CLRF   xF9
0D254:  CLRF   xFA
0D256:  CLRF   xFB
0D258:  CLRF   xFC
0D25A:  CLRF   xFD
0D25C:  CLRF   xFE
0D25E:  CLRF   xFF
0D260:  MOVLB  5
0D262:  CLRF   x00
0D264:  CLRF   x01
0D266:  CLRF   x02
0D268:  CLRF   x03
0D26A:  CLRF   x04
0D26C:  CLRF   x05
0D26E:  CLRF   x06
0D270:  CLRF   x07
0D272:  CLRF   x08
0D274:  CLRF   x09
0D276:  CLRF   x0A
0D278:  CLRF   x0B
0D27A:  CLRF   x0C
0D27C:  CLRF   x0D
0D27E:  CLRF   x0E
0D280:  CLRF   x0F
0D282:  CLRF   x10
0D284:  CLRF   x11
0D286:  CLRF   x12
0D288:  CLRF   x13
0D28A:  CLRF   x14
0D28C:  CLRF   x15
0D28E:  CLRF   x16
0D290:  CLRF   x17
0D292:  CLRF   x18
0D294:  CLRF   x19
0D296:  CLRF   x1A
0D298:  CLRF   x1B
0D29A:  CLRF   x1C
0D29C:  CLRF   x1D
0D29E:  CLRF   x1E
0D2A0:  CLRF   x1F
0D2A2:  CLRF   x20
0D2A4:  CLRF   x21
0D2A6:  CLRF   x22
0D2A8:  CLRF   x23
0D2AA:  CLRF   x24
0D2AC:  CLRF   x25
0D2AE:  CLRF   x26
0D2B0:  CLRF   x27
0D2B2:  CLRF   x28
0D2B4:  CLRF   x29
0D2B6:  CLRF   x2A
0D2B8:  CLRF   x2B
0D2BA:  CLRF   x2C
0D2BC:  CLRF   x2D
0D2BE:  CLRF   x2E
0D2C0:  CLRF   x2F
0D2C2:  CLRF   x30
0D2C4:  CLRF   x31
0D2C6:  CLRF   x32
0D2C8:  CLRF   x33
0D2CA:  CLRF   x34
0D2CC:  CLRF   x35
0D2CE:  CLRF   x36
0D2D0:  CLRF   x37
0D2D2:  CLRF   x38
0D2D4:  CLRF   x39
0D2D6:  CLRF   x3A
0D2D8:  CLRF   x3B
0D2DA:  CLRF   x3C
0D2DC:  CLRF   x3D
0D2DE:  CLRF   x3E
0D2E0:  CLRF   x3F
0D2E2:  CLRF   x40
0D2E4:  CLRF   x41
0D2E6:  CLRF   x42
0D2E8:  CLRF   x43
0D2EA:  CLRF   x44
0D2EC:  CLRF   x45
0D2EE:  CLRF   x46
0D2F0:  CLRF   x47
0D2F2:  CLRF   x48
0D2F4:  CLRF   x49
0D2F6:  CLRF   x4A
0D2F8:  CLRF   x4B
0D2FA:  CLRF   x4C
0D2FC:  CLRF   x4D
0D2FE:  CLRF   x4E
0D300:  CLRF   x4F
0D302:  CLRF   x50
0D304:  CLRF   x51
0D306:  CLRF   x52
0D308:  CLRF   x53
0D30A:  CLRF   x54
0D30C:  CLRF   x55
0D30E:  CLRF   x56
0D310:  CLRF   x57
0D312:  CLRF   x58
0D314:  CLRF   x59
0D316:  CLRF   x5A
0D318:  CLRF   x5B
0D31A:  CLRF   x5C
0D31C:  CLRF   x5D
0D31E:  CLRF   x5E
0D320:  CLRF   x5F
0D322:  CLRF   x60
0D324:  CLRF   x61
0D326:  CLRF   x62
0D328:  CLRF   x63
0D32A:  CLRF   x64
0D32C:  CLRF   x65
0D32E:  CLRF   x66
0D330:  CLRF   x67
0D332:  CLRF   x68
0D334:  CLRF   x69
0D336:  CLRF   x6A
0D338:  CLRF   x6B
0D33A:  CLRF   x6C
0D33C:  CLRF   x6D
0D33E:  CLRF   x6E
0D340:  CLRF   x6F
0D342:  CLRF   x70
0D344:  CLRF   x71
0D346:  CLRF   x72
0D348:  CLRF   x73
0D34A:  CLRF   x74
0D34C:  CLRF   x75
0D34E:  CLRF   x76
0D350:  CLRF   x77
0D352:  CLRF   x78
0D354:  CLRF   x79
0D356:  CLRF   x7A
0D358:  CLRF   x7B
0D35A:  CLRF   x7C
0D35C:  CLRF   x7D
0D35E:  CLRF   x7E
0D360:  CLRF   x7F
0D362:  CLRF   x80
0D364:  CLRF   x81
0D366:  CLRF   x82
0D368:  CLRF   x83
0D36A:  CLRF   x84
0D36C:  CLRF   x85
0D36E:  CLRF   x86
0D370:  CLRF   x87
0D372:  CLRF   x88
0D374:  CLRF   x89
0D376:  CLRF   x8A
0D378:  CLRF   x8B
0D37A:  CLRF   x8C
0D37C:  CLRF   x8D
0D37E:  CLRF   x8E
0D380:  CLRF   x8F
0D382:  CLRF   x90
0D384:  CLRF   x91
0D386:  CLRF   x92
0D388:  CLRF   x93
0D38A:  CLRF   x94
0D38C:  CLRF   x95
0D38E:  CLRF   x96
0D390:  CLRF   x97
0D392:  CLRF   x98
0D394:  CLRF   x99
0D396:  CLRF   x9A
0D398:  CLRF   x9B
0D39A:  CLRF   x9C
0D39C:  CLRF   x9D
0D39E:  CLRF   x9E
0D3A0:  CLRF   x9F
0D3A2:  CLRF   xA0
0D3A4:  CLRF   xA1
0D3A6:  CLRF   xA2
0D3A8:  CLRF   xA3
0D3AA:  CLRF   xA4
0D3AC:  CLRF   xA5
0D3AE:  CLRF   xA6
0D3B0:  CLRF   xA7
0D3B2:  CLRF   xA8
0D3B4:  CLRF   xA9
0D3B6:  CLRF   xAA
0D3B8:  CLRF   xAB
0D3BA:  CLRF   xAC
0D3BC:  CLRF   xAD
0D3BE:  CLRF   xAE
0D3C0:  CLRF   xAF
0D3C2:  CLRF   xB0
0D3C4:  CLRF   xB1
0D3C6:  CLRF   xB2
....................     port1.port_num = 1;
0D3C8:  MOVLW  01
0D3CA:  MOVLB  1
0D3CC:  MOVWF  xB3
....................     port1.sweep_step = 0;
0D3CE:  CLRF   xB5
0D3D0:  CLRF   xB4
....................     port1.active = 1;
0D3D2:  MOVLB  5
0D3D4:  BSF    xB2.0
....................     // unsigned int8 ivdata[256];
.................... 
....................     // Init Port2
....................     sweep_debug_config_t port2 = {0};
0D3D6:  CLRF   xB3
0D3D8:  CLRF   xB4
0D3DA:  CLRF   xB5
0D3DC:  CLRF   xB6
0D3DE:  CLRF   xB7
0D3E0:  CLRF   xB8
0D3E2:  CLRF   xB9
0D3E4:  CLRF   xBA
0D3E6:  CLRF   xBB
0D3E8:  CLRF   xBC
0D3EA:  CLRF   xBD
0D3EC:  CLRF   xBE
0D3EE:  CLRF   xBF
0D3F0:  CLRF   xC0
0D3F2:  CLRF   xC1
0D3F4:  CLRF   xC2
0D3F6:  CLRF   xC3
0D3F8:  CLRF   xC4
0D3FA:  CLRF   xC5
0D3FC:  CLRF   xC6
0D3FE:  CLRF   xC7
0D400:  CLRF   xC8
0D402:  CLRF   xC9
0D404:  CLRF   xCA
0D406:  CLRF   xCB
0D408:  CLRF   xCC
0D40A:  CLRF   xCD
0D40C:  CLRF   xCE
0D40E:  CLRF   xCF
0D410:  CLRF   xD0
0D412:  CLRF   xD1
0D414:  CLRF   xD2
0D416:  CLRF   xD3
0D418:  CLRF   xD4
0D41A:  CLRF   xD5
0D41C:  CLRF   xD6
0D41E:  CLRF   xD7
0D420:  CLRF   xD8
0D422:  CLRF   xD9
0D424:  CLRF   xDA
0D426:  CLRF   xDB
0D428:  CLRF   xDC
0D42A:  CLRF   xDD
0D42C:  CLRF   xDE
0D42E:  CLRF   xDF
0D430:  CLRF   xE0
0D432:  CLRF   xE1
0D434:  CLRF   xE2
0D436:  CLRF   xE3
0D438:  CLRF   xE4
0D43A:  CLRF   xE5
0D43C:  CLRF   xE6
0D43E:  CLRF   xE7
0D440:  CLRF   xE8
0D442:  CLRF   xE9
0D444:  CLRF   xEA
0D446:  CLRF   xEB
0D448:  CLRF   xEC
0D44A:  CLRF   xED
0D44C:  CLRF   xEE
0D44E:  CLRF   xEF
0D450:  CLRF   xF0
0D452:  CLRF   xF1
0D454:  CLRF   xF2
0D456:  CLRF   xF3
0D458:  CLRF   xF4
0D45A:  CLRF   xF5
0D45C:  CLRF   xF6
0D45E:  CLRF   xF7
0D460:  CLRF   xF8
0D462:  CLRF   xF9
0D464:  CLRF   xFA
0D466:  CLRF   xFB
0D468:  CLRF   xFC
0D46A:  CLRF   xFD
0D46C:  CLRF   xFE
0D46E:  CLRF   xFF
0D470:  MOVLB  6
0D472:  CLRF   x00
0D474:  CLRF   x01
0D476:  CLRF   x02
0D478:  CLRF   x03
0D47A:  CLRF   x04
0D47C:  CLRF   x05
0D47E:  CLRF   x06
0D480:  CLRF   x07
0D482:  CLRF   x08
0D484:  CLRF   x09
0D486:  CLRF   x0A
0D488:  CLRF   x0B
0D48A:  CLRF   x0C
0D48C:  CLRF   x0D
0D48E:  CLRF   x0E
0D490:  CLRF   x0F
0D492:  CLRF   x10
0D494:  CLRF   x11
0D496:  CLRF   x12
0D498:  CLRF   x13
0D49A:  CLRF   x14
0D49C:  CLRF   x15
0D49E:  CLRF   x16
0D4A0:  CLRF   x17
0D4A2:  CLRF   x18
0D4A4:  CLRF   x19
0D4A6:  CLRF   x1A
0D4A8:  CLRF   x1B
0D4AA:  CLRF   x1C
0D4AC:  CLRF   x1D
0D4AE:  CLRF   x1E
0D4B0:  CLRF   x1F
0D4B2:  CLRF   x20
0D4B4:  CLRF   x21
0D4B6:  CLRF   x22
0D4B8:  CLRF   x23
0D4BA:  CLRF   x24
0D4BC:  CLRF   x25
0D4BE:  CLRF   x26
0D4C0:  CLRF   x27
0D4C2:  CLRF   x28
0D4C4:  CLRF   x29
0D4C6:  CLRF   x2A
0D4C8:  CLRF   x2B
0D4CA:  CLRF   x2C
0D4CC:  CLRF   x2D
0D4CE:  CLRF   x2E
0D4D0:  CLRF   x2F
0D4D2:  CLRF   x30
0D4D4:  CLRF   x31
0D4D6:  CLRF   x32
0D4D8:  CLRF   x33
0D4DA:  CLRF   x34
0D4DC:  CLRF   x35
0D4DE:  CLRF   x36
0D4E0:  CLRF   x37
0D4E2:  CLRF   x38
0D4E4:  CLRF   x39
0D4E6:  CLRF   x3A
0D4E8:  CLRF   x3B
0D4EA:  CLRF   x3C
0D4EC:  CLRF   x3D
0D4EE:  CLRF   x3E
0D4F0:  CLRF   x3F
0D4F2:  CLRF   x40
0D4F4:  CLRF   x41
0D4F6:  CLRF   x42
0D4F8:  CLRF   x43
0D4FA:  CLRF   x44
0D4FC:  CLRF   x45
0D4FE:  CLRF   x46
0D500:  CLRF   x47
0D502:  CLRF   x48
0D504:  CLRF   x49
0D506:  CLRF   x4A
0D508:  CLRF   x4B
0D50A:  CLRF   x4C
0D50C:  CLRF   x4D
0D50E:  CLRF   x4E
0D510:  CLRF   x4F
0D512:  CLRF   x50
0D514:  CLRF   x51
0D516:  CLRF   x52
0D518:  CLRF   x53
0D51A:  CLRF   x54
0D51C:  CLRF   x55
0D51E:  CLRF   x56
0D520:  CLRF   x57
0D522:  CLRF   x58
0D524:  CLRF   x59
0D526:  CLRF   x5A
0D528:  CLRF   x5B
0D52A:  CLRF   x5C
0D52C:  CLRF   x5D
0D52E:  CLRF   x5E
0D530:  CLRF   x5F
0D532:  CLRF   x60
0D534:  CLRF   x61
0D536:  CLRF   x62
0D538:  CLRF   x63
0D53A:  CLRF   x64
0D53C:  CLRF   x65
0D53E:  CLRF   x66
0D540:  CLRF   x67
0D542:  CLRF   x68
0D544:  CLRF   x69
0D546:  CLRF   x6A
0D548:  CLRF   x6B
0D54A:  CLRF   x6C
0D54C:  CLRF   x6D
0D54E:  CLRF   x6E
0D550:  CLRF   x6F
0D552:  CLRF   x70
0D554:  CLRF   x71
0D556:  CLRF   x72
0D558:  CLRF   x73
0D55A:  CLRF   x74
0D55C:  CLRF   x75
0D55E:  CLRF   x76
0D560:  CLRF   x77
0D562:  CLRF   x78
0D564:  CLRF   x79
0D566:  CLRF   x7A
0D568:  CLRF   x7B
0D56A:  CLRF   x7C
0D56C:  CLRF   x7D
0D56E:  CLRF   x7E
0D570:  CLRF   x7F
0D572:  CLRF   x80
0D574:  CLRF   x81
0D576:  CLRF   x82
0D578:  CLRF   x83
0D57A:  CLRF   x84
0D57C:  CLRF   x85
0D57E:  CLRF   x86
0D580:  CLRF   x87
0D582:  CLRF   x88
0D584:  CLRF   x89
0D586:  CLRF   x8A
0D588:  CLRF   x8B
0D58A:  CLRF   x8C
0D58C:  CLRF   x8D
0D58E:  CLRF   x8E
0D590:  CLRF   x8F
0D592:  CLRF   x90
0D594:  CLRF   x91
0D596:  CLRF   x92
0D598:  CLRF   x93
0D59A:  CLRF   x94
0D59C:  CLRF   x95
0D59E:  CLRF   x96
0D5A0:  CLRF   x97
0D5A2:  CLRF   x98
0D5A4:  CLRF   x99
0D5A6:  CLRF   x9A
0D5A8:  CLRF   x9B
0D5AA:  CLRF   x9C
0D5AC:  CLRF   x9D
0D5AE:  CLRF   x9E
0D5B0:  CLRF   x9F
0D5B2:  CLRF   xA0
0D5B4:  CLRF   xA1
0D5B6:  CLRF   xA2
0D5B8:  CLRF   xA3
0D5BA:  CLRF   xA4
0D5BC:  CLRF   xA5
0D5BE:  CLRF   xA6
0D5C0:  CLRF   xA7
0D5C2:  CLRF   xA8
0D5C4:  CLRF   xA9
0D5C6:  CLRF   xAA
0D5C8:  CLRF   xAB
0D5CA:  CLRF   xAC
0D5CC:  CLRF   xAD
0D5CE:  CLRF   xAE
0D5D0:  CLRF   xAF
0D5D2:  CLRF   xB0
0D5D4:  CLRF   xB1
0D5D6:  CLRF   xB2
0D5D8:  CLRF   xB3
0D5DA:  CLRF   xB4
0D5DC:  CLRF   xB5
0D5DE:  CLRF   xB6
0D5E0:  CLRF   xB7
0D5E2:  CLRF   xB8
0D5E4:  CLRF   xB9
0D5E6:  CLRF   xBA
0D5E8:  CLRF   xBB
0D5EA:  CLRF   xBC
0D5EC:  CLRF   xBD
0D5EE:  CLRF   xBE
0D5F0:  CLRF   xBF
0D5F2:  CLRF   xC0
0D5F4:  CLRF   xC1
0D5F6:  CLRF   xC2
0D5F8:  CLRF   xC3
0D5FA:  CLRF   xC4
0D5FC:  CLRF   xC5
0D5FE:  CLRF   xC6
0D600:  CLRF   xC7
0D602:  CLRF   xC8
0D604:  CLRF   xC9
0D606:  CLRF   xCA
0D608:  CLRF   xCB
0D60A:  CLRF   xCC
0D60C:  CLRF   xCD
0D60E:  CLRF   xCE
0D610:  CLRF   xCF
0D612:  CLRF   xD0
0D614:  CLRF   xD1
0D616:  CLRF   xD2
0D618:  CLRF   xD3
0D61A:  CLRF   xD4
0D61C:  CLRF   xD5
0D61E:  CLRF   xD6
0D620:  CLRF   xD7
0D622:  CLRF   xD8
0D624:  CLRF   xD9
0D626:  CLRF   xDA
0D628:  CLRF   xDB
0D62A:  CLRF   xDC
0D62C:  CLRF   xDD
0D62E:  CLRF   xDE
0D630:  CLRF   xDF
0D632:  CLRF   xE0
0D634:  CLRF   xE1
0D636:  CLRF   xE2
0D638:  CLRF   xE3
0D63A:  CLRF   xE4
0D63C:  CLRF   xE5
0D63E:  CLRF   xE6
0D640:  CLRF   xE7
0D642:  CLRF   xE8
0D644:  CLRF   xE9
0D646:  CLRF   xEA
0D648:  CLRF   xEB
0D64A:  CLRF   xEC
0D64C:  CLRF   xED
0D64E:  CLRF   xEE
0D650:  CLRF   xEF
0D652:  CLRF   xF0
0D654:  CLRF   xF1
0D656:  CLRF   xF2
0D658:  CLRF   xF3
0D65A:  CLRF   xF4
0D65C:  CLRF   xF5
0D65E:  CLRF   xF6
0D660:  CLRF   xF7
0D662:  CLRF   xF8
0D664:  CLRF   xF9
0D666:  CLRF   xFA
0D668:  CLRF   xFB
0D66A:  CLRF   xFC
0D66C:  CLRF   xFD
0D66E:  CLRF   xFE
0D670:  CLRF   xFF
0D672:  MOVLB  7
0D674:  CLRF   x00
0D676:  CLRF   x01
0D678:  CLRF   x02
0D67A:  CLRF   x03
0D67C:  CLRF   x04
0D67E:  CLRF   x05
0D680:  CLRF   x06
0D682:  CLRF   x07
0D684:  CLRF   x08
0D686:  CLRF   x09
0D688:  CLRF   x0A
0D68A:  CLRF   x0B
0D68C:  CLRF   x0C
0D68E:  CLRF   x0D
0D690:  CLRF   x0E
0D692:  CLRF   x0F
0D694:  CLRF   x10
0D696:  CLRF   x11
0D698:  CLRF   x12
0D69A:  CLRF   x13
0D69C:  CLRF   x14
0D69E:  CLRF   x15
0D6A0:  CLRF   x16
0D6A2:  CLRF   x17
0D6A4:  CLRF   x18
0D6A6:  CLRF   x19
0D6A8:  CLRF   x1A
0D6AA:  CLRF   x1B
0D6AC:  CLRF   x1C
0D6AE:  CLRF   x1D
0D6B0:  CLRF   x1E
0D6B2:  CLRF   x1F
0D6B4:  CLRF   x20
0D6B6:  CLRF   x21
0D6B8:  CLRF   x22
0D6BA:  CLRF   x23
0D6BC:  CLRF   x24
0D6BE:  CLRF   x25
0D6C0:  CLRF   x26
0D6C2:  CLRF   x27
0D6C4:  CLRF   x28
0D6C6:  CLRF   x29
0D6C8:  CLRF   x2A
0D6CA:  CLRF   x2B
0D6CC:  CLRF   x2C
0D6CE:  CLRF   x2D
0D6D0:  CLRF   x2E
0D6D2:  CLRF   x2F
0D6D4:  CLRF   x30
0D6D6:  CLRF   x31
0D6D8:  CLRF   x32
0D6DA:  CLRF   x33
0D6DC:  CLRF   x34
0D6DE:  CLRF   x35
0D6E0:  CLRF   x36
0D6E2:  CLRF   x37
0D6E4:  CLRF   x38
0D6E6:  CLRF   x39
0D6E8:  CLRF   x3A
0D6EA:  CLRF   x3B
0D6EC:  CLRF   x3C
0D6EE:  CLRF   x3D
0D6F0:  CLRF   x3E
0D6F2:  CLRF   x3F
0D6F4:  CLRF   x40
0D6F6:  CLRF   x41
0D6F8:  CLRF   x42
0D6FA:  CLRF   x43
0D6FC:  CLRF   x44
0D6FE:  CLRF   x45
0D700:  CLRF   x46
0D702:  CLRF   x47
0D704:  CLRF   x48
0D706:  CLRF   x49
0D708:  CLRF   x4A
0D70A:  CLRF   x4B
0D70C:  CLRF   x4C
0D70E:  CLRF   x4D
0D710:  CLRF   x4E
0D712:  CLRF   x4F
0D714:  CLRF   x50
0D716:  CLRF   x51
0D718:  CLRF   x52
0D71A:  CLRF   x53
0D71C:  CLRF   x54
0D71E:  CLRF   x55
0D720:  CLRF   x56
0D722:  CLRF   x57
0D724:  CLRF   x58
0D726:  CLRF   x59
0D728:  CLRF   x5A
0D72A:  CLRF   x5B
0D72C:  CLRF   x5C
0D72E:  CLRF   x5D
0D730:  CLRF   x5E
0D732:  CLRF   x5F
0D734:  CLRF   x60
0D736:  CLRF   x61
0D738:  CLRF   x62
0D73A:  CLRF   x63
0D73C:  CLRF   x64
0D73E:  CLRF   x65
0D740:  CLRF   x66
0D742:  CLRF   x67
0D744:  CLRF   x68
0D746:  CLRF   x69
0D748:  CLRF   x6A
0D74A:  CLRF   x6B
0D74C:  CLRF   x6C
0D74E:  CLRF   x6D
0D750:  CLRF   x6E
0D752:  CLRF   x6F
0D754:  CLRF   x70
0D756:  CLRF   x71
0D758:  CLRF   x72
0D75A:  CLRF   x73
0D75C:  CLRF   x74
0D75E:  CLRF   x75
0D760:  CLRF   x76
0D762:  CLRF   x77
0D764:  CLRF   x78
0D766:  CLRF   x79
0D768:  CLRF   x7A
0D76A:  CLRF   x7B
0D76C:  CLRF   x7C
0D76E:  CLRF   x7D
0D770:  CLRF   x7E
0D772:  CLRF   x7F
0D774:  CLRF   x80
0D776:  CLRF   x81
0D778:  CLRF   x82
0D77A:  CLRF   x83
0D77C:  CLRF   x84
0D77E:  CLRF   x85
0D780:  CLRF   x86
0D782:  CLRF   x87
0D784:  CLRF   x88
0D786:  CLRF   x89
0D788:  CLRF   x8A
0D78A:  CLRF   x8B
0D78C:  CLRF   x8C
0D78E:  CLRF   x8D
0D790:  CLRF   x8E
0D792:  CLRF   x8F
0D794:  CLRF   x90
0D796:  CLRF   x91
0D798:  CLRF   x92
0D79A:  CLRF   x93
0D79C:  CLRF   x94
0D79E:  CLRF   x95
0D7A0:  CLRF   x96
0D7A2:  CLRF   x97
0D7A4:  CLRF   x98
0D7A6:  CLRF   x99
0D7A8:  CLRF   x9A
0D7AA:  CLRF   x9B
0D7AC:  CLRF   x9C
0D7AE:  CLRF   x9D
0D7B0:  CLRF   x9E
0D7B2:  CLRF   x9F
0D7B4:  CLRF   xA0
0D7B6:  CLRF   xA1
0D7B8:  CLRF   xA2
0D7BA:  CLRF   xA3
0D7BC:  CLRF   xA4
0D7BE:  CLRF   xA5
0D7C0:  CLRF   xA6
0D7C2:  CLRF   xA7
0D7C4:  CLRF   xA8
0D7C6:  CLRF   xA9
0D7C8:  CLRF   xAA
0D7CA:  CLRF   xAB
0D7CC:  CLRF   xAC
0D7CE:  CLRF   xAD
0D7D0:  CLRF   xAE
0D7D2:  CLRF   xAF
0D7D4:  CLRF   xB0
0D7D6:  CLRF   xB1
0D7D8:  CLRF   xB2
0D7DA:  CLRF   xB3
0D7DC:  CLRF   xB4
0D7DE:  CLRF   xB5
0D7E0:  CLRF   xB6
0D7E2:  CLRF   xB7
0D7E4:  CLRF   xB8
0D7E6:  CLRF   xB9
0D7E8:  CLRF   xBA
0D7EA:  CLRF   xBB
0D7EC:  CLRF   xBC
0D7EE:  CLRF   xBD
0D7F0:  CLRF   xBE
0D7F2:  CLRF   xBF
0D7F4:  CLRF   xC0
0D7F6:  CLRF   xC1
0D7F8:  CLRF   xC2
0D7FA:  CLRF   xC3
0D7FC:  CLRF   xC4
0D7FE:  CLRF   xC5
0D800:  CLRF   xC6
0D802:  CLRF   xC7
0D804:  CLRF   xC8
0D806:  CLRF   xC9
0D808:  CLRF   xCA
0D80A:  CLRF   xCB
0D80C:  CLRF   xCC
0D80E:  CLRF   xCD
0D810:  CLRF   xCE
0D812:  CLRF   xCF
0D814:  CLRF   xD0
0D816:  CLRF   xD1
0D818:  CLRF   xD2
0D81A:  CLRF   xD3
0D81C:  CLRF   xD4
0D81E:  CLRF   xD5
0D820:  CLRF   xD6
0D822:  CLRF   xD7
0D824:  CLRF   xD8
0D826:  CLRF   xD9
0D828:  CLRF   xDA
0D82A:  CLRF   xDB
0D82C:  CLRF   xDC
0D82E:  CLRF   xDD
0D830:  CLRF   xDE
0D832:  CLRF   xDF
0D834:  CLRF   xE0
0D836:  CLRF   xE1
0D838:  CLRF   xE2
0D83A:  CLRF   xE3
0D83C:  CLRF   xE4
0D83E:  CLRF   xE5
0D840:  CLRF   xE6
0D842:  CLRF   xE7
0D844:  CLRF   xE8
0D846:  CLRF   xE9
0D848:  CLRF   xEA
0D84A:  CLRF   xEB
0D84C:  CLRF   xEC
0D84E:  CLRF   xED
0D850:  CLRF   xEE
0D852:  CLRF   xEF
0D854:  CLRF   xF0
0D856:  CLRF   xF1
0D858:  CLRF   xF2
0D85A:  CLRF   xF3
0D85C:  CLRF   xF4
0D85E:  CLRF   xF5
0D860:  CLRF   xF6
0D862:  CLRF   xF7
0D864:  CLRF   xF8
0D866:  CLRF   xF9
0D868:  CLRF   xFA
0D86A:  CLRF   xFB
0D86C:  CLRF   xFC
0D86E:  CLRF   xFD
0D870:  CLRF   xFE
0D872:  CLRF   xFF
0D874:  MOVLB  8
0D876:  CLRF   x00
0D878:  CLRF   x01
0D87A:  CLRF   x02
0D87C:  CLRF   x03
0D87E:  CLRF   x04
0D880:  CLRF   x05
0D882:  CLRF   x06
0D884:  CLRF   x07
0D886:  CLRF   x08
0D888:  CLRF   x09
0D88A:  CLRF   x0A
0D88C:  CLRF   x0B
0D88E:  CLRF   x0C
0D890:  CLRF   x0D
0D892:  CLRF   x0E
0D894:  CLRF   x0F
0D896:  CLRF   x10
0D898:  CLRF   x11
0D89A:  CLRF   x12
0D89C:  CLRF   x13
0D89E:  CLRF   x14
0D8A0:  CLRF   x15
0D8A2:  CLRF   x16
0D8A4:  CLRF   x17
0D8A6:  CLRF   x18
0D8A8:  CLRF   x19
0D8AA:  CLRF   x1A
0D8AC:  CLRF   x1B
0D8AE:  CLRF   x1C
0D8B0:  CLRF   x1D
0D8B2:  CLRF   x1E
0D8B4:  CLRF   x1F
0D8B6:  CLRF   x20
0D8B8:  CLRF   x21
0D8BA:  CLRF   x22
0D8BC:  CLRF   x23
0D8BE:  CLRF   x24
0D8C0:  CLRF   x25
0D8C2:  CLRF   x26
0D8C4:  CLRF   x27
0D8C6:  CLRF   x28
0D8C8:  CLRF   x29
0D8CA:  CLRF   x2A
0D8CC:  CLRF   x2B
0D8CE:  CLRF   x2C
0D8D0:  CLRF   x2D
0D8D2:  CLRF   x2E
0D8D4:  CLRF   x2F
0D8D6:  CLRF   x30
0D8D8:  CLRF   x31
0D8DA:  CLRF   x32
0D8DC:  CLRF   x33
0D8DE:  CLRF   x34
0D8E0:  CLRF   x35
0D8E2:  CLRF   x36
0D8E4:  CLRF   x37
0D8E6:  CLRF   x38
0D8E8:  CLRF   x39
0D8EA:  CLRF   x3A
0D8EC:  CLRF   x3B
0D8EE:  CLRF   x3C
0D8F0:  CLRF   x3D
0D8F2:  CLRF   x3E
0D8F4:  CLRF   x3F
0D8F6:  CLRF   x40
0D8F8:  CLRF   x41
0D8FA:  CLRF   x42
0D8FC:  CLRF   x43
0D8FE:  CLRF   x44
0D900:  CLRF   x45
0D902:  CLRF   x46
0D904:  CLRF   x47
0D906:  CLRF   x48
0D908:  CLRF   x49
0D90A:  CLRF   x4A
0D90C:  CLRF   x4B
0D90E:  CLRF   x4C
0D910:  CLRF   x4D
0D912:  CLRF   x4E
0D914:  CLRF   x4F
0D916:  CLRF   x50
0D918:  CLRF   x51
0D91A:  CLRF   x52
0D91C:  CLRF   x53
0D91E:  CLRF   x54
0D920:  CLRF   x55
0D922:  CLRF   x56
0D924:  CLRF   x57
0D926:  CLRF   x58
0D928:  CLRF   x59
0D92A:  CLRF   x5A
0D92C:  CLRF   x5B
0D92E:  CLRF   x5C
0D930:  CLRF   x5D
0D932:  CLRF   x5E
0D934:  CLRF   x5F
0D936:  CLRF   x60
0D938:  CLRF   x61
0D93A:  CLRF   x62
0D93C:  CLRF   x63
0D93E:  CLRF   x64
0D940:  CLRF   x65
0D942:  CLRF   x66
0D944:  CLRF   x67
0D946:  CLRF   x68
0D948:  CLRF   x69
0D94A:  CLRF   x6A
0D94C:  CLRF   x6B
0D94E:  CLRF   x6C
0D950:  CLRF   x6D
0D952:  CLRF   x6E
0D954:  CLRF   x6F
0D956:  CLRF   x70
0D958:  CLRF   x71
0D95A:  CLRF   x72
0D95C:  CLRF   x73
0D95E:  CLRF   x74
0D960:  CLRF   x75
0D962:  CLRF   x76
0D964:  CLRF   x77
0D966:  CLRF   x78
0D968:  CLRF   x79
0D96A:  CLRF   x7A
0D96C:  CLRF   x7B
0D96E:  CLRF   x7C
0D970:  CLRF   x7D
0D972:  CLRF   x7E
0D974:  CLRF   x7F
0D976:  CLRF   x80
0D978:  CLRF   x81
0D97A:  CLRF   x82
0D97C:  CLRF   x83
0D97E:  CLRF   x84
0D980:  CLRF   x85
0D982:  CLRF   x86
0D984:  CLRF   x87
0D986:  CLRF   x88
0D988:  CLRF   x89
0D98A:  CLRF   x8A
0D98C:  CLRF   x8B
0D98E:  CLRF   x8C
0D990:  CLRF   x8D
0D992:  CLRF   x8E
0D994:  CLRF   x8F
0D996:  CLRF   x90
0D998:  CLRF   x91
0D99A:  CLRF   x92
0D99C:  CLRF   x93
0D99E:  CLRF   x94
0D9A0:  CLRF   x95
0D9A2:  CLRF   x96
0D9A4:  CLRF   x97
0D9A6:  CLRF   x98
0D9A8:  CLRF   x99
0D9AA:  CLRF   x9A
0D9AC:  CLRF   x9B
0D9AE:  CLRF   x9C
0D9B0:  CLRF   x9D
0D9B2:  CLRF   x9E
0D9B4:  CLRF   x9F
0D9B6:  CLRF   xA0
0D9B8:  CLRF   xA1
0D9BA:  CLRF   xA2
0D9BC:  CLRF   xA3
0D9BE:  CLRF   xA4
0D9C0:  CLRF   xA5
0D9C2:  CLRF   xA6
0D9C4:  CLRF   xA7
0D9C6:  CLRF   xA8
0D9C8:  CLRF   xA9
0D9CA:  CLRF   xAA
0D9CC:  CLRF   xAB
0D9CE:  CLRF   xAC
0D9D0:  CLRF   xAD
0D9D2:  CLRF   xAE
0D9D4:  CLRF   xAF
0D9D6:  CLRF   xB0
0D9D8:  CLRF   xB1
0D9DA:  CLRF   xB2
0D9DC:  CLRF   xB3
0D9DE:  CLRF   xB4
0D9E0:  CLRF   xB5
0D9E2:  CLRF   xB6
0D9E4:  CLRF   xB7
0D9E6:  CLRF   xB8
0D9E8:  CLRF   xB9
0D9EA:  CLRF   xBA
0D9EC:  CLRF   xBB
0D9EE:  CLRF   xBC
0D9F0:  CLRF   xBD
0D9F2:  CLRF   xBE
0D9F4:  CLRF   xBF
0D9F6:  CLRF   xC0
0D9F8:  CLRF   xC1
0D9FA:  CLRF   xC2
0D9FC:  CLRF   xC3
0D9FE:  CLRF   xC4
0DA00:  CLRF   xC5
0DA02:  CLRF   xC6
0DA04:  CLRF   xC7
0DA06:  CLRF   xC8
0DA08:  CLRF   xC9
0DA0A:  CLRF   xCA
0DA0C:  CLRF   xCB
0DA0E:  CLRF   xCC
0DA10:  CLRF   xCD
0DA12:  CLRF   xCE
0DA14:  CLRF   xCF
0DA16:  CLRF   xD0
0DA18:  CLRF   xD1
0DA1A:  CLRF   xD2
0DA1C:  CLRF   xD3
0DA1E:  CLRF   xD4
0DA20:  CLRF   xD5
0DA22:  CLRF   xD6
0DA24:  CLRF   xD7
0DA26:  CLRF   xD8
0DA28:  CLRF   xD9
0DA2A:  CLRF   xDA
0DA2C:  CLRF   xDB
0DA2E:  CLRF   xDC
0DA30:  CLRF   xDD
0DA32:  CLRF   xDE
0DA34:  CLRF   xDF
0DA36:  CLRF   xE0
0DA38:  CLRF   xE1
0DA3A:  CLRF   xE2
0DA3C:  CLRF   xE3
0DA3E:  CLRF   xE4
0DA40:  CLRF   xE5
0DA42:  CLRF   xE6
0DA44:  CLRF   xE7
0DA46:  CLRF   xE8
0DA48:  CLRF   xE9
0DA4A:  CLRF   xEA
0DA4C:  CLRF   xEB
0DA4E:  CLRF   xEC
0DA50:  CLRF   xED
0DA52:  CLRF   xEE
0DA54:  CLRF   xEF
0DA56:  CLRF   xF0
0DA58:  CLRF   xF1
0DA5A:  CLRF   xF2
0DA5C:  CLRF   xF3
0DA5E:  CLRF   xF4
0DA60:  CLRF   xF5
0DA62:  CLRF   xF6
0DA64:  CLRF   xF7
0DA66:  CLRF   xF8
0DA68:  CLRF   xF9
0DA6A:  CLRF   xFA
0DA6C:  CLRF   xFB
0DA6E:  CLRF   xFC
0DA70:  CLRF   xFD
0DA72:  CLRF   xFE
0DA74:  CLRF   xFF
0DA76:  MOVLB  9
0DA78:  CLRF   x00
0DA7A:  CLRF   x01
0DA7C:  CLRF   x02
0DA7E:  CLRF   x03
0DA80:  CLRF   x04
0DA82:  CLRF   x05
0DA84:  CLRF   x06
0DA86:  CLRF   x07
0DA88:  CLRF   x08
0DA8A:  CLRF   x09
0DA8C:  CLRF   x0A
0DA8E:  CLRF   x0B
0DA90:  CLRF   x0C
0DA92:  CLRF   x0D
0DA94:  CLRF   x0E
0DA96:  CLRF   x0F
0DA98:  CLRF   x10
0DA9A:  CLRF   x11
0DA9C:  CLRF   x12
0DA9E:  CLRF   x13
0DAA0:  CLRF   x14
0DAA2:  CLRF   x15
0DAA4:  CLRF   x16
0DAA6:  CLRF   x17
0DAA8:  CLRF   x18
0DAAA:  CLRF   x19
0DAAC:  CLRF   x1A
0DAAE:  CLRF   x1B
0DAB0:  CLRF   x1C
0DAB2:  CLRF   x1D
0DAB4:  CLRF   x1E
0DAB6:  CLRF   x1F
0DAB8:  CLRF   x20
0DABA:  CLRF   x21
0DABC:  CLRF   x22
0DABE:  CLRF   x23
0DAC0:  CLRF   x24
0DAC2:  CLRF   x25
0DAC4:  CLRF   x26
0DAC6:  CLRF   x27
0DAC8:  CLRF   x28
0DACA:  CLRF   x29
0DACC:  CLRF   x2A
0DACE:  CLRF   x2B
0DAD0:  CLRF   x2C
0DAD2:  CLRF   x2D
0DAD4:  CLRF   x2E
0DAD6:  CLRF   x2F
0DAD8:  CLRF   x30
0DADA:  CLRF   x31
0DADC:  CLRF   x32
0DADE:  CLRF   x33
0DAE0:  CLRF   x34
0DAE2:  CLRF   x35
0DAE4:  CLRF   x36
0DAE6:  CLRF   x37
0DAE8:  CLRF   x38
0DAEA:  CLRF   x39
0DAEC:  CLRF   x3A
0DAEE:  CLRF   x3B
0DAF0:  CLRF   x3C
0DAF2:  CLRF   x3D
0DAF4:  CLRF   x3E
0DAF6:  CLRF   x3F
0DAF8:  CLRF   x40
0DAFA:  CLRF   x41
0DAFC:  CLRF   x42
0DAFE:  CLRF   x43
0DB00:  CLRF   x44
0DB02:  CLRF   x45
0DB04:  CLRF   x46
0DB06:  CLRF   x47
0DB08:  CLRF   x48
0DB0A:  CLRF   x49
0DB0C:  CLRF   x4A
0DB0E:  CLRF   x4B
0DB10:  CLRF   x4C
0DB12:  CLRF   x4D
0DB14:  CLRF   x4E
0DB16:  CLRF   x4F
0DB18:  CLRF   x50
0DB1A:  CLRF   x51
0DB1C:  CLRF   x52
0DB1E:  CLRF   x53
0DB20:  CLRF   x54
0DB22:  CLRF   x55
0DB24:  CLRF   x56
0DB26:  CLRF   x57
0DB28:  CLRF   x58
0DB2A:  CLRF   x59
0DB2C:  CLRF   x5A
0DB2E:  CLRF   x5B
0DB30:  CLRF   x5C
0DB32:  CLRF   x5D
0DB34:  CLRF   x5E
0DB36:  CLRF   x5F
0DB38:  CLRF   x60
0DB3A:  CLRF   x61
0DB3C:  CLRF   x62
0DB3E:  CLRF   x63
0DB40:  CLRF   x64
0DB42:  CLRF   x65
0DB44:  CLRF   x66
0DB46:  CLRF   x67
0DB48:  CLRF   x68
0DB4A:  CLRF   x69
0DB4C:  CLRF   x6A
0DB4E:  CLRF   x6B
0DB50:  CLRF   x6C
0DB52:  CLRF   x6D
0DB54:  CLRF   x6E
0DB56:  CLRF   x6F
0DB58:  CLRF   x70
0DB5A:  CLRF   x71
0DB5C:  CLRF   x72
0DB5E:  CLRF   x73
0DB60:  CLRF   x74
0DB62:  CLRF   x75
0DB64:  CLRF   x76
0DB66:  CLRF   x77
0DB68:  CLRF   x78
0DB6A:  CLRF   x79
0DB6C:  CLRF   x7A
0DB6E:  CLRF   x7B
0DB70:  CLRF   x7C
0DB72:  CLRF   x7D
0DB74:  CLRF   x7E
0DB76:  CLRF   x7F
0DB78:  CLRF   x80
0DB7A:  CLRF   x81
0DB7C:  CLRF   x82
0DB7E:  CLRF   x83
0DB80:  CLRF   x84
0DB82:  CLRF   x85
0DB84:  CLRF   x86
0DB86:  CLRF   x87
0DB88:  CLRF   x88
0DB8A:  CLRF   x89
0DB8C:  CLRF   x8A
0DB8E:  CLRF   x8B
0DB90:  CLRF   x8C
0DB92:  CLRF   x8D
0DB94:  CLRF   x8E
0DB96:  CLRF   x8F
0DB98:  CLRF   x90
0DB9A:  CLRF   x91
0DB9C:  CLRF   x92
0DB9E:  CLRF   x93
0DBA0:  CLRF   x94
0DBA2:  CLRF   x95
0DBA4:  CLRF   x96
0DBA6:  CLRF   x97
0DBA8:  CLRF   x98
0DBAA:  CLRF   x99
0DBAC:  CLRF   x9A
0DBAE:  CLRF   x9B
0DBB0:  CLRF   x9C
0DBB2:  CLRF   x9D
0DBB4:  CLRF   x9E
0DBB6:  CLRF   x9F
0DBB8:  CLRF   xA0
0DBBA:  CLRF   xA1
0DBBC:  CLRF   xA2
0DBBE:  CLRF   xA3
0DBC0:  CLRF   xA4
0DBC2:  CLRF   xA5
0DBC4:  CLRF   xA6
0DBC6:  CLRF   xA7
0DBC8:  CLRF   xA8
0DBCA:  CLRF   xA9
0DBCC:  CLRF   xAA
0DBCE:  CLRF   xAB
0DBD0:  CLRF   xAC
0DBD2:  CLRF   xAD
0DBD4:  CLRF   xAE
0DBD6:  CLRF   xAF
0DBD8:  CLRF   xB0
0DBDA:  CLRF   xB1
0DBDC:  CLRF   xB2
....................     port2.port_num = 2; 
0DBDE:  MOVLW  02
0DBE0:  MOVLB  5
0DBE2:  MOVWF  xB3
....................     port2.sweep_step = 0;
0DBE4:  CLRF   xB5
0DBE6:  CLRF   xB4
....................     port2.active = 1;
0DBE8:  MOVLB  9
0DBEA:  BSF    xB2.0
.................... 
....................     int16 count = 1;
....................     iv_env_t measured_data = create_meas_data();
0DBEC:  CLRF   xB4
0DBEE:  MOVLW  01
0DBF0:  MOVWF  xB3
0DBF2:  MOVLB  0
0DBF4:  CALL   8CB8
0DBF8:  MOVFF  02,03
0DBFC:  MOVF   01,W
0DBFE:  MOVWF  FE1
0DC00:  MOVFF  03,FE2
0DC04:  MOVLW  09
0DC06:  MOVWF  FEA
0DC08:  MOVLW  B5
0DC0A:  MOVWF  FE9
0DC0C:  MOVLW  0C
0DC0E:  MOVWF  01
0DC10:  MOVFF  FE6,FEE
0DC14:  DECFSZ 01,F
0DC16:  GOTO   DC10
.................... 
....................     while (port1.active || port2.active)
0DC1A:  MOVLB  5
0DC1C:  BTFSS  xB2.0
0DC1E:  BRA    DC26
0DC20:  MOVLB  0
0DC22:  GOTO   DC36
0DC26:  MOVLB  0
0DC28:  MOVLB  9
0DC2A:  BTFSC  xB2.0
0DC2C:  BRA    DC34
0DC2E:  MOVLB  0
0DC30:  GOTO   DF1A
0DC34:  MOVLB  0
....................     {
....................         // 出力設定
....................         if (port1.active) {
0DC36:  MOVLB  5
0DC38:  BTFSC  xB2.0
0DC3A:  BRA    DC42
0DC3C:  MOVLB  0
0DC3E:  GOTO   DC54
0DC42:  MOVLB  0
....................             mcp4901_1_write(count);
0DC44:  MOVFF  9B4,9DD
0DC48:  MOVFF  9B3,9DC
0DC4C:  CALL   2664
....................         } else {
0DC50:  GOTO   DC60
....................             mcp4901_1_write(0);  // 閾値到達後は0出力
0DC54:  MOVLB  9
0DC56:  CLRF   xDD
0DC58:  CLRF   xDC
0DC5A:  MOVLB  0
0DC5C:  CALL   2664
....................         }
.................... 
....................         if (port2.active) {
0DC60:  MOVLB  9
0DC62:  BTFSC  xB2.0
0DC64:  BRA    DC6C
0DC66:  MOVLB  0
0DC68:  GOTO   DC7E
0DC6C:  MOVLB  0
....................             mcp4901_2_write(count);
0DC6E:  MOVFF  9B4,9DD
0DC72:  MOVFF  9B3,9DC
0DC76:  CALL   26A2
....................         } else {
0DC7A:  GOTO   DC8A
....................             mcp4901_2_write(0);
0DC7E:  MOVLB  9
0DC80:  CLRF   xDD
0DC82:  CLRF   xDC
0DC84:  MOVLB  0
0DC86:  CALL   26A2
....................         }
.................... 
....................         delay_us(100);
0DC8A:  MOVLW  85
0DC8C:  MOVWF  00
0DC8E:  DECFSZ 00,F
0DC90:  BRA    DC8E
.................... 
....................         // データ取得
....................         if (port1.active) {
0DC92:  MOVLB  5
0DC94:  BTFSC  xB2.0
0DC96:  BRA    DC9E
0DC98:  MOVLB  0
0DC9A:  GOTO   DDBE
0DC9E:  MOVLB  0
....................             port1.data_buffer[count].voltage = ad7490_read(ADC_CIGS1_AMP);
0DCA0:  MOVLB  9
0DCA2:  RLCF   xB3,W
0DCA4:  MOVWF  02
0DCA6:  RLCF   xB4,W
0DCA8:  MOVWF  03
0DCAA:  RLCF   02,F
0DCAC:  RLCF   03,F
0DCAE:  MOVLW  FC
0DCB0:  ANDWF  02,F
0DCB2:  MOVF   02,W
0DCB4:  ADDLW  B6
0DCB6:  MOVWF  01
0DCB8:  MOVLW  01
0DCBA:  ADDWFC 03,F
0DCBC:  MOVF   01,W
0DCBE:  MOVWF  xC4
0DCC0:  MOVFF  03,9C5
0DCC4:  MOVLW  02
0DCC6:  MOVWF  xEE
0DCC8:  MOVLB  0
0DCCA:  CALL   22B4
0DCCE:  MOVFF  9C5,FEA
0DCD2:  MOVFF  9C4,FE9
0DCD6:  MOVFF  02,FEC
0DCDA:  MOVF   FED,F
0DCDC:  MOVFF  01,FEF
....................             port1.data_buffer[count].current = ad7490_read(ADC_CIGS1_CURR);
0DCE0:  MOVLB  9
0DCE2:  RLCF   xB3,W
0DCE4:  MOVWF  02
0DCE6:  RLCF   xB4,W
0DCE8:  MOVWF  03
0DCEA:  RLCF   02,F
0DCEC:  RLCF   03,F
0DCEE:  MOVLW  FC
0DCF0:  ANDWF  02,F
0DCF2:  MOVF   02,W
0DCF4:  ADDLW  03
0DCF6:  MOVWF  xC2
0DCF8:  MOVLW  00
0DCFA:  ADDWFC 03,W
0DCFC:  MOVWF  xC3
0DCFE:  MOVLW  02
0DD00:  ADDWF  xC2,W
0DD02:  MOVWF  01
0DD04:  MOVLW  00
0DD06:  ADDWFC xC3,W
0DD08:  MOVWF  03
0DD0A:  MOVF   01,W
0DD0C:  ADDLW  B3
0DD0E:  MOVWF  01
0DD10:  MOVLW  01
0DD12:  ADDWFC 03,F
0DD14:  MOVF   01,W
0DD16:  MOVWF  xC2
0DD18:  MOVFF  03,9C3
0DD1C:  MOVLW  01
0DD1E:  MOVWF  xEE
0DD20:  MOVLB  0
0DD22:  CALL   22B4
0DD26:  MOVFF  9C3,FEA
0DD2A:  MOVFF  9C2,FE9
0DD2E:  MOVFF  02,FEC
0DD32:  MOVF   FED,F
0DD34:  MOVFF  01,FEF
....................             port1.sweep_step = count + 1;
0DD38:  MOVLW  01
0DD3A:  MOVLB  9
0DD3C:  ADDWF  xB3,W
0DD3E:  MOVLB  1
0DD40:  MOVWF  xB4
0DD42:  MOVLW  00
0DD44:  MOVLB  9
0DD46:  ADDWFC xB4,W
0DD48:  MOVLB  1
0DD4A:  MOVWF  xB5
....................             if (port1.data_buffer[count].current < curr_limit) {
0DD4C:  MOVLB  9
0DD4E:  RLCF   xB3,W
0DD50:  MOVWF  02
0DD52:  RLCF   xB4,W
0DD54:  MOVWF  03
0DD56:  RLCF   02,F
0DD58:  RLCF   03,F
0DD5A:  MOVLW  FC
0DD5C:  ANDWF  02,F
0DD5E:  MOVF   02,W
0DD60:  ADDLW  03
0DD62:  MOVWF  xC2
0DD64:  MOVLW  00
0DD66:  ADDWFC 03,W
0DD68:  MOVWF  xC3
0DD6A:  MOVLW  02
0DD6C:  ADDWF  xC2,W
0DD6E:  MOVWF  01
0DD70:  MOVLW  00
0DD72:  ADDWFC xC3,W
0DD74:  MOVWF  03
0DD76:  MOVF   01,W
0DD78:  ADDLW  B3
0DD7A:  MOVWF  FE9
0DD7C:  MOVLW  01
0DD7E:  ADDWFC 03,W
0DD80:  MOVWF  FEA
0DD82:  MOVFF  FEC,9C3
0DD86:  MOVF   FED,F
0DD88:  MOVFF  FEF,9C2
0DD8C:  MOVF   xC3,W
0DD8E:  MOVLB  1
0DD90:  SUBWF  xB2,W
0DD92:  BTFSC  FD8.0
0DD94:  BRA    DD9C
0DD96:  MOVLB  0
0DD98:  GOTO   DDBE
0DD9C:  MOVLB  0
0DD9E:  BTFSS  FD8.2
0DDA0:  GOTO   DDB8
0DDA4:  MOVLB  1
0DDA6:  MOVF   xB1,W
0DDA8:  MOVLB  9
0DDAA:  SUBWF  xC2,W
0DDAC:  BTFSS  FD8.0
0DDAE:  BRA    DDB6
0DDB0:  MOVLB  0
0DDB2:  GOTO   DDBE
0DDB6:  MOVLB  0
....................                 port1.active = 0;  // 閾値到達で測定終了
0DDB8:  MOVLB  5
0DDBA:  BCF    xB2.0
0DDBC:  MOVLB  0
....................             }
....................         }
.................... 
....................         if (port2.active) {
0DDBE:  MOVLB  9
0DDC0:  BTFSC  xB2.0
0DDC2:  BRA    DDCA
0DDC4:  MOVLB  0
0DDC6:  GOTO   DEEA
0DDCA:  MOVLB  0
....................             port2.data_buffer[count].voltage = ad7490_read(ADC_CIGS2_AMP);
0DDCC:  MOVLB  9
0DDCE:  RLCF   xB3,W
0DDD0:  MOVWF  02
0DDD2:  RLCF   xB4,W
0DDD4:  MOVWF  03
0DDD6:  RLCF   02,F
0DDD8:  RLCF   03,F
0DDDA:  MOVLW  FC
0DDDC:  ANDWF  02,F
0DDDE:  MOVF   02,W
0DDE0:  ADDLW  B6
0DDE2:  MOVWF  01
0DDE4:  MOVLW  05
0DDE6:  ADDWFC 03,F
0DDE8:  MOVF   01,W
0DDEA:  MOVWF  xC4
0DDEC:  MOVFF  03,9C5
0DDF0:  MOVLW  06
0DDF2:  MOVWF  xEE
0DDF4:  MOVLB  0
0DDF6:  CALL   22B4
0DDFA:  MOVFF  9C5,FEA
0DDFE:  MOVFF  9C4,FE9
0DE02:  MOVFF  02,FEC
0DE06:  MOVF   FED,F
0DE08:  MOVFF  01,FEF
....................             port2.data_buffer[count].current = ad7490_read(ADC_CIGS2_CURR);
0DE0C:  MOVLB  9
0DE0E:  RLCF   xB3,W
0DE10:  MOVWF  02
0DE12:  RLCF   xB4,W
0DE14:  MOVWF  03
0DE16:  RLCF   02,F
0DE18:  RLCF   03,F
0DE1A:  MOVLW  FC
0DE1C:  ANDWF  02,F
0DE1E:  MOVF   02,W
0DE20:  ADDLW  03
0DE22:  MOVWF  xC2
0DE24:  MOVLW  00
0DE26:  ADDWFC 03,W
0DE28:  MOVWF  xC3
0DE2A:  MOVLW  02
0DE2C:  ADDWF  xC2,W
0DE2E:  MOVWF  01
0DE30:  MOVLW  00
0DE32:  ADDWFC xC3,W
0DE34:  MOVWF  03
0DE36:  MOVF   01,W
0DE38:  ADDLW  B3
0DE3A:  MOVWF  01
0DE3C:  MOVLW  05
0DE3E:  ADDWFC 03,F
0DE40:  MOVF   01,W
0DE42:  MOVWF  xC2
0DE44:  MOVFF  03,9C3
0DE48:  MOVLW  05
0DE4A:  MOVWF  xEE
0DE4C:  MOVLB  0
0DE4E:  CALL   22B4
0DE52:  MOVFF  9C3,FEA
0DE56:  MOVFF  9C2,FE9
0DE5A:  MOVFF  02,FEC
0DE5E:  MOVF   FED,F
0DE60:  MOVFF  01,FEF
....................             port2.sweep_step = count + 1;
0DE64:  MOVLW  01
0DE66:  MOVLB  9
0DE68:  ADDWF  xB3,W
0DE6A:  MOVLB  5
0DE6C:  MOVWF  xB4
0DE6E:  MOVLW  00
0DE70:  MOVLB  9
0DE72:  ADDWFC xB4,W
0DE74:  MOVLB  5
0DE76:  MOVWF  xB5
....................             if (port2.data_buffer[count].current < curr_limit) {
0DE78:  MOVLB  9
0DE7A:  RLCF   xB3,W
0DE7C:  MOVWF  02
0DE7E:  RLCF   xB4,W
0DE80:  MOVWF  03
0DE82:  RLCF   02,F
0DE84:  RLCF   03,F
0DE86:  MOVLW  FC
0DE88:  ANDWF  02,F
0DE8A:  MOVF   02,W
0DE8C:  ADDLW  03
0DE8E:  MOVWF  xC2
0DE90:  MOVLW  00
0DE92:  ADDWFC 03,W
0DE94:  MOVWF  xC3
0DE96:  MOVLW  02
0DE98:  ADDWF  xC2,W
0DE9A:  MOVWF  01
0DE9C:  MOVLW  00
0DE9E:  ADDWFC xC3,W
0DEA0:  MOVWF  03
0DEA2:  MOVF   01,W
0DEA4:  ADDLW  B3
0DEA6:  MOVWF  FE9
0DEA8:  MOVLW  05
0DEAA:  ADDWFC 03,W
0DEAC:  MOVWF  FEA
0DEAE:  MOVFF  FEC,9C3
0DEB2:  MOVF   FED,F
0DEB4:  MOVFF  FEF,9C2
0DEB8:  MOVF   xC3,W
0DEBA:  MOVLB  1
0DEBC:  SUBWF  xB2,W
0DEBE:  BTFSC  FD8.0
0DEC0:  BRA    DEC8
0DEC2:  MOVLB  0
0DEC4:  GOTO   DEEA
0DEC8:  MOVLB  0
0DECA:  BTFSS  FD8.2
0DECC:  GOTO   DEE4
0DED0:  MOVLB  1
0DED2:  MOVF   xB1,W
0DED4:  MOVLB  9
0DED6:  SUBWF  xC2,W
0DED8:  BTFSS  FD8.0
0DEDA:  BRA    DEE2
0DEDC:  MOVLB  0
0DEDE:  GOTO   DEEA
0DEE2:  MOVLB  0
....................                 port2.active = 0;
0DEE4:  MOVLB  9
0DEE6:  BCF    xB2.0
0DEE8:  MOVLB  0
....................             }
....................         }
.................... 
....................         count++;
0DEEA:  MOVLB  9
0DEEC:  INCF   xB3,F
0DEEE:  BTFSC  FD8.2
0DEF0:  INCF   xB4,F
....................         if (count >= 255) {
0DEF2:  MOVF   xB4,F
0DEF4:  BTFSC  FD8.2
0DEF6:  BRA    DEFE
0DEF8:  MOVLB  0
0DEFA:  GOTO   DF12
0DEFE:  MOVLB  0
0DF00:  MOVLB  9
0DF02:  MOVF   xB3,W
0DF04:  SUBLW  FE
0DF06:  BTFSS  FD8.0
0DF08:  BRA    DF10
0DF0A:  MOVLB  0
0DF0C:  GOTO   DF16
0DF10:  MOVLB  0
....................             break;
0DF12:  GOTO   DF1A
....................         }
0DF16:  GOTO   DC1A
....................     }
.................... 
....................     fprintf(PC, "temp_top:%04LX\r\n", measured_data.temp_py_top);
0DF1A:  MOVLW  22
0DF1C:  MOVWF  FF6
0DF1E:  MOVLW  06
0DF20:  MOVWF  FF7
0DF22:  MOVLW  00
0DF24:  MOVWF  FF8
0DF26:  MOVLW  09
0DF28:  MOVLB  A
0DF2A:  MOVWF  x4E
0DF2C:  MOVLB  0
0DF2E:  CALL   2104
0DF32:  MOVFF  9BC,9E8
0DF36:  MOVLW  37
0DF38:  MOVLB  9
0DF3A:  MOVWF  xE9
0DF3C:  MOVLB  0
0DF3E:  CALL   2334
0DF42:  MOVFF  9BB,9E8
0DF46:  MOVLW  37
0DF48:  MOVLB  9
0DF4A:  MOVWF  xE9
0DF4C:  MOVLB  0
0DF4E:  CALL   2334
0DF52:  MOVLW  0D
0DF54:  BTFSS  FA6.6
0DF56:  GOTO   DF54
0DF5A:  MOVLB  E
0DF5C:  MOVWF  xF9
0DF5E:  MOVLW  0A
0DF60:  MOVLB  0
0DF62:  BTFSS  FA6.6
0DF64:  GOTO   DF62
0DF68:  MOVLB  E
0DF6A:  MOVWF  xF9
....................     fprintf(PC, "temp_bot:%04LX\r\n", measured_data.temp_py_bot);
0DF6C:  MOVLW  34
0DF6E:  MOVWF  FF6
0DF70:  MOVLW  06
0DF72:  MOVWF  FF7
0DF74:  MOVLW  00
0DF76:  MOVWF  FF8
0DF78:  MOVLW  09
0DF7A:  MOVLB  A
0DF7C:  MOVWF  x4E
0DF7E:  MOVLB  0
0DF80:  CALL   2104
0DF84:  MOVFF  9BE,9E8
0DF88:  MOVLW  37
0DF8A:  MOVLB  9
0DF8C:  MOVWF  xE9
0DF8E:  MOVLB  0
0DF90:  CALL   2334
0DF94:  MOVFF  9BD,9E8
0DF98:  MOVLW  37
0DF9A:  MOVLB  9
0DF9C:  MOVWF  xE9
0DF9E:  MOVLB  0
0DFA0:  CALL   2334
0DFA4:  MOVLW  0D
0DFA6:  BTFSS  FA6.6
0DFA8:  GOTO   DFA6
0DFAC:  MOVLB  E
0DFAE:  MOVWF  xF9
0DFB0:  MOVLW  0A
0DFB2:  MOVLB  0
0DFB4:  BTFSS  FA6.6
0DFB6:  GOTO   DFB4
0DFBA:  MOVLB  E
0DFBC:  MOVWF  xF9
....................     fprintf(PC, "temp_mis7:%04LX\r\n", measured_data.temp_mis7);
0DFBE:  MOVLW  46
0DFC0:  MOVWF  FF6
0DFC2:  MOVLW  06
0DFC4:  MOVWF  FF7
0DFC6:  MOVLW  00
0DFC8:  MOVWF  FF8
0DFCA:  MOVLW  0A
0DFCC:  MOVLB  A
0DFCE:  MOVWF  x4E
0DFD0:  MOVLB  0
0DFD2:  CALL   2104
0DFD6:  MOVFF  9C0,9E8
0DFDA:  MOVLW  37
0DFDC:  MOVLB  9
0DFDE:  MOVWF  xE9
0DFE0:  MOVLB  0
0DFE2:  CALL   2334
0DFE6:  MOVFF  9BF,9E8
0DFEA:  MOVLW  37
0DFEC:  MOVLB  9
0DFEE:  MOVWF  xE9
0DFF0:  MOVLB  0
0DFF2:  CALL   2334
0DFF6:  MOVLW  0D
0DFF8:  BTFSS  FA6.6
0DFFA:  GOTO   DFF8
0DFFE:  MOVLB  E
0E000:  MOVWF  xF9
0E002:  MOVLW  0A
0E004:  MOVLB  0
0E006:  BTFSS  FA6.6
0E008:  GOTO   E006
0E00C:  MOVLB  E
0E00E:  MOVWF  xF9
....................     fprintf(PC, "pd:%04LX\r\n", measured_data.pd);
0E010:  MOVLW  58
0E012:  MOVWF  FF6
0E014:  MOVLW  06
0E016:  MOVWF  FF7
0E018:  MOVLW  00
0E01A:  MOVWF  FF8
0E01C:  MOVLW  03
0E01E:  MOVLB  A
0E020:  MOVWF  x4E
0E022:  MOVLB  0
0E024:  CALL   2104
0E028:  MOVFF  9BA,9E8
0E02C:  MOVLW  37
0E02E:  MOVLB  9
0E030:  MOVWF  xE9
0E032:  MOVLB  0
0E034:  CALL   2334
0E038:  MOVFF  9B9,9E8
0E03C:  MOVLW  37
0E03E:  MOVLB  9
0E040:  MOVWF  xE9
0E042:  MOVLB  0
0E044:  CALL   2334
0E048:  MOVLW  0D
0E04A:  BTFSS  FA6.6
0E04C:  GOTO   E04A
0E050:  MOVLB  E
0E052:  MOVWF  xF9
0E054:  MOVLW  0A
0E056:  MOVLB  0
0E058:  BTFSS  FA6.6
0E05A:  GOTO   E058
0E05E:  MOVLB  E
0E060:  MOVWF  xF9
....................     // Print I-V data
....................     fprintf(PC, "Volt1,Curr1,Volt2,Curr2\r\n");
0E062:  MOVLW  64
0E064:  MOVWF  FF6
0E066:  MOVLW  06
0E068:  MOVWF  FF7
0E06A:  MOVLW  00
0E06C:  MOVWF  FF8
0E06E:  MOVLB  0
0E070:  CALL   20CE
....................     for (int i = 0; i < count; i++) {
0E074:  MOVLB  9
0E076:  CLRF   xC1
0E078:  MOVLB  0
0E07A:  MOVLB  9
0E07C:  MOVF   xB4,F
0E07E:  BTFSC  FD8.2
0E080:  BRA    E088
0E082:  MOVLB  0
0E084:  GOTO   E09C
0E088:  MOVLB  0
0E08A:  MOVLB  9
0E08C:  MOVF   xB3,W
0E08E:  SUBWF  xC1,W
0E090:  BTFSS  FD8.0
0E092:  BRA    E09A
0E094:  MOVLB  0
0E096:  GOTO   E250
0E09A:  MOVLB  0
.................... 
....................         fprintf(PC, "%04LX,%04LX,%04LX,%04LX\r\n",
....................             port1.data_buffer[i].voltage, port1.data_buffer[i].current,
....................             port2.data_buffer[i].voltage, port2.data_buffer[i].current);
0E09C:  MOVLB  A
0E09E:  CLRF   x53
0E0A0:  MOVFF  9C1,A52
0E0A4:  CLRF   x55
0E0A6:  MOVLW  04
0E0A8:  MOVWF  x54
0E0AA:  MOVLB  0
0E0AC:  CALL   5E06
0E0B0:  MOVFF  02,03
0E0B4:  MOVF   01,W
0E0B6:  ADDLW  B6
0E0B8:  MOVWF  FE9
0E0BA:  MOVLW  01
0E0BC:  ADDWFC 03,W
0E0BE:  MOVWF  FEA
0E0C0:  MOVFF  FEC,9C5
0E0C4:  MOVF   FED,F
0E0C6:  MOVFF  FEF,9C4
0E0CA:  MOVLB  A
0E0CC:  CLRF   x53
0E0CE:  MOVFF  9C1,A52
0E0D2:  CLRF   x55
0E0D4:  MOVLW  04
0E0D6:  MOVWF  x54
0E0D8:  MOVLB  0
0E0DA:  CALL   5E06
0E0DE:  MOVFF  02,03
0E0E2:  MOVF   01,W
0E0E4:  ADDLW  03
0E0E6:  MOVLB  9
0E0E8:  MOVWF  xC6
0E0EA:  MOVLW  00
0E0EC:  ADDWFC 03,W
0E0EE:  MOVWF  xC7
0E0F0:  MOVLW  02
0E0F2:  ADDWF  xC6,W
0E0F4:  MOVWF  01
0E0F6:  MOVLW  00
0E0F8:  ADDWFC xC7,W
0E0FA:  MOVWF  03
0E0FC:  MOVF   01,W
0E0FE:  ADDLW  B3
0E100:  MOVWF  FE9
0E102:  MOVLW  01
0E104:  ADDWFC 03,W
0E106:  MOVWF  FEA
0E108:  MOVFF  FEC,9C7
0E10C:  MOVF   FED,F
0E10E:  MOVFF  FEF,9C6
0E112:  MOVLB  A
0E114:  CLRF   x53
0E116:  MOVFF  9C1,A52
0E11A:  CLRF   x55
0E11C:  MOVLW  04
0E11E:  MOVWF  x54
0E120:  MOVLB  0
0E122:  CALL   5E06
0E126:  MOVFF  02,03
0E12A:  MOVF   01,W
0E12C:  ADDLW  B6
0E12E:  MOVWF  FE9
0E130:  MOVLW  05
0E132:  ADDWFC 03,W
0E134:  MOVWF  FEA
0E136:  MOVFF  FEC,9CB
0E13A:  MOVF   FED,F
0E13C:  MOVFF  FEF,9CA
0E140:  MOVLB  A
0E142:  CLRF   x53
0E144:  MOVFF  9C1,A52
0E148:  CLRF   x55
0E14A:  MOVLW  04
0E14C:  MOVWF  x54
0E14E:  MOVLB  0
0E150:  CALL   5E06
0E154:  MOVFF  02,03
0E158:  MOVF   01,W
0E15A:  ADDLW  03
0E15C:  MOVLB  9
0E15E:  MOVWF  xCC
0E160:  MOVLW  00
0E162:  ADDWFC 03,W
0E164:  MOVWF  xCD
0E166:  MOVLW  02
0E168:  ADDWF  xCC,W
0E16A:  MOVWF  01
0E16C:  MOVLW  00
0E16E:  ADDWFC xCD,W
0E170:  MOVWF  03
0E172:  MOVF   01,W
0E174:  ADDLW  B3
0E176:  MOVWF  FE9
0E178:  MOVLW  05
0E17A:  ADDWFC 03,W
0E17C:  MOVWF  FEA
0E17E:  MOVFF  FEC,9CD
0E182:  MOVF   FED,F
0E184:  MOVFF  FEF,9CC
0E188:  MOVFF  9C5,9E8
0E18C:  MOVLW  37
0E18E:  MOVWF  xE9
0E190:  MOVLB  0
0E192:  CALL   2334
0E196:  MOVFF  9C4,9E8
0E19A:  MOVLW  37
0E19C:  MOVLB  9
0E19E:  MOVWF  xE9
0E1A0:  MOVLB  0
0E1A2:  CALL   2334
0E1A6:  MOVLW  2C
0E1A8:  BTFSS  FA6.6
0E1AA:  GOTO   E1A8
0E1AE:  MOVLB  E
0E1B0:  MOVWF  xF9
0E1B2:  MOVFF  9C7,9E8
0E1B6:  MOVLW  37
0E1B8:  MOVLB  9
0E1BA:  MOVWF  xE9
0E1BC:  MOVLB  0
0E1BE:  CALL   2334
0E1C2:  MOVFF  9C6,9E8
0E1C6:  MOVLW  37
0E1C8:  MOVLB  9
0E1CA:  MOVWF  xE9
0E1CC:  MOVLB  0
0E1CE:  CALL   2334
0E1D2:  MOVLW  2C
0E1D4:  BTFSS  FA6.6
0E1D6:  GOTO   E1D4
0E1DA:  MOVLB  E
0E1DC:  MOVWF  xF9
0E1DE:  MOVFF  9CB,9E8
0E1E2:  MOVLW  37
0E1E4:  MOVLB  9
0E1E6:  MOVWF  xE9
0E1E8:  MOVLB  0
0E1EA:  CALL   2334
0E1EE:  MOVFF  9CA,9E8
0E1F2:  MOVLW  37
0E1F4:  MOVLB  9
0E1F6:  MOVWF  xE9
0E1F8:  MOVLB  0
0E1FA:  CALL   2334
0E1FE:  MOVLW  2C
0E200:  BTFSS  FA6.6
0E202:  GOTO   E200
0E206:  MOVLB  E
0E208:  MOVWF  xF9
0E20A:  MOVFF  9CD,9E8
0E20E:  MOVLW  37
0E210:  MOVLB  9
0E212:  MOVWF  xE9
0E214:  MOVLB  0
0E216:  CALL   2334
0E21A:  MOVFF  9CC,9E8
0E21E:  MOVLW  37
0E220:  MOVLB  9
0E222:  MOVWF  xE9
0E224:  MOVLB  0
0E226:  CALL   2334
0E22A:  MOVLW  0D
0E22C:  BTFSS  FA6.6
0E22E:  GOTO   E22C
0E232:  MOVLB  E
0E234:  MOVWF  xF9
0E236:  MOVLW  0A
0E238:  MOVLB  0
0E23A:  BTFSS  FA6.6
0E23C:  GOTO   E23A
0E240:  MOVLB  E
0E242:  MOVWF  xF9
0E244:  MOVLB  0
0E246:  MOVLB  9
0E248:  INCF   xC1,F
0E24A:  MOVLB  0
0E24C:  GOTO   E07A
....................     }
....................     log_meas_data(&measured_data, &port1);
0E250:  MOVLW  09
0E252:  MOVLB  9
0E254:  MOVWF  xC3
0E256:  MOVLW  B5
0E258:  MOVWF  xC2
0E25A:  MOVLW  01
0E25C:  MOVWF  xC5
0E25E:  MOVLW  B3
0E260:  MOVWF  xC4
0E262:  MOVLB  0
0E264:  CALL   8D4A
....................     log_meas_data(&measured_data, &port2);
0E268:  MOVLW  09
0E26A:  MOVLB  9
0E26C:  MOVWF  xC3
0E26E:  MOVLW  B5
0E270:  MOVWF  xC2
0E272:  MOVLW  05
0E274:  MOVWF  xC5
0E276:  MOVLW  B3
0E278:  MOVWF  xC4
0E27A:  MOVLB  0
0E27C:  CALL   8D4A
....................     misf_update_address_area();
0E280:  CALL   4E4E
0E284:  GOTO   F91E (RETURN)
.................... }
.................... 
.................... 
.................... 
.................... void test_sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit)
.................... {
....................     fprintf(PC, ".");
*
0B240:  MOVLW  2E
0B242:  BTFSS  FA6.6
0B244:  GOTO   B242
0B248:  MOVLB  E
0B24A:  MOVWF  xF9
....................     
....................     
....................     connect_port1();
0B24C:  MOVLB  0
0B24E:  CALL   5004
....................     connect_port2();
0B252:  CALL   500C
....................     // Enable both CIGS ports
....................     mcp4901_1_write(0); 
0B256:  MOVLB  9
0B258:  CLRF   xDD
0B25A:  CLRF   xDC
0B25C:  MOVLB  0
0B25E:  CALL   2664
....................     mcp4901_2_write(0);
0B262:  MOVLB  9
0B264:  CLRF   xDD
0B266:  CLRF   xDC
0B268:  MOVLB  0
0B26A:  CALL   26A2
....................     connect_port1();
0B26E:  CALL   5004
....................     connect_port2();
0B272:  CALL   500C
.................... 
....................     // Stabilization wait
....................     delay_ms(100);
0B276:  MOVLW  64
0B278:  MOVLB  B
0B27A:  MOVWF  x03
0B27C:  MOVLB  0
0B27E:  CALL   20A0
....................     
....................     // Init Port1
....................     sweep_debug_config_t port1 = {0};
0B282:  MOVLB  1
0B284:  CLRF   xC9
0B286:  CLRF   xCA
0B288:  CLRF   xCB
0B28A:  CLRF   xCC
0B28C:  CLRF   xCD
0B28E:  CLRF   xCE
0B290:  CLRF   xCF
0B292:  CLRF   xD0
0B294:  CLRF   xD1
0B296:  CLRF   xD2
0B298:  CLRF   xD3
0B29A:  CLRF   xD4
0B29C:  CLRF   xD5
0B29E:  CLRF   xD6
0B2A0:  CLRF   xD7
0B2A2:  CLRF   xD8
0B2A4:  CLRF   xD9
0B2A6:  CLRF   xDA
0B2A8:  CLRF   xDB
0B2AA:  CLRF   xDC
0B2AC:  CLRF   xDD
0B2AE:  CLRF   xDE
0B2B0:  CLRF   xDF
0B2B2:  CLRF   xE0
0B2B4:  CLRF   xE1
0B2B6:  CLRF   xE2
0B2B8:  CLRF   xE3
0B2BA:  CLRF   xE4
0B2BC:  CLRF   xE5
0B2BE:  CLRF   xE6
0B2C0:  CLRF   xE7
0B2C2:  CLRF   xE8
0B2C4:  CLRF   xE9
0B2C6:  CLRF   xEA
0B2C8:  CLRF   xEB
0B2CA:  CLRF   xEC
0B2CC:  CLRF   xED
0B2CE:  CLRF   xEE
0B2D0:  CLRF   xEF
0B2D2:  CLRF   xF0
0B2D4:  CLRF   xF1
0B2D6:  CLRF   xF2
0B2D8:  CLRF   xF3
0B2DA:  CLRF   xF4
0B2DC:  CLRF   xF5
0B2DE:  CLRF   xF6
0B2E0:  CLRF   xF7
0B2E2:  CLRF   xF8
0B2E4:  CLRF   xF9
0B2E6:  CLRF   xFA
0B2E8:  CLRF   xFB
0B2EA:  CLRF   xFC
0B2EC:  CLRF   xFD
0B2EE:  CLRF   xFE
0B2F0:  CLRF   xFF
0B2F2:  MOVLB  2
0B2F4:  CLRF   x00
0B2F6:  CLRF   x01
0B2F8:  CLRF   x02
0B2FA:  CLRF   x03
0B2FC:  CLRF   x04
0B2FE:  CLRF   x05
0B300:  CLRF   x06
0B302:  CLRF   x07
0B304:  CLRF   x08
0B306:  CLRF   x09
0B308:  CLRF   x0A
0B30A:  CLRF   x0B
0B30C:  CLRF   x0C
0B30E:  CLRF   x0D
0B310:  CLRF   x0E
0B312:  CLRF   x0F
0B314:  CLRF   x10
0B316:  CLRF   x11
0B318:  CLRF   x12
0B31A:  CLRF   x13
0B31C:  CLRF   x14
0B31E:  CLRF   x15
0B320:  CLRF   x16
0B322:  CLRF   x17
0B324:  CLRF   x18
0B326:  CLRF   x19
0B328:  CLRF   x1A
0B32A:  CLRF   x1B
0B32C:  CLRF   x1C
0B32E:  CLRF   x1D
0B330:  CLRF   x1E
0B332:  CLRF   x1F
0B334:  CLRF   x20
0B336:  CLRF   x21
0B338:  CLRF   x22
0B33A:  CLRF   x23
0B33C:  CLRF   x24
0B33E:  CLRF   x25
0B340:  CLRF   x26
0B342:  CLRF   x27
0B344:  CLRF   x28
0B346:  CLRF   x29
0B348:  CLRF   x2A
0B34A:  CLRF   x2B
0B34C:  CLRF   x2C
0B34E:  CLRF   x2D
0B350:  CLRF   x2E
0B352:  CLRF   x2F
0B354:  CLRF   x30
0B356:  CLRF   x31
0B358:  CLRF   x32
0B35A:  CLRF   x33
0B35C:  CLRF   x34
0B35E:  CLRF   x35
0B360:  CLRF   x36
0B362:  CLRF   x37
0B364:  CLRF   x38
0B366:  CLRF   x39
0B368:  CLRF   x3A
0B36A:  CLRF   x3B
0B36C:  CLRF   x3C
0B36E:  CLRF   x3D
0B370:  CLRF   x3E
0B372:  CLRF   x3F
0B374:  CLRF   x40
0B376:  CLRF   x41
0B378:  CLRF   x42
0B37A:  CLRF   x43
0B37C:  CLRF   x44
0B37E:  CLRF   x45
0B380:  CLRF   x46
0B382:  CLRF   x47
0B384:  CLRF   x48
0B386:  CLRF   x49
0B388:  CLRF   x4A
0B38A:  CLRF   x4B
0B38C:  CLRF   x4C
0B38E:  CLRF   x4D
0B390:  CLRF   x4E
0B392:  CLRF   x4F
0B394:  CLRF   x50
0B396:  CLRF   x51
0B398:  CLRF   x52
0B39A:  CLRF   x53
0B39C:  CLRF   x54
0B39E:  CLRF   x55
0B3A0:  CLRF   x56
0B3A2:  CLRF   x57
0B3A4:  CLRF   x58
0B3A6:  CLRF   x59
0B3A8:  CLRF   x5A
0B3AA:  CLRF   x5B
0B3AC:  CLRF   x5C
0B3AE:  CLRF   x5D
0B3B0:  CLRF   x5E
0B3B2:  CLRF   x5F
0B3B4:  CLRF   x60
0B3B6:  CLRF   x61
0B3B8:  CLRF   x62
0B3BA:  CLRF   x63
0B3BC:  CLRF   x64
0B3BE:  CLRF   x65
0B3C0:  CLRF   x66
0B3C2:  CLRF   x67
0B3C4:  CLRF   x68
0B3C6:  CLRF   x69
0B3C8:  CLRF   x6A
0B3CA:  CLRF   x6B
0B3CC:  CLRF   x6C
0B3CE:  CLRF   x6D
0B3D0:  CLRF   x6E
0B3D2:  CLRF   x6F
0B3D4:  CLRF   x70
0B3D6:  CLRF   x71
0B3D8:  CLRF   x72
0B3DA:  CLRF   x73
0B3DC:  CLRF   x74
0B3DE:  CLRF   x75
0B3E0:  CLRF   x76
0B3E2:  CLRF   x77
0B3E4:  CLRF   x78
0B3E6:  CLRF   x79
0B3E8:  CLRF   x7A
0B3EA:  CLRF   x7B
0B3EC:  CLRF   x7C
0B3EE:  CLRF   x7D
0B3F0:  CLRF   x7E
0B3F2:  CLRF   x7F
0B3F4:  CLRF   x80
0B3F6:  CLRF   x81
0B3F8:  CLRF   x82
0B3FA:  CLRF   x83
0B3FC:  CLRF   x84
0B3FE:  CLRF   x85
0B400:  CLRF   x86
0B402:  CLRF   x87
0B404:  CLRF   x88
0B406:  CLRF   x89
0B408:  CLRF   x8A
0B40A:  CLRF   x8B
0B40C:  CLRF   x8C
0B40E:  CLRF   x8D
0B410:  CLRF   x8E
0B412:  CLRF   x8F
0B414:  CLRF   x90
0B416:  CLRF   x91
0B418:  CLRF   x92
0B41A:  CLRF   x93
0B41C:  CLRF   x94
0B41E:  CLRF   x95
0B420:  CLRF   x96
0B422:  CLRF   x97
0B424:  CLRF   x98
0B426:  CLRF   x99
0B428:  CLRF   x9A
0B42A:  CLRF   x9B
0B42C:  CLRF   x9C
0B42E:  CLRF   x9D
0B430:  CLRF   x9E
0B432:  CLRF   x9F
0B434:  CLRF   xA0
0B436:  CLRF   xA1
0B438:  CLRF   xA2
0B43A:  CLRF   xA3
0B43C:  CLRF   xA4
0B43E:  CLRF   xA5
0B440:  CLRF   xA6
0B442:  CLRF   xA7
0B444:  CLRF   xA8
0B446:  CLRF   xA9
0B448:  CLRF   xAA
0B44A:  CLRF   xAB
0B44C:  CLRF   xAC
0B44E:  CLRF   xAD
0B450:  CLRF   xAE
0B452:  CLRF   xAF
0B454:  CLRF   xB0
0B456:  CLRF   xB1
0B458:  CLRF   xB2
0B45A:  CLRF   xB3
0B45C:  CLRF   xB4
0B45E:  CLRF   xB5
0B460:  CLRF   xB6
0B462:  CLRF   xB7
0B464:  CLRF   xB8
0B466:  CLRF   xB9
0B468:  CLRF   xBA
0B46A:  CLRF   xBB
0B46C:  CLRF   xBC
0B46E:  CLRF   xBD
0B470:  CLRF   xBE
0B472:  CLRF   xBF
0B474:  CLRF   xC0
0B476:  CLRF   xC1
0B478:  CLRF   xC2
0B47A:  CLRF   xC3
0B47C:  CLRF   xC4
0B47E:  CLRF   xC5
0B480:  CLRF   xC6
0B482:  CLRF   xC7
0B484:  CLRF   xC8
0B486:  CLRF   xC9
0B488:  CLRF   xCA
0B48A:  CLRF   xCB
0B48C:  CLRF   xCC
0B48E:  CLRF   xCD
0B490:  CLRF   xCE
0B492:  CLRF   xCF
0B494:  CLRF   xD0
0B496:  CLRF   xD1
0B498:  CLRF   xD2
0B49A:  CLRF   xD3
0B49C:  CLRF   xD4
0B49E:  CLRF   xD5
0B4A0:  CLRF   xD6
0B4A2:  CLRF   xD7
0B4A4:  CLRF   xD8
0B4A6:  CLRF   xD9
0B4A8:  CLRF   xDA
0B4AA:  CLRF   xDB
0B4AC:  CLRF   xDC
0B4AE:  CLRF   xDD
0B4B0:  CLRF   xDE
0B4B2:  CLRF   xDF
0B4B4:  CLRF   xE0
0B4B6:  CLRF   xE1
0B4B8:  CLRF   xE2
0B4BA:  CLRF   xE3
0B4BC:  CLRF   xE4
0B4BE:  CLRF   xE5
0B4C0:  CLRF   xE6
0B4C2:  CLRF   xE7
0B4C4:  CLRF   xE8
0B4C6:  CLRF   xE9
0B4C8:  CLRF   xEA
0B4CA:  CLRF   xEB
0B4CC:  CLRF   xEC
0B4CE:  CLRF   xED
0B4D0:  CLRF   xEE
0B4D2:  CLRF   xEF
0B4D4:  CLRF   xF0
0B4D6:  CLRF   xF1
0B4D8:  CLRF   xF2
0B4DA:  CLRF   xF3
0B4DC:  CLRF   xF4
0B4DE:  CLRF   xF5
0B4E0:  CLRF   xF6
0B4E2:  CLRF   xF7
0B4E4:  CLRF   xF8
0B4E6:  CLRF   xF9
0B4E8:  CLRF   xFA
0B4EA:  CLRF   xFB
0B4EC:  CLRF   xFC
0B4EE:  CLRF   xFD
0B4F0:  CLRF   xFE
0B4F2:  CLRF   xFF
0B4F4:  MOVLB  3
0B4F6:  CLRF   x00
0B4F8:  CLRF   x01
0B4FA:  CLRF   x02
0B4FC:  CLRF   x03
0B4FE:  CLRF   x04
0B500:  CLRF   x05
0B502:  CLRF   x06
0B504:  CLRF   x07
0B506:  CLRF   x08
0B508:  CLRF   x09
0B50A:  CLRF   x0A
0B50C:  CLRF   x0B
0B50E:  CLRF   x0C
0B510:  CLRF   x0D
0B512:  CLRF   x0E
0B514:  CLRF   x0F
0B516:  CLRF   x10
0B518:  CLRF   x11
0B51A:  CLRF   x12
0B51C:  CLRF   x13
0B51E:  CLRF   x14
0B520:  CLRF   x15
0B522:  CLRF   x16
0B524:  CLRF   x17
0B526:  CLRF   x18
0B528:  CLRF   x19
0B52A:  CLRF   x1A
0B52C:  CLRF   x1B
0B52E:  CLRF   x1C
0B530:  CLRF   x1D
0B532:  CLRF   x1E
0B534:  CLRF   x1F
0B536:  CLRF   x20
0B538:  CLRF   x21
0B53A:  CLRF   x22
0B53C:  CLRF   x23
0B53E:  CLRF   x24
0B540:  CLRF   x25
0B542:  CLRF   x26
0B544:  CLRF   x27
0B546:  CLRF   x28
0B548:  CLRF   x29
0B54A:  CLRF   x2A
0B54C:  CLRF   x2B
0B54E:  CLRF   x2C
0B550:  CLRF   x2D
0B552:  CLRF   x2E
0B554:  CLRF   x2F
0B556:  CLRF   x30
0B558:  CLRF   x31
0B55A:  CLRF   x32
0B55C:  CLRF   x33
0B55E:  CLRF   x34
0B560:  CLRF   x35
0B562:  CLRF   x36
0B564:  CLRF   x37
0B566:  CLRF   x38
0B568:  CLRF   x39
0B56A:  CLRF   x3A
0B56C:  CLRF   x3B
0B56E:  CLRF   x3C
0B570:  CLRF   x3D
0B572:  CLRF   x3E
0B574:  CLRF   x3F
0B576:  CLRF   x40
0B578:  CLRF   x41
0B57A:  CLRF   x42
0B57C:  CLRF   x43
0B57E:  CLRF   x44
0B580:  CLRF   x45
0B582:  CLRF   x46
0B584:  CLRF   x47
0B586:  CLRF   x48
0B588:  CLRF   x49
0B58A:  CLRF   x4A
0B58C:  CLRF   x4B
0B58E:  CLRF   x4C
0B590:  CLRF   x4D
0B592:  CLRF   x4E
0B594:  CLRF   x4F
0B596:  CLRF   x50
0B598:  CLRF   x51
0B59A:  CLRF   x52
0B59C:  CLRF   x53
0B59E:  CLRF   x54
0B5A0:  CLRF   x55
0B5A2:  CLRF   x56
0B5A4:  CLRF   x57
0B5A6:  CLRF   x58
0B5A8:  CLRF   x59
0B5AA:  CLRF   x5A
0B5AC:  CLRF   x5B
0B5AE:  CLRF   x5C
0B5B0:  CLRF   x5D
0B5B2:  CLRF   x5E
0B5B4:  CLRF   x5F
0B5B6:  CLRF   x60
0B5B8:  CLRF   x61
0B5BA:  CLRF   x62
0B5BC:  CLRF   x63
0B5BE:  CLRF   x64
0B5C0:  CLRF   x65
0B5C2:  CLRF   x66
0B5C4:  CLRF   x67
0B5C6:  CLRF   x68
0B5C8:  CLRF   x69
0B5CA:  CLRF   x6A
0B5CC:  CLRF   x6B
0B5CE:  CLRF   x6C
0B5D0:  CLRF   x6D
0B5D2:  CLRF   x6E
0B5D4:  CLRF   x6F
0B5D6:  CLRF   x70
0B5D8:  CLRF   x71
0B5DA:  CLRF   x72
0B5DC:  CLRF   x73
0B5DE:  CLRF   x74
0B5E0:  CLRF   x75
0B5E2:  CLRF   x76
0B5E4:  CLRF   x77
0B5E6:  CLRF   x78
0B5E8:  CLRF   x79
0B5EA:  CLRF   x7A
0B5EC:  CLRF   x7B
0B5EE:  CLRF   x7C
0B5F0:  CLRF   x7D
0B5F2:  CLRF   x7E
0B5F4:  CLRF   x7F
0B5F6:  CLRF   x80
0B5F8:  CLRF   x81
0B5FA:  CLRF   x82
0B5FC:  CLRF   x83
0B5FE:  CLRF   x84
0B600:  CLRF   x85
0B602:  CLRF   x86
0B604:  CLRF   x87
0B606:  CLRF   x88
0B608:  CLRF   x89
0B60A:  CLRF   x8A
0B60C:  CLRF   x8B
0B60E:  CLRF   x8C
0B610:  CLRF   x8D
0B612:  CLRF   x8E
0B614:  CLRF   x8F
0B616:  CLRF   x90
0B618:  CLRF   x91
0B61A:  CLRF   x92
0B61C:  CLRF   x93
0B61E:  CLRF   x94
0B620:  CLRF   x95
0B622:  CLRF   x96
0B624:  CLRF   x97
0B626:  CLRF   x98
0B628:  CLRF   x99
0B62A:  CLRF   x9A
0B62C:  CLRF   x9B
0B62E:  CLRF   x9C
0B630:  CLRF   x9D
0B632:  CLRF   x9E
0B634:  CLRF   x9F
0B636:  CLRF   xA0
0B638:  CLRF   xA1
0B63A:  CLRF   xA2
0B63C:  CLRF   xA3
0B63E:  CLRF   xA4
0B640:  CLRF   xA5
0B642:  CLRF   xA6
0B644:  CLRF   xA7
0B646:  CLRF   xA8
0B648:  CLRF   xA9
0B64A:  CLRF   xAA
0B64C:  CLRF   xAB
0B64E:  CLRF   xAC
0B650:  CLRF   xAD
0B652:  CLRF   xAE
0B654:  CLRF   xAF
0B656:  CLRF   xB0
0B658:  CLRF   xB1
0B65A:  CLRF   xB2
0B65C:  CLRF   xB3
0B65E:  CLRF   xB4
0B660:  CLRF   xB5
0B662:  CLRF   xB6
0B664:  CLRF   xB7
0B666:  CLRF   xB8
0B668:  CLRF   xB9
0B66A:  CLRF   xBA
0B66C:  CLRF   xBB
0B66E:  CLRF   xBC
0B670:  CLRF   xBD
0B672:  CLRF   xBE
0B674:  CLRF   xBF
0B676:  CLRF   xC0
0B678:  CLRF   xC1
0B67A:  CLRF   xC2
0B67C:  CLRF   xC3
0B67E:  CLRF   xC4
0B680:  CLRF   xC5
0B682:  CLRF   xC6
0B684:  CLRF   xC7
0B686:  CLRF   xC8
0B688:  CLRF   xC9
0B68A:  CLRF   xCA
0B68C:  CLRF   xCB
0B68E:  CLRF   xCC
0B690:  CLRF   xCD
0B692:  CLRF   xCE
0B694:  CLRF   xCF
0B696:  CLRF   xD0
0B698:  CLRF   xD1
0B69A:  CLRF   xD2
0B69C:  CLRF   xD3
0B69E:  CLRF   xD4
0B6A0:  CLRF   xD5
0B6A2:  CLRF   xD6
0B6A4:  CLRF   xD7
0B6A6:  CLRF   xD8
0B6A8:  CLRF   xD9
0B6AA:  CLRF   xDA
0B6AC:  CLRF   xDB
0B6AE:  CLRF   xDC
0B6B0:  CLRF   xDD
0B6B2:  CLRF   xDE
0B6B4:  CLRF   xDF
0B6B6:  CLRF   xE0
0B6B8:  CLRF   xE1
0B6BA:  CLRF   xE2
0B6BC:  CLRF   xE3
0B6BE:  CLRF   xE4
0B6C0:  CLRF   xE5
0B6C2:  CLRF   xE6
0B6C4:  CLRF   xE7
0B6C6:  CLRF   xE8
0B6C8:  CLRF   xE9
0B6CA:  CLRF   xEA
0B6CC:  CLRF   xEB
0B6CE:  CLRF   xEC
0B6D0:  CLRF   xED
0B6D2:  CLRF   xEE
0B6D4:  CLRF   xEF
0B6D6:  CLRF   xF0
0B6D8:  CLRF   xF1
0B6DA:  CLRF   xF2
0B6DC:  CLRF   xF3
0B6DE:  CLRF   xF4
0B6E0:  CLRF   xF5
0B6E2:  CLRF   xF6
0B6E4:  CLRF   xF7
0B6E6:  CLRF   xF8
0B6E8:  CLRF   xF9
0B6EA:  CLRF   xFA
0B6EC:  CLRF   xFB
0B6EE:  CLRF   xFC
0B6F0:  CLRF   xFD
0B6F2:  CLRF   xFE
0B6F4:  CLRF   xFF
0B6F6:  MOVLB  4
0B6F8:  CLRF   x00
0B6FA:  CLRF   x01
0B6FC:  CLRF   x02
0B6FE:  CLRF   x03
0B700:  CLRF   x04
0B702:  CLRF   x05
0B704:  CLRF   x06
0B706:  CLRF   x07
0B708:  CLRF   x08
0B70A:  CLRF   x09
0B70C:  CLRF   x0A
0B70E:  CLRF   x0B
0B710:  CLRF   x0C
0B712:  CLRF   x0D
0B714:  CLRF   x0E
0B716:  CLRF   x0F
0B718:  CLRF   x10
0B71A:  CLRF   x11
0B71C:  CLRF   x12
0B71E:  CLRF   x13
0B720:  CLRF   x14
0B722:  CLRF   x15
0B724:  CLRF   x16
0B726:  CLRF   x17
0B728:  CLRF   x18
0B72A:  CLRF   x19
0B72C:  CLRF   x1A
0B72E:  CLRF   x1B
0B730:  CLRF   x1C
0B732:  CLRF   x1D
0B734:  CLRF   x1E
0B736:  CLRF   x1F
0B738:  CLRF   x20
0B73A:  CLRF   x21
0B73C:  CLRF   x22
0B73E:  CLRF   x23
0B740:  CLRF   x24
0B742:  CLRF   x25
0B744:  CLRF   x26
0B746:  CLRF   x27
0B748:  CLRF   x28
0B74A:  CLRF   x29
0B74C:  CLRF   x2A
0B74E:  CLRF   x2B
0B750:  CLRF   x2C
0B752:  CLRF   x2D
0B754:  CLRF   x2E
0B756:  CLRF   x2F
0B758:  CLRF   x30
0B75A:  CLRF   x31
0B75C:  CLRF   x32
0B75E:  CLRF   x33
0B760:  CLRF   x34
0B762:  CLRF   x35
0B764:  CLRF   x36
0B766:  CLRF   x37
0B768:  CLRF   x38
0B76A:  CLRF   x39
0B76C:  CLRF   x3A
0B76E:  CLRF   x3B
0B770:  CLRF   x3C
0B772:  CLRF   x3D
0B774:  CLRF   x3E
0B776:  CLRF   x3F
0B778:  CLRF   x40
0B77A:  CLRF   x41
0B77C:  CLRF   x42
0B77E:  CLRF   x43
0B780:  CLRF   x44
0B782:  CLRF   x45
0B784:  CLRF   x46
0B786:  CLRF   x47
0B788:  CLRF   x48
0B78A:  CLRF   x49
0B78C:  CLRF   x4A
0B78E:  CLRF   x4B
0B790:  CLRF   x4C
0B792:  CLRF   x4D
0B794:  CLRF   x4E
0B796:  CLRF   x4F
0B798:  CLRF   x50
0B79A:  CLRF   x51
0B79C:  CLRF   x52
0B79E:  CLRF   x53
0B7A0:  CLRF   x54
0B7A2:  CLRF   x55
0B7A4:  CLRF   x56
0B7A6:  CLRF   x57
0B7A8:  CLRF   x58
0B7AA:  CLRF   x59
0B7AC:  CLRF   x5A
0B7AE:  CLRF   x5B
0B7B0:  CLRF   x5C
0B7B2:  CLRF   x5D
0B7B4:  CLRF   x5E
0B7B6:  CLRF   x5F
0B7B8:  CLRF   x60
0B7BA:  CLRF   x61
0B7BC:  CLRF   x62
0B7BE:  CLRF   x63
0B7C0:  CLRF   x64
0B7C2:  CLRF   x65
0B7C4:  CLRF   x66
0B7C6:  CLRF   x67
0B7C8:  CLRF   x68
0B7CA:  CLRF   x69
0B7CC:  CLRF   x6A
0B7CE:  CLRF   x6B
0B7D0:  CLRF   x6C
0B7D2:  CLRF   x6D
0B7D4:  CLRF   x6E
0B7D6:  CLRF   x6F
0B7D8:  CLRF   x70
0B7DA:  CLRF   x71
0B7DC:  CLRF   x72
0B7DE:  CLRF   x73
0B7E0:  CLRF   x74
0B7E2:  CLRF   x75
0B7E4:  CLRF   x76
0B7E6:  CLRF   x77
0B7E8:  CLRF   x78
0B7EA:  CLRF   x79
0B7EC:  CLRF   x7A
0B7EE:  CLRF   x7B
0B7F0:  CLRF   x7C
0B7F2:  CLRF   x7D
0B7F4:  CLRF   x7E
0B7F6:  CLRF   x7F
0B7F8:  CLRF   x80
0B7FA:  CLRF   x81
0B7FC:  CLRF   x82
0B7FE:  CLRF   x83
0B800:  CLRF   x84
0B802:  CLRF   x85
0B804:  CLRF   x86
0B806:  CLRF   x87
0B808:  CLRF   x88
0B80A:  CLRF   x89
0B80C:  CLRF   x8A
0B80E:  CLRF   x8B
0B810:  CLRF   x8C
0B812:  CLRF   x8D
0B814:  CLRF   x8E
0B816:  CLRF   x8F
0B818:  CLRF   x90
0B81A:  CLRF   x91
0B81C:  CLRF   x92
0B81E:  CLRF   x93
0B820:  CLRF   x94
0B822:  CLRF   x95
0B824:  CLRF   x96
0B826:  CLRF   x97
0B828:  CLRF   x98
0B82A:  CLRF   x99
0B82C:  CLRF   x9A
0B82E:  CLRF   x9B
0B830:  CLRF   x9C
0B832:  CLRF   x9D
0B834:  CLRF   x9E
0B836:  CLRF   x9F
0B838:  CLRF   xA0
0B83A:  CLRF   xA1
0B83C:  CLRF   xA2
0B83E:  CLRF   xA3
0B840:  CLRF   xA4
0B842:  CLRF   xA5
0B844:  CLRF   xA6
0B846:  CLRF   xA7
0B848:  CLRF   xA8
0B84A:  CLRF   xA9
0B84C:  CLRF   xAA
0B84E:  CLRF   xAB
0B850:  CLRF   xAC
0B852:  CLRF   xAD
0B854:  CLRF   xAE
0B856:  CLRF   xAF
0B858:  CLRF   xB0
0B85A:  CLRF   xB1
0B85C:  CLRF   xB2
0B85E:  CLRF   xB3
0B860:  CLRF   xB4
0B862:  CLRF   xB5
0B864:  CLRF   xB6
0B866:  CLRF   xB7
0B868:  CLRF   xB8
0B86A:  CLRF   xB9
0B86C:  CLRF   xBA
0B86E:  CLRF   xBB
0B870:  CLRF   xBC
0B872:  CLRF   xBD
0B874:  CLRF   xBE
0B876:  CLRF   xBF
0B878:  CLRF   xC0
0B87A:  CLRF   xC1
0B87C:  CLRF   xC2
0B87E:  CLRF   xC3
0B880:  CLRF   xC4
0B882:  CLRF   xC5
0B884:  CLRF   xC6
0B886:  CLRF   xC7
0B888:  CLRF   xC8
0B88A:  CLRF   xC9
0B88C:  CLRF   xCA
0B88E:  CLRF   xCB
0B890:  CLRF   xCC
0B892:  CLRF   xCD
0B894:  CLRF   xCE
0B896:  CLRF   xCF
0B898:  CLRF   xD0
0B89A:  CLRF   xD1
0B89C:  CLRF   xD2
0B89E:  CLRF   xD3
0B8A0:  CLRF   xD4
0B8A2:  CLRF   xD5
0B8A4:  CLRF   xD6
0B8A6:  CLRF   xD7
0B8A8:  CLRF   xD8
0B8AA:  CLRF   xD9
0B8AC:  CLRF   xDA
0B8AE:  CLRF   xDB
0B8B0:  CLRF   xDC
0B8B2:  CLRF   xDD
0B8B4:  CLRF   xDE
0B8B6:  CLRF   xDF
0B8B8:  CLRF   xE0
0B8BA:  CLRF   xE1
0B8BC:  CLRF   xE2
0B8BE:  CLRF   xE3
0B8C0:  CLRF   xE4
0B8C2:  CLRF   xE5
0B8C4:  CLRF   xE6
0B8C6:  CLRF   xE7
0B8C8:  CLRF   xE8
0B8CA:  CLRF   xE9
0B8CC:  CLRF   xEA
0B8CE:  CLRF   xEB
0B8D0:  CLRF   xEC
0B8D2:  CLRF   xED
0B8D4:  CLRF   xEE
0B8D6:  CLRF   xEF
0B8D8:  CLRF   xF0
0B8DA:  CLRF   xF1
0B8DC:  CLRF   xF2
0B8DE:  CLRF   xF3
0B8E0:  CLRF   xF4
0B8E2:  CLRF   xF5
0B8E4:  CLRF   xF6
0B8E6:  CLRF   xF7
0B8E8:  CLRF   xF8
0B8EA:  CLRF   xF9
0B8EC:  CLRF   xFA
0B8EE:  CLRF   xFB
0B8F0:  CLRF   xFC
0B8F2:  CLRF   xFD
0B8F4:  CLRF   xFE
0B8F6:  CLRF   xFF
0B8F8:  MOVLB  5
0B8FA:  CLRF   x00
0B8FC:  CLRF   x01
0B8FE:  CLRF   x02
0B900:  CLRF   x03
0B902:  CLRF   x04
0B904:  CLRF   x05
0B906:  CLRF   x06
0B908:  CLRF   x07
0B90A:  CLRF   x08
0B90C:  CLRF   x09
0B90E:  CLRF   x0A
0B910:  CLRF   x0B
0B912:  CLRF   x0C
0B914:  CLRF   x0D
0B916:  CLRF   x0E
0B918:  CLRF   x0F
0B91A:  CLRF   x10
0B91C:  CLRF   x11
0B91E:  CLRF   x12
0B920:  CLRF   x13
0B922:  CLRF   x14
0B924:  CLRF   x15
0B926:  CLRF   x16
0B928:  CLRF   x17
0B92A:  CLRF   x18
0B92C:  CLRF   x19
0B92E:  CLRF   x1A
0B930:  CLRF   x1B
0B932:  CLRF   x1C
0B934:  CLRF   x1D
0B936:  CLRF   x1E
0B938:  CLRF   x1F
0B93A:  CLRF   x20
0B93C:  CLRF   x21
0B93E:  CLRF   x22
0B940:  CLRF   x23
0B942:  CLRF   x24
0B944:  CLRF   x25
0B946:  CLRF   x26
0B948:  CLRF   x27
0B94A:  CLRF   x28
0B94C:  CLRF   x29
0B94E:  CLRF   x2A
0B950:  CLRF   x2B
0B952:  CLRF   x2C
0B954:  CLRF   x2D
0B956:  CLRF   x2E
0B958:  CLRF   x2F
0B95A:  CLRF   x30
0B95C:  CLRF   x31
0B95E:  CLRF   x32
0B960:  CLRF   x33
0B962:  CLRF   x34
0B964:  CLRF   x35
0B966:  CLRF   x36
0B968:  CLRF   x37
0B96A:  CLRF   x38
0B96C:  CLRF   x39
0B96E:  CLRF   x3A
0B970:  CLRF   x3B
0B972:  CLRF   x3C
0B974:  CLRF   x3D
0B976:  CLRF   x3E
0B978:  CLRF   x3F
0B97A:  CLRF   x40
0B97C:  CLRF   x41
0B97E:  CLRF   x42
0B980:  CLRF   x43
0B982:  CLRF   x44
0B984:  CLRF   x45
0B986:  CLRF   x46
0B988:  CLRF   x47
0B98A:  CLRF   x48
0B98C:  CLRF   x49
0B98E:  CLRF   x4A
0B990:  CLRF   x4B
0B992:  CLRF   x4C
0B994:  CLRF   x4D
0B996:  CLRF   x4E
0B998:  CLRF   x4F
0B99A:  CLRF   x50
0B99C:  CLRF   x51
0B99E:  CLRF   x52
0B9A0:  CLRF   x53
0B9A2:  CLRF   x54
0B9A4:  CLRF   x55
0B9A6:  CLRF   x56
0B9A8:  CLRF   x57
0B9AA:  CLRF   x58
0B9AC:  CLRF   x59
0B9AE:  CLRF   x5A
0B9B0:  CLRF   x5B
0B9B2:  CLRF   x5C
0B9B4:  CLRF   x5D
0B9B6:  CLRF   x5E
0B9B8:  CLRF   x5F
0B9BA:  CLRF   x60
0B9BC:  CLRF   x61
0B9BE:  CLRF   x62
0B9C0:  CLRF   x63
0B9C2:  CLRF   x64
0B9C4:  CLRF   x65
0B9C6:  CLRF   x66
0B9C8:  CLRF   x67
0B9CA:  CLRF   x68
0B9CC:  CLRF   x69
0B9CE:  CLRF   x6A
0B9D0:  CLRF   x6B
0B9D2:  CLRF   x6C
0B9D4:  CLRF   x6D
0B9D6:  CLRF   x6E
0B9D8:  CLRF   x6F
0B9DA:  CLRF   x70
0B9DC:  CLRF   x71
0B9DE:  CLRF   x72
0B9E0:  CLRF   x73
0B9E2:  CLRF   x74
0B9E4:  CLRF   x75
0B9E6:  CLRF   x76
0B9E8:  CLRF   x77
0B9EA:  CLRF   x78
0B9EC:  CLRF   x79
0B9EE:  CLRF   x7A
0B9F0:  CLRF   x7B
0B9F2:  CLRF   x7C
0B9F4:  CLRF   x7D
0B9F6:  CLRF   x7E
0B9F8:  CLRF   x7F
0B9FA:  CLRF   x80
0B9FC:  CLRF   x81
0B9FE:  CLRF   x82
0BA00:  CLRF   x83
0BA02:  CLRF   x84
0BA04:  CLRF   x85
0BA06:  CLRF   x86
0BA08:  CLRF   x87
0BA0A:  CLRF   x88
0BA0C:  CLRF   x89
0BA0E:  CLRF   x8A
0BA10:  CLRF   x8B
0BA12:  CLRF   x8C
0BA14:  CLRF   x8D
0BA16:  CLRF   x8E
0BA18:  CLRF   x8F
0BA1A:  CLRF   x90
0BA1C:  CLRF   x91
0BA1E:  CLRF   x92
0BA20:  CLRF   x93
0BA22:  CLRF   x94
0BA24:  CLRF   x95
0BA26:  CLRF   x96
0BA28:  CLRF   x97
0BA2A:  CLRF   x98
0BA2C:  CLRF   x99
0BA2E:  CLRF   x9A
0BA30:  CLRF   x9B
0BA32:  CLRF   x9C
0BA34:  CLRF   x9D
0BA36:  CLRF   x9E
0BA38:  CLRF   x9F
0BA3A:  CLRF   xA0
0BA3C:  CLRF   xA1
0BA3E:  CLRF   xA2
0BA40:  CLRF   xA3
0BA42:  CLRF   xA4
0BA44:  CLRF   xA5
0BA46:  CLRF   xA6
0BA48:  CLRF   xA7
0BA4A:  CLRF   xA8
0BA4C:  CLRF   xA9
0BA4E:  CLRF   xAA
0BA50:  CLRF   xAB
0BA52:  CLRF   xAC
0BA54:  CLRF   xAD
0BA56:  CLRF   xAE
0BA58:  CLRF   xAF
0BA5A:  CLRF   xB0
0BA5C:  CLRF   xB1
0BA5E:  CLRF   xB2
0BA60:  CLRF   xB3
0BA62:  CLRF   xB4
0BA64:  CLRF   xB5
0BA66:  CLRF   xB6
0BA68:  CLRF   xB7
0BA6A:  CLRF   xB8
0BA6C:  CLRF   xB9
0BA6E:  CLRF   xBA
0BA70:  CLRF   xBB
0BA72:  CLRF   xBC
0BA74:  CLRF   xBD
0BA76:  CLRF   xBE
0BA78:  CLRF   xBF
0BA7A:  CLRF   xC0
0BA7C:  CLRF   xC1
0BA7E:  CLRF   xC2
0BA80:  CLRF   xC3
0BA82:  CLRF   xC4
0BA84:  CLRF   xC5
0BA86:  CLRF   xC6
0BA88:  CLRF   xC7
0BA8A:  CLRF   xC8
....................     port1.port_num = 1;
0BA8C:  MOVLW  01
0BA8E:  MOVLB  1
0BA90:  MOVWF  xC9
....................     port1.sweep_step = 0;
0BA92:  CLRF   xCB
0BA94:  CLRF   xCA
....................     port1.active = 1;
0BA96:  MOVLB  5
0BA98:  BSF    xC8.0
.................... 
....................     // Init Port2
....................     sweep_debug_config_t port2 = {0};
0BA9A:  CLRF   xC9
0BA9C:  CLRF   xCA
0BA9E:  CLRF   xCB
0BAA0:  CLRF   xCC
0BAA2:  CLRF   xCD
0BAA4:  CLRF   xCE
0BAA6:  CLRF   xCF
0BAA8:  CLRF   xD0
0BAAA:  CLRF   xD1
0BAAC:  CLRF   xD2
0BAAE:  CLRF   xD3
0BAB0:  CLRF   xD4
0BAB2:  CLRF   xD5
0BAB4:  CLRF   xD6
0BAB6:  CLRF   xD7
0BAB8:  CLRF   xD8
0BABA:  CLRF   xD9
0BABC:  CLRF   xDA
0BABE:  CLRF   xDB
0BAC0:  CLRF   xDC
0BAC2:  CLRF   xDD
0BAC4:  CLRF   xDE
0BAC6:  CLRF   xDF
0BAC8:  CLRF   xE0
0BACA:  CLRF   xE1
0BACC:  CLRF   xE2
0BACE:  CLRF   xE3
0BAD0:  CLRF   xE4
0BAD2:  CLRF   xE5
0BAD4:  CLRF   xE6
0BAD6:  CLRF   xE7
0BAD8:  CLRF   xE8
0BADA:  CLRF   xE9
0BADC:  CLRF   xEA
0BADE:  CLRF   xEB
0BAE0:  CLRF   xEC
0BAE2:  CLRF   xED
0BAE4:  CLRF   xEE
0BAE6:  CLRF   xEF
0BAE8:  CLRF   xF0
0BAEA:  CLRF   xF1
0BAEC:  CLRF   xF2
0BAEE:  CLRF   xF3
0BAF0:  CLRF   xF4
0BAF2:  CLRF   xF5
0BAF4:  CLRF   xF6
0BAF6:  CLRF   xF7
0BAF8:  CLRF   xF8
0BAFA:  CLRF   xF9
0BAFC:  CLRF   xFA
0BAFE:  CLRF   xFB
0BB00:  CLRF   xFC
0BB02:  CLRF   xFD
0BB04:  CLRF   xFE
0BB06:  CLRF   xFF
0BB08:  MOVLB  6
0BB0A:  CLRF   x00
0BB0C:  CLRF   x01
0BB0E:  CLRF   x02
0BB10:  CLRF   x03
0BB12:  CLRF   x04
0BB14:  CLRF   x05
0BB16:  CLRF   x06
0BB18:  CLRF   x07
0BB1A:  CLRF   x08
0BB1C:  CLRF   x09
0BB1E:  CLRF   x0A
0BB20:  CLRF   x0B
0BB22:  CLRF   x0C
0BB24:  CLRF   x0D
0BB26:  CLRF   x0E
0BB28:  CLRF   x0F
0BB2A:  CLRF   x10
0BB2C:  CLRF   x11
0BB2E:  CLRF   x12
0BB30:  CLRF   x13
0BB32:  CLRF   x14
0BB34:  CLRF   x15
0BB36:  CLRF   x16
0BB38:  CLRF   x17
0BB3A:  CLRF   x18
0BB3C:  CLRF   x19
0BB3E:  CLRF   x1A
0BB40:  CLRF   x1B
0BB42:  CLRF   x1C
0BB44:  CLRF   x1D
0BB46:  CLRF   x1E
0BB48:  CLRF   x1F
0BB4A:  CLRF   x20
0BB4C:  CLRF   x21
0BB4E:  CLRF   x22
0BB50:  CLRF   x23
0BB52:  CLRF   x24
0BB54:  CLRF   x25
0BB56:  CLRF   x26
0BB58:  CLRF   x27
0BB5A:  CLRF   x28
0BB5C:  CLRF   x29
0BB5E:  CLRF   x2A
0BB60:  CLRF   x2B
0BB62:  CLRF   x2C
0BB64:  CLRF   x2D
0BB66:  CLRF   x2E
0BB68:  CLRF   x2F
0BB6A:  CLRF   x30
0BB6C:  CLRF   x31
0BB6E:  CLRF   x32
0BB70:  CLRF   x33
0BB72:  CLRF   x34
0BB74:  CLRF   x35
0BB76:  CLRF   x36
0BB78:  CLRF   x37
0BB7A:  CLRF   x38
0BB7C:  CLRF   x39
0BB7E:  CLRF   x3A
0BB80:  CLRF   x3B
0BB82:  CLRF   x3C
0BB84:  CLRF   x3D
0BB86:  CLRF   x3E
0BB88:  CLRF   x3F
0BB8A:  CLRF   x40
0BB8C:  CLRF   x41
0BB8E:  CLRF   x42
0BB90:  CLRF   x43
0BB92:  CLRF   x44
0BB94:  CLRF   x45
0BB96:  CLRF   x46
0BB98:  CLRF   x47
0BB9A:  CLRF   x48
0BB9C:  CLRF   x49
0BB9E:  CLRF   x4A
0BBA0:  CLRF   x4B
0BBA2:  CLRF   x4C
0BBA4:  CLRF   x4D
0BBA6:  CLRF   x4E
0BBA8:  CLRF   x4F
0BBAA:  CLRF   x50
0BBAC:  CLRF   x51
0BBAE:  CLRF   x52
0BBB0:  CLRF   x53
0BBB2:  CLRF   x54
0BBB4:  CLRF   x55
0BBB6:  CLRF   x56
0BBB8:  CLRF   x57
0BBBA:  CLRF   x58
0BBBC:  CLRF   x59
0BBBE:  CLRF   x5A
0BBC0:  CLRF   x5B
0BBC2:  CLRF   x5C
0BBC4:  CLRF   x5D
0BBC6:  CLRF   x5E
0BBC8:  CLRF   x5F
0BBCA:  CLRF   x60
0BBCC:  CLRF   x61
0BBCE:  CLRF   x62
0BBD0:  CLRF   x63
0BBD2:  CLRF   x64
0BBD4:  CLRF   x65
0BBD6:  CLRF   x66
0BBD8:  CLRF   x67
0BBDA:  CLRF   x68
0BBDC:  CLRF   x69
0BBDE:  CLRF   x6A
0BBE0:  CLRF   x6B
0BBE2:  CLRF   x6C
0BBE4:  CLRF   x6D
0BBE6:  CLRF   x6E
0BBE8:  CLRF   x6F
0BBEA:  CLRF   x70
0BBEC:  CLRF   x71
0BBEE:  CLRF   x72
0BBF0:  CLRF   x73
0BBF2:  CLRF   x74
0BBF4:  CLRF   x75
0BBF6:  CLRF   x76
0BBF8:  CLRF   x77
0BBFA:  CLRF   x78
0BBFC:  CLRF   x79
0BBFE:  CLRF   x7A
0BC00:  CLRF   x7B
0BC02:  CLRF   x7C
0BC04:  CLRF   x7D
0BC06:  CLRF   x7E
0BC08:  CLRF   x7F
0BC0A:  CLRF   x80
0BC0C:  CLRF   x81
0BC0E:  CLRF   x82
0BC10:  CLRF   x83
0BC12:  CLRF   x84
0BC14:  CLRF   x85
0BC16:  CLRF   x86
0BC18:  CLRF   x87
0BC1A:  CLRF   x88
0BC1C:  CLRF   x89
0BC1E:  CLRF   x8A
0BC20:  CLRF   x8B
0BC22:  CLRF   x8C
0BC24:  CLRF   x8D
0BC26:  CLRF   x8E
0BC28:  CLRF   x8F
0BC2A:  CLRF   x90
0BC2C:  CLRF   x91
0BC2E:  CLRF   x92
0BC30:  CLRF   x93
0BC32:  CLRF   x94
0BC34:  CLRF   x95
0BC36:  CLRF   x96
0BC38:  CLRF   x97
0BC3A:  CLRF   x98
0BC3C:  CLRF   x99
0BC3E:  CLRF   x9A
0BC40:  CLRF   x9B
0BC42:  CLRF   x9C
0BC44:  CLRF   x9D
0BC46:  CLRF   x9E
0BC48:  CLRF   x9F
0BC4A:  CLRF   xA0
0BC4C:  CLRF   xA1
0BC4E:  CLRF   xA2
0BC50:  CLRF   xA3
0BC52:  CLRF   xA4
0BC54:  CLRF   xA5
0BC56:  CLRF   xA6
0BC58:  CLRF   xA7
0BC5A:  CLRF   xA8
0BC5C:  CLRF   xA9
0BC5E:  CLRF   xAA
0BC60:  CLRF   xAB
0BC62:  CLRF   xAC
0BC64:  CLRF   xAD
0BC66:  CLRF   xAE
0BC68:  CLRF   xAF
0BC6A:  CLRF   xB0
0BC6C:  CLRF   xB1
0BC6E:  CLRF   xB2
0BC70:  CLRF   xB3
0BC72:  CLRF   xB4
0BC74:  CLRF   xB5
0BC76:  CLRF   xB6
0BC78:  CLRF   xB7
0BC7A:  CLRF   xB8
0BC7C:  CLRF   xB9
0BC7E:  CLRF   xBA
0BC80:  CLRF   xBB
0BC82:  CLRF   xBC
0BC84:  CLRF   xBD
0BC86:  CLRF   xBE
0BC88:  CLRF   xBF
0BC8A:  CLRF   xC0
0BC8C:  CLRF   xC1
0BC8E:  CLRF   xC2
0BC90:  CLRF   xC3
0BC92:  CLRF   xC4
0BC94:  CLRF   xC5
0BC96:  CLRF   xC6
0BC98:  CLRF   xC7
0BC9A:  CLRF   xC8
0BC9C:  CLRF   xC9
0BC9E:  CLRF   xCA
0BCA0:  CLRF   xCB
0BCA2:  CLRF   xCC
0BCA4:  CLRF   xCD
0BCA6:  CLRF   xCE
0BCA8:  CLRF   xCF
0BCAA:  CLRF   xD0
0BCAC:  CLRF   xD1
0BCAE:  CLRF   xD2
0BCB0:  CLRF   xD3
0BCB2:  CLRF   xD4
0BCB4:  CLRF   xD5
0BCB6:  CLRF   xD6
0BCB8:  CLRF   xD7
0BCBA:  CLRF   xD8
0BCBC:  CLRF   xD9
0BCBE:  CLRF   xDA
0BCC0:  CLRF   xDB
0BCC2:  CLRF   xDC
0BCC4:  CLRF   xDD
0BCC6:  CLRF   xDE
0BCC8:  CLRF   xDF
0BCCA:  CLRF   xE0
0BCCC:  CLRF   xE1
0BCCE:  CLRF   xE2
0BCD0:  CLRF   xE3
0BCD2:  CLRF   xE4
0BCD4:  CLRF   xE5
0BCD6:  CLRF   xE6
0BCD8:  CLRF   xE7
0BCDA:  CLRF   xE8
0BCDC:  CLRF   xE9
0BCDE:  CLRF   xEA
0BCE0:  CLRF   xEB
0BCE2:  CLRF   xEC
0BCE4:  CLRF   xED
0BCE6:  CLRF   xEE
0BCE8:  CLRF   xEF
0BCEA:  CLRF   xF0
0BCEC:  CLRF   xF1
0BCEE:  CLRF   xF2
0BCF0:  CLRF   xF3
0BCF2:  CLRF   xF4
0BCF4:  CLRF   xF5
0BCF6:  CLRF   xF6
0BCF8:  CLRF   xF7
0BCFA:  CLRF   xF8
0BCFC:  CLRF   xF9
0BCFE:  CLRF   xFA
0BD00:  CLRF   xFB
0BD02:  CLRF   xFC
0BD04:  CLRF   xFD
0BD06:  CLRF   xFE
0BD08:  CLRF   xFF
0BD0A:  MOVLB  7
0BD0C:  CLRF   x00
0BD0E:  CLRF   x01
0BD10:  CLRF   x02
0BD12:  CLRF   x03
0BD14:  CLRF   x04
0BD16:  CLRF   x05
0BD18:  CLRF   x06
0BD1A:  CLRF   x07
0BD1C:  CLRF   x08
0BD1E:  CLRF   x09
0BD20:  CLRF   x0A
0BD22:  CLRF   x0B
0BD24:  CLRF   x0C
0BD26:  CLRF   x0D
0BD28:  CLRF   x0E
0BD2A:  CLRF   x0F
0BD2C:  CLRF   x10
0BD2E:  CLRF   x11
0BD30:  CLRF   x12
0BD32:  CLRF   x13
0BD34:  CLRF   x14
0BD36:  CLRF   x15
0BD38:  CLRF   x16
0BD3A:  CLRF   x17
0BD3C:  CLRF   x18
0BD3E:  CLRF   x19
0BD40:  CLRF   x1A
0BD42:  CLRF   x1B
0BD44:  CLRF   x1C
0BD46:  CLRF   x1D
0BD48:  CLRF   x1E
0BD4A:  CLRF   x1F
0BD4C:  CLRF   x20
0BD4E:  CLRF   x21
0BD50:  CLRF   x22
0BD52:  CLRF   x23
0BD54:  CLRF   x24
0BD56:  CLRF   x25
0BD58:  CLRF   x26
0BD5A:  CLRF   x27
0BD5C:  CLRF   x28
0BD5E:  CLRF   x29
0BD60:  CLRF   x2A
0BD62:  CLRF   x2B
0BD64:  CLRF   x2C
0BD66:  CLRF   x2D
0BD68:  CLRF   x2E
0BD6A:  CLRF   x2F
0BD6C:  CLRF   x30
0BD6E:  CLRF   x31
0BD70:  CLRF   x32
0BD72:  CLRF   x33
0BD74:  CLRF   x34
0BD76:  CLRF   x35
0BD78:  CLRF   x36
0BD7A:  CLRF   x37
0BD7C:  CLRF   x38
0BD7E:  CLRF   x39
0BD80:  CLRF   x3A
0BD82:  CLRF   x3B
0BD84:  CLRF   x3C
0BD86:  CLRF   x3D
0BD88:  CLRF   x3E
0BD8A:  CLRF   x3F
0BD8C:  CLRF   x40
0BD8E:  CLRF   x41
0BD90:  CLRF   x42
0BD92:  CLRF   x43
0BD94:  CLRF   x44
0BD96:  CLRF   x45
0BD98:  CLRF   x46
0BD9A:  CLRF   x47
0BD9C:  CLRF   x48
0BD9E:  CLRF   x49
0BDA0:  CLRF   x4A
0BDA2:  CLRF   x4B
0BDA4:  CLRF   x4C
0BDA6:  CLRF   x4D
0BDA8:  CLRF   x4E
0BDAA:  CLRF   x4F
0BDAC:  CLRF   x50
0BDAE:  CLRF   x51
0BDB0:  CLRF   x52
0BDB2:  CLRF   x53
0BDB4:  CLRF   x54
0BDB6:  CLRF   x55
0BDB8:  CLRF   x56
0BDBA:  CLRF   x57
0BDBC:  CLRF   x58
0BDBE:  CLRF   x59
0BDC0:  CLRF   x5A
0BDC2:  CLRF   x5B
0BDC4:  CLRF   x5C
0BDC6:  CLRF   x5D
0BDC8:  CLRF   x5E
0BDCA:  CLRF   x5F
0BDCC:  CLRF   x60
0BDCE:  CLRF   x61
0BDD0:  CLRF   x62
0BDD2:  CLRF   x63
0BDD4:  CLRF   x64
0BDD6:  CLRF   x65
0BDD8:  CLRF   x66
0BDDA:  CLRF   x67
0BDDC:  CLRF   x68
0BDDE:  CLRF   x69
0BDE0:  CLRF   x6A
0BDE2:  CLRF   x6B
0BDE4:  CLRF   x6C
0BDE6:  CLRF   x6D
0BDE8:  CLRF   x6E
0BDEA:  CLRF   x6F
0BDEC:  CLRF   x70
0BDEE:  CLRF   x71
0BDF0:  CLRF   x72
0BDF2:  CLRF   x73
0BDF4:  CLRF   x74
0BDF6:  CLRF   x75
0BDF8:  CLRF   x76
0BDFA:  CLRF   x77
0BDFC:  CLRF   x78
0BDFE:  CLRF   x79
0BE00:  CLRF   x7A
0BE02:  CLRF   x7B
0BE04:  CLRF   x7C
0BE06:  CLRF   x7D
0BE08:  CLRF   x7E
0BE0A:  CLRF   x7F
0BE0C:  CLRF   x80
0BE0E:  CLRF   x81
0BE10:  CLRF   x82
0BE12:  CLRF   x83
0BE14:  CLRF   x84
0BE16:  CLRF   x85
0BE18:  CLRF   x86
0BE1A:  CLRF   x87
0BE1C:  CLRF   x88
0BE1E:  CLRF   x89
0BE20:  CLRF   x8A
0BE22:  CLRF   x8B
0BE24:  CLRF   x8C
0BE26:  CLRF   x8D
0BE28:  CLRF   x8E
0BE2A:  CLRF   x8F
0BE2C:  CLRF   x90
0BE2E:  CLRF   x91
0BE30:  CLRF   x92
0BE32:  CLRF   x93
0BE34:  CLRF   x94
0BE36:  CLRF   x95
0BE38:  CLRF   x96
0BE3A:  CLRF   x97
0BE3C:  CLRF   x98
0BE3E:  CLRF   x99
0BE40:  CLRF   x9A
0BE42:  CLRF   x9B
0BE44:  CLRF   x9C
0BE46:  CLRF   x9D
0BE48:  CLRF   x9E
0BE4A:  CLRF   x9F
0BE4C:  CLRF   xA0
0BE4E:  CLRF   xA1
0BE50:  CLRF   xA2
0BE52:  CLRF   xA3
0BE54:  CLRF   xA4
0BE56:  CLRF   xA5
0BE58:  CLRF   xA6
0BE5A:  CLRF   xA7
0BE5C:  CLRF   xA8
0BE5E:  CLRF   xA9
0BE60:  CLRF   xAA
0BE62:  CLRF   xAB
0BE64:  CLRF   xAC
0BE66:  CLRF   xAD
0BE68:  CLRF   xAE
0BE6A:  CLRF   xAF
0BE6C:  CLRF   xB0
0BE6E:  CLRF   xB1
0BE70:  CLRF   xB2
0BE72:  CLRF   xB3
0BE74:  CLRF   xB4
0BE76:  CLRF   xB5
0BE78:  CLRF   xB6
0BE7A:  CLRF   xB7
0BE7C:  CLRF   xB8
0BE7E:  CLRF   xB9
0BE80:  CLRF   xBA
0BE82:  CLRF   xBB
0BE84:  CLRF   xBC
0BE86:  CLRF   xBD
0BE88:  CLRF   xBE
0BE8A:  CLRF   xBF
0BE8C:  CLRF   xC0
0BE8E:  CLRF   xC1
0BE90:  CLRF   xC2
0BE92:  CLRF   xC3
0BE94:  CLRF   xC4
0BE96:  CLRF   xC5
0BE98:  CLRF   xC6
0BE9A:  CLRF   xC7
0BE9C:  CLRF   xC8
0BE9E:  CLRF   xC9
0BEA0:  CLRF   xCA
0BEA2:  CLRF   xCB
0BEA4:  CLRF   xCC
0BEA6:  CLRF   xCD
0BEA8:  CLRF   xCE
0BEAA:  CLRF   xCF
0BEAC:  CLRF   xD0
0BEAE:  CLRF   xD1
0BEB0:  CLRF   xD2
0BEB2:  CLRF   xD3
0BEB4:  CLRF   xD4
0BEB6:  CLRF   xD5
0BEB8:  CLRF   xD6
0BEBA:  CLRF   xD7
0BEBC:  CLRF   xD8
0BEBE:  CLRF   xD9
0BEC0:  CLRF   xDA
0BEC2:  CLRF   xDB
0BEC4:  CLRF   xDC
0BEC6:  CLRF   xDD
0BEC8:  CLRF   xDE
0BECA:  CLRF   xDF
0BECC:  CLRF   xE0
0BECE:  CLRF   xE1
0BED0:  CLRF   xE2
0BED2:  CLRF   xE3
0BED4:  CLRF   xE4
0BED6:  CLRF   xE5
0BED8:  CLRF   xE6
0BEDA:  CLRF   xE7
0BEDC:  CLRF   xE8
0BEDE:  CLRF   xE9
0BEE0:  CLRF   xEA
0BEE2:  CLRF   xEB
0BEE4:  CLRF   xEC
0BEE6:  CLRF   xED
0BEE8:  CLRF   xEE
0BEEA:  CLRF   xEF
0BEEC:  CLRF   xF0
0BEEE:  CLRF   xF1
0BEF0:  CLRF   xF2
0BEF2:  CLRF   xF3
0BEF4:  CLRF   xF4
0BEF6:  CLRF   xF5
0BEF8:  CLRF   xF6
0BEFA:  CLRF   xF7
0BEFC:  CLRF   xF8
0BEFE:  CLRF   xF9
0BF00:  CLRF   xFA
0BF02:  CLRF   xFB
0BF04:  CLRF   xFC
0BF06:  CLRF   xFD
0BF08:  CLRF   xFE
0BF0A:  CLRF   xFF
0BF0C:  MOVLB  8
0BF0E:  CLRF   x00
0BF10:  CLRF   x01
0BF12:  CLRF   x02
0BF14:  CLRF   x03
0BF16:  CLRF   x04
0BF18:  CLRF   x05
0BF1A:  CLRF   x06
0BF1C:  CLRF   x07
0BF1E:  CLRF   x08
0BF20:  CLRF   x09
0BF22:  CLRF   x0A
0BF24:  CLRF   x0B
0BF26:  CLRF   x0C
0BF28:  CLRF   x0D
0BF2A:  CLRF   x0E
0BF2C:  CLRF   x0F
0BF2E:  CLRF   x10
0BF30:  CLRF   x11
0BF32:  CLRF   x12
0BF34:  CLRF   x13
0BF36:  CLRF   x14
0BF38:  CLRF   x15
0BF3A:  CLRF   x16
0BF3C:  CLRF   x17
0BF3E:  CLRF   x18
0BF40:  CLRF   x19
0BF42:  CLRF   x1A
0BF44:  CLRF   x1B
0BF46:  CLRF   x1C
0BF48:  CLRF   x1D
0BF4A:  CLRF   x1E
0BF4C:  CLRF   x1F
0BF4E:  CLRF   x20
0BF50:  CLRF   x21
0BF52:  CLRF   x22
0BF54:  CLRF   x23
0BF56:  CLRF   x24
0BF58:  CLRF   x25
0BF5A:  CLRF   x26
0BF5C:  CLRF   x27
0BF5E:  CLRF   x28
0BF60:  CLRF   x29
0BF62:  CLRF   x2A
0BF64:  CLRF   x2B
0BF66:  CLRF   x2C
0BF68:  CLRF   x2D
0BF6A:  CLRF   x2E
0BF6C:  CLRF   x2F
0BF6E:  CLRF   x30
0BF70:  CLRF   x31
0BF72:  CLRF   x32
0BF74:  CLRF   x33
0BF76:  CLRF   x34
0BF78:  CLRF   x35
0BF7A:  CLRF   x36
0BF7C:  CLRF   x37
0BF7E:  CLRF   x38
0BF80:  CLRF   x39
0BF82:  CLRF   x3A
0BF84:  CLRF   x3B
0BF86:  CLRF   x3C
0BF88:  CLRF   x3D
0BF8A:  CLRF   x3E
0BF8C:  CLRF   x3F
0BF8E:  CLRF   x40
0BF90:  CLRF   x41
0BF92:  CLRF   x42
0BF94:  CLRF   x43
0BF96:  CLRF   x44
0BF98:  CLRF   x45
0BF9A:  CLRF   x46
0BF9C:  CLRF   x47
0BF9E:  CLRF   x48
0BFA0:  CLRF   x49
0BFA2:  CLRF   x4A
0BFA4:  CLRF   x4B
0BFA6:  CLRF   x4C
0BFA8:  CLRF   x4D
0BFAA:  CLRF   x4E
0BFAC:  CLRF   x4F
0BFAE:  CLRF   x50
0BFB0:  CLRF   x51
0BFB2:  CLRF   x52
0BFB4:  CLRF   x53
0BFB6:  CLRF   x54
0BFB8:  CLRF   x55
0BFBA:  CLRF   x56
0BFBC:  CLRF   x57
0BFBE:  CLRF   x58
0BFC0:  CLRF   x59
0BFC2:  CLRF   x5A
0BFC4:  CLRF   x5B
0BFC6:  CLRF   x5C
0BFC8:  CLRF   x5D
0BFCA:  CLRF   x5E
0BFCC:  CLRF   x5F
0BFCE:  CLRF   x60
0BFD0:  CLRF   x61
0BFD2:  CLRF   x62
0BFD4:  CLRF   x63
0BFD6:  CLRF   x64
0BFD8:  CLRF   x65
0BFDA:  CLRF   x66
0BFDC:  CLRF   x67
0BFDE:  CLRF   x68
0BFE0:  CLRF   x69
0BFE2:  CLRF   x6A
0BFE4:  CLRF   x6B
0BFE6:  CLRF   x6C
0BFE8:  CLRF   x6D
0BFEA:  CLRF   x6E
0BFEC:  CLRF   x6F
0BFEE:  CLRF   x70
0BFF0:  CLRF   x71
0BFF2:  CLRF   x72
0BFF4:  CLRF   x73
0BFF6:  CLRF   x74
0BFF8:  CLRF   x75
0BFFA:  CLRF   x76
0BFFC:  CLRF   x77
0BFFE:  CLRF   x78
0C000:  CLRF   x79
0C002:  CLRF   x7A
0C004:  CLRF   x7B
0C006:  CLRF   x7C
0C008:  CLRF   x7D
0C00A:  CLRF   x7E
0C00C:  CLRF   x7F
0C00E:  CLRF   x80
0C010:  CLRF   x81
0C012:  CLRF   x82
0C014:  CLRF   x83
0C016:  CLRF   x84
0C018:  CLRF   x85
0C01A:  CLRF   x86
0C01C:  CLRF   x87
0C01E:  CLRF   x88
0C020:  CLRF   x89
0C022:  CLRF   x8A
0C024:  CLRF   x8B
0C026:  CLRF   x8C
0C028:  CLRF   x8D
0C02A:  CLRF   x8E
0C02C:  CLRF   x8F
0C02E:  CLRF   x90
0C030:  CLRF   x91
0C032:  CLRF   x92
0C034:  CLRF   x93
0C036:  CLRF   x94
0C038:  CLRF   x95
0C03A:  CLRF   x96
0C03C:  CLRF   x97
0C03E:  CLRF   x98
0C040:  CLRF   x99
0C042:  CLRF   x9A
0C044:  CLRF   x9B
0C046:  CLRF   x9C
0C048:  CLRF   x9D
0C04A:  CLRF   x9E
0C04C:  CLRF   x9F
0C04E:  CLRF   xA0
0C050:  CLRF   xA1
0C052:  CLRF   xA2
0C054:  CLRF   xA3
0C056:  CLRF   xA4
0C058:  CLRF   xA5
0C05A:  CLRF   xA6
0C05C:  CLRF   xA7
0C05E:  CLRF   xA8
0C060:  CLRF   xA9
0C062:  CLRF   xAA
0C064:  CLRF   xAB
0C066:  CLRF   xAC
0C068:  CLRF   xAD
0C06A:  CLRF   xAE
0C06C:  CLRF   xAF
0C06E:  CLRF   xB0
0C070:  CLRF   xB1
0C072:  CLRF   xB2
0C074:  CLRF   xB3
0C076:  CLRF   xB4
0C078:  CLRF   xB5
0C07A:  CLRF   xB6
0C07C:  CLRF   xB7
0C07E:  CLRF   xB8
0C080:  CLRF   xB9
0C082:  CLRF   xBA
0C084:  CLRF   xBB
0C086:  CLRF   xBC
0C088:  CLRF   xBD
0C08A:  CLRF   xBE
0C08C:  CLRF   xBF
0C08E:  CLRF   xC0
0C090:  CLRF   xC1
0C092:  CLRF   xC2
0C094:  CLRF   xC3
0C096:  CLRF   xC4
0C098:  CLRF   xC5
0C09A:  CLRF   xC6
0C09C:  CLRF   xC7
0C09E:  CLRF   xC8
0C0A0:  CLRF   xC9
0C0A2:  CLRF   xCA
0C0A4:  CLRF   xCB
0C0A6:  CLRF   xCC
0C0A8:  CLRF   xCD
0C0AA:  CLRF   xCE
0C0AC:  CLRF   xCF
0C0AE:  CLRF   xD0
0C0B0:  CLRF   xD1
0C0B2:  CLRF   xD2
0C0B4:  CLRF   xD3
0C0B6:  CLRF   xD4
0C0B8:  CLRF   xD5
0C0BA:  CLRF   xD6
0C0BC:  CLRF   xD7
0C0BE:  CLRF   xD8
0C0C0:  CLRF   xD9
0C0C2:  CLRF   xDA
0C0C4:  CLRF   xDB
0C0C6:  CLRF   xDC
0C0C8:  CLRF   xDD
0C0CA:  CLRF   xDE
0C0CC:  CLRF   xDF
0C0CE:  CLRF   xE0
0C0D0:  CLRF   xE1
0C0D2:  CLRF   xE2
0C0D4:  CLRF   xE3
0C0D6:  CLRF   xE4
0C0D8:  CLRF   xE5
0C0DA:  CLRF   xE6
0C0DC:  CLRF   xE7
0C0DE:  CLRF   xE8
0C0E0:  CLRF   xE9
0C0E2:  CLRF   xEA
0C0E4:  CLRF   xEB
0C0E6:  CLRF   xEC
0C0E8:  CLRF   xED
0C0EA:  CLRF   xEE
0C0EC:  CLRF   xEF
0C0EE:  CLRF   xF0
0C0F0:  CLRF   xF1
0C0F2:  CLRF   xF2
0C0F4:  CLRF   xF3
0C0F6:  CLRF   xF4
0C0F8:  CLRF   xF5
0C0FA:  CLRF   xF6
0C0FC:  CLRF   xF7
0C0FE:  CLRF   xF8
0C100:  CLRF   xF9
0C102:  CLRF   xFA
0C104:  CLRF   xFB
0C106:  CLRF   xFC
0C108:  CLRF   xFD
0C10A:  CLRF   xFE
0C10C:  CLRF   xFF
0C10E:  MOVLB  9
0C110:  CLRF   x00
0C112:  CLRF   x01
0C114:  CLRF   x02
0C116:  CLRF   x03
0C118:  CLRF   x04
0C11A:  CLRF   x05
0C11C:  CLRF   x06
0C11E:  CLRF   x07
0C120:  CLRF   x08
0C122:  CLRF   x09
0C124:  CLRF   x0A
0C126:  CLRF   x0B
0C128:  CLRF   x0C
0C12A:  CLRF   x0D
0C12C:  CLRF   x0E
0C12E:  CLRF   x0F
0C130:  CLRF   x10
0C132:  CLRF   x11
0C134:  CLRF   x12
0C136:  CLRF   x13
0C138:  CLRF   x14
0C13A:  CLRF   x15
0C13C:  CLRF   x16
0C13E:  CLRF   x17
0C140:  CLRF   x18
0C142:  CLRF   x19
0C144:  CLRF   x1A
0C146:  CLRF   x1B
0C148:  CLRF   x1C
0C14A:  CLRF   x1D
0C14C:  CLRF   x1E
0C14E:  CLRF   x1F
0C150:  CLRF   x20
0C152:  CLRF   x21
0C154:  CLRF   x22
0C156:  CLRF   x23
0C158:  CLRF   x24
0C15A:  CLRF   x25
0C15C:  CLRF   x26
0C15E:  CLRF   x27
0C160:  CLRF   x28
0C162:  CLRF   x29
0C164:  CLRF   x2A
0C166:  CLRF   x2B
0C168:  CLRF   x2C
0C16A:  CLRF   x2D
0C16C:  CLRF   x2E
0C16E:  CLRF   x2F
0C170:  CLRF   x30
0C172:  CLRF   x31
0C174:  CLRF   x32
0C176:  CLRF   x33
0C178:  CLRF   x34
0C17A:  CLRF   x35
0C17C:  CLRF   x36
0C17E:  CLRF   x37
0C180:  CLRF   x38
0C182:  CLRF   x39
0C184:  CLRF   x3A
0C186:  CLRF   x3B
0C188:  CLRF   x3C
0C18A:  CLRF   x3D
0C18C:  CLRF   x3E
0C18E:  CLRF   x3F
0C190:  CLRF   x40
0C192:  CLRF   x41
0C194:  CLRF   x42
0C196:  CLRF   x43
0C198:  CLRF   x44
0C19A:  CLRF   x45
0C19C:  CLRF   x46
0C19E:  CLRF   x47
0C1A0:  CLRF   x48
0C1A2:  CLRF   x49
0C1A4:  CLRF   x4A
0C1A6:  CLRF   x4B
0C1A8:  CLRF   x4C
0C1AA:  CLRF   x4D
0C1AC:  CLRF   x4E
0C1AE:  CLRF   x4F
0C1B0:  CLRF   x50
0C1B2:  CLRF   x51
0C1B4:  CLRF   x52
0C1B6:  CLRF   x53
0C1B8:  CLRF   x54
0C1BA:  CLRF   x55
0C1BC:  CLRF   x56
0C1BE:  CLRF   x57
0C1C0:  CLRF   x58
0C1C2:  CLRF   x59
0C1C4:  CLRF   x5A
0C1C6:  CLRF   x5B
0C1C8:  CLRF   x5C
0C1CA:  CLRF   x5D
0C1CC:  CLRF   x5E
0C1CE:  CLRF   x5F
0C1D0:  CLRF   x60
0C1D2:  CLRF   x61
0C1D4:  CLRF   x62
0C1D6:  CLRF   x63
0C1D8:  CLRF   x64
0C1DA:  CLRF   x65
0C1DC:  CLRF   x66
0C1DE:  CLRF   x67
0C1E0:  CLRF   x68
0C1E2:  CLRF   x69
0C1E4:  CLRF   x6A
0C1E6:  CLRF   x6B
0C1E8:  CLRF   x6C
0C1EA:  CLRF   x6D
0C1EC:  CLRF   x6E
0C1EE:  CLRF   x6F
0C1F0:  CLRF   x70
0C1F2:  CLRF   x71
0C1F4:  CLRF   x72
0C1F6:  CLRF   x73
0C1F8:  CLRF   x74
0C1FA:  CLRF   x75
0C1FC:  CLRF   x76
0C1FE:  CLRF   x77
0C200:  CLRF   x78
0C202:  CLRF   x79
0C204:  CLRF   x7A
0C206:  CLRF   x7B
0C208:  CLRF   x7C
0C20A:  CLRF   x7D
0C20C:  CLRF   x7E
0C20E:  CLRF   x7F
0C210:  CLRF   x80
0C212:  CLRF   x81
0C214:  CLRF   x82
0C216:  CLRF   x83
0C218:  CLRF   x84
0C21A:  CLRF   x85
0C21C:  CLRF   x86
0C21E:  CLRF   x87
0C220:  CLRF   x88
0C222:  CLRF   x89
0C224:  CLRF   x8A
0C226:  CLRF   x8B
0C228:  CLRF   x8C
0C22A:  CLRF   x8D
0C22C:  CLRF   x8E
0C22E:  CLRF   x8F
0C230:  CLRF   x90
0C232:  CLRF   x91
0C234:  CLRF   x92
0C236:  CLRF   x93
0C238:  CLRF   x94
0C23A:  CLRF   x95
0C23C:  CLRF   x96
0C23E:  CLRF   x97
0C240:  CLRF   x98
0C242:  CLRF   x99
0C244:  CLRF   x9A
0C246:  CLRF   x9B
0C248:  CLRF   x9C
0C24A:  CLRF   x9D
0C24C:  CLRF   x9E
0C24E:  CLRF   x9F
0C250:  CLRF   xA0
0C252:  CLRF   xA1
0C254:  CLRF   xA2
0C256:  CLRF   xA3
0C258:  CLRF   xA4
0C25A:  CLRF   xA5
0C25C:  CLRF   xA6
0C25E:  CLRF   xA7
0C260:  CLRF   xA8
0C262:  CLRF   xA9
0C264:  CLRF   xAA
0C266:  CLRF   xAB
0C268:  CLRF   xAC
0C26A:  CLRF   xAD
0C26C:  CLRF   xAE
0C26E:  CLRF   xAF
0C270:  CLRF   xB0
0C272:  CLRF   xB1
0C274:  CLRF   xB2
0C276:  CLRF   xB3
0C278:  CLRF   xB4
0C27A:  CLRF   xB5
0C27C:  CLRF   xB6
0C27E:  CLRF   xB7
0C280:  CLRF   xB8
0C282:  CLRF   xB9
0C284:  CLRF   xBA
0C286:  CLRF   xBB
0C288:  CLRF   xBC
0C28A:  CLRF   xBD
0C28C:  CLRF   xBE
0C28E:  CLRF   xBF
0C290:  CLRF   xC0
0C292:  CLRF   xC1
0C294:  CLRF   xC2
0C296:  CLRF   xC3
0C298:  CLRF   xC4
0C29A:  CLRF   xC5
0C29C:  CLRF   xC6
0C29E:  CLRF   xC7
0C2A0:  CLRF   xC8
....................     port2.port_num = 2; 
0C2A2:  MOVLW  02
0C2A4:  MOVLB  5
0C2A6:  MOVWF  xC9
....................     port2.sweep_step = 0;
0C2A8:  CLRF   xCB
0C2AA:  CLRF   xCA
....................     port2.active = 1;
0C2AC:  MOVLB  9
0C2AE:  BSF    xC8.0
.................... 
....................     int16 count = 1;
....................     iv_env_t measured_data = create_meas_data();
0C2B0:  CLRF   xCA
0C2B2:  MOVLW  01
0C2B4:  MOVWF  xC9
0C2B6:  MOVLB  0
0C2B8:  CALL   8CB8
0C2BC:  MOVFF  02,03
0C2C0:  MOVF   01,W
0C2C2:  MOVWF  FE1
0C2C4:  MOVFF  03,FE2
0C2C8:  MOVLW  09
0C2CA:  MOVWF  FEA
0C2CC:  MOVLW  CB
0C2CE:  MOVWF  FE9
0C2D0:  MOVLW  0C
0C2D2:  MOVWF  01
0C2D4:  MOVFF  FE6,FEE
0C2D8:  DECFSZ 01,F
0C2DA:  GOTO   C2D4
....................     while (port1.active || port2.active)
0C2DE:  MOVLB  5
0C2E0:  BTFSS  xC8.0
0C2E2:  BRA    C2EA
0C2E4:  MOVLB  0
0C2E6:  GOTO   C2FA
0C2EA:  MOVLB  0
0C2EC:  MOVLB  9
0C2EE:  BTFSC  xC8.0
0C2F0:  BRA    C2F8
0C2F2:  MOVLB  0
0C2F4:  GOTO   C5D6
0C2F8:  MOVLB  0
....................     {
....................         mcp4901_1_write(count);
0C2FA:  MOVFF  9CA,9DD
0C2FE:  MOVFF  9C9,9DC
0C302:  CALL   2664
....................         mcp4901_2_write(count);
0C306:  MOVFF  9CA,9DD
0C30A:  MOVFF  9C9,9DC
0C30E:  CALL   26A2
....................         delay_us(10); 
0C312:  MOVLW  0D
0C314:  MOVWF  00
0C316:  DECFSZ 00,F
0C318:  BRA    C316
....................         if (port1.active) {
0C31A:  MOVLB  5
0C31C:  BTFSC  xC8.0
0C31E:  BRA    C326
0C320:  MOVLB  0
0C322:  GOTO   C476
0C326:  MOVLB  0
....................             unsigned int32 ans = ad7490_read(ADC_CIGS1_CURR);
0C328:  MOVLW  01
0C32A:  MOVLB  9
0C32C:  MOVWF  xEE
0C32E:  MOVLB  0
0C330:  CALL   22B4
0C334:  MOVLB  9
0C336:  CLRF   xDA
0C338:  CLRF   xD9
0C33A:  MOVFF  02,9D8
0C33E:  MOVFF  01,9D7
0C342:  MOVLB  0
....................             ans += ad7490_read(ADC_CIGS1_CURR);
0C344:  MOVLW  01
0C346:  MOVLB  9
0C348:  MOVWF  xEE
0C34A:  MOVLB  0
0C34C:  CALL   22B4
0C350:  MOVFF  02,03
0C354:  MOVF   01,W
0C356:  MOVLB  9
0C358:  ADDWF  xD7,F
0C35A:  MOVF   03,W
0C35C:  ADDWFC xD8,F
0C35E:  MOVLW  00
0C360:  ADDWFC xD9,F
0C362:  MOVLW  00
0C364:  ADDWFC xDA,F
....................             ans = ans/2;
0C366:  BCF    FD8.0
0C368:  RRCF   xDA,F
0C36A:  RRCF   xD9,F
0C36C:  RRCF   xD8,F
0C36E:  RRCF   xD7,F
....................             port1.data_buffer[count].voltage = ad7490_read(ADC_CIGS1_AMP);
0C370:  RLCF   xC9,W
0C372:  MOVWF  02
0C374:  RLCF   xCA,W
0C376:  MOVWF  03
0C378:  RLCF   02,F
0C37A:  RLCF   03,F
0C37C:  MOVLW  FC
0C37E:  ANDWF  02,F
0C380:  MOVF   02,W
0C382:  ADDLW  CC
0C384:  MOVWF  01
0C386:  MOVLW  01
0C388:  ADDWFC 03,F
0C38A:  MOVF   01,W
0C38C:  MOVWF  xDE
0C38E:  MOVFF  03,9DF
0C392:  MOVLW  02
0C394:  MOVWF  xEE
0C396:  MOVLB  0
0C398:  CALL   22B4
0C39C:  MOVFF  9DF,FEA
0C3A0:  MOVFF  9DE,FE9
0C3A4:  MOVFF  02,FEC
0C3A8:  MOVF   FED,F
0C3AA:  MOVFF  01,FEF
....................             port1.data_buffer[count].current = ans;
0C3AE:  MOVLB  9
0C3B0:  RLCF   xC9,W
0C3B2:  MOVWF  02
0C3B4:  RLCF   xCA,W
0C3B6:  MOVWF  03
0C3B8:  RLCF   02,F
0C3BA:  RLCF   03,F
0C3BC:  MOVLW  FC
0C3BE:  ANDWF  02,F
0C3C0:  MOVF   02,W
0C3C2:  ADDLW  03
0C3C4:  MOVWF  xDC
0C3C6:  MOVLW  00
0C3C8:  ADDWFC 03,W
0C3CA:  MOVWF  xDD
0C3CC:  MOVLW  02
0C3CE:  ADDWF  xDC,W
0C3D0:  MOVWF  01
0C3D2:  MOVLW  00
0C3D4:  ADDWFC xDD,W
0C3D6:  MOVWF  03
0C3D8:  MOVF   01,W
0C3DA:  ADDLW  C9
0C3DC:  MOVWF  FE9
0C3DE:  MOVLW  01
0C3E0:  ADDWFC 03,W
0C3E2:  MOVWF  FEA
0C3E4:  MOVFF  9D7,FEF
0C3E8:  MOVFF  9D8,FEC
0C3EC:  MOVF   FED,F
....................             port1.sweep_step = count + 1; 
0C3EE:  MOVLW  01
0C3F0:  ADDWF  xC9,W
0C3F2:  MOVLB  1
0C3F4:  MOVWF  xCA
0C3F6:  MOVLW  00
0C3F8:  MOVLB  9
0C3FA:  ADDWFC xCA,W
0C3FC:  MOVLB  1
0C3FE:  MOVWF  xCB
....................             if (port1.data_buffer[count].current < curr_limit) {
0C400:  MOVLB  9
0C402:  RLCF   xC9,W
0C404:  MOVWF  02
0C406:  RLCF   xCA,W
0C408:  MOVWF  03
0C40A:  RLCF   02,F
0C40C:  RLCF   03,F
0C40E:  MOVLW  FC
0C410:  ANDWF  02,F
0C412:  MOVF   02,W
0C414:  ADDLW  03
0C416:  MOVWF  xDC
0C418:  MOVLW  00
0C41A:  ADDWFC 03,W
0C41C:  MOVWF  xDD
0C41E:  MOVLW  02
0C420:  ADDWF  xDC,W
0C422:  MOVWF  01
0C424:  MOVLW  00
0C426:  ADDWFC xDD,W
0C428:  MOVWF  03
0C42A:  MOVF   01,W
0C42C:  ADDLW  C9
0C42E:  MOVWF  FE9
0C430:  MOVLW  01
0C432:  ADDWFC 03,W
0C434:  MOVWF  FEA
0C436:  MOVFF  FEC,9DD
0C43A:  MOVF   FED,F
0C43C:  MOVFF  FEF,9DC
0C440:  MOVF   xDD,W
0C442:  MOVLB  1
0C444:  SUBWF  xC8,W
0C446:  BTFSC  FD8.0
0C448:  BRA    C450
0C44A:  MOVLB  0
0C44C:  GOTO   C476
0C450:  MOVLB  0
0C452:  BTFSS  FD8.2
0C454:  GOTO   C46C
0C458:  MOVLB  1
0C45A:  MOVF   xC7,W
0C45C:  MOVLB  9
0C45E:  SUBWF  xDC,W
0C460:  BTFSS  FD8.0
0C462:  BRA    C46A
0C464:  MOVLB  0
0C466:  GOTO   C476
0C46A:  MOVLB  0
....................                 port1.active = 0;
0C46C:  MOVLB  5
0C46E:  BCF    xC8.0
....................                 disconnect_port1();
0C470:  MOVLB  0
0C472:  CALL   8D3A
....................             }
....................         }
....................         if (port2.active) {
0C476:  MOVLB  9
0C478:  BTFSC  xC8.0
0C47A:  BRA    C482
0C47C:  MOVLB  0
0C47E:  GOTO   C5A6
0C482:  MOVLB  0
....................             port2.data_buffer[count].voltage = ad7490_read(ADC_CIGS2_AMP);
0C484:  MOVLB  9
0C486:  RLCF   xC9,W
0C488:  MOVWF  02
0C48A:  RLCF   xCA,W
0C48C:  MOVWF  03
0C48E:  RLCF   02,F
0C490:  RLCF   03,F
0C492:  MOVLW  FC
0C494:  ANDWF  02,F
0C496:  MOVF   02,W
0C498:  ADDLW  CC
0C49A:  MOVWF  01
0C49C:  MOVLW  05
0C49E:  ADDWFC 03,F
0C4A0:  MOVF   01,W
0C4A2:  MOVWF  xDE
0C4A4:  MOVFF  03,9DF
0C4A8:  MOVLW  06
0C4AA:  MOVWF  xEE
0C4AC:  MOVLB  0
0C4AE:  CALL   22B4
0C4B2:  MOVFF  9DF,FEA
0C4B6:  MOVFF  9DE,FE9
0C4BA:  MOVFF  02,FEC
0C4BE:  MOVF   FED,F
0C4C0:  MOVFF  01,FEF
....................             port2.data_buffer[count].current = ad7490_read(ADC_CIGS2_CURR);
0C4C4:  MOVLB  9
0C4C6:  RLCF   xC9,W
0C4C8:  MOVWF  02
0C4CA:  RLCF   xCA,W
0C4CC:  MOVWF  03
0C4CE:  RLCF   02,F
0C4D0:  RLCF   03,F
0C4D2:  MOVLW  FC
0C4D4:  ANDWF  02,F
0C4D6:  MOVF   02,W
0C4D8:  ADDLW  03
0C4DA:  MOVWF  xDC
0C4DC:  MOVLW  00
0C4DE:  ADDWFC 03,W
0C4E0:  MOVWF  xDD
0C4E2:  MOVLW  02
0C4E4:  ADDWF  xDC,W
0C4E6:  MOVWF  01
0C4E8:  MOVLW  00
0C4EA:  ADDWFC xDD,W
0C4EC:  MOVWF  03
0C4EE:  MOVF   01,W
0C4F0:  ADDLW  C9
0C4F2:  MOVWF  01
0C4F4:  MOVLW  05
0C4F6:  ADDWFC 03,F
0C4F8:  MOVF   01,W
0C4FA:  MOVWF  xDC
0C4FC:  MOVFF  03,9DD
0C500:  MOVLW  05
0C502:  MOVWF  xEE
0C504:  MOVLB  0
0C506:  CALL   22B4
0C50A:  MOVFF  9DD,FEA
0C50E:  MOVFF  9DC,FE9
0C512:  MOVFF  02,FEC
0C516:  MOVF   FED,F
0C518:  MOVFF  01,FEF
....................             port2.sweep_step = count + 1;
0C51C:  MOVLW  01
0C51E:  MOVLB  9
0C520:  ADDWF  xC9,W
0C522:  MOVLB  5
0C524:  MOVWF  xCA
0C526:  MOVLW  00
0C528:  MOVLB  9
0C52A:  ADDWFC xCA,W
0C52C:  MOVLB  5
0C52E:  MOVWF  xCB
....................             if (port2.data_buffer[count].current < curr_limit) {
0C530:  MOVLB  9
0C532:  RLCF   xC9,W
0C534:  MOVWF  02
0C536:  RLCF   xCA,W
0C538:  MOVWF  03
0C53A:  RLCF   02,F
0C53C:  RLCF   03,F
0C53E:  MOVLW  FC
0C540:  ANDWF  02,F
0C542:  MOVF   02,W
0C544:  ADDLW  03
0C546:  MOVWF  xDC
0C548:  MOVLW  00
0C54A:  ADDWFC 03,W
0C54C:  MOVWF  xDD
0C54E:  MOVLW  02
0C550:  ADDWF  xDC,W
0C552:  MOVWF  01
0C554:  MOVLW  00
0C556:  ADDWFC xDD,W
0C558:  MOVWF  03
0C55A:  MOVF   01,W
0C55C:  ADDLW  C9
0C55E:  MOVWF  FE9
0C560:  MOVLW  05
0C562:  ADDWFC 03,W
0C564:  MOVWF  FEA
0C566:  MOVFF  FEC,9DD
0C56A:  MOVF   FED,F
0C56C:  MOVFF  FEF,9DC
0C570:  MOVF   xDD,W
0C572:  MOVLB  1
0C574:  SUBWF  xC8,W
0C576:  BTFSC  FD8.0
0C578:  BRA    C580
0C57A:  MOVLB  0
0C57C:  GOTO   C5A6
0C580:  MOVLB  0
0C582:  BTFSS  FD8.2
0C584:  GOTO   C59C
0C588:  MOVLB  1
0C58A:  MOVF   xC7,W
0C58C:  MOVLB  9
0C58E:  SUBWF  xDC,W
0C590:  BTFSS  FD8.0
0C592:  BRA    C59A
0C594:  MOVLB  0
0C596:  GOTO   C5A6
0C59A:  MOVLB  0
....................                 port2.active = 0;
0C59C:  MOVLB  9
0C59E:  BCF    xC8.0
....................                 disconnect_port2();
0C5A0:  MOVLB  0
0C5A2:  CALL   8D42
....................             } 
....................         }
....................         count++;
0C5A6:  MOVLB  9
0C5A8:  INCF   xC9,F
0C5AA:  BTFSC  FD8.2
0C5AC:  INCF   xCA,F
....................         if (count >= 255) {
0C5AE:  MOVF   xCA,F
0C5B0:  BTFSC  FD8.2
0C5B2:  BRA    C5BA
0C5B4:  MOVLB  0
0C5B6:  GOTO   C5CE
0C5BA:  MOVLB  0
0C5BC:  MOVLB  9
0C5BE:  MOVF   xC9,W
0C5C0:  SUBLW  FE
0C5C2:  BTFSS  FD8.0
0C5C4:  BRA    C5CC
0C5C6:  MOVLB  0
0C5C8:  GOTO   C5D2
0C5CC:  MOVLB  0
....................             // fprintf(PC, "Maximum step count reached: %ld\r\n", count);
....................             break;
0C5CE:  GOTO   C5D6
....................         }
0C5D2:  GOTO   C2DE
....................     }
.................... 
....................     for (int i = 0; i < count; i++) {
0C5D6:  MOVLB  9
0C5D8:  CLRF   xDB
0C5DA:  MOVLB  0
0C5DC:  MOVLB  9
0C5DE:  MOVF   xCA,F
0C5E0:  BTFSC  FD8.2
0C5E2:  BRA    C5EA
0C5E4:  MOVLB  0
0C5E6:  GOTO   C5FE
0C5EA:  MOVLB  0
0C5EC:  MOVLB  9
0C5EE:  MOVF   xC9,W
0C5F0:  SUBWF  xDB,W
0C5F2:  BTFSS  FD8.0
0C5F4:  BRA    C5FC
0C5F6:  MOVLB  0
0C5F8:  GOTO   C7B2
0C5FC:  MOVLB  0
.................... 
....................         fprintf(PC, "%04LX,%04LX,%04LX,%04LX\r\n",
....................             port1.data_buffer[i].voltage, port1.data_buffer[i].current,
....................             port2.data_buffer[i].voltage, port2.data_buffer[i].current);
0C5FE:  MOVLB  A
0C600:  CLRF   x53
0C602:  MOVFF  9DB,A52
0C606:  CLRF   x55
0C608:  MOVLW  04
0C60A:  MOVWF  x54
0C60C:  MOVLB  0
0C60E:  CALL   5E06
0C612:  MOVFF  02,03
0C616:  MOVF   01,W
0C618:  ADDLW  CC
0C61A:  MOVWF  FE9
0C61C:  MOVLW  01
0C61E:  ADDWFC 03,W
0C620:  MOVWF  FEA
0C622:  MOVFF  FEC,9DF
0C626:  MOVF   FED,F
0C628:  MOVFF  FEF,9DE
0C62C:  MOVLB  A
0C62E:  CLRF   x53
0C630:  MOVFF  9DB,A52
0C634:  CLRF   x55
0C636:  MOVLW  04
0C638:  MOVWF  x54
0C63A:  MOVLB  0
0C63C:  CALL   5E06
0C640:  MOVFF  02,03
0C644:  MOVF   01,W
0C646:  ADDLW  03
0C648:  MOVLB  9
0C64A:  MOVWF  xE0
0C64C:  MOVLW  00
0C64E:  ADDWFC 03,W
0C650:  MOVWF  xE1
0C652:  MOVLW  02
0C654:  ADDWF  xE0,W
0C656:  MOVWF  01
0C658:  MOVLW  00
0C65A:  ADDWFC xE1,W
0C65C:  MOVWF  03
0C65E:  MOVF   01,W
0C660:  ADDLW  C9
0C662:  MOVWF  FE9
0C664:  MOVLW  01
0C666:  ADDWFC 03,W
0C668:  MOVWF  FEA
0C66A:  MOVFF  FEC,9E1
0C66E:  MOVF   FED,F
0C670:  MOVFF  FEF,9E0
0C674:  MOVLB  A
0C676:  CLRF   x53
0C678:  MOVFF  9DB,A52
0C67C:  CLRF   x55
0C67E:  MOVLW  04
0C680:  MOVWF  x54
0C682:  MOVLB  0
0C684:  CALL   5E06
0C688:  MOVFF  02,03
0C68C:  MOVF   01,W
0C68E:  ADDLW  CC
0C690:  MOVWF  FE9
0C692:  MOVLW  05
0C694:  ADDWFC 03,W
0C696:  MOVWF  FEA
0C698:  MOVFF  FEC,9E5
0C69C:  MOVF   FED,F
0C69E:  MOVFF  FEF,9E4
0C6A2:  MOVLB  A
0C6A4:  CLRF   x53
0C6A6:  MOVFF  9DB,A52
0C6AA:  CLRF   x55
0C6AC:  MOVLW  04
0C6AE:  MOVWF  x54
0C6B0:  MOVLB  0
0C6B2:  CALL   5E06
0C6B6:  MOVFF  02,03
0C6BA:  MOVF   01,W
0C6BC:  ADDLW  03
0C6BE:  MOVLB  9
0C6C0:  MOVWF  xE6
0C6C2:  MOVLW  00
0C6C4:  ADDWFC 03,W
0C6C6:  MOVWF  xE7
0C6C8:  MOVLW  02
0C6CA:  ADDWF  xE6,W
0C6CC:  MOVWF  01
0C6CE:  MOVLW  00
0C6D0:  ADDWFC xE7,W
0C6D2:  MOVWF  03
0C6D4:  MOVF   01,W
0C6D6:  ADDLW  C9
0C6D8:  MOVWF  FE9
0C6DA:  MOVLW  05
0C6DC:  ADDWFC 03,W
0C6DE:  MOVWF  FEA
0C6E0:  MOVFF  FEC,9E7
0C6E4:  MOVF   FED,F
0C6E6:  MOVFF  FEF,9E6
0C6EA:  MOVFF  9DF,9E8
0C6EE:  MOVLW  37
0C6F0:  MOVWF  xE9
0C6F2:  MOVLB  0
0C6F4:  CALL   2334
0C6F8:  MOVFF  9DE,9E8
0C6FC:  MOVLW  37
0C6FE:  MOVLB  9
0C700:  MOVWF  xE9
0C702:  MOVLB  0
0C704:  CALL   2334
0C708:  MOVLW  2C
0C70A:  BTFSS  FA6.6
0C70C:  GOTO   C70A
0C710:  MOVLB  E
0C712:  MOVWF  xF9
0C714:  MOVFF  9E1,9E8
0C718:  MOVLW  37
0C71A:  MOVLB  9
0C71C:  MOVWF  xE9
0C71E:  MOVLB  0
0C720:  CALL   2334
0C724:  MOVFF  9E0,9E8
0C728:  MOVLW  37
0C72A:  MOVLB  9
0C72C:  MOVWF  xE9
0C72E:  MOVLB  0
0C730:  CALL   2334
0C734:  MOVLW  2C
0C736:  BTFSS  FA6.6
0C738:  GOTO   C736
0C73C:  MOVLB  E
0C73E:  MOVWF  xF9
0C740:  MOVFF  9E5,9E8
0C744:  MOVLW  37
0C746:  MOVLB  9
0C748:  MOVWF  xE9
0C74A:  MOVLB  0
0C74C:  CALL   2334
0C750:  MOVFF  9E4,9E8
0C754:  MOVLW  37
0C756:  MOVLB  9
0C758:  MOVWF  xE9
0C75A:  MOVLB  0
0C75C:  CALL   2334
0C760:  MOVLW  2C
0C762:  BTFSS  FA6.6
0C764:  GOTO   C762
0C768:  MOVLB  E
0C76A:  MOVWF  xF9
0C76C:  MOVFF  9E7,9E8
0C770:  MOVLW  37
0C772:  MOVLB  9
0C774:  MOVWF  xE9
0C776:  MOVLB  0
0C778:  CALL   2334
0C77C:  MOVFF  9E6,9E8
0C780:  MOVLW  37
0C782:  MOVLB  9
0C784:  MOVWF  xE9
0C786:  MOVLB  0
0C788:  CALL   2334
0C78C:  MOVLW  0D
0C78E:  BTFSS  FA6.6
0C790:  GOTO   C78E
0C794:  MOVLB  E
0C796:  MOVWF  xF9
0C798:  MOVLW  0A
0C79A:  MOVLB  0
0C79C:  BTFSS  FA6.6
0C79E:  GOTO   C79C
0C7A2:  MOVLB  E
0C7A4:  MOVWF  xF9
0C7A6:  MOVLB  0
0C7A8:  MOVLB  9
0C7AA:  INCF   xDB,F
0C7AC:  MOVLB  0
0C7AE:  GOTO   C5DC
....................     }
0C7B2:  GOTO   CA76 (RETURN)
.................... 
.................... }
.................... 
.................... void log_meas_data(iv_env_t *measured_data_ptr, sweep_config_t *port_data_ptr)
*
08D4A:  MOVLB  9
08D4C:  MOVF   xC4,W
08D4E:  MOVWF  FE9
08D50:  MOVF   xC5,W
08D52:  MOVWF  FEA
08D54:  MOVFF  FEF,9C6
.................... {
....................     unsigned int8 port = port_data_ptr->port_num;
....................     fprintf(PC,"PORT%u\r\n", port);
08D58:  MOVLW  7E
08D5A:  MOVWF  FF6
08D5C:  MOVLW  06
08D5E:  MOVWF  FF7
08D60:  MOVLW  00
08D62:  MOVWF  FF8
08D64:  MOVLW  04
08D66:  MOVLB  A
08D68:  MOVWF  x4E
08D6A:  MOVLB  0
08D6C:  CALL   2104
08D70:  MOVFF  9C6,A4E
08D74:  MOVLW  1B
08D76:  MOVLB  A
08D78:  MOVWF  x4F
08D7A:  MOVLB  0
08D7C:  CALL   8BFC
08D80:  MOVLW  0D
08D82:  BTFSS  FA6.6
08D84:  GOTO   8D82
08D88:  MOVLB  E
08D8A:  MOVWF  xF9
08D8C:  MOVLW  0A
08D8E:  MOVLB  0
08D90:  BTFSS  FA6.6
08D92:  GOTO   8D90
08D96:  MOVLB  E
08D98:  MOVWF  xF9
....................     iv_data_packet_t data_packet = {0};
08D9A:  MOVLB  9
08D9C:  CLRF   xC7
08D9E:  CLRF   xC8
08DA0:  CLRF   xC9
08DA2:  CLRF   xCA
08DA4:  CLRF   xCB
08DA6:  CLRF   xCC
08DA8:  CLRF   xCD
08DAA:  CLRF   xCE
08DAC:  CLRF   xCF
08DAE:  CLRF   xD0
08DB0:  CLRF   xD1
08DB2:  CLRF   xD2
08DB4:  CLRF   xD3
08DB6:  CLRF   xD4
08DB8:  CLRF   xD5
08DBA:  CLRF   xD6
08DBC:  CLRF   xD7
08DBE:  CLRF   xD8
08DC0:  CLRF   xD9
08DC2:  CLRF   xDA
08DC4:  CLRF   xDB
08DC6:  CLRF   xDC
08DC8:  CLRF   xDD
08DCA:  CLRF   xDE
08DCC:  CLRF   xDF
08DCE:  CLRF   xE0
08DD0:  CLRF   xE1
08DD2:  CLRF   xE2
08DD4:  CLRF   xE3
08DD6:  CLRF   xE4
08DD8:  CLRF   xE5
08DDA:  CLRF   xE6
08DDC:  CLRF   xE7
08DDE:  CLRF   xE8
08DE0:  CLRF   xE9
08DE2:  CLRF   xEA
08DE4:  CLRF   xEB
08DE6:  CLRF   xEC
08DE8:  CLRF   xED
08DEA:  CLRF   xEE
08DEC:  CLRF   xEF
08DEE:  CLRF   xF0
08DF0:  CLRF   xF1
08DF2:  CLRF   xF2
08DF4:  CLRF   xF3
08DF6:  CLRF   xF4
08DF8:  CLRF   xF5
08DFA:  CLRF   xF6
08DFC:  CLRF   xF7
08DFE:  CLRF   xF8
08E00:  CLRF   xF9
08E02:  CLRF   xFA
08E04:  CLRF   xFB
08E06:  CLRF   xFC
08E08:  CLRF   xFD
08E0A:  CLRF   xFE
08E0C:  CLRF   xFF
08E0E:  MOVLB  A
08E10:  CLRF   x00
08E12:  CLRF   x01
08E14:  CLRF   x02
08E16:  CLRF   x03
08E18:  CLRF   x04
08E1A:  CLRF   x05
08E1C:  CLRF   x06
....................     iv_data_packet_t *data_packet_ptr = &data_packet;
08E1E:  MOVLW  09
08E20:  MOVWF  x08
08E22:  MOVLW  C7
08E24:  MOVWF  x07
.................... 
....................     // ========================ヘッダーパケットの処理========================
....................     // ヘッダ情報の設定
....................     data_packet.header.start_marker = START_MAKER;
08E26:  MOVLB  9
08E28:  SETF   xC7
....................     data_packet.header.time_sec  = measured_data_ptr->time;
08E2A:  MOVF   xC2,W
08E2C:  MOVWF  FE9
08E2E:  MOVF   xC3,W
08E30:  MOVWF  FEA
08E32:  MOVFF  FEF,9C8
08E36:  MOVFF  FEC,9C9
08E3A:  MOVFF  FEC,9CA
08E3E:  MOVFF  FEC,9CB
08E42:  MOVF   FED,F
08E44:  MOVF   FED,F
08E46:  MOVF   FED,F
....................     data_packet.header.time_msec = (unsigned int8)((measured_data_ptr->time >> 4) & 0xFF);
08E48:  MOVF   xC2,W
08E4A:  MOVWF  FE9
08E4C:  MOVF   xC3,W
08E4E:  MOVWF  FEA
08E50:  MOVFF  FEF,A4E
08E54:  MOVFF  FEC,A4F
08E58:  MOVFF  FEC,A50
08E5C:  MOVFF  FEC,A51
08E60:  MOVF   FED,F
08E62:  MOVF   FED,F
08E64:  MOVF   FED,F
08E66:  MOVLB  A
08E68:  RRCF   x51,F
08E6A:  RRCF   x50,F
08E6C:  RRCF   x4F,F
08E6E:  RRCF   x4E,F
08E70:  RRCF   x51,F
08E72:  RRCF   x50,F
08E74:  RRCF   x4F,F
08E76:  RRCF   x4E,F
08E78:  RRCF   x51,F
08E7A:  RRCF   x50,F
08E7C:  RRCF   x4F,F
08E7E:  RRCF   x4E,F
08E80:  RRCF   x51,F
08E82:  RRCF   x50,F
08E84:  RRCF   x4F,F
08E86:  RRCF   x4E,F
08E88:  MOVLW  0F
08E8A:  ANDWF  x51,F
08E8C:  MOVF   x4E,W
08E8E:  MOVWF  00
08E90:  CLRF   01
08E92:  CLRF   02
08E94:  CLRF   03
08E96:  MOVFF  00,9CC
.................... 
....................     // 環境データの設定
....................     data_packet.header.envdata[0] = (measured_data_ptr->pd >> 4) & 0xFF;
08E9A:  MOVLW  04
08E9C:  MOVLB  9
08E9E:  ADDWF  xC2,W
08EA0:  MOVWF  FE9
08EA2:  MOVLW  00
08EA4:  ADDWFC xC3,W
08EA6:  MOVWF  FEA
08EA8:  MOVFF  FEC,A4F
08EAC:  MOVF   FED,F
08EAE:  MOVFF  FEF,A4E
08EB2:  MOVLB  A
08EB4:  RRCF   x4F,F
08EB6:  RRCF   x4E,F
08EB8:  RRCF   x4F,F
08EBA:  RRCF   x4E,F
08EBC:  RRCF   x4F,F
08EBE:  RRCF   x4E,F
08EC0:  RRCF   x4F,F
08EC2:  RRCF   x4E,F
08EC4:  MOVLW  0F
08EC6:  ANDWF  x4F,F
08EC8:  MOVF   x4E,W
08ECA:  MOVLB  9
08ECC:  MOVWF  xCD
....................     data_packet.header.envdata[1] =
....................         ((measured_data_ptr->pd & 0x0F) << 4) |
....................         ((measured_data_ptr->temp_py_top >> 8) & 0x0F);
08ECE:  MOVLW  04
08ED0:  ADDWF  xC2,W
08ED2:  MOVWF  FE9
08ED4:  MOVLW  00
08ED6:  ADDWFC xC3,W
08ED8:  MOVWF  FEA
08EDA:  MOVFF  FEC,A4F
08EDE:  MOVF   FED,F
08EE0:  MOVFF  FEF,A4E
08EE4:  MOVLW  0F
08EE6:  MOVLB  A
08EE8:  ANDWF  x4E,F
08EEA:  CLRF   x4F
08EEC:  RLCF   x4E,F
08EEE:  RLCF   x4F,F
08EF0:  RLCF   x4E,F
08EF2:  RLCF   x4F,F
08EF4:  RLCF   x4E,F
08EF6:  RLCF   x4F,F
08EF8:  RLCF   x4E,F
08EFA:  RLCF   x4F,F
08EFC:  MOVLW  F0
08EFE:  ANDWF  x4E,F
08F00:  MOVLW  06
08F02:  MOVLB  9
08F04:  ADDWF  xC2,W
08F06:  MOVWF  FE9
08F08:  MOVLW  00
08F0A:  ADDWFC xC3,W
08F0C:  MOVWF  FEA
08F0E:  MOVFF  FEC,A51
08F12:  MOVF   FED,F
08F14:  MOVFF  FEF,A50
08F18:  MOVFF  A51,A50
08F1C:  MOVLB  A
08F1E:  CLRF   x51
08F20:  MOVF   x50,W
08F22:  ANDLW  0F
08F24:  MOVWF  00
08F26:  CLRF   03
08F28:  MOVF   00,W
08F2A:  IORWF  x4E,W
08F2C:  MOVLB  9
08F2E:  MOVWF  xCE
....................     data_packet.header.envdata[2] = measured_data_ptr->temp_py_top & 0xFF;
08F30:  MOVLW  06
08F32:  ADDWF  xC2,W
08F34:  MOVWF  FE9
08F36:  MOVLW  00
08F38:  ADDWFC xC3,W
08F3A:  MOVWF  FEA
08F3C:  MOVFF  FEC,A4F
08F40:  MOVF   FED,F
08F42:  MOVFF  FEF,A4E
08F46:  MOVLB  A
08F48:  MOVF   x4E,W
08F4A:  MOVLB  9
08F4C:  MOVWF  xCF
.................... 
....................     data_packet.header.envdata[3] = (measured_data_ptr->temp_py_bot >> 4) & 0xFF;
08F4E:  MOVLW  08
08F50:  ADDWF  xC2,W
08F52:  MOVWF  FE9
08F54:  MOVLW  00
08F56:  ADDWFC xC3,W
08F58:  MOVWF  FEA
08F5A:  MOVFF  FEC,A4F
08F5E:  MOVF   FED,F
08F60:  MOVFF  FEF,A4E
08F64:  MOVLB  A
08F66:  RRCF   x4F,F
08F68:  RRCF   x4E,F
08F6A:  RRCF   x4F,F
08F6C:  RRCF   x4E,F
08F6E:  RRCF   x4F,F
08F70:  RRCF   x4E,F
08F72:  RRCF   x4F,F
08F74:  RRCF   x4E,F
08F76:  MOVLW  0F
08F78:  ANDWF  x4F,F
08F7A:  MOVF   x4E,W
08F7C:  MOVLB  9
08F7E:  MOVWF  xD0
....................     data_packet.header.envdata[4] =
....................         ((measured_data_ptr->temp_py_bot & 0x0F) << 4) |
....................         ((measured_data_ptr->temp_mis7 >> 8) & 0x0F);
08F80:  MOVLW  08
08F82:  ADDWF  xC2,W
08F84:  MOVWF  FE9
08F86:  MOVLW  00
08F88:  ADDWFC xC3,W
08F8A:  MOVWF  FEA
08F8C:  MOVFF  FEC,A4F
08F90:  MOVF   FED,F
08F92:  MOVFF  FEF,A4E
08F96:  MOVLW  0F
08F98:  MOVLB  A
08F9A:  ANDWF  x4E,F
08F9C:  CLRF   x4F
08F9E:  RLCF   x4E,F
08FA0:  RLCF   x4F,F
08FA2:  RLCF   x4E,F
08FA4:  RLCF   x4F,F
08FA6:  RLCF   x4E,F
08FA8:  RLCF   x4F,F
08FAA:  RLCF   x4E,F
08FAC:  RLCF   x4F,F
08FAE:  MOVLW  F0
08FB0:  ANDWF  x4E,F
08FB2:  MOVLW  0A
08FB4:  MOVLB  9
08FB6:  ADDWF  xC2,W
08FB8:  MOVWF  FE9
08FBA:  MOVLW  00
08FBC:  ADDWFC xC3,W
08FBE:  MOVWF  FEA
08FC0:  MOVFF  FEC,A51
08FC4:  MOVF   FED,F
08FC6:  MOVFF  FEF,A50
08FCA:  MOVFF  A51,A50
08FCE:  MOVLB  A
08FD0:  CLRF   x51
08FD2:  MOVF   x50,W
08FD4:  ANDLW  0F
08FD6:  MOVWF  00
08FD8:  CLRF   03
08FDA:  MOVF   00,W
08FDC:  IORWF  x4E,W
08FDE:  MOVLB  9
08FE0:  MOVWF  xD1
....................     data_packet.header.envdata[5] = measured_data_ptr->temp_mis7 & 0xFF;
08FE2:  MOVLW  0A
08FE4:  ADDWF  xC2,W
08FE6:  MOVWF  FE9
08FE8:  MOVLW  00
08FEA:  ADDWFC xC3,W
08FEC:  MOVWF  FEA
08FEE:  MOVFF  FEC,A4F
08FF2:  MOVF   FED,F
08FF4:  MOVFF  FEF,A4E
08FF8:  MOVLB  A
08FFA:  MOVF   x4E,W
08FFC:  MOVLB  9
08FFE:  MOVWF  xD2
.................... 
....................     // I-Vデータの設定
....................     for (unsigned int8 i = 0; i < IV_HEADER_SIZE; i++) {
09000:  MOVLB  A
09002:  CLRF   x09
09004:  MOVLB  0
09006:  MOVLB  A
09008:  MOVF   x09,W
0900A:  SUBLW  10
0900C:  BTFSC  FD8.0
0900E:  BRA    9016
09010:  MOVLB  0
09012:  GOTO   9168
09016:  MOVLB  0
....................         if (i < port_data_ptr->sweep_step) {
09018:  MOVLW  01
0901A:  MOVLB  9
0901C:  ADDWF  xC4,W
0901E:  MOVWF  FE9
09020:  MOVLW  00
09022:  ADDWFC xC5,W
09024:  MOVWF  FEA
09026:  MOVFF  FEC,03
0902A:  MOVF   FED,F
0902C:  MOVF   FEF,W
0902E:  MOVWF  01
09030:  MOVF   03,F
09032:  BTFSC  FD8.2
09034:  BRA    903C
09036:  MOVLB  0
09038:  GOTO   9050
0903C:  MOVLB  0
0903E:  MOVF   01,W
09040:  MOVLB  A
09042:  SUBWF  x09,W
09044:  BTFSS  FD8.0
09046:  BRA    904E
09048:  MOVLB  0
0904A:  GOTO   911A
0904E:  MOVLB  0
....................             data_packet.header.ivdata[i*3]     = port_data_ptr->data_buffer[i*3];
09050:  MOVLB  A
09052:  MOVF   x09,W
09054:  MULLW  03
09056:  MOVF   FF3,W
09058:  CLRF   03
0905A:  ADDLW  D3
0905C:  MOVWF  01
0905E:  MOVLW  09
09060:  ADDWFC 03,F
09062:  MOVF   01,W
09064:  MOVWF  x4E
09066:  MOVFF  03,A4F
0906A:  MOVF   x09,W
0906C:  MULLW  03
0906E:  MOVF   FF3,W
09070:  ADDLW  03
09072:  MOVLB  9
09074:  ADDWF  xC4,W
09076:  MOVWF  FE9
09078:  MOVLW  00
0907A:  ADDWFC xC5,W
0907C:  MOVWF  FEA
0907E:  MOVF   FEF,W
09080:  MOVLB  A
09082:  MOVWF  x50
09084:  MOVFF  A4F,FEA
09088:  MOVFF  A4E,FE9
0908C:  MOVFF  A50,FEF
....................             data_packet.header.ivdata[i*3 + 1] = port_data_ptr->data_buffer[i*3 + 1];
09090:  MOVF   x09,W
09092:  MULLW  03
09094:  MOVF   FF3,W
09096:  ADDLW  01
09098:  CLRF   03
0909A:  ADDLW  D3
0909C:  MOVWF  01
0909E:  MOVLW  09
090A0:  ADDWFC 03,F
090A2:  MOVF   01,W
090A4:  MOVWF  x4E
090A6:  MOVFF  03,A4F
090AA:  MOVF   x09,W
090AC:  MULLW  03
090AE:  MOVF   FF3,W
090B0:  ADDLW  01
090B2:  ADDLW  03
090B4:  MOVLB  9
090B6:  ADDWF  xC4,W
090B8:  MOVWF  FE9
090BA:  MOVLW  00
090BC:  ADDWFC xC5,W
090BE:  MOVWF  FEA
090C0:  MOVF   FEF,W
090C2:  MOVLB  A
090C4:  MOVWF  x50
090C6:  MOVFF  A4F,FEA
090CA:  MOVFF  A4E,FE9
090CE:  MOVFF  A50,FEF
....................             data_packet.header.ivdata[i*3 + 2] = port_data_ptr->data_buffer[i*3 + 2];
090D2:  MOVF   x09,W
090D4:  MULLW  03
090D6:  MOVF   FF3,W
090D8:  ADDLW  02
090DA:  CLRF   03
090DC:  ADDLW  D3
090DE:  MOVWF  01
090E0:  MOVLW  09
090E2:  ADDWFC 03,F
090E4:  MOVF   01,W
090E6:  MOVWF  x4E
090E8:  MOVFF  03,A4F
090EC:  MOVF   x09,W
090EE:  MULLW  03
090F0:  MOVF   FF3,W
090F2:  ADDLW  02
090F4:  ADDLW  03
090F6:  MOVLB  9
090F8:  ADDWF  xC4,W
090FA:  MOVWF  FE9
090FC:  MOVLW  00
090FE:  ADDWFC xC5,W
09100:  MOVWF  FEA
09102:  MOVF   FEF,W
09104:  MOVLB  A
09106:  MOVWF  x50
09108:  MOVFF  A4F,FEA
0910C:  MOVFF  A4E,FE9
09110:  MOVFF  A50,FEF
09114:  MOVLB  0
....................         } else {
09116:  GOTO   915E
....................             // 余りは0埋め
....................             data_packet.header.ivdata[i*3]     = 0;
0911A:  MOVLB  A
0911C:  MOVF   x09,W
0911E:  MULLW  03
09120:  MOVF   FF3,W
09122:  CLRF   03
09124:  ADDLW  D3
09126:  MOVWF  FE9
09128:  MOVLW  09
0912A:  ADDWFC 03,W
0912C:  MOVWF  FEA
0912E:  CLRF   FEF
....................             data_packet.header.ivdata[i*3 + 1] = 0;
09130:  MOVF   x09,W
09132:  MULLW  03
09134:  MOVF   FF3,W
09136:  ADDLW  01
09138:  CLRF   03
0913A:  ADDLW  D3
0913C:  MOVWF  FE9
0913E:  MOVLW  09
09140:  ADDWFC 03,W
09142:  MOVWF  FEA
09144:  CLRF   FEF
....................             data_packet.header.ivdata[i*3 + 2] = 0;
09146:  MOVF   x09,W
09148:  MULLW  03
0914A:  MOVF   FF3,W
0914C:  ADDLW  02
0914E:  CLRF   03
09150:  ADDLW  D3
09152:  MOVWF  FE9
09154:  MOVLW  09
09156:  ADDWFC 03,W
09158:  MOVWF  FEA
0915A:  CLRF   FEF
0915C:  MOVLB  0
....................         }
0915E:  MOVLB  A
09160:  INCF   x09,F
09162:  MOVLB  0
09164:  GOTO   9006
....................     }
....................     // フラッシュに書き込み
....................     if (port_data_ptr->port_num == 1) {
09168:  MOVLB  9
0916A:  MOVF   xC4,W
0916C:  MOVWF  FE9
0916E:  MOVF   xC5,W
09170:  MOVWF  FEA
09172:  DECFSZ FEF,W
09174:  BRA    917A
09176:  BRA    9180
09178:  MOVLB  0
0917A:  MOVLB  0
0917C:  GOTO   91D8
09180:  MOVLB  0
....................         data_packet.header.crc = calc_crc8(data_packet_ptr->raw, PACKET_SIZE - 1);
09182:  MOVLB  A
09184:  MOVF   x07,W
09186:  MOVWF  01
09188:  MOVF   x08,W
0918A:  MOVWF  03
0918C:  MOVF   01,W
0918E:  MOVWF  x4E
09190:  MOVFF  03,A4F
09194:  MOVFF  A4F,AEC
09198:  MOVFF  A4E,AEB
0919C:  MOVLW  3F
0919E:  MOVWF  xED
091A0:  MOVLB  0
091A2:  CALL   2EDC
091A6:  MOVFF  01,A06
....................         misf_write_data(FLASH_ID_IV1_DATA, data_packet_ptr->raw, PACKET_SIZE);
091AA:  MOVLB  A
091AC:  MOVF   x07,W
091AE:  MOVWF  01
091B0:  MOVF   x08,W
091B2:  MOVWF  03
091B4:  MOVF   01,W
091B6:  MOVWF  x4E
091B8:  MOVFF  03,A4F
091BC:  MOVLW  04
091BE:  MOVWF  x50
091C0:  MOVFF  A4F,A52
091C4:  MOVFF  A4E,A51
091C8:  CLRF   x54
091CA:  MOVLW  40
091CC:  MOVWF  x53
091CE:  MOVLB  0
091D0:  CALL   407E
....................         // for (int i = 0; i < PACKET_SIZE; i++) {
....................             // fprintf(PC, "%02X ", data_packet_ptr->raw[i]);
....................         // }
....................         unsigned int8 read_back[PACKET_SIZE];
....................         // read_data_bytes(mis_fm, MISF_ADDRESS_TABLE[FLASH_ID_IV1_DATA].start, read_back, PACKET_SIZE);
....................         // for (int j = 0; j < PACKET_SIZE; j++) {
....................             // fprintf(PC, "%02X ", read_back[j]);
....................         // }
....................     } else if (port_data_ptr->port_num == 2) {
091D4:  GOTO   9244
091D8:  MOVLB  9
091DA:  MOVF   xC4,W
091DC:  MOVWF  FE9
091DE:  MOVF   xC5,W
091E0:  MOVWF  FEA
091E2:  MOVF   FEF,W
091E4:  SUBLW  02
091E6:  BTFSC  FD8.2
091E8:  BRA    91F0
091EA:  MOVLB  0
091EC:  GOTO   9244
091F0:  MOVLB  0
....................         data_packet.header.crc = calc_crc8(data_packet_ptr->raw, PACKET_SIZE - 1);
091F2:  MOVLB  A
091F4:  MOVF   x07,W
091F6:  MOVWF  01
091F8:  MOVF   x08,W
091FA:  MOVWF  03
091FC:  MOVF   01,W
091FE:  MOVWF  x4E
09200:  MOVFF  03,A4F
09204:  MOVFF  A4F,AEC
09208:  MOVFF  A4E,AEB
0920C:  MOVLW  3F
0920E:  MOVWF  xED
09210:  MOVLB  0
09212:  CALL   2EDC
09216:  MOVFF  01,A06
....................         misf_write_data(FLASH_ID_IV2_DATA, data_packet_ptr->raw, PACKET_SIZE);
0921A:  MOVLB  A
0921C:  MOVF   x07,W
0921E:  MOVWF  01
09220:  MOVF   x08,W
09222:  MOVWF  03
09224:  MOVF   01,W
09226:  MOVWF  x4E
09228:  MOVFF  03,A4F
0922C:  MOVLW  06
0922E:  MOVWF  x50
09230:  MOVFF  A4F,A52
09234:  MOVFF  A4E,A51
09238:  CLRF   x54
0923A:  MOVLW  40
0923C:  MOVWF  x53
0923E:  MOVLB  0
09240:  CALL   407E
....................     }
.................... 
....................     // ========================データパケットの処理========================
....................     unsigned int16 iv_index = IV_HEADER_SIZE;
09244:  MOVLB  A
09246:  CLRF   x4B
09248:  MOVLW  11
0924A:  MOVWF  x4A
0924C:  MOVLB  0
....................     // パケットごとに繰り返す
....................     while (iv_index < port_data_ptr->sweep_step) {
0924E:  MOVLW  01
09250:  MOVLB  9
09252:  ADDWF  xC4,W
09254:  MOVWF  FE9
09256:  MOVLW  00
09258:  ADDWFC xC5,W
0925A:  MOVWF  FEA
0925C:  MOVFF  FEC,03
09260:  MOVF   FED,F
09262:  MOVF   FEF,W
09264:  MOVWF  01
09266:  MOVLB  A
09268:  MOVF   x4B,W
0926A:  SUBWF  03,W
0926C:  BTFSC  FD8.0
0926E:  BRA    9276
09270:  MOVLB  0
09272:  GOTO   9656
09276:  MOVLB  0
09278:  BTFSS  FD8.2
0927A:  GOTO   9290
0927E:  MOVF   01,W
09280:  MOVLB  A
09282:  SUBWF  x4A,W
09284:  BTFSS  FD8.0
09286:  BRA    928E
09288:  MOVLB  0
0928A:  GOTO   9656
0928E:  MOVLB  0
....................         unsigned int16 step_in_packet = 0;
09290:  MOVLB  A
09292:  CLRF   x4D
09294:  CLRF   x4C
09296:  MOVLB  0
.................... 
....................         // データを詰める（最大21点/パケット）
....................         for (; step_in_packet < IV_DATA_SIZE && iv_index < port_data_ptr->sweep_step;
09298:  MOVLB  A
0929A:  MOVF   x4D,F
0929C:  BTFSC  FD8.2
0929E:  BRA    92A6
092A0:  MOVLB  0
092A2:  GOTO   94AE
092A6:  MOVLB  0
092A8:  MOVLB  A
092AA:  MOVF   x4C,W
092AC:  SUBLW  14
092AE:  BTFSC  FD8.0
092B0:  BRA    92B8
092B2:  MOVLB  0
092B4:  GOTO   94AE
092B8:  MOVLB  0
092BA:  MOVLW  01
092BC:  MOVLB  9
092BE:  ADDWF  xC4,W
092C0:  MOVWF  FE9
092C2:  MOVLW  00
092C4:  ADDWFC xC5,W
092C6:  MOVWF  FEA
092C8:  MOVFF  FEC,03
092CC:  MOVF   FED,F
092CE:  MOVF   FEF,W
092D0:  MOVWF  01
092D2:  MOVLB  A
092D4:  MOVF   x4B,W
092D6:  SUBWF  03,W
092D8:  BTFSC  FD8.0
092DA:  BRA    92E2
092DC:  MOVLB  0
092DE:  GOTO   94AE
092E2:  MOVLB  0
092E4:  BTFSS  FD8.2
092E6:  GOTO   92FC
092EA:  MOVF   01,W
092EC:  MOVLB  A
092EE:  SUBWF  x4A,W
092F0:  BTFSS  FD8.0
092F2:  BRA    92FA
092F4:  MOVLB  0
092F6:  GOTO   94AE
092FA:  MOVLB  0
....................              step_in_packet++, iv_index++) {
....................             data_packet.data.iv_data[step_in_packet*3] = port_data_ptr->data_buffer[iv_index*3];
092FC:  MOVFF  A4D,A53
09300:  MOVFF  A4C,A52
09304:  MOVLB  A
09306:  CLRF   x55
09308:  MOVLW  03
0930A:  MOVWF  x54
0930C:  MOVLB  0
0930E:  CALL   5E06
09312:  MOVFF  02,A4F
09316:  MOVFF  01,A4E
0931A:  MOVLW  C7
0931C:  MOVLB  A
0931E:  ADDWF  x4E,W
09320:  MOVWF  01
09322:  MOVLW  09
09324:  ADDWFC x4F,W
09326:  MOVWF  03
09328:  MOVF   01,W
0932A:  MOVWF  x50
0932C:  MOVFF  03,A51
09330:  MOVFF  A4B,A53
09334:  MOVFF  A4A,A52
09338:  CLRF   x55
0933A:  MOVLW  03
0933C:  MOVWF  x54
0933E:  MOVLB  0
09340:  CALL   5E06
09344:  MOVFF  02,A53
09348:  MOVFF  01,A52
0934C:  MOVLW  03
0934E:  MOVLB  A
09350:  ADDWF  x52,W
09352:  MOVWF  01
09354:  MOVLW  00
09356:  ADDWFC x53,W
09358:  MOVWF  03
0935A:  MOVF   01,W
0935C:  MOVLB  9
0935E:  ADDWF  xC4,W
09360:  MOVWF  FE9
09362:  MOVF   xC5,W
09364:  ADDWFC 03,W
09366:  MOVWF  FEA
09368:  MOVF   FEF,W
0936A:  MOVLB  A
0936C:  MOVWF  x54
0936E:  MOVFF  A51,FEA
09372:  MOVFF  A50,FE9
09376:  MOVFF  A54,FEF
....................             data_packet.data.iv_data[step_in_packet*3+1] = port_data_ptr->data_buffer[iv_index*3+1];
0937A:  MOVFF  A4D,A53
0937E:  MOVFF  A4C,A52
09382:  CLRF   x55
09384:  MOVLW  03
09386:  MOVWF  x54
09388:  MOVLB  0
0938A:  CALL   5E06
0938E:  MOVFF  02,A4F
09392:  MOVFF  01,A4E
09396:  MOVLW  01
09398:  MOVLB  A
0939A:  ADDWF  x4E,F
0939C:  MOVLW  00
0939E:  ADDWFC x4F,F
093A0:  MOVLW  C7
093A2:  ADDWF  x4E,W
093A4:  MOVWF  01
093A6:  MOVLW  09
093A8:  ADDWFC x4F,W
093AA:  MOVWF  03
093AC:  MOVF   01,W
093AE:  MOVWF  x50
093B0:  MOVFF  03,A51
093B4:  MOVFF  A4B,A53
093B8:  MOVFF  A4A,A52
093BC:  CLRF   x55
093BE:  MOVLW  03
093C0:  MOVWF  x54
093C2:  MOVLB  0
093C4:  CALL   5E06
093C8:  MOVFF  02,A53
093CC:  MOVFF  01,A52
093D0:  MOVLW  01
093D2:  MOVLB  A
093D4:  ADDWF  x52,F
093D6:  MOVLW  00
093D8:  ADDWFC x53,F
093DA:  MOVLW  03
093DC:  ADDWF  x52,W
093DE:  MOVWF  01
093E0:  MOVLW  00
093E2:  ADDWFC x53,W
093E4:  MOVWF  03
093E6:  MOVF   01,W
093E8:  MOVLB  9
093EA:  ADDWF  xC4,W
093EC:  MOVWF  FE9
093EE:  MOVF   xC5,W
093F0:  ADDWFC 03,W
093F2:  MOVWF  FEA
093F4:  MOVF   FEF,W
093F6:  MOVLB  A
093F8:  MOVWF  x54
093FA:  MOVFF  A51,FEA
093FE:  MOVFF  A50,FE9
09402:  MOVFF  A54,FEF
....................             data_packet.data.iv_data[step_in_packet*3+2] = port_data_ptr->data_buffer[iv_index*3+2];
09406:  MOVFF  A4D,A53
0940A:  MOVFF  A4C,A52
0940E:  CLRF   x55
09410:  MOVLW  03
09412:  MOVWF  x54
09414:  MOVLB  0
09416:  CALL   5E06
0941A:  MOVFF  02,A4F
0941E:  MOVFF  01,A4E
09422:  MOVLW  02
09424:  MOVLB  A
09426:  ADDWF  x4E,F
09428:  MOVLW  00
0942A:  ADDWFC x4F,F
0942C:  MOVLW  C7
0942E:  ADDWF  x4E,W
09430:  MOVWF  01
09432:  MOVLW  09
09434:  ADDWFC x4F,W
09436:  MOVWF  03
09438:  MOVF   01,W
0943A:  MOVWF  x50
0943C:  MOVFF  03,A51
09440:  MOVFF  A4B,A53
09444:  MOVFF  A4A,A52
09448:  CLRF   x55
0944A:  MOVLW  03
0944C:  MOVWF  x54
0944E:  MOVLB  0
09450:  CALL   5E06
09454:  MOVFF  02,A53
09458:  MOVFF  01,A52
0945C:  MOVLW  02
0945E:  MOVLB  A
09460:  ADDWF  x52,F
09462:  MOVLW  00
09464:  ADDWFC x53,F
09466:  MOVLW  03
09468:  ADDWF  x52,W
0946A:  MOVWF  01
0946C:  MOVLW  00
0946E:  ADDWFC x53,W
09470:  MOVWF  03
09472:  MOVF   01,W
09474:  MOVLB  9
09476:  ADDWF  xC4,W
09478:  MOVWF  FE9
0947A:  MOVF   xC5,W
0947C:  ADDWFC 03,W
0947E:  MOVWF  FEA
09480:  MOVF   FEF,W
09482:  MOVLB  A
09484:  MOVWF  x54
09486:  MOVFF  A51,FEA
0948A:  MOVFF  A50,FE9
0948E:  MOVFF  A54,FEF
09492:  MOVLB  0
09494:  MOVLB  A
09496:  MOVF   x4D,W
09498:  MOVWF  03
0949A:  MOVF   x4C,W
0949C:  INCF   x4C,F
0949E:  BTFSC  FD8.2
094A0:  INCF   x4D,F
094A2:  INCF   x4A,F
094A4:  BTFSC  FD8.2
094A6:  INCF   x4B,F
094A8:  MOVLB  0
094AA:  GOTO   9298
....................         }
.................... 
....................         // 残り領域を 0x00 で埋める（未使用部分）
....................         for (; step_in_packet < 21; step_in_packet++) {
094AE:  MOVLB  A
094B0:  MOVF   x4D,F
094B2:  BTFSC  FD8.2
094B4:  BRA    94BC
094B6:  MOVLB  0
094B8:  GOTO   9576
094BC:  MOVLB  0
094BE:  MOVLB  A
094C0:  MOVF   x4C,W
094C2:  SUBLW  14
094C4:  BTFSC  FD8.0
094C6:  BRA    94CE
094C8:  MOVLB  0
094CA:  GOTO   9576
094CE:  MOVLB  0
....................             data_packet.data.iv_data[step_in_packet*3]  = 0x00;
094D0:  MOVFF  A4D,A53
094D4:  MOVFF  A4C,A52
094D8:  MOVLB  A
094DA:  CLRF   x55
094DC:  MOVLW  03
094DE:  MOVWF  x54
094E0:  MOVLB  0
094E2:  CALL   5E06
094E6:  MOVFF  02,A4F
094EA:  MOVFF  01,A4E
094EE:  MOVLW  C7
094F0:  MOVLB  A
094F2:  ADDWF  x4E,W
094F4:  MOVWF  FE9
094F6:  MOVLW  09
094F8:  ADDWFC x4F,W
094FA:  MOVWF  FEA
094FC:  CLRF   FEF
....................             data_packet.data.iv_data[step_in_packet*3+1] = 0x00;
094FE:  MOVFF  A4D,A53
09502:  MOVFF  A4C,A52
09506:  CLRF   x55
09508:  MOVLW  03
0950A:  MOVWF  x54
0950C:  MOVLB  0
0950E:  CALL   5E06
09512:  MOVFF  02,A4F
09516:  MOVFF  01,A4E
0951A:  MOVLW  01
0951C:  MOVLB  A
0951E:  ADDWF  x4E,F
09520:  MOVLW  00
09522:  ADDWFC x4F,F
09524:  MOVLW  C7
09526:  ADDWF  x4E,W
09528:  MOVWF  FE9
0952A:  MOVLW  09
0952C:  ADDWFC x4F,W
0952E:  MOVWF  FEA
09530:  CLRF   FEF
....................             data_packet.data.iv_data[step_in_packet*3+2] = 0x00;
09532:  MOVFF  A4D,A53
09536:  MOVFF  A4C,A52
0953A:  CLRF   x55
0953C:  MOVLW  03
0953E:  MOVWF  x54
09540:  MOVLB  0
09542:  CALL   5E06
09546:  MOVFF  02,A4F
0954A:  MOVFF  01,A4E
0954E:  MOVLW  02
09550:  MOVLB  A
09552:  ADDWF  x4E,F
09554:  MOVLW  00
09556:  ADDWFC x4F,F
09558:  MOVLW  C7
0955A:  ADDWF  x4E,W
0955C:  MOVWF  FE9
0955E:  MOVLW  09
09560:  ADDWFC x4F,W
09562:  MOVWF  FEA
09564:  CLRF   FEF
09566:  MOVLB  0
09568:  MOVLB  A
0956A:  INCF   x4C,F
0956C:  BTFSC  FD8.2
0956E:  INCF   x4D,F
09570:  MOVLB  0
09572:  GOTO   94AE
....................         }
.................... 
....................         // フラッシュに書き込み
....................         if (port_data_ptr->port_num == 1) {
09576:  MOVLB  9
09578:  MOVF   xC4,W
0957A:  MOVWF  FE9
0957C:  MOVF   xC5,W
0957E:  MOVWF  FEA
09580:  DECFSZ FEF,W
09582:  BRA    9588
09584:  BRA    958E
09586:  MOVLB  0
09588:  MOVLB  0
0958A:  GOTO   95E6
0958E:  MOVLB  0
....................             data_packet.data.crc = calc_crc8(data_packet_ptr->raw, PACKET_SIZE - 1);
09590:  MOVLB  A
09592:  MOVF   x07,W
09594:  MOVWF  01
09596:  MOVF   x08,W
09598:  MOVWF  03
0959A:  MOVF   01,W
0959C:  MOVWF  x4E
0959E:  MOVFF  03,A4F
095A2:  MOVFF  A4F,AEC
095A6:  MOVFF  A4E,AEB
095AA:  MOVLW  3F
095AC:  MOVWF  xED
095AE:  MOVLB  0
095B0:  CALL   2EDC
095B4:  MOVFF  01,A06
....................             misf_write_data(FLASH_ID_IV1_DATA, data_packet_ptr->raw, PACKET_SIZE);
095B8:  MOVLB  A
095BA:  MOVF   x07,W
095BC:  MOVWF  01
095BE:  MOVF   x08,W
095C0:  MOVWF  03
095C2:  MOVF   01,W
095C4:  MOVWF  x4E
095C6:  MOVFF  03,A4F
095CA:  MOVLW  04
095CC:  MOVWF  x50
095CE:  MOVFF  A4F,A52
095D2:  MOVFF  A4E,A51
095D6:  CLRF   x54
095D8:  MOVLW  40
095DA:  MOVWF  x53
095DC:  MOVLB  0
095DE:  CALL   407E
....................             // for (int i = 0; i < PACKET_SIZE; i++) {
....................                 // fprintf(PC, "%02X ", data_packet_ptr->raw[i]);
....................             // }
....................         } else if (port_data_ptr->port_num == 2) {
095E2:  GOTO   9652
095E6:  MOVLB  9
095E8:  MOVF   xC4,W
095EA:  MOVWF  FE9
095EC:  MOVF   xC5,W
095EE:  MOVWF  FEA
095F0:  MOVF   FEF,W
095F2:  SUBLW  02
095F4:  BTFSC  FD8.2
095F6:  BRA    95FE
095F8:  MOVLB  0
095FA:  GOTO   9652
095FE:  MOVLB  0
....................             data_packet.data.crc = calc_crc8(data_packet_ptr->raw, PACKET_SIZE - 1);
09600:  MOVLB  A
09602:  MOVF   x07,W
09604:  MOVWF  01
09606:  MOVF   x08,W
09608:  MOVWF  03
0960A:  MOVF   01,W
0960C:  MOVWF  x4E
0960E:  MOVFF  03,A4F
09612:  MOVFF  A4F,AEC
09616:  MOVFF  A4E,AEB
0961A:  MOVLW  3F
0961C:  MOVWF  xED
0961E:  MOVLB  0
09620:  CALL   2EDC
09624:  MOVFF  01,A06
....................             misf_write_data(FLASH_ID_IV2_DATA, data_packet_ptr->raw, PACKET_SIZE);
09628:  MOVLB  A
0962A:  MOVF   x07,W
0962C:  MOVWF  01
0962E:  MOVF   x08,W
09630:  MOVWF  03
09632:  MOVF   01,W
09634:  MOVWF  x4E
09636:  MOVFF  03,A4F
0963A:  MOVLW  06
0963C:  MOVWF  x50
0963E:  MOVFF  A4F,A52
09642:  MOVFF  A4E,A51
09646:  CLRF   x54
09648:  MOVLW  40
0964A:  MOVWF  x53
0964C:  MOVLB  0
0964E:  CALL   407E
....................         }
09652:  GOTO   924E
....................     }
.................... 
....................     misf_update_address_area(); // 必要なら有効化
09656:  CALL   4E4E
0965A:  RETURN 0
.................... }
.................... 
.................... void sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit, unsigned int16 pd_limit)
0965C:  CALL   3A08
09660:  MOVFF  03,1E8
09664:  MOVFF  02,1E7
09668:  MOVFF  01,1E6
0966C:  MOVFF  00,1E5
.................... {
....................     unsigned int32 start_time_ms = get_current_sec();
....................     fputc('.', PC);
09670:  MOVLW  2E
09672:  CALL   8BA6
....................     // Enable both CIGS ports
....................     connect_port1();
09676:  CALL   5004
....................     connect_port2();
0967A:  CALL   500C
.................... 
....................     delay_ms(100);
0967E:  MOVLW  64
09680:  MOVLB  B
09682:  MOVWF  x03
09684:  MOVLB  0
09686:  CALL   20A0
.................... 
....................     // Init Port1
....................     sweep_config_t port1 = {0};
0968A:  MOVLB  1
0968C:  CLRF   xE9
0968E:  CLRF   xEA
09690:  CLRF   xEB
09692:  CLRF   xEC
09694:  CLRF   xED
09696:  CLRF   xEE
09698:  CLRF   xEF
0969A:  CLRF   xF0
0969C:  CLRF   xF1
0969E:  CLRF   xF2
096A0:  CLRF   xF3
096A2:  CLRF   xF4
096A4:  CLRF   xF5
096A6:  CLRF   xF6
096A8:  CLRF   xF7
096AA:  CLRF   xF8
096AC:  CLRF   xF9
096AE:  CLRF   xFA
096B0:  CLRF   xFB
096B2:  CLRF   xFC
096B4:  CLRF   xFD
096B6:  CLRF   xFE
096B8:  CLRF   xFF
096BA:  MOVLB  2
096BC:  CLRF   x00
096BE:  CLRF   x01
096C0:  CLRF   x02
096C2:  CLRF   x03
096C4:  CLRF   x04
096C6:  CLRF   x05
096C8:  CLRF   x06
096CA:  CLRF   x07
096CC:  CLRF   x08
096CE:  CLRF   x09
096D0:  CLRF   x0A
096D2:  CLRF   x0B
096D4:  CLRF   x0C
096D6:  CLRF   x0D
096D8:  CLRF   x0E
096DA:  CLRF   x0F
096DC:  CLRF   x10
096DE:  CLRF   x11
096E0:  CLRF   x12
096E2:  CLRF   x13
096E4:  CLRF   x14
096E6:  CLRF   x15
096E8:  CLRF   x16
096EA:  CLRF   x17
096EC:  CLRF   x18
096EE:  CLRF   x19
096F0:  CLRF   x1A
096F2:  CLRF   x1B
096F4:  CLRF   x1C
096F6:  CLRF   x1D
096F8:  CLRF   x1E
096FA:  CLRF   x1F
096FC:  CLRF   x20
096FE:  CLRF   x21
09700:  CLRF   x22
09702:  CLRF   x23
09704:  CLRF   x24
09706:  CLRF   x25
09708:  CLRF   x26
0970A:  CLRF   x27
0970C:  CLRF   x28
0970E:  CLRF   x29
09710:  CLRF   x2A
09712:  CLRF   x2B
09714:  CLRF   x2C
09716:  CLRF   x2D
09718:  CLRF   x2E
0971A:  CLRF   x2F
0971C:  CLRF   x30
0971E:  CLRF   x31
09720:  CLRF   x32
09722:  CLRF   x33
09724:  CLRF   x34
09726:  CLRF   x35
09728:  CLRF   x36
0972A:  CLRF   x37
0972C:  CLRF   x38
0972E:  CLRF   x39
09730:  CLRF   x3A
09732:  CLRF   x3B
09734:  CLRF   x3C
09736:  CLRF   x3D
09738:  CLRF   x3E
0973A:  CLRF   x3F
0973C:  CLRF   x40
0973E:  CLRF   x41
09740:  CLRF   x42
09742:  CLRF   x43
09744:  CLRF   x44
09746:  CLRF   x45
09748:  CLRF   x46
0974A:  CLRF   x47
0974C:  CLRF   x48
0974E:  CLRF   x49
09750:  CLRF   x4A
09752:  CLRF   x4B
09754:  CLRF   x4C
09756:  CLRF   x4D
09758:  CLRF   x4E
0975A:  CLRF   x4F
0975C:  CLRF   x50
0975E:  CLRF   x51
09760:  CLRF   x52
09762:  CLRF   x53
09764:  CLRF   x54
09766:  CLRF   x55
09768:  CLRF   x56
0976A:  CLRF   x57
0976C:  CLRF   x58
0976E:  CLRF   x59
09770:  CLRF   x5A
09772:  CLRF   x5B
09774:  CLRF   x5C
09776:  CLRF   x5D
09778:  CLRF   x5E
0977A:  CLRF   x5F
0977C:  CLRF   x60
0977E:  CLRF   x61
09780:  CLRF   x62
09782:  CLRF   x63
09784:  CLRF   x64
09786:  CLRF   x65
09788:  CLRF   x66
0978A:  CLRF   x67
0978C:  CLRF   x68
0978E:  CLRF   x69
09790:  CLRF   x6A
09792:  CLRF   x6B
09794:  CLRF   x6C
09796:  CLRF   x6D
09798:  CLRF   x6E
0979A:  CLRF   x6F
0979C:  CLRF   x70
0979E:  CLRF   x71
097A0:  CLRF   x72
097A2:  CLRF   x73
097A4:  CLRF   x74
097A6:  CLRF   x75
097A8:  CLRF   x76
097AA:  CLRF   x77
097AC:  CLRF   x78
097AE:  CLRF   x79
097B0:  CLRF   x7A
097B2:  CLRF   x7B
097B4:  CLRF   x7C
097B6:  CLRF   x7D
097B8:  CLRF   x7E
097BA:  CLRF   x7F
097BC:  CLRF   x80
097BE:  CLRF   x81
097C0:  CLRF   x82
097C2:  CLRF   x83
097C4:  CLRF   x84
097C6:  CLRF   x85
097C8:  CLRF   x86
097CA:  CLRF   x87
097CC:  CLRF   x88
097CE:  CLRF   x89
097D0:  CLRF   x8A
097D2:  CLRF   x8B
097D4:  CLRF   x8C
097D6:  CLRF   x8D
097D8:  CLRF   x8E
097DA:  CLRF   x8F
097DC:  CLRF   x90
097DE:  CLRF   x91
097E0:  CLRF   x92
097E2:  CLRF   x93
097E4:  CLRF   x94
097E6:  CLRF   x95
097E8:  CLRF   x96
097EA:  CLRF   x97
097EC:  CLRF   x98
097EE:  CLRF   x99
097F0:  CLRF   x9A
097F2:  CLRF   x9B
097F4:  CLRF   x9C
097F6:  CLRF   x9D
097F8:  CLRF   x9E
097FA:  CLRF   x9F
097FC:  CLRF   xA0
097FE:  CLRF   xA1
09800:  CLRF   xA2
09802:  CLRF   xA3
09804:  CLRF   xA4
09806:  CLRF   xA5
09808:  CLRF   xA6
0980A:  CLRF   xA7
0980C:  CLRF   xA8
0980E:  CLRF   xA9
09810:  CLRF   xAA
09812:  CLRF   xAB
09814:  CLRF   xAC
09816:  CLRF   xAD
09818:  CLRF   xAE
0981A:  CLRF   xAF
0981C:  CLRF   xB0
0981E:  CLRF   xB1
09820:  CLRF   xB2
09822:  CLRF   xB3
09824:  CLRF   xB4
09826:  CLRF   xB5
09828:  CLRF   xB6
0982A:  CLRF   xB7
0982C:  CLRF   xB8
0982E:  CLRF   xB9
09830:  CLRF   xBA
09832:  CLRF   xBB
09834:  CLRF   xBC
09836:  CLRF   xBD
09838:  CLRF   xBE
0983A:  CLRF   xBF
0983C:  CLRF   xC0
0983E:  CLRF   xC1
09840:  CLRF   xC2
09842:  CLRF   xC3
09844:  CLRF   xC4
09846:  CLRF   xC5
09848:  CLRF   xC6
0984A:  CLRF   xC7
0984C:  CLRF   xC8
0984E:  CLRF   xC9
09850:  CLRF   xCA
09852:  CLRF   xCB
09854:  CLRF   xCC
09856:  CLRF   xCD
09858:  CLRF   xCE
0985A:  CLRF   xCF
0985C:  CLRF   xD0
0985E:  CLRF   xD1
09860:  CLRF   xD2
09862:  CLRF   xD3
09864:  CLRF   xD4
09866:  CLRF   xD5
09868:  CLRF   xD6
0986A:  CLRF   xD7
0986C:  CLRF   xD8
0986E:  CLRF   xD9
09870:  CLRF   xDA
09872:  CLRF   xDB
09874:  CLRF   xDC
09876:  CLRF   xDD
09878:  CLRF   xDE
0987A:  CLRF   xDF
0987C:  CLRF   xE0
0987E:  CLRF   xE1
09880:  CLRF   xE2
09882:  CLRF   xE3
09884:  CLRF   xE4
09886:  CLRF   xE5
09888:  CLRF   xE6
0988A:  CLRF   xE7
0988C:  CLRF   xE8
0988E:  CLRF   xE9
09890:  CLRF   xEA
09892:  CLRF   xEB
09894:  CLRF   xEC
09896:  CLRF   xED
09898:  CLRF   xEE
0989A:  CLRF   xEF
0989C:  CLRF   xF0
0989E:  CLRF   xF1
098A0:  CLRF   xF2
098A2:  CLRF   xF3
098A4:  CLRF   xF4
098A6:  CLRF   xF5
098A8:  CLRF   xF6
098AA:  CLRF   xF7
098AC:  CLRF   xF8
098AE:  CLRF   xF9
098B0:  CLRF   xFA
098B2:  CLRF   xFB
098B4:  CLRF   xFC
098B6:  CLRF   xFD
098B8:  CLRF   xFE
098BA:  CLRF   xFF
098BC:  MOVLB  3
098BE:  CLRF   x00
098C0:  CLRF   x01
098C2:  CLRF   x02
098C4:  CLRF   x03
098C6:  CLRF   x04
098C8:  CLRF   x05
098CA:  CLRF   x06
098CC:  CLRF   x07
098CE:  CLRF   x08
098D0:  CLRF   x09
098D2:  CLRF   x0A
098D4:  CLRF   x0B
098D6:  CLRF   x0C
098D8:  CLRF   x0D
098DA:  CLRF   x0E
098DC:  CLRF   x0F
098DE:  CLRF   x10
098E0:  CLRF   x11
098E2:  CLRF   x12
098E4:  CLRF   x13
098E6:  CLRF   x14
098E8:  CLRF   x15
098EA:  CLRF   x16
098EC:  CLRF   x17
098EE:  CLRF   x18
098F0:  CLRF   x19
098F2:  CLRF   x1A
098F4:  CLRF   x1B
098F6:  CLRF   x1C
098F8:  CLRF   x1D
098FA:  CLRF   x1E
098FC:  CLRF   x1F
098FE:  CLRF   x20
09900:  CLRF   x21
09902:  CLRF   x22
09904:  CLRF   x23
09906:  CLRF   x24
09908:  CLRF   x25
0990A:  CLRF   x26
0990C:  CLRF   x27
0990E:  CLRF   x28
09910:  CLRF   x29
09912:  CLRF   x2A
09914:  CLRF   x2B
09916:  CLRF   x2C
09918:  CLRF   x2D
0991A:  CLRF   x2E
0991C:  CLRF   x2F
0991E:  CLRF   x30
09920:  CLRF   x31
09922:  CLRF   x32
09924:  CLRF   x33
09926:  CLRF   x34
09928:  CLRF   x35
0992A:  CLRF   x36
0992C:  CLRF   x37
0992E:  CLRF   x38
09930:  CLRF   x39
09932:  CLRF   x3A
09934:  CLRF   x3B
09936:  CLRF   x3C
09938:  CLRF   x3D
0993A:  CLRF   x3E
0993C:  CLRF   x3F
0993E:  CLRF   x40
09940:  CLRF   x41
09942:  CLRF   x42
09944:  CLRF   x43
09946:  CLRF   x44
09948:  CLRF   x45
0994A:  CLRF   x46
0994C:  CLRF   x47
0994E:  CLRF   x48
09950:  CLRF   x49
09952:  CLRF   x4A
09954:  CLRF   x4B
09956:  CLRF   x4C
09958:  CLRF   x4D
0995A:  CLRF   x4E
0995C:  CLRF   x4F
0995E:  CLRF   x50
09960:  CLRF   x51
09962:  CLRF   x52
09964:  CLRF   x53
09966:  CLRF   x54
09968:  CLRF   x55
0996A:  CLRF   x56
0996C:  CLRF   x57
0996E:  CLRF   x58
09970:  CLRF   x59
09972:  CLRF   x5A
09974:  CLRF   x5B
09976:  CLRF   x5C
09978:  CLRF   x5D
0997A:  CLRF   x5E
0997C:  CLRF   x5F
0997E:  CLRF   x60
09980:  CLRF   x61
09982:  CLRF   x62
09984:  CLRF   x63
09986:  CLRF   x64
09988:  CLRF   x65
0998A:  CLRF   x66
0998C:  CLRF   x67
0998E:  CLRF   x68
09990:  CLRF   x69
09992:  CLRF   x6A
09994:  CLRF   x6B
09996:  CLRF   x6C
09998:  CLRF   x6D
0999A:  CLRF   x6E
0999C:  CLRF   x6F
0999E:  CLRF   x70
099A0:  CLRF   x71
099A2:  CLRF   x72
099A4:  CLRF   x73
099A6:  CLRF   x74
099A8:  CLRF   x75
099AA:  CLRF   x76
099AC:  CLRF   x77
099AE:  CLRF   x78
099B0:  CLRF   x79
099B2:  CLRF   x7A
099B4:  CLRF   x7B
099B6:  CLRF   x7C
099B8:  CLRF   x7D
099BA:  CLRF   x7E
099BC:  CLRF   x7F
099BE:  CLRF   x80
099C0:  CLRF   x81
099C2:  CLRF   x82
099C4:  CLRF   x83
099C6:  CLRF   x84
099C8:  CLRF   x85
099CA:  CLRF   x86
099CC:  CLRF   x87
099CE:  CLRF   x88
099D0:  CLRF   x89
099D2:  CLRF   x8A
099D4:  CLRF   x8B
099D6:  CLRF   x8C
099D8:  CLRF   x8D
099DA:  CLRF   x8E
099DC:  CLRF   x8F
099DE:  CLRF   x90
099E0:  CLRF   x91
099E2:  CLRF   x92
099E4:  CLRF   x93
099E6:  CLRF   x94
099E8:  CLRF   x95
099EA:  CLRF   x96
099EC:  CLRF   x97
099EE:  CLRF   x98
099F0:  CLRF   x99
099F2:  CLRF   x9A
099F4:  CLRF   x9B
099F6:  CLRF   x9C
099F8:  CLRF   x9D
099FA:  CLRF   x9E
099FC:  CLRF   x9F
099FE:  CLRF   xA0
09A00:  CLRF   xA1
09A02:  CLRF   xA2
09A04:  CLRF   xA3
09A06:  CLRF   xA4
09A08:  CLRF   xA5
09A0A:  CLRF   xA6
09A0C:  CLRF   xA7
09A0E:  CLRF   xA8
09A10:  CLRF   xA9
09A12:  CLRF   xAA
09A14:  CLRF   xAB
09A16:  CLRF   xAC
09A18:  CLRF   xAD
09A1A:  CLRF   xAE
09A1C:  CLRF   xAF
09A1E:  CLRF   xB0
09A20:  CLRF   xB1
09A22:  CLRF   xB2
09A24:  CLRF   xB3
09A26:  CLRF   xB4
09A28:  CLRF   xB5
09A2A:  CLRF   xB6
09A2C:  CLRF   xB7
09A2E:  CLRF   xB8
09A30:  CLRF   xB9
09A32:  CLRF   xBA
09A34:  CLRF   xBB
09A36:  CLRF   xBC
09A38:  CLRF   xBD
09A3A:  CLRF   xBE
09A3C:  CLRF   xBF
09A3E:  CLRF   xC0
09A40:  CLRF   xC1
09A42:  CLRF   xC2
09A44:  CLRF   xC3
09A46:  CLRF   xC4
09A48:  CLRF   xC5
09A4A:  CLRF   xC6
09A4C:  CLRF   xC7
09A4E:  CLRF   xC8
09A50:  CLRF   xC9
09A52:  CLRF   xCA
09A54:  CLRF   xCB
09A56:  CLRF   xCC
09A58:  CLRF   xCD
09A5A:  CLRF   xCE
09A5C:  CLRF   xCF
09A5E:  CLRF   xD0
09A60:  CLRF   xD1
09A62:  CLRF   xD2
09A64:  CLRF   xD3
09A66:  CLRF   xD4
09A68:  CLRF   xD5
09A6A:  CLRF   xD6
09A6C:  CLRF   xD7
09A6E:  CLRF   xD8
09A70:  CLRF   xD9
09A72:  CLRF   xDA
09A74:  CLRF   xDB
09A76:  CLRF   xDC
09A78:  CLRF   xDD
09A7A:  CLRF   xDE
09A7C:  CLRF   xDF
09A7E:  CLRF   xE0
09A80:  CLRF   xE1
09A82:  CLRF   xE2
09A84:  CLRF   xE3
09A86:  CLRF   xE4
09A88:  CLRF   xE5
09A8A:  CLRF   xE6
09A8C:  CLRF   xE7
09A8E:  CLRF   xE8
09A90:  CLRF   xE9
09A92:  CLRF   xEA
09A94:  CLRF   xEB
09A96:  CLRF   xEC
09A98:  CLRF   xED
09A9A:  CLRF   xEE
09A9C:  CLRF   xEF
09A9E:  CLRF   xF0
09AA0:  CLRF   xF1
09AA2:  CLRF   xF2
09AA4:  CLRF   xF3
09AA6:  CLRF   xF4
09AA8:  CLRF   xF5
09AAA:  CLRF   xF6
09AAC:  CLRF   xF7
09AAE:  CLRF   xF8
09AB0:  CLRF   xF9
09AB2:  CLRF   xFA
09AB4:  CLRF   xFB
09AB6:  CLRF   xFC
09AB8:  CLRF   xFD
09ABA:  CLRF   xFE
09ABC:  CLRF   xFF
09ABE:  MOVLB  4
09AC0:  CLRF   x00
09AC2:  CLRF   x01
09AC4:  CLRF   x02
09AC6:  CLRF   x03
09AC8:  CLRF   x04
09ACA:  CLRF   x05
09ACC:  CLRF   x06
09ACE:  CLRF   x07
09AD0:  CLRF   x08
09AD2:  CLRF   x09
09AD4:  CLRF   x0A
09AD6:  CLRF   x0B
09AD8:  CLRF   x0C
09ADA:  CLRF   x0D
09ADC:  CLRF   x0E
09ADE:  CLRF   x0F
09AE0:  CLRF   x10
09AE2:  CLRF   x11
09AE4:  CLRF   x12
09AE6:  CLRF   x13
09AE8:  CLRF   x14
09AEA:  CLRF   x15
09AEC:  CLRF   x16
09AEE:  CLRF   x17
09AF0:  CLRF   x18
09AF2:  CLRF   x19
09AF4:  CLRF   x1A
09AF6:  CLRF   x1B
09AF8:  CLRF   x1C
09AFA:  CLRF   x1D
09AFC:  CLRF   x1E
09AFE:  CLRF   x1F
09B00:  CLRF   x20
09B02:  CLRF   x21
09B04:  CLRF   x22
09B06:  CLRF   x23
09B08:  CLRF   x24
09B0A:  CLRF   x25
09B0C:  CLRF   x26
09B0E:  CLRF   x27
09B10:  CLRF   x28
09B12:  CLRF   x29
09B14:  CLRF   x2A
09B16:  CLRF   x2B
09B18:  CLRF   x2C
09B1A:  CLRF   x2D
09B1C:  CLRF   x2E
09B1E:  CLRF   x2F
09B20:  CLRF   x30
09B22:  CLRF   x31
09B24:  CLRF   x32
09B26:  CLRF   x33
09B28:  CLRF   x34
09B2A:  CLRF   x35
09B2C:  CLRF   x36
09B2E:  CLRF   x37
09B30:  CLRF   x38
09B32:  CLRF   x39
09B34:  CLRF   x3A
09B36:  CLRF   x3B
09B38:  CLRF   x3C
09B3A:  CLRF   x3D
09B3C:  CLRF   x3E
09B3E:  CLRF   x3F
09B40:  CLRF   x40
09B42:  CLRF   x41
09B44:  CLRF   x42
09B46:  CLRF   x43
09B48:  CLRF   x44
09B4A:  CLRF   x45
09B4C:  CLRF   x46
09B4E:  CLRF   x47
09B50:  CLRF   x48
09B52:  CLRF   x49
09B54:  CLRF   x4A
09B56:  CLRF   x4B
09B58:  CLRF   x4C
09B5A:  CLRF   x4D
09B5C:  CLRF   x4E
09B5E:  CLRF   x4F
09B60:  CLRF   x50
09B62:  CLRF   x51
09B64:  CLRF   x52
09B66:  CLRF   x53
09B68:  CLRF   x54
09B6A:  CLRF   x55
09B6C:  CLRF   x56
09B6E:  CLRF   x57
09B70:  CLRF   x58
09B72:  CLRF   x59
09B74:  CLRF   x5A
09B76:  CLRF   x5B
09B78:  CLRF   x5C
09B7A:  CLRF   x5D
09B7C:  CLRF   x5E
09B7E:  CLRF   x5F
09B80:  CLRF   x60
09B82:  CLRF   x61
09B84:  CLRF   x62
09B86:  CLRF   x63
09B88:  CLRF   x64
09B8A:  CLRF   x65
09B8C:  CLRF   x66
09B8E:  CLRF   x67
09B90:  CLRF   x68
09B92:  CLRF   x69
09B94:  CLRF   x6A
09B96:  CLRF   x6B
09B98:  CLRF   x6C
09B9A:  CLRF   x6D
09B9C:  CLRF   x6E
09B9E:  CLRF   x6F
09BA0:  CLRF   x70
09BA2:  CLRF   x71
09BA4:  CLRF   x72
09BA6:  CLRF   x73
09BA8:  CLRF   x74
09BAA:  CLRF   x75
09BAC:  CLRF   x76
09BAE:  CLRF   x77
09BB0:  CLRF   x78
09BB2:  CLRF   x79
09BB4:  CLRF   x7A
09BB6:  CLRF   x7B
09BB8:  CLRF   x7C
09BBA:  CLRF   x7D
09BBC:  CLRF   x7E
09BBE:  CLRF   x7F
09BC0:  CLRF   x80
09BC2:  CLRF   x81
09BC4:  CLRF   x82
09BC6:  CLRF   x83
09BC8:  CLRF   x84
09BCA:  CLRF   x85
09BCC:  CLRF   x86
09BCE:  CLRF   x87
09BD0:  CLRF   x88
09BD2:  CLRF   x89
09BD4:  CLRF   x8A
09BD6:  CLRF   x8B
09BD8:  CLRF   x8C
09BDA:  CLRF   x8D
09BDC:  CLRF   x8E
09BDE:  CLRF   x8F
09BE0:  CLRF   x90
09BE2:  CLRF   x91
09BE4:  CLRF   x92
09BE6:  CLRF   x93
09BE8:  CLRF   x94
09BEA:  CLRF   x95
09BEC:  CLRF   x96
09BEE:  CLRF   x97
09BF0:  CLRF   x98
09BF2:  CLRF   x99
09BF4:  CLRF   x9A
09BF6:  CLRF   x9B
09BF8:  CLRF   x9C
09BFA:  CLRF   x9D
09BFC:  CLRF   x9E
09BFE:  CLRF   x9F
09C00:  CLRF   xA0
09C02:  CLRF   xA1
09C04:  CLRF   xA2
09C06:  CLRF   xA3
09C08:  CLRF   xA4
09C0A:  CLRF   xA5
09C0C:  CLRF   xA6
09C0E:  CLRF   xA7
09C10:  CLRF   xA8
09C12:  CLRF   xA9
09C14:  CLRF   xAA
09C16:  CLRF   xAB
09C18:  CLRF   xAC
09C1A:  CLRF   xAD
09C1C:  CLRF   xAE
09C1E:  CLRF   xAF
09C20:  CLRF   xB0
09C22:  CLRF   xB1
09C24:  CLRF   xB2
09C26:  CLRF   xB3
09C28:  CLRF   xB4
09C2A:  CLRF   xB5
09C2C:  CLRF   xB6
09C2E:  CLRF   xB7
09C30:  CLRF   xB8
09C32:  CLRF   xB9
09C34:  CLRF   xBA
09C36:  CLRF   xBB
09C38:  CLRF   xBC
09C3A:  CLRF   xBD
09C3C:  CLRF   xBE
09C3E:  CLRF   xBF
09C40:  CLRF   xC0
09C42:  CLRF   xC1
09C44:  CLRF   xC2
09C46:  CLRF   xC3
09C48:  CLRF   xC4
09C4A:  CLRF   xC5
09C4C:  CLRF   xC6
09C4E:  CLRF   xC7
09C50:  CLRF   xC8
09C52:  CLRF   xC9
09C54:  CLRF   xCA
09C56:  CLRF   xCB
09C58:  CLRF   xCC
09C5A:  CLRF   xCD
09C5C:  CLRF   xCE
09C5E:  CLRF   xCF
09C60:  CLRF   xD0
09C62:  CLRF   xD1
09C64:  CLRF   xD2
09C66:  CLRF   xD3
09C68:  CLRF   xD4
09C6A:  CLRF   xD5
09C6C:  CLRF   xD6
09C6E:  CLRF   xD7
09C70:  CLRF   xD8
09C72:  CLRF   xD9
09C74:  CLRF   xDA
09C76:  CLRF   xDB
09C78:  CLRF   xDC
09C7A:  CLRF   xDD
09C7C:  CLRF   xDE
09C7E:  CLRF   xDF
09C80:  CLRF   xE0
09C82:  CLRF   xE1
09C84:  CLRF   xE2
09C86:  CLRF   xE3
09C88:  CLRF   xE4
09C8A:  CLRF   xE5
09C8C:  CLRF   xE6
09C8E:  CLRF   xE7
09C90:  CLRF   xE8
09C92:  CLRF   xE9
09C94:  CLRF   xEA
09C96:  CLRF   xEB
09C98:  CLRF   xEC
....................     sweep_config_t *port1_ptr = &port1;
09C9A:  MOVLW  01
09C9C:  MOVWF  xEE
09C9E:  MOVLW  E9
09CA0:  MOVWF  xED
....................     port1_ptr->port_num = 1;
09CA2:  MOVF   xED,W
09CA4:  MOVWF  FE9
09CA6:  MOVF   xEE,W
09CA8:  MOVWF  FEA
09CAA:  MOVLW  01
09CAC:  MOVWF  FEF
....................     port1_ptr->sweep_step = 0;
09CAE:  MOVLW  01
09CB0:  ADDWF  xED,W
09CB2:  MOVWF  FE9
09CB4:  MOVLW  00
09CB6:  ADDWFC xEE,W
09CB8:  MOVWF  FEA
09CBA:  CLRF   FEC
09CBC:  MOVF   FED,F
09CBE:  CLRF   FEF
....................     port1_ptr->active = 1;
09CC0:  MOVLW  03
09CC2:  ADDWF  xED,W
09CC4:  MOVWF  FE9
09CC6:  MOVLW  03
09CC8:  ADDWFC xEE,W
09CCA:  MOVWF  FEA
09CCC:  BSF    FEF.0
.................... 
....................     fprintf(PC,"PORT1, %u\r\n", port1_ptr->port_num);
09CCE:  MOVF   xED,W
09CD0:  MOVWF  FE9
09CD2:  MOVF   xEE,W
09CD4:  MOVWF  FEA
09CD6:  MOVFF  FEF,809
09CDA:  MOVLW  88
09CDC:  MOVWF  FF6
09CDE:  MOVLW  06
09CE0:  MOVWF  FF7
09CE2:  MOVLW  00
09CE4:  MOVWF  FF8
09CE6:  MOVLW  07
09CE8:  MOVLB  A
09CEA:  MOVWF  x4E
09CEC:  MOVLB  0
09CEE:  CALL   2104
09CF2:  MOVFF  809,A4E
09CF6:  MOVLW  1B
09CF8:  MOVLB  A
09CFA:  MOVWF  x4F
09CFC:  MOVLB  0
09CFE:  CALL   8BFC
09D02:  MOVLW  0D
09D04:  BTFSS  FA6.6
09D06:  GOTO   9D04
09D0A:  MOVLB  E
09D0C:  MOVWF  xF9
09D0E:  MOVLW  0A
09D10:  MOVLB  0
09D12:  BTFSS  FA6.6
09D14:  GOTO   9D12
09D18:  MOVLB  E
09D1A:  MOVWF  xF9
.................... 
....................     // Init Port2
....................     sweep_config_t port2 = {0};
09D1C:  MOVLB  4
09D1E:  CLRF   xEF
09D20:  CLRF   xF0
09D22:  CLRF   xF1
09D24:  CLRF   xF2
09D26:  CLRF   xF3
09D28:  CLRF   xF4
09D2A:  CLRF   xF5
09D2C:  CLRF   xF6
09D2E:  CLRF   xF7
09D30:  CLRF   xF8
09D32:  CLRF   xF9
09D34:  CLRF   xFA
09D36:  CLRF   xFB
09D38:  CLRF   xFC
09D3A:  CLRF   xFD
09D3C:  CLRF   xFE
09D3E:  CLRF   xFF
09D40:  MOVLB  5
09D42:  CLRF   x00
09D44:  CLRF   x01
09D46:  CLRF   x02
09D48:  CLRF   x03
09D4A:  CLRF   x04
09D4C:  CLRF   x05
09D4E:  CLRF   x06
09D50:  CLRF   x07
09D52:  CLRF   x08
09D54:  CLRF   x09
09D56:  CLRF   x0A
09D58:  CLRF   x0B
09D5A:  CLRF   x0C
09D5C:  CLRF   x0D
09D5E:  CLRF   x0E
09D60:  CLRF   x0F
09D62:  CLRF   x10
09D64:  CLRF   x11
09D66:  CLRF   x12
09D68:  CLRF   x13
09D6A:  CLRF   x14
09D6C:  CLRF   x15
09D6E:  CLRF   x16
09D70:  CLRF   x17
09D72:  CLRF   x18
09D74:  CLRF   x19
09D76:  CLRF   x1A
09D78:  CLRF   x1B
09D7A:  CLRF   x1C
09D7C:  CLRF   x1D
09D7E:  CLRF   x1E
09D80:  CLRF   x1F
09D82:  CLRF   x20
09D84:  CLRF   x21
09D86:  CLRF   x22
09D88:  CLRF   x23
09D8A:  CLRF   x24
09D8C:  CLRF   x25
09D8E:  CLRF   x26
09D90:  CLRF   x27
09D92:  CLRF   x28
09D94:  CLRF   x29
09D96:  CLRF   x2A
09D98:  CLRF   x2B
09D9A:  CLRF   x2C
09D9C:  CLRF   x2D
09D9E:  CLRF   x2E
09DA0:  CLRF   x2F
09DA2:  CLRF   x30
09DA4:  CLRF   x31
09DA6:  CLRF   x32
09DA8:  CLRF   x33
09DAA:  CLRF   x34
09DAC:  CLRF   x35
09DAE:  CLRF   x36
09DB0:  CLRF   x37
09DB2:  CLRF   x38
09DB4:  CLRF   x39
09DB6:  CLRF   x3A
09DB8:  CLRF   x3B
09DBA:  CLRF   x3C
09DBC:  CLRF   x3D
09DBE:  CLRF   x3E
09DC0:  CLRF   x3F
09DC2:  CLRF   x40
09DC4:  CLRF   x41
09DC6:  CLRF   x42
09DC8:  CLRF   x43
09DCA:  CLRF   x44
09DCC:  CLRF   x45
09DCE:  CLRF   x46
09DD0:  CLRF   x47
09DD2:  CLRF   x48
09DD4:  CLRF   x49
09DD6:  CLRF   x4A
09DD8:  CLRF   x4B
09DDA:  CLRF   x4C
09DDC:  CLRF   x4D
09DDE:  CLRF   x4E
09DE0:  CLRF   x4F
09DE2:  CLRF   x50
09DE4:  CLRF   x51
09DE6:  CLRF   x52
09DE8:  CLRF   x53
09DEA:  CLRF   x54
09DEC:  CLRF   x55
09DEE:  CLRF   x56
09DF0:  CLRF   x57
09DF2:  CLRF   x58
09DF4:  CLRF   x59
09DF6:  CLRF   x5A
09DF8:  CLRF   x5B
09DFA:  CLRF   x5C
09DFC:  CLRF   x5D
09DFE:  CLRF   x5E
09E00:  CLRF   x5F
09E02:  CLRF   x60
09E04:  CLRF   x61
09E06:  CLRF   x62
09E08:  CLRF   x63
09E0A:  CLRF   x64
09E0C:  CLRF   x65
09E0E:  CLRF   x66
09E10:  CLRF   x67
09E12:  CLRF   x68
09E14:  CLRF   x69
09E16:  CLRF   x6A
09E18:  CLRF   x6B
09E1A:  CLRF   x6C
09E1C:  CLRF   x6D
09E1E:  CLRF   x6E
09E20:  CLRF   x6F
09E22:  CLRF   x70
09E24:  CLRF   x71
09E26:  CLRF   x72
09E28:  CLRF   x73
09E2A:  CLRF   x74
09E2C:  CLRF   x75
09E2E:  CLRF   x76
09E30:  CLRF   x77
09E32:  CLRF   x78
09E34:  CLRF   x79
09E36:  CLRF   x7A
09E38:  CLRF   x7B
09E3A:  CLRF   x7C
09E3C:  CLRF   x7D
09E3E:  CLRF   x7E
09E40:  CLRF   x7F
09E42:  CLRF   x80
09E44:  CLRF   x81
09E46:  CLRF   x82
09E48:  CLRF   x83
09E4A:  CLRF   x84
09E4C:  CLRF   x85
09E4E:  CLRF   x86
09E50:  CLRF   x87
09E52:  CLRF   x88
09E54:  CLRF   x89
09E56:  CLRF   x8A
09E58:  CLRF   x8B
09E5A:  CLRF   x8C
09E5C:  CLRF   x8D
09E5E:  CLRF   x8E
09E60:  CLRF   x8F
09E62:  CLRF   x90
09E64:  CLRF   x91
09E66:  CLRF   x92
09E68:  CLRF   x93
09E6A:  CLRF   x94
09E6C:  CLRF   x95
09E6E:  CLRF   x96
09E70:  CLRF   x97
09E72:  CLRF   x98
09E74:  CLRF   x99
09E76:  CLRF   x9A
09E78:  CLRF   x9B
09E7A:  CLRF   x9C
09E7C:  CLRF   x9D
09E7E:  CLRF   x9E
09E80:  CLRF   x9F
09E82:  CLRF   xA0
09E84:  CLRF   xA1
09E86:  CLRF   xA2
09E88:  CLRF   xA3
09E8A:  CLRF   xA4
09E8C:  CLRF   xA5
09E8E:  CLRF   xA6
09E90:  CLRF   xA7
09E92:  CLRF   xA8
09E94:  CLRF   xA9
09E96:  CLRF   xAA
09E98:  CLRF   xAB
09E9A:  CLRF   xAC
09E9C:  CLRF   xAD
09E9E:  CLRF   xAE
09EA0:  CLRF   xAF
09EA2:  CLRF   xB0
09EA4:  CLRF   xB1
09EA6:  CLRF   xB2
09EA8:  CLRF   xB3
09EAA:  CLRF   xB4
09EAC:  CLRF   xB5
09EAE:  CLRF   xB6
09EB0:  CLRF   xB7
09EB2:  CLRF   xB8
09EB4:  CLRF   xB9
09EB6:  CLRF   xBA
09EB8:  CLRF   xBB
09EBA:  CLRF   xBC
09EBC:  CLRF   xBD
09EBE:  CLRF   xBE
09EC0:  CLRF   xBF
09EC2:  CLRF   xC0
09EC4:  CLRF   xC1
09EC6:  CLRF   xC2
09EC8:  CLRF   xC3
09ECA:  CLRF   xC4
09ECC:  CLRF   xC5
09ECE:  CLRF   xC6
09ED0:  CLRF   xC7
09ED2:  CLRF   xC8
09ED4:  CLRF   xC9
09ED6:  CLRF   xCA
09ED8:  CLRF   xCB
09EDA:  CLRF   xCC
09EDC:  CLRF   xCD
09EDE:  CLRF   xCE
09EE0:  CLRF   xCF
09EE2:  CLRF   xD0
09EE4:  CLRF   xD1
09EE6:  CLRF   xD2
09EE8:  CLRF   xD3
09EEA:  CLRF   xD4
09EEC:  CLRF   xD5
09EEE:  CLRF   xD6
09EF0:  CLRF   xD7
09EF2:  CLRF   xD8
09EF4:  CLRF   xD9
09EF6:  CLRF   xDA
09EF8:  CLRF   xDB
09EFA:  CLRF   xDC
09EFC:  CLRF   xDD
09EFE:  CLRF   xDE
09F00:  CLRF   xDF
09F02:  CLRF   xE0
09F04:  CLRF   xE1
09F06:  CLRF   xE2
09F08:  CLRF   xE3
09F0A:  CLRF   xE4
09F0C:  CLRF   xE5
09F0E:  CLRF   xE6
09F10:  CLRF   xE7
09F12:  CLRF   xE8
09F14:  CLRF   xE9
09F16:  CLRF   xEA
09F18:  CLRF   xEB
09F1A:  CLRF   xEC
09F1C:  CLRF   xED
09F1E:  CLRF   xEE
09F20:  CLRF   xEF
09F22:  CLRF   xF0
09F24:  CLRF   xF1
09F26:  CLRF   xF2
09F28:  CLRF   xF3
09F2A:  CLRF   xF4
09F2C:  CLRF   xF5
09F2E:  CLRF   xF6
09F30:  CLRF   xF7
09F32:  CLRF   xF8
09F34:  CLRF   xF9
09F36:  CLRF   xFA
09F38:  CLRF   xFB
09F3A:  CLRF   xFC
09F3C:  CLRF   xFD
09F3E:  CLRF   xFE
09F40:  CLRF   xFF
09F42:  MOVLB  6
09F44:  CLRF   x00
09F46:  CLRF   x01
09F48:  CLRF   x02
09F4A:  CLRF   x03
09F4C:  CLRF   x04
09F4E:  CLRF   x05
09F50:  CLRF   x06
09F52:  CLRF   x07
09F54:  CLRF   x08
09F56:  CLRF   x09
09F58:  CLRF   x0A
09F5A:  CLRF   x0B
09F5C:  CLRF   x0C
09F5E:  CLRF   x0D
09F60:  CLRF   x0E
09F62:  CLRF   x0F
09F64:  CLRF   x10
09F66:  CLRF   x11
09F68:  CLRF   x12
09F6A:  CLRF   x13
09F6C:  CLRF   x14
09F6E:  CLRF   x15
09F70:  CLRF   x16
09F72:  CLRF   x17
09F74:  CLRF   x18
09F76:  CLRF   x19
09F78:  CLRF   x1A
09F7A:  CLRF   x1B
09F7C:  CLRF   x1C
09F7E:  CLRF   x1D
09F80:  CLRF   x1E
09F82:  CLRF   x1F
09F84:  CLRF   x20
09F86:  CLRF   x21
09F88:  CLRF   x22
09F8A:  CLRF   x23
09F8C:  CLRF   x24
09F8E:  CLRF   x25
09F90:  CLRF   x26
09F92:  CLRF   x27
09F94:  CLRF   x28
09F96:  CLRF   x29
09F98:  CLRF   x2A
09F9A:  CLRF   x2B
09F9C:  CLRF   x2C
09F9E:  CLRF   x2D
09FA0:  CLRF   x2E
09FA2:  CLRF   x2F
09FA4:  CLRF   x30
09FA6:  CLRF   x31
09FA8:  CLRF   x32
09FAA:  CLRF   x33
09FAC:  CLRF   x34
09FAE:  CLRF   x35
09FB0:  CLRF   x36
09FB2:  CLRF   x37
09FB4:  CLRF   x38
09FB6:  CLRF   x39
09FB8:  CLRF   x3A
09FBA:  CLRF   x3B
09FBC:  CLRF   x3C
09FBE:  CLRF   x3D
09FC0:  CLRF   x3E
09FC2:  CLRF   x3F
09FC4:  CLRF   x40
09FC6:  CLRF   x41
09FC8:  CLRF   x42
09FCA:  CLRF   x43
09FCC:  CLRF   x44
09FCE:  CLRF   x45
09FD0:  CLRF   x46
09FD2:  CLRF   x47
09FD4:  CLRF   x48
09FD6:  CLRF   x49
09FD8:  CLRF   x4A
09FDA:  CLRF   x4B
09FDC:  CLRF   x4C
09FDE:  CLRF   x4D
09FE0:  CLRF   x4E
09FE2:  CLRF   x4F
09FE4:  CLRF   x50
09FE6:  CLRF   x51
09FE8:  CLRF   x52
09FEA:  CLRF   x53
09FEC:  CLRF   x54
09FEE:  CLRF   x55
09FF0:  CLRF   x56
09FF2:  CLRF   x57
09FF4:  CLRF   x58
09FF6:  CLRF   x59
09FF8:  CLRF   x5A
09FFA:  CLRF   x5B
09FFC:  CLRF   x5C
09FFE:  CLRF   x5D
0A000:  CLRF   x5E
0A002:  CLRF   x5F
0A004:  CLRF   x60
0A006:  CLRF   x61
0A008:  CLRF   x62
0A00A:  CLRF   x63
0A00C:  CLRF   x64
0A00E:  CLRF   x65
0A010:  CLRF   x66
0A012:  CLRF   x67
0A014:  CLRF   x68
0A016:  CLRF   x69
0A018:  CLRF   x6A
0A01A:  CLRF   x6B
0A01C:  CLRF   x6C
0A01E:  CLRF   x6D
0A020:  CLRF   x6E
0A022:  CLRF   x6F
0A024:  CLRF   x70
0A026:  CLRF   x71
0A028:  CLRF   x72
0A02A:  CLRF   x73
0A02C:  CLRF   x74
0A02E:  CLRF   x75
0A030:  CLRF   x76
0A032:  CLRF   x77
0A034:  CLRF   x78
0A036:  CLRF   x79
0A038:  CLRF   x7A
0A03A:  CLRF   x7B
0A03C:  CLRF   x7C
0A03E:  CLRF   x7D
0A040:  CLRF   x7E
0A042:  CLRF   x7F
0A044:  CLRF   x80
0A046:  CLRF   x81
0A048:  CLRF   x82
0A04A:  CLRF   x83
0A04C:  CLRF   x84
0A04E:  CLRF   x85
0A050:  CLRF   x86
0A052:  CLRF   x87
0A054:  CLRF   x88
0A056:  CLRF   x89
0A058:  CLRF   x8A
0A05A:  CLRF   x8B
0A05C:  CLRF   x8C
0A05E:  CLRF   x8D
0A060:  CLRF   x8E
0A062:  CLRF   x8F
0A064:  CLRF   x90
0A066:  CLRF   x91
0A068:  CLRF   x92
0A06A:  CLRF   x93
0A06C:  CLRF   x94
0A06E:  CLRF   x95
0A070:  CLRF   x96
0A072:  CLRF   x97
0A074:  CLRF   x98
0A076:  CLRF   x99
0A078:  CLRF   x9A
0A07A:  CLRF   x9B
0A07C:  CLRF   x9C
0A07E:  CLRF   x9D
0A080:  CLRF   x9E
0A082:  CLRF   x9F
0A084:  CLRF   xA0
0A086:  CLRF   xA1
0A088:  CLRF   xA2
0A08A:  CLRF   xA3
0A08C:  CLRF   xA4
0A08E:  CLRF   xA5
0A090:  CLRF   xA6
0A092:  CLRF   xA7
0A094:  CLRF   xA8
0A096:  CLRF   xA9
0A098:  CLRF   xAA
0A09A:  CLRF   xAB
0A09C:  CLRF   xAC
0A09E:  CLRF   xAD
0A0A0:  CLRF   xAE
0A0A2:  CLRF   xAF
0A0A4:  CLRF   xB0
0A0A6:  CLRF   xB1
0A0A8:  CLRF   xB2
0A0AA:  CLRF   xB3
0A0AC:  CLRF   xB4
0A0AE:  CLRF   xB5
0A0B0:  CLRF   xB6
0A0B2:  CLRF   xB7
0A0B4:  CLRF   xB8
0A0B6:  CLRF   xB9
0A0B8:  CLRF   xBA
0A0BA:  CLRF   xBB
0A0BC:  CLRF   xBC
0A0BE:  CLRF   xBD
0A0C0:  CLRF   xBE
0A0C2:  CLRF   xBF
0A0C4:  CLRF   xC0
0A0C6:  CLRF   xC1
0A0C8:  CLRF   xC2
0A0CA:  CLRF   xC3
0A0CC:  CLRF   xC4
0A0CE:  CLRF   xC5
0A0D0:  CLRF   xC6
0A0D2:  CLRF   xC7
0A0D4:  CLRF   xC8
0A0D6:  CLRF   xC9
0A0D8:  CLRF   xCA
0A0DA:  CLRF   xCB
0A0DC:  CLRF   xCC
0A0DE:  CLRF   xCD
0A0E0:  CLRF   xCE
0A0E2:  CLRF   xCF
0A0E4:  CLRF   xD0
0A0E6:  CLRF   xD1
0A0E8:  CLRF   xD2
0A0EA:  CLRF   xD3
0A0EC:  CLRF   xD4
0A0EE:  CLRF   xD5
0A0F0:  CLRF   xD6
0A0F2:  CLRF   xD7
0A0F4:  CLRF   xD8
0A0F6:  CLRF   xD9
0A0F8:  CLRF   xDA
0A0FA:  CLRF   xDB
0A0FC:  CLRF   xDC
0A0FE:  CLRF   xDD
0A100:  CLRF   xDE
0A102:  CLRF   xDF
0A104:  CLRF   xE0
0A106:  CLRF   xE1
0A108:  CLRF   xE2
0A10A:  CLRF   xE3
0A10C:  CLRF   xE4
0A10E:  CLRF   xE5
0A110:  CLRF   xE6
0A112:  CLRF   xE7
0A114:  CLRF   xE8
0A116:  CLRF   xE9
0A118:  CLRF   xEA
0A11A:  CLRF   xEB
0A11C:  CLRF   xEC
0A11E:  CLRF   xED
0A120:  CLRF   xEE
0A122:  CLRF   xEF
0A124:  CLRF   xF0
0A126:  CLRF   xF1
0A128:  CLRF   xF2
0A12A:  CLRF   xF3
0A12C:  CLRF   xF4
0A12E:  CLRF   xF5
0A130:  CLRF   xF6
0A132:  CLRF   xF7
0A134:  CLRF   xF8
0A136:  CLRF   xF9
0A138:  CLRF   xFA
0A13A:  CLRF   xFB
0A13C:  CLRF   xFC
0A13E:  CLRF   xFD
0A140:  CLRF   xFE
0A142:  CLRF   xFF
0A144:  MOVLB  7
0A146:  CLRF   x00
0A148:  CLRF   x01
0A14A:  CLRF   x02
0A14C:  CLRF   x03
0A14E:  CLRF   x04
0A150:  CLRF   x05
0A152:  CLRF   x06
0A154:  CLRF   x07
0A156:  CLRF   x08
0A158:  CLRF   x09
0A15A:  CLRF   x0A
0A15C:  CLRF   x0B
0A15E:  CLRF   x0C
0A160:  CLRF   x0D
0A162:  CLRF   x0E
0A164:  CLRF   x0F
0A166:  CLRF   x10
0A168:  CLRF   x11
0A16A:  CLRF   x12
0A16C:  CLRF   x13
0A16E:  CLRF   x14
0A170:  CLRF   x15
0A172:  CLRF   x16
0A174:  CLRF   x17
0A176:  CLRF   x18
0A178:  CLRF   x19
0A17A:  CLRF   x1A
0A17C:  CLRF   x1B
0A17E:  CLRF   x1C
0A180:  CLRF   x1D
0A182:  CLRF   x1E
0A184:  CLRF   x1F
0A186:  CLRF   x20
0A188:  CLRF   x21
0A18A:  CLRF   x22
0A18C:  CLRF   x23
0A18E:  CLRF   x24
0A190:  CLRF   x25
0A192:  CLRF   x26
0A194:  CLRF   x27
0A196:  CLRF   x28
0A198:  CLRF   x29
0A19A:  CLRF   x2A
0A19C:  CLRF   x2B
0A19E:  CLRF   x2C
0A1A0:  CLRF   x2D
0A1A2:  CLRF   x2E
0A1A4:  CLRF   x2F
0A1A6:  CLRF   x30
0A1A8:  CLRF   x31
0A1AA:  CLRF   x32
0A1AC:  CLRF   x33
0A1AE:  CLRF   x34
0A1B0:  CLRF   x35
0A1B2:  CLRF   x36
0A1B4:  CLRF   x37
0A1B6:  CLRF   x38
0A1B8:  CLRF   x39
0A1BA:  CLRF   x3A
0A1BC:  CLRF   x3B
0A1BE:  CLRF   x3C
0A1C0:  CLRF   x3D
0A1C2:  CLRF   x3E
0A1C4:  CLRF   x3F
0A1C6:  CLRF   x40
0A1C8:  CLRF   x41
0A1CA:  CLRF   x42
0A1CC:  CLRF   x43
0A1CE:  CLRF   x44
0A1D0:  CLRF   x45
0A1D2:  CLRF   x46
0A1D4:  CLRF   x47
0A1D6:  CLRF   x48
0A1D8:  CLRF   x49
0A1DA:  CLRF   x4A
0A1DC:  CLRF   x4B
0A1DE:  CLRF   x4C
0A1E0:  CLRF   x4D
0A1E2:  CLRF   x4E
0A1E4:  CLRF   x4F
0A1E6:  CLRF   x50
0A1E8:  CLRF   x51
0A1EA:  CLRF   x52
0A1EC:  CLRF   x53
0A1EE:  CLRF   x54
0A1F0:  CLRF   x55
0A1F2:  CLRF   x56
0A1F4:  CLRF   x57
0A1F6:  CLRF   x58
0A1F8:  CLRF   x59
0A1FA:  CLRF   x5A
0A1FC:  CLRF   x5B
0A1FE:  CLRF   x5C
0A200:  CLRF   x5D
0A202:  CLRF   x5E
0A204:  CLRF   x5F
0A206:  CLRF   x60
0A208:  CLRF   x61
0A20A:  CLRF   x62
0A20C:  CLRF   x63
0A20E:  CLRF   x64
0A210:  CLRF   x65
0A212:  CLRF   x66
0A214:  CLRF   x67
0A216:  CLRF   x68
0A218:  CLRF   x69
0A21A:  CLRF   x6A
0A21C:  CLRF   x6B
0A21E:  CLRF   x6C
0A220:  CLRF   x6D
0A222:  CLRF   x6E
0A224:  CLRF   x6F
0A226:  CLRF   x70
0A228:  CLRF   x71
0A22A:  CLRF   x72
0A22C:  CLRF   x73
0A22E:  CLRF   x74
0A230:  CLRF   x75
0A232:  CLRF   x76
0A234:  CLRF   x77
0A236:  CLRF   x78
0A238:  CLRF   x79
0A23A:  CLRF   x7A
0A23C:  CLRF   x7B
0A23E:  CLRF   x7C
0A240:  CLRF   x7D
0A242:  CLRF   x7E
0A244:  CLRF   x7F
0A246:  CLRF   x80
0A248:  CLRF   x81
0A24A:  CLRF   x82
0A24C:  CLRF   x83
0A24E:  CLRF   x84
0A250:  CLRF   x85
0A252:  CLRF   x86
0A254:  CLRF   x87
0A256:  CLRF   x88
0A258:  CLRF   x89
0A25A:  CLRF   x8A
0A25C:  CLRF   x8B
0A25E:  CLRF   x8C
0A260:  CLRF   x8D
0A262:  CLRF   x8E
0A264:  CLRF   x8F
0A266:  CLRF   x90
0A268:  CLRF   x91
0A26A:  CLRF   x92
0A26C:  CLRF   x93
0A26E:  CLRF   x94
0A270:  CLRF   x95
0A272:  CLRF   x96
0A274:  CLRF   x97
0A276:  CLRF   x98
0A278:  CLRF   x99
0A27A:  CLRF   x9A
0A27C:  CLRF   x9B
0A27E:  CLRF   x9C
0A280:  CLRF   x9D
0A282:  CLRF   x9E
0A284:  CLRF   x9F
0A286:  CLRF   xA0
0A288:  CLRF   xA1
0A28A:  CLRF   xA2
0A28C:  CLRF   xA3
0A28E:  CLRF   xA4
0A290:  CLRF   xA5
0A292:  CLRF   xA6
0A294:  CLRF   xA7
0A296:  CLRF   xA8
0A298:  CLRF   xA9
0A29A:  CLRF   xAA
0A29C:  CLRF   xAB
0A29E:  CLRF   xAC
0A2A0:  CLRF   xAD
0A2A2:  CLRF   xAE
0A2A4:  CLRF   xAF
0A2A6:  CLRF   xB0
0A2A8:  CLRF   xB1
0A2AA:  CLRF   xB2
0A2AC:  CLRF   xB3
0A2AE:  CLRF   xB4
0A2B0:  CLRF   xB5
0A2B2:  CLRF   xB6
0A2B4:  CLRF   xB7
0A2B6:  CLRF   xB8
0A2B8:  CLRF   xB9
0A2BA:  CLRF   xBA
0A2BC:  CLRF   xBB
0A2BE:  CLRF   xBC
0A2C0:  CLRF   xBD
0A2C2:  CLRF   xBE
0A2C4:  CLRF   xBF
0A2C6:  CLRF   xC0
0A2C8:  CLRF   xC1
0A2CA:  CLRF   xC2
0A2CC:  CLRF   xC3
0A2CE:  CLRF   xC4
0A2D0:  CLRF   xC5
0A2D2:  CLRF   xC6
0A2D4:  CLRF   xC7
0A2D6:  CLRF   xC8
0A2D8:  CLRF   xC9
0A2DA:  CLRF   xCA
0A2DC:  CLRF   xCB
0A2DE:  CLRF   xCC
0A2E0:  CLRF   xCD
0A2E2:  CLRF   xCE
0A2E4:  CLRF   xCF
0A2E6:  CLRF   xD0
0A2E8:  CLRF   xD1
0A2EA:  CLRF   xD2
0A2EC:  CLRF   xD3
0A2EE:  CLRF   xD4
0A2F0:  CLRF   xD5
0A2F2:  CLRF   xD6
0A2F4:  CLRF   xD7
0A2F6:  CLRF   xD8
0A2F8:  CLRF   xD9
0A2FA:  CLRF   xDA
0A2FC:  CLRF   xDB
0A2FE:  CLRF   xDC
0A300:  CLRF   xDD
0A302:  CLRF   xDE
0A304:  CLRF   xDF
0A306:  CLRF   xE0
0A308:  CLRF   xE1
0A30A:  CLRF   xE2
0A30C:  CLRF   xE3
0A30E:  CLRF   xE4
0A310:  CLRF   xE5
0A312:  CLRF   xE6
0A314:  CLRF   xE7
0A316:  CLRF   xE8
0A318:  CLRF   xE9
0A31A:  CLRF   xEA
0A31C:  CLRF   xEB
0A31E:  CLRF   xEC
0A320:  CLRF   xED
0A322:  CLRF   xEE
0A324:  CLRF   xEF
0A326:  CLRF   xF0
0A328:  CLRF   xF1
0A32A:  CLRF   xF2
....................     sweep_config_t *port2_ptr = &port2;
0A32C:  MOVLW  04
0A32E:  MOVWF  xF4
0A330:  MOVLW  EF
0A332:  MOVWF  xF3
....................     port2_ptr->port_num = 2;
0A334:  MOVF   xF3,W
0A336:  MOVWF  FE9
0A338:  MOVF   xF4,W
0A33A:  MOVWF  FEA
0A33C:  MOVLW  02
0A33E:  MOVWF  FEF
....................     port2_ptr->sweep_step = 0;
0A340:  MOVLW  01
0A342:  ADDWF  xF3,W
0A344:  MOVWF  FE9
0A346:  MOVLW  00
0A348:  ADDWFC xF4,W
0A34A:  MOVWF  FEA
0A34C:  CLRF   FEC
0A34E:  MOVF   FED,F
0A350:  CLRF   FEF
....................     port2_ptr->active = 1;
0A352:  MOVLW  03
0A354:  ADDWF  xF3,W
0A356:  MOVWF  FE9
0A358:  MOVLW  03
0A35A:  ADDWFC xF4,W
0A35C:  MOVWF  FEA
0A35E:  BSF    FEF.0
.................... 
....................     fprintf(PC,"PORT2, %u\r\n", port2_ptr->port_num);
0A360:  MOVF   xF3,W
0A362:  MOVWF  FE9
0A364:  MOVF   xF4,W
0A366:  MOVWF  FEA
0A368:  MOVFF  FEF,809
0A36C:  MOVLW  94
0A36E:  MOVWF  FF6
0A370:  MOVLW  06
0A372:  MOVWF  FF7
0A374:  MOVLW  00
0A376:  MOVWF  FF8
0A378:  MOVLW  07
0A37A:  MOVLB  A
0A37C:  MOVWF  x4E
0A37E:  MOVLB  0
0A380:  CALL   2104
0A384:  MOVFF  809,A4E
0A388:  MOVLW  1B
0A38A:  MOVLB  A
0A38C:  MOVWF  x4F
0A38E:  MOVLB  0
0A390:  CALL   8BFC
0A394:  MOVLW  0D
0A396:  BTFSS  FA6.6
0A398:  GOTO   A396
0A39C:  MOVLB  E
0A39E:  MOVWF  xF9
0A3A0:  MOVLW  0A
0A3A2:  MOVLB  0
0A3A4:  BTFSS  FA6.6
0A3A6:  GOTO   A3A4
0A3AA:  MOVLB  E
0A3AC:  MOVWF  xF9
....................     int16 count = 0;
0A3AE:  MOVLB  7
0A3B0:  CLRF   xF6
0A3B2:  CLRF   xF5
....................     
....................     // Initialize DACs to 0
....................     mcp4901_1_write(1);
0A3B4:  MOVLB  9
0A3B6:  CLRF   xDD
0A3B8:  MOVLW  01
0A3BA:  MOVWF  xDC
0A3BC:  MOVLB  0
0A3BE:  CALL   2664
....................     mcp4901_2_write(1);
0A3C2:  MOVLB  9
0A3C4:  CLRF   xDD
0A3C6:  MOVLW  01
0A3C8:  MOVWF  xDC
0A3CA:  MOVLB  0
0A3CC:  CALL   26A2
.................... 
....................     unsigned int16 volt;
....................     unsigned int16 curr;
....................     iv_env_t measured_data = create_meas_data();
....................     iv_env_t *measured_data_ptr = &measured_data;   
0A3D0:  CALL   8CB8
0A3D4:  MOVFF  02,03
0A3D8:  MOVF   01,W
0A3DA:  MOVWF  FE1
0A3DC:  MOVFF  03,FE2
0A3E0:  MOVLW  07
0A3E2:  MOVWF  FEA
0A3E4:  MOVLW  FB
0A3E6:  MOVWF  FE9
0A3E8:  MOVLW  0C
0A3EA:  MOVWF  01
0A3EC:  MOVFF  FE6,FEE
0A3F0:  DECFSZ 01,F
0A3F2:  GOTO   A3EC
0A3F6:  MOVLW  07
0A3F8:  MOVLB  8
0A3FA:  MOVWF  x08
0A3FC:  MOVLW  FB
0A3FE:  MOVWF  x07
0A400:  MOVLB  0
.................... 
....................     while (port1.active || port2.active)
0A402:  MOVLB  4
0A404:  BTFSS  xEC.0
0A406:  BRA    A40E
0A408:  MOVLB  0
0A40A:  GOTO   A41E
0A40E:  MOVLB  0
0A410:  MOVLB  7
0A412:  BTFSC  xF2.0
0A414:  BRA    A41C
0A416:  MOVLB  0
0A418:  GOTO   A77E
0A41C:  MOVLB  0
....................     {
....................         mcp4901_1_write(count);
0A41E:  MOVFF  7F6,9DD
0A422:  MOVFF  7F5,9DC
0A426:  CALL   2664
....................         mcp4901_2_write(count);
0A42A:  MOVFF  7F6,9DD
0A42E:  MOVFF  7F5,9DC
0A432:  CALL   26A2
....................         delay_us(10); 
0A436:  MOVLW  0D
0A438:  MOVWF  00
0A43A:  DECFSZ 00,F
0A43C:  BRA    A43A
....................         if (port1.active) {
0A43E:  MOVLB  4
0A440:  BTFSC  xEC.0
0A442:  BRA    A44A
0A444:  MOVLB  0
0A446:  GOTO   A5C6
0A44A:  MOVLB  0
....................             volt = ad7490_read(ADC_CIGS1_AMP);
0A44C:  MOVLW  02
0A44E:  MOVLB  9
0A450:  MOVWF  xEE
0A452:  MOVLB  0
0A454:  CALL   22B4
0A458:  MOVFF  02,7F8
0A45C:  MOVFF  01,7F7
....................             curr = ad7490_read(ADC_CIGS1_CURR);
0A460:  MOVLW  01
0A462:  MOVLB  9
0A464:  MOVWF  xEE
0A466:  MOVLB  0
0A468:  CALL   22B4
0A46C:  MOVFF  02,7FA
0A470:  MOVFF  01,7F9
....................             // ad7490_read_2port(ADC_CIGS1_AMP, ADC_CIGS1_CURR, &volt, &curr);
....................             // fprintf(PC, "%04LX,%04LX,", volt, curr);
....................             port1.data_buffer[count*3]= (volt  >> 4) & 0xFF;
0A474:  MOVFF  7F6,A53
0A478:  MOVFF  7F5,A52
0A47C:  MOVLB  A
0A47E:  CLRF   x55
0A480:  MOVLW  03
0A482:  MOVWF  x54
0A484:  MOVLB  0
0A486:  CALL   5E06
0A48A:  MOVFF  02,80A
0A48E:  MOVFF  01,809
0A492:  MOVLW  EC
0A494:  MOVLB  8
0A496:  ADDWF  x09,W
0A498:  MOVWF  FE9
0A49A:  MOVLW  01
0A49C:  ADDWFC x0A,W
0A49E:  MOVWF  FEA
0A4A0:  MOVLB  7
0A4A2:  RRCF   xF8,W
0A4A4:  MOVLB  8
0A4A6:  MOVWF  x0E
0A4A8:  MOVLB  7
0A4AA:  RRCF   xF7,W
0A4AC:  MOVLB  8
0A4AE:  MOVWF  x0D
0A4B0:  RRCF   x0E,F
0A4B2:  RRCF   x0D,F
0A4B4:  RRCF   x0E,F
0A4B6:  RRCF   x0D,F
0A4B8:  RRCF   x0E,F
0A4BA:  RRCF   x0D,F
0A4BC:  MOVLW  0F
0A4BE:  ANDWF  x0E,F
0A4C0:  MOVF   x0D,W
0A4C2:  MOVWF  00
0A4C4:  CLRF   03
0A4C6:  MOVF   00,W
0A4C8:  MOVWF  FEF
....................             port1.data_buffer[count*3+1]= ((volt & 0x0F) << 4) | ((curr >> 8) & 0x0F);
0A4CA:  MOVFF  7F6,A53
0A4CE:  MOVFF  7F5,A52
0A4D2:  MOVLB  A
0A4D4:  CLRF   x55
0A4D6:  MOVLW  03
0A4D8:  MOVWF  x54
0A4DA:  MOVLB  0
0A4DC:  CALL   5E06
0A4E0:  MOVFF  02,80A
0A4E4:  MOVFF  01,809
0A4E8:  MOVLW  01
0A4EA:  MOVLB  8
0A4EC:  ADDWF  x09,F
0A4EE:  MOVLW  00
0A4F0:  ADDWFC x0A,F
0A4F2:  MOVLW  EC
0A4F4:  ADDWF  x09,W
0A4F6:  MOVWF  FE9
0A4F8:  MOVLW  01
0A4FA:  ADDWFC x0A,W
0A4FC:  MOVWF  FEA
0A4FE:  MOVLB  7
0A500:  MOVF   xF7,W
0A502:  ANDLW  0F
0A504:  MOVLB  8
0A506:  MOVWF  x0D
0A508:  CLRF   x0E
0A50A:  RLCF   x0D,F
0A50C:  RLCF   x0E,F
0A50E:  RLCF   x0D,F
0A510:  RLCF   x0E,F
0A512:  RLCF   x0D,F
0A514:  RLCF   x0E,F
0A516:  RLCF   x0D,F
0A518:  RLCF   x0E,F
0A51A:  MOVLW  F0
0A51C:  ANDWF  x0D,F
0A51E:  MOVFF  7FA,80F
0A522:  CLRF   x10
0A524:  MOVF   x0F,W
0A526:  ANDLW  0F
0A528:  MOVWF  00
0A52A:  CLRF   03
0A52C:  MOVF   00,W
0A52E:  IORWF  x0D,W
0A530:  MOVWF  00
0A532:  MOVF   03,W
0A534:  IORWF  x0E,W
0A536:  MOVWF  03
0A538:  MOVF   00,W
0A53A:  MOVWF  FEF
....................             port1.data_buffer[count*3+2]= curr & 0xFF;
0A53C:  MOVFF  7F6,A53
0A540:  MOVFF  7F5,A52
0A544:  MOVLB  A
0A546:  CLRF   x55
0A548:  MOVLW  03
0A54A:  MOVWF  x54
0A54C:  MOVLB  0
0A54E:  CALL   5E06
0A552:  MOVFF  02,80A
0A556:  MOVFF  01,809
0A55A:  MOVLW  02
0A55C:  MOVLB  8
0A55E:  ADDWF  x09,F
0A560:  MOVLW  00
0A562:  ADDWFC x0A,F
0A564:  MOVLW  EC
0A566:  ADDWF  x09,W
0A568:  MOVWF  FE9
0A56A:  MOVLW  01
0A56C:  ADDWFC x0A,W
0A56E:  MOVWF  FEA
0A570:  MOVLB  7
0A572:  MOVF   xF9,W
0A574:  MOVWF  00
0A576:  CLRF   03
0A578:  MOVF   00,W
0A57A:  MOVWF  FEF
....................             port1.sweep_step = count + 1; 
0A57C:  MOVLW  01
0A57E:  ADDWF  xF5,W
0A580:  MOVLB  1
0A582:  MOVWF  xEA
0A584:  MOVLW  00
0A586:  MOVLB  7
0A588:  ADDWFC xF6,W
0A58A:  MOVLB  1
0A58C:  MOVWF  xEB
....................             // fprintf(PC, "%04LX,%04LX,", port1.data_buffer[count].voltage, port1.data_buffer[count].current);
....................             if (curr< curr_limit) {
0A58E:  MOVLB  7
0A590:  MOVF   xFA,W
0A592:  MOVLB  1
0A594:  SUBWF  xE2,W
0A596:  BTFSC  FD8.0
0A598:  BRA    A5A0
0A59A:  MOVLB  0
0A59C:  GOTO   A5C6
0A5A0:  MOVLB  0
0A5A2:  BTFSS  FD8.2
0A5A4:  GOTO   A5BC
0A5A8:  MOVLB  1
0A5AA:  MOVF   xE1,W
0A5AC:  MOVLB  7
0A5AE:  SUBWF  xF9,W
0A5B0:  BTFSS  FD8.0
0A5B2:  BRA    A5BA
0A5B4:  MOVLB  0
0A5B6:  GOTO   A5C6
0A5BA:  MOVLB  0
....................                 port1.active = 0;
0A5BC:  MOVLB  4
0A5BE:  BCF    xEC.0
....................                 disconnect_port1();
0A5C0:  MOVLB  0
0A5C2:  CALL   8D3A
....................             }
....................         }
....................         if (port2.active) {
0A5C6:  MOVLB  7
0A5C8:  BTFSC  xF2.0
0A5CA:  BRA    A5D2
0A5CC:  MOVLB  0
0A5CE:  GOTO   A74E
0A5D2:  MOVLB  0
....................             volt = ad7490_read(ADC_CIGS2_AMP);
0A5D4:  MOVLW  06
0A5D6:  MOVLB  9
0A5D8:  MOVWF  xEE
0A5DA:  MOVLB  0
0A5DC:  CALL   22B4
0A5E0:  MOVFF  02,7F8
0A5E4:  MOVFF  01,7F7
....................             curr = ad7490_read(ADC_CIGS2_CURR);
0A5E8:  MOVLW  05
0A5EA:  MOVLB  9
0A5EC:  MOVWF  xEE
0A5EE:  MOVLB  0
0A5F0:  CALL   22B4
0A5F4:  MOVFF  02,7FA
0A5F8:  MOVFF  01,7F9
....................             port2.data_buffer[count*3]= (volt  >> 4) & 0xFF;
0A5FC:  MOVFF  7F6,A53
0A600:  MOVFF  7F5,A52
0A604:  MOVLB  A
0A606:  CLRF   x55
0A608:  MOVLW  03
0A60A:  MOVWF  x54
0A60C:  MOVLB  0
0A60E:  CALL   5E06
0A612:  MOVFF  02,80A
0A616:  MOVFF  01,809
0A61A:  MOVLW  F2
0A61C:  MOVLB  8
0A61E:  ADDWF  x09,W
0A620:  MOVWF  FE9
0A622:  MOVLW  04
0A624:  ADDWFC x0A,W
0A626:  MOVWF  FEA
0A628:  MOVLB  7
0A62A:  RRCF   xF8,W
0A62C:  MOVLB  8
0A62E:  MOVWF  x0E
0A630:  MOVLB  7
0A632:  RRCF   xF7,W
0A634:  MOVLB  8
0A636:  MOVWF  x0D
0A638:  RRCF   x0E,F
0A63A:  RRCF   x0D,F
0A63C:  RRCF   x0E,F
0A63E:  RRCF   x0D,F
0A640:  RRCF   x0E,F
0A642:  RRCF   x0D,F
0A644:  MOVLW  0F
0A646:  ANDWF  x0E,F
0A648:  MOVF   x0D,W
0A64A:  MOVWF  00
0A64C:  CLRF   03
0A64E:  MOVF   00,W
0A650:  MOVWF  FEF
....................             port2.data_buffer[count*3+1]= ((volt & 0x0F) << 4) | ((curr >> 8) & 0x0F);
0A652:  MOVFF  7F6,A53
0A656:  MOVFF  7F5,A52
0A65A:  MOVLB  A
0A65C:  CLRF   x55
0A65E:  MOVLW  03
0A660:  MOVWF  x54
0A662:  MOVLB  0
0A664:  CALL   5E06
0A668:  MOVFF  02,80A
0A66C:  MOVFF  01,809
0A670:  MOVLW  01
0A672:  MOVLB  8
0A674:  ADDWF  x09,F
0A676:  MOVLW  00
0A678:  ADDWFC x0A,F
0A67A:  MOVLW  F2
0A67C:  ADDWF  x09,W
0A67E:  MOVWF  FE9
0A680:  MOVLW  04
0A682:  ADDWFC x0A,W
0A684:  MOVWF  FEA
0A686:  MOVLB  7
0A688:  MOVF   xF7,W
0A68A:  ANDLW  0F
0A68C:  MOVLB  8
0A68E:  MOVWF  x0D
0A690:  CLRF   x0E
0A692:  RLCF   x0D,F
0A694:  RLCF   x0E,F
0A696:  RLCF   x0D,F
0A698:  RLCF   x0E,F
0A69A:  RLCF   x0D,F
0A69C:  RLCF   x0E,F
0A69E:  RLCF   x0D,F
0A6A0:  RLCF   x0E,F
0A6A2:  MOVLW  F0
0A6A4:  ANDWF  x0D,F
0A6A6:  MOVFF  7FA,80F
0A6AA:  CLRF   x10
0A6AC:  MOVF   x0F,W
0A6AE:  ANDLW  0F
0A6B0:  MOVWF  00
0A6B2:  CLRF   03
0A6B4:  MOVF   00,W
0A6B6:  IORWF  x0D,W
0A6B8:  MOVWF  00
0A6BA:  MOVF   03,W
0A6BC:  IORWF  x0E,W
0A6BE:  MOVWF  03
0A6C0:  MOVF   00,W
0A6C2:  MOVWF  FEF
....................             port2.data_buffer[count*3+2]= curr & 0xFF;
0A6C4:  MOVFF  7F6,A53
0A6C8:  MOVFF  7F5,A52
0A6CC:  MOVLB  A
0A6CE:  CLRF   x55
0A6D0:  MOVLW  03
0A6D2:  MOVWF  x54
0A6D4:  MOVLB  0
0A6D6:  CALL   5E06
0A6DA:  MOVFF  02,80A
0A6DE:  MOVFF  01,809
0A6E2:  MOVLW  02
0A6E4:  MOVLB  8
0A6E6:  ADDWF  x09,F
0A6E8:  MOVLW  00
0A6EA:  ADDWFC x0A,F
0A6EC:  MOVLW  F2
0A6EE:  ADDWF  x09,W
0A6F0:  MOVWF  FE9
0A6F2:  MOVLW  04
0A6F4:  ADDWFC x0A,W
0A6F6:  MOVWF  FEA
0A6F8:  MOVLB  7
0A6FA:  MOVF   xF9,W
0A6FC:  MOVWF  00
0A6FE:  CLRF   03
0A700:  MOVF   00,W
0A702:  MOVWF  FEF
....................             port2.sweep_step = count + 1;
0A704:  MOVLW  01
0A706:  ADDWF  xF5,W
0A708:  MOVLB  4
0A70A:  MOVWF  xF0
0A70C:  MOVLW  00
0A70E:  MOVLB  7
0A710:  ADDWFC xF6,W
0A712:  MOVLB  4
0A714:  MOVWF  xF1
....................             if (curr < curr_limit) {
0A716:  MOVLB  7
0A718:  MOVF   xFA,W
0A71A:  MOVLB  1
0A71C:  SUBWF  xE2,W
0A71E:  BTFSC  FD8.0
0A720:  BRA    A728
0A722:  MOVLB  0
0A724:  GOTO   A74E
0A728:  MOVLB  0
0A72A:  BTFSS  FD8.2
0A72C:  GOTO   A744
0A730:  MOVLB  1
0A732:  MOVF   xE1,W
0A734:  MOVLB  7
0A736:  SUBWF  xF9,W
0A738:  BTFSS  FD8.0
0A73A:  BRA    A742
0A73C:  MOVLB  0
0A73E:  GOTO   A74E
0A742:  MOVLB  0
....................                 port2.active = 0;
0A744:  MOVLB  7
0A746:  BCF    xF2.0
....................                 disconnect_port2();
0A748:  MOVLB  0
0A74A:  CALL   8D42
....................             } 
....................         }
....................         count++;
0A74E:  MOVLB  7
0A750:  INCF   xF5,F
0A752:  BTFSC  FD8.2
0A754:  INCF   xF6,F
....................         if (count >= 255) {
0A756:  MOVF   xF6,F
0A758:  BTFSC  FD8.2
0A75A:  BRA    A762
0A75C:  MOVLB  0
0A75E:  GOTO   A776
0A762:  MOVLB  0
0A764:  MOVLB  7
0A766:  MOVF   xF5,W
0A768:  SUBLW  FE
0A76A:  BTFSS  FD8.0
0A76C:  BRA    A774
0A76E:  MOVLB  0
0A770:  GOTO   A77A
0A774:  MOVLB  0
....................             // fprintf(PC, "Maximum step count reached: %ld\r\n", count);
....................             break;
0A776:  GOTO   A77E
....................         }
0A77A:  GOTO   A402
....................     }
....................     // unsigned int32 end_time_ms = get_current_msec();
....................     // Ensure all connections are disabled3
....................     disconnect_port1();
0A77E:  CALL   8D3A
....................     disconnect_port2();
0A782:  CALL   8D42
....................     log_meas_data(measured_data_ptr, port1_ptr);
0A786:  MOVFF  808,9C3
0A78A:  MOVFF  807,9C2
0A78E:  MOVFF  4EE,9C5
0A792:  MOVFF  4ED,9C4
0A796:  CALL   8D4A
....................     log_meas_data(measured_data_ptr, port2_ptr);
0A79A:  MOVFF  808,9C3
0A79E:  MOVFF  807,9C2
0A7A2:  MOVFF  7F4,9C5
0A7A6:  MOVFF  7F3,9C4
0A7AA:  CALL   8D4A
0A7AE:  RETURN 0
.................... }
.................... 
.................... 
.................... void sweep_port1(unsigned int16 curr_limit)
*
0E93E:  CALL   3A08
0E942:  MOVFF  03,1CD
0E946:  MOVFF  02,1CC
0E94A:  MOVFF  01,1CB
0E94E:  MOVFF  00,1CA
.................... {
....................     unsigned int32 start_time_ms = get_current_sec();
....................     fputc('.', PC);
0E952:  MOVLW  2E
0E954:  CALL   8BA6
....................     // Enable both CIGS ports
....................     connect_port1();
0E958:  CALL   5004
.................... 
....................     // Init Port1
....................     sweep_config_t port1 = {0};
0E95C:  MOVLB  1
0E95E:  CLRF   xCE
0E960:  CLRF   xCF
0E962:  CLRF   xD0
0E964:  CLRF   xD1
0E966:  CLRF   xD2
0E968:  CLRF   xD3
0E96A:  CLRF   xD4
0E96C:  CLRF   xD5
0E96E:  CLRF   xD6
0E970:  CLRF   xD7
0E972:  CLRF   xD8
0E974:  CLRF   xD9
0E976:  CLRF   xDA
0E978:  CLRF   xDB
0E97A:  CLRF   xDC
0E97C:  CLRF   xDD
0E97E:  CLRF   xDE
0E980:  CLRF   xDF
0E982:  CLRF   xE0
0E984:  CLRF   xE1
0E986:  CLRF   xE2
0E988:  CLRF   xE3
0E98A:  CLRF   xE4
0E98C:  CLRF   xE5
0E98E:  CLRF   xE6
0E990:  CLRF   xE7
0E992:  CLRF   xE8
0E994:  CLRF   xE9
0E996:  CLRF   xEA
0E998:  CLRF   xEB
0E99A:  CLRF   xEC
0E99C:  CLRF   xED
0E99E:  CLRF   xEE
0E9A0:  CLRF   xEF
0E9A2:  CLRF   xF0
0E9A4:  CLRF   xF1
0E9A6:  CLRF   xF2
0E9A8:  CLRF   xF3
0E9AA:  CLRF   xF4
0E9AC:  CLRF   xF5
0E9AE:  CLRF   xF6
0E9B0:  CLRF   xF7
0E9B2:  CLRF   xF8
0E9B4:  CLRF   xF9
0E9B6:  CLRF   xFA
0E9B8:  CLRF   xFB
0E9BA:  CLRF   xFC
0E9BC:  CLRF   xFD
0E9BE:  CLRF   xFE
0E9C0:  CLRF   xFF
0E9C2:  MOVLB  2
0E9C4:  CLRF   x00
0E9C6:  CLRF   x01
0E9C8:  CLRF   x02
0E9CA:  CLRF   x03
0E9CC:  CLRF   x04
0E9CE:  CLRF   x05
0E9D0:  CLRF   x06
0E9D2:  CLRF   x07
0E9D4:  CLRF   x08
0E9D6:  CLRF   x09
0E9D8:  CLRF   x0A
0E9DA:  CLRF   x0B
0E9DC:  CLRF   x0C
0E9DE:  CLRF   x0D
0E9E0:  CLRF   x0E
0E9E2:  CLRF   x0F
0E9E4:  CLRF   x10
0E9E6:  CLRF   x11
0E9E8:  CLRF   x12
0E9EA:  CLRF   x13
0E9EC:  CLRF   x14
0E9EE:  CLRF   x15
0E9F0:  CLRF   x16
0E9F2:  CLRF   x17
0E9F4:  CLRF   x18
0E9F6:  CLRF   x19
0E9F8:  CLRF   x1A
0E9FA:  CLRF   x1B
0E9FC:  CLRF   x1C
0E9FE:  CLRF   x1D
0EA00:  CLRF   x1E
0EA02:  CLRF   x1F
0EA04:  CLRF   x20
0EA06:  CLRF   x21
0EA08:  CLRF   x22
0EA0A:  CLRF   x23
0EA0C:  CLRF   x24
0EA0E:  CLRF   x25
0EA10:  CLRF   x26
0EA12:  CLRF   x27
0EA14:  CLRF   x28
0EA16:  CLRF   x29
0EA18:  CLRF   x2A
0EA1A:  CLRF   x2B
0EA1C:  CLRF   x2C
0EA1E:  CLRF   x2D
0EA20:  CLRF   x2E
0EA22:  CLRF   x2F
0EA24:  CLRF   x30
0EA26:  CLRF   x31
0EA28:  CLRF   x32
0EA2A:  CLRF   x33
0EA2C:  CLRF   x34
0EA2E:  CLRF   x35
0EA30:  CLRF   x36
0EA32:  CLRF   x37
0EA34:  CLRF   x38
0EA36:  CLRF   x39
0EA38:  CLRF   x3A
0EA3A:  CLRF   x3B
0EA3C:  CLRF   x3C
0EA3E:  CLRF   x3D
0EA40:  CLRF   x3E
0EA42:  CLRF   x3F
0EA44:  CLRF   x40
0EA46:  CLRF   x41
0EA48:  CLRF   x42
0EA4A:  CLRF   x43
0EA4C:  CLRF   x44
0EA4E:  CLRF   x45
0EA50:  CLRF   x46
0EA52:  CLRF   x47
0EA54:  CLRF   x48
0EA56:  CLRF   x49
0EA58:  CLRF   x4A
0EA5A:  CLRF   x4B
0EA5C:  CLRF   x4C
0EA5E:  CLRF   x4D
0EA60:  CLRF   x4E
0EA62:  CLRF   x4F
0EA64:  CLRF   x50
0EA66:  CLRF   x51
0EA68:  CLRF   x52
0EA6A:  CLRF   x53
0EA6C:  CLRF   x54
0EA6E:  CLRF   x55
0EA70:  CLRF   x56
0EA72:  CLRF   x57
0EA74:  CLRF   x58
0EA76:  CLRF   x59
0EA78:  CLRF   x5A
0EA7A:  CLRF   x5B
0EA7C:  CLRF   x5C
0EA7E:  CLRF   x5D
0EA80:  CLRF   x5E
0EA82:  CLRF   x5F
0EA84:  CLRF   x60
0EA86:  CLRF   x61
0EA88:  CLRF   x62
0EA8A:  CLRF   x63
0EA8C:  CLRF   x64
0EA8E:  CLRF   x65
0EA90:  CLRF   x66
0EA92:  CLRF   x67
0EA94:  CLRF   x68
0EA96:  CLRF   x69
0EA98:  CLRF   x6A
0EA9A:  CLRF   x6B
0EA9C:  CLRF   x6C
0EA9E:  CLRF   x6D
0EAA0:  CLRF   x6E
0EAA2:  CLRF   x6F
0EAA4:  CLRF   x70
0EAA6:  CLRF   x71
0EAA8:  CLRF   x72
0EAAA:  CLRF   x73
0EAAC:  CLRF   x74
0EAAE:  CLRF   x75
0EAB0:  CLRF   x76
0EAB2:  CLRF   x77
0EAB4:  CLRF   x78
0EAB6:  CLRF   x79
0EAB8:  CLRF   x7A
0EABA:  CLRF   x7B
0EABC:  CLRF   x7C
0EABE:  CLRF   x7D
0EAC0:  CLRF   x7E
0EAC2:  CLRF   x7F
0EAC4:  CLRF   x80
0EAC6:  CLRF   x81
0EAC8:  CLRF   x82
0EACA:  CLRF   x83
0EACC:  CLRF   x84
0EACE:  CLRF   x85
0EAD0:  CLRF   x86
0EAD2:  CLRF   x87
0EAD4:  CLRF   x88
0EAD6:  CLRF   x89
0EAD8:  CLRF   x8A
0EADA:  CLRF   x8B
0EADC:  CLRF   x8C
0EADE:  CLRF   x8D
0EAE0:  CLRF   x8E
0EAE2:  CLRF   x8F
0EAE4:  CLRF   x90
0EAE6:  CLRF   x91
0EAE8:  CLRF   x92
0EAEA:  CLRF   x93
0EAEC:  CLRF   x94
0EAEE:  CLRF   x95
0EAF0:  CLRF   x96
0EAF2:  CLRF   x97
0EAF4:  CLRF   x98
0EAF6:  CLRF   x99
0EAF8:  CLRF   x9A
0EAFA:  CLRF   x9B
0EAFC:  CLRF   x9C
0EAFE:  CLRF   x9D
0EB00:  CLRF   x9E
0EB02:  CLRF   x9F
0EB04:  CLRF   xA0
0EB06:  CLRF   xA1
0EB08:  CLRF   xA2
0EB0A:  CLRF   xA3
0EB0C:  CLRF   xA4
0EB0E:  CLRF   xA5
0EB10:  CLRF   xA6
0EB12:  CLRF   xA7
0EB14:  CLRF   xA8
0EB16:  CLRF   xA9
0EB18:  CLRF   xAA
0EB1A:  CLRF   xAB
0EB1C:  CLRF   xAC
0EB1E:  CLRF   xAD
0EB20:  CLRF   xAE
0EB22:  CLRF   xAF
0EB24:  CLRF   xB0
0EB26:  CLRF   xB1
0EB28:  CLRF   xB2
0EB2A:  CLRF   xB3
0EB2C:  CLRF   xB4
0EB2E:  CLRF   xB5
0EB30:  CLRF   xB6
0EB32:  CLRF   xB7
0EB34:  CLRF   xB8
0EB36:  CLRF   xB9
0EB38:  CLRF   xBA
0EB3A:  CLRF   xBB
0EB3C:  CLRF   xBC
0EB3E:  CLRF   xBD
0EB40:  CLRF   xBE
0EB42:  CLRF   xBF
0EB44:  CLRF   xC0
0EB46:  CLRF   xC1
0EB48:  CLRF   xC2
0EB4A:  CLRF   xC3
0EB4C:  CLRF   xC4
0EB4E:  CLRF   xC5
0EB50:  CLRF   xC6
0EB52:  CLRF   xC7
0EB54:  CLRF   xC8
0EB56:  CLRF   xC9
0EB58:  CLRF   xCA
0EB5A:  CLRF   xCB
0EB5C:  CLRF   xCC
0EB5E:  CLRF   xCD
0EB60:  CLRF   xCE
0EB62:  CLRF   xCF
0EB64:  CLRF   xD0
0EB66:  CLRF   xD1
0EB68:  CLRF   xD2
0EB6A:  CLRF   xD3
0EB6C:  CLRF   xD4
0EB6E:  CLRF   xD5
0EB70:  CLRF   xD6
0EB72:  CLRF   xD7
0EB74:  CLRF   xD8
0EB76:  CLRF   xD9
0EB78:  CLRF   xDA
0EB7A:  CLRF   xDB
0EB7C:  CLRF   xDC
0EB7E:  CLRF   xDD
0EB80:  CLRF   xDE
0EB82:  CLRF   xDF
0EB84:  CLRF   xE0
0EB86:  CLRF   xE1
0EB88:  CLRF   xE2
0EB8A:  CLRF   xE3
0EB8C:  CLRF   xE4
0EB8E:  CLRF   xE5
0EB90:  CLRF   xE6
0EB92:  CLRF   xE7
0EB94:  CLRF   xE8
0EB96:  CLRF   xE9
0EB98:  CLRF   xEA
0EB9A:  CLRF   xEB
0EB9C:  CLRF   xEC
0EB9E:  CLRF   xED
0EBA0:  CLRF   xEE
0EBA2:  CLRF   xEF
0EBA4:  CLRF   xF0
0EBA6:  CLRF   xF1
0EBA8:  CLRF   xF2
0EBAA:  CLRF   xF3
0EBAC:  CLRF   xF4
0EBAE:  CLRF   xF5
0EBB0:  CLRF   xF6
0EBB2:  CLRF   xF7
0EBB4:  CLRF   xF8
0EBB6:  CLRF   xF9
0EBB8:  CLRF   xFA
0EBBA:  CLRF   xFB
0EBBC:  CLRF   xFC
0EBBE:  CLRF   xFD
0EBC0:  CLRF   xFE
0EBC2:  CLRF   xFF
0EBC4:  MOVLB  3
0EBC6:  CLRF   x00
0EBC8:  CLRF   x01
0EBCA:  CLRF   x02
0EBCC:  CLRF   x03
0EBCE:  CLRF   x04
0EBD0:  CLRF   x05
0EBD2:  CLRF   x06
0EBD4:  CLRF   x07
0EBD6:  CLRF   x08
0EBD8:  CLRF   x09
0EBDA:  CLRF   x0A
0EBDC:  CLRF   x0B
0EBDE:  CLRF   x0C
0EBE0:  CLRF   x0D
0EBE2:  CLRF   x0E
0EBE4:  CLRF   x0F
0EBE6:  CLRF   x10
0EBE8:  CLRF   x11
0EBEA:  CLRF   x12
0EBEC:  CLRF   x13
0EBEE:  CLRF   x14
0EBF0:  CLRF   x15
0EBF2:  CLRF   x16
0EBF4:  CLRF   x17
0EBF6:  CLRF   x18
0EBF8:  CLRF   x19
0EBFA:  CLRF   x1A
0EBFC:  CLRF   x1B
0EBFE:  CLRF   x1C
0EC00:  CLRF   x1D
0EC02:  CLRF   x1E
0EC04:  CLRF   x1F
0EC06:  CLRF   x20
0EC08:  CLRF   x21
0EC0A:  CLRF   x22
0EC0C:  CLRF   x23
0EC0E:  CLRF   x24
0EC10:  CLRF   x25
0EC12:  CLRF   x26
0EC14:  CLRF   x27
0EC16:  CLRF   x28
0EC18:  CLRF   x29
0EC1A:  CLRF   x2A
0EC1C:  CLRF   x2B
0EC1E:  CLRF   x2C
0EC20:  CLRF   x2D
0EC22:  CLRF   x2E
0EC24:  CLRF   x2F
0EC26:  CLRF   x30
0EC28:  CLRF   x31
0EC2A:  CLRF   x32
0EC2C:  CLRF   x33
0EC2E:  CLRF   x34
0EC30:  CLRF   x35
0EC32:  CLRF   x36
0EC34:  CLRF   x37
0EC36:  CLRF   x38
0EC38:  CLRF   x39
0EC3A:  CLRF   x3A
0EC3C:  CLRF   x3B
0EC3E:  CLRF   x3C
0EC40:  CLRF   x3D
0EC42:  CLRF   x3E
0EC44:  CLRF   x3F
0EC46:  CLRF   x40
0EC48:  CLRF   x41
0EC4A:  CLRF   x42
0EC4C:  CLRF   x43
0EC4E:  CLRF   x44
0EC50:  CLRF   x45
0EC52:  CLRF   x46
0EC54:  CLRF   x47
0EC56:  CLRF   x48
0EC58:  CLRF   x49
0EC5A:  CLRF   x4A
0EC5C:  CLRF   x4B
0EC5E:  CLRF   x4C
0EC60:  CLRF   x4D
0EC62:  CLRF   x4E
0EC64:  CLRF   x4F
0EC66:  CLRF   x50
0EC68:  CLRF   x51
0EC6A:  CLRF   x52
0EC6C:  CLRF   x53
0EC6E:  CLRF   x54
0EC70:  CLRF   x55
0EC72:  CLRF   x56
0EC74:  CLRF   x57
0EC76:  CLRF   x58
0EC78:  CLRF   x59
0EC7A:  CLRF   x5A
0EC7C:  CLRF   x5B
0EC7E:  CLRF   x5C
0EC80:  CLRF   x5D
0EC82:  CLRF   x5E
0EC84:  CLRF   x5F
0EC86:  CLRF   x60
0EC88:  CLRF   x61
0EC8A:  CLRF   x62
0EC8C:  CLRF   x63
0EC8E:  CLRF   x64
0EC90:  CLRF   x65
0EC92:  CLRF   x66
0EC94:  CLRF   x67
0EC96:  CLRF   x68
0EC98:  CLRF   x69
0EC9A:  CLRF   x6A
0EC9C:  CLRF   x6B
0EC9E:  CLRF   x6C
0ECA0:  CLRF   x6D
0ECA2:  CLRF   x6E
0ECA4:  CLRF   x6F
0ECA6:  CLRF   x70
0ECA8:  CLRF   x71
0ECAA:  CLRF   x72
0ECAC:  CLRF   x73
0ECAE:  CLRF   x74
0ECB0:  CLRF   x75
0ECB2:  CLRF   x76
0ECB4:  CLRF   x77
0ECB6:  CLRF   x78
0ECB8:  CLRF   x79
0ECBA:  CLRF   x7A
0ECBC:  CLRF   x7B
0ECBE:  CLRF   x7C
0ECC0:  CLRF   x7D
0ECC2:  CLRF   x7E
0ECC4:  CLRF   x7F
0ECC6:  CLRF   x80
0ECC8:  CLRF   x81
0ECCA:  CLRF   x82
0ECCC:  CLRF   x83
0ECCE:  CLRF   x84
0ECD0:  CLRF   x85
0ECD2:  CLRF   x86
0ECD4:  CLRF   x87
0ECD6:  CLRF   x88
0ECD8:  CLRF   x89
0ECDA:  CLRF   x8A
0ECDC:  CLRF   x8B
0ECDE:  CLRF   x8C
0ECE0:  CLRF   x8D
0ECE2:  CLRF   x8E
0ECE4:  CLRF   x8F
0ECE6:  CLRF   x90
0ECE8:  CLRF   x91
0ECEA:  CLRF   x92
0ECEC:  CLRF   x93
0ECEE:  CLRF   x94
0ECF0:  CLRF   x95
0ECF2:  CLRF   x96
0ECF4:  CLRF   x97
0ECF6:  CLRF   x98
0ECF8:  CLRF   x99
0ECFA:  CLRF   x9A
0ECFC:  CLRF   x9B
0ECFE:  CLRF   x9C
0ED00:  CLRF   x9D
0ED02:  CLRF   x9E
0ED04:  CLRF   x9F
0ED06:  CLRF   xA0
0ED08:  CLRF   xA1
0ED0A:  CLRF   xA2
0ED0C:  CLRF   xA3
0ED0E:  CLRF   xA4
0ED10:  CLRF   xA5
0ED12:  CLRF   xA6
0ED14:  CLRF   xA7
0ED16:  CLRF   xA8
0ED18:  CLRF   xA9
0ED1A:  CLRF   xAA
0ED1C:  CLRF   xAB
0ED1E:  CLRF   xAC
0ED20:  CLRF   xAD
0ED22:  CLRF   xAE
0ED24:  CLRF   xAF
0ED26:  CLRF   xB0
0ED28:  CLRF   xB1
0ED2A:  CLRF   xB2
0ED2C:  CLRF   xB3
0ED2E:  CLRF   xB4
0ED30:  CLRF   xB5
0ED32:  CLRF   xB6
0ED34:  CLRF   xB7
0ED36:  CLRF   xB8
0ED38:  CLRF   xB9
0ED3A:  CLRF   xBA
0ED3C:  CLRF   xBB
0ED3E:  CLRF   xBC
0ED40:  CLRF   xBD
0ED42:  CLRF   xBE
0ED44:  CLRF   xBF
0ED46:  CLRF   xC0
0ED48:  CLRF   xC1
0ED4A:  CLRF   xC2
0ED4C:  CLRF   xC3
0ED4E:  CLRF   xC4
0ED50:  CLRF   xC5
0ED52:  CLRF   xC6
0ED54:  CLRF   xC7
0ED56:  CLRF   xC8
0ED58:  CLRF   xC9
0ED5A:  CLRF   xCA
0ED5C:  CLRF   xCB
0ED5E:  CLRF   xCC
0ED60:  CLRF   xCD
0ED62:  CLRF   xCE
0ED64:  CLRF   xCF
0ED66:  CLRF   xD0
0ED68:  CLRF   xD1
0ED6A:  CLRF   xD2
0ED6C:  CLRF   xD3
0ED6E:  CLRF   xD4
0ED70:  CLRF   xD5
0ED72:  CLRF   xD6
0ED74:  CLRF   xD7
0ED76:  CLRF   xD8
0ED78:  CLRF   xD9
0ED7A:  CLRF   xDA
0ED7C:  CLRF   xDB
0ED7E:  CLRF   xDC
0ED80:  CLRF   xDD
0ED82:  CLRF   xDE
0ED84:  CLRF   xDF
0ED86:  CLRF   xE0
0ED88:  CLRF   xE1
0ED8A:  CLRF   xE2
0ED8C:  CLRF   xE3
0ED8E:  CLRF   xE4
0ED90:  CLRF   xE5
0ED92:  CLRF   xE6
0ED94:  CLRF   xE7
0ED96:  CLRF   xE8
0ED98:  CLRF   xE9
0ED9A:  CLRF   xEA
0ED9C:  CLRF   xEB
0ED9E:  CLRF   xEC
0EDA0:  CLRF   xED
0EDA2:  CLRF   xEE
0EDA4:  CLRF   xEF
0EDA6:  CLRF   xF0
0EDA8:  CLRF   xF1
0EDAA:  CLRF   xF2
0EDAC:  CLRF   xF3
0EDAE:  CLRF   xF4
0EDB0:  CLRF   xF5
0EDB2:  CLRF   xF6
0EDB4:  CLRF   xF7
0EDB6:  CLRF   xF8
0EDB8:  CLRF   xF9
0EDBA:  CLRF   xFA
0EDBC:  CLRF   xFB
0EDBE:  CLRF   xFC
0EDC0:  CLRF   xFD
0EDC2:  CLRF   xFE
0EDC4:  CLRF   xFF
0EDC6:  MOVLB  4
0EDC8:  CLRF   x00
0EDCA:  CLRF   x01
0EDCC:  CLRF   x02
0EDCE:  CLRF   x03
0EDD0:  CLRF   x04
0EDD2:  CLRF   x05
0EDD4:  CLRF   x06
0EDD6:  CLRF   x07
0EDD8:  CLRF   x08
0EDDA:  CLRF   x09
0EDDC:  CLRF   x0A
0EDDE:  CLRF   x0B
0EDE0:  CLRF   x0C
0EDE2:  CLRF   x0D
0EDE4:  CLRF   x0E
0EDE6:  CLRF   x0F
0EDE8:  CLRF   x10
0EDEA:  CLRF   x11
0EDEC:  CLRF   x12
0EDEE:  CLRF   x13
0EDF0:  CLRF   x14
0EDF2:  CLRF   x15
0EDF4:  CLRF   x16
0EDF6:  CLRF   x17
0EDF8:  CLRF   x18
0EDFA:  CLRF   x19
0EDFC:  CLRF   x1A
0EDFE:  CLRF   x1B
0EE00:  CLRF   x1C
0EE02:  CLRF   x1D
0EE04:  CLRF   x1E
0EE06:  CLRF   x1F
0EE08:  CLRF   x20
0EE0A:  CLRF   x21
0EE0C:  CLRF   x22
0EE0E:  CLRF   x23
0EE10:  CLRF   x24
0EE12:  CLRF   x25
0EE14:  CLRF   x26
0EE16:  CLRF   x27
0EE18:  CLRF   x28
0EE1A:  CLRF   x29
0EE1C:  CLRF   x2A
0EE1E:  CLRF   x2B
0EE20:  CLRF   x2C
0EE22:  CLRF   x2D
0EE24:  CLRF   x2E
0EE26:  CLRF   x2F
0EE28:  CLRF   x30
0EE2A:  CLRF   x31
0EE2C:  CLRF   x32
0EE2E:  CLRF   x33
0EE30:  CLRF   x34
0EE32:  CLRF   x35
0EE34:  CLRF   x36
0EE36:  CLRF   x37
0EE38:  CLRF   x38
0EE3A:  CLRF   x39
0EE3C:  CLRF   x3A
0EE3E:  CLRF   x3B
0EE40:  CLRF   x3C
0EE42:  CLRF   x3D
0EE44:  CLRF   x3E
0EE46:  CLRF   x3F
0EE48:  CLRF   x40
0EE4A:  CLRF   x41
0EE4C:  CLRF   x42
0EE4E:  CLRF   x43
0EE50:  CLRF   x44
0EE52:  CLRF   x45
0EE54:  CLRF   x46
0EE56:  CLRF   x47
0EE58:  CLRF   x48
0EE5A:  CLRF   x49
0EE5C:  CLRF   x4A
0EE5E:  CLRF   x4B
0EE60:  CLRF   x4C
0EE62:  CLRF   x4D
0EE64:  CLRF   x4E
0EE66:  CLRF   x4F
0EE68:  CLRF   x50
0EE6A:  CLRF   x51
0EE6C:  CLRF   x52
0EE6E:  CLRF   x53
0EE70:  CLRF   x54
0EE72:  CLRF   x55
0EE74:  CLRF   x56
0EE76:  CLRF   x57
0EE78:  CLRF   x58
0EE7A:  CLRF   x59
0EE7C:  CLRF   x5A
0EE7E:  CLRF   x5B
0EE80:  CLRF   x5C
0EE82:  CLRF   x5D
0EE84:  CLRF   x5E
0EE86:  CLRF   x5F
0EE88:  CLRF   x60
0EE8A:  CLRF   x61
0EE8C:  CLRF   x62
0EE8E:  CLRF   x63
0EE90:  CLRF   x64
0EE92:  CLRF   x65
0EE94:  CLRF   x66
0EE96:  CLRF   x67
0EE98:  CLRF   x68
0EE9A:  CLRF   x69
0EE9C:  CLRF   x6A
0EE9E:  CLRF   x6B
0EEA0:  CLRF   x6C
0EEA2:  CLRF   x6D
0EEA4:  CLRF   x6E
0EEA6:  CLRF   x6F
0EEA8:  CLRF   x70
0EEAA:  CLRF   x71
0EEAC:  CLRF   x72
0EEAE:  CLRF   x73
0EEB0:  CLRF   x74
0EEB2:  CLRF   x75
0EEB4:  CLRF   x76
0EEB6:  CLRF   x77
0EEB8:  CLRF   x78
0EEBA:  CLRF   x79
0EEBC:  CLRF   x7A
0EEBE:  CLRF   x7B
0EEC0:  CLRF   x7C
0EEC2:  CLRF   x7D
0EEC4:  CLRF   x7E
0EEC6:  CLRF   x7F
0EEC8:  CLRF   x80
0EECA:  CLRF   x81
0EECC:  CLRF   x82
0EECE:  CLRF   x83
0EED0:  CLRF   x84
0EED2:  CLRF   x85
0EED4:  CLRF   x86
0EED6:  CLRF   x87
0EED8:  CLRF   x88
0EEDA:  CLRF   x89
0EEDC:  CLRF   x8A
0EEDE:  CLRF   x8B
0EEE0:  CLRF   x8C
0EEE2:  CLRF   x8D
0EEE4:  CLRF   x8E
0EEE6:  CLRF   x8F
0EEE8:  CLRF   x90
0EEEA:  CLRF   x91
0EEEC:  CLRF   x92
0EEEE:  CLRF   x93
0EEF0:  CLRF   x94
0EEF2:  CLRF   x95
0EEF4:  CLRF   x96
0EEF6:  CLRF   x97
0EEF8:  CLRF   x98
0EEFA:  CLRF   x99
0EEFC:  CLRF   x9A
0EEFE:  CLRF   x9B
0EF00:  CLRF   x9C
0EF02:  CLRF   x9D
0EF04:  CLRF   x9E
0EF06:  CLRF   x9F
0EF08:  CLRF   xA0
0EF0A:  CLRF   xA1
0EF0C:  CLRF   xA2
0EF0E:  CLRF   xA3
0EF10:  CLRF   xA4
0EF12:  CLRF   xA5
0EF14:  CLRF   xA6
0EF16:  CLRF   xA7
0EF18:  CLRF   xA8
0EF1A:  CLRF   xA9
0EF1C:  CLRF   xAA
0EF1E:  CLRF   xAB
0EF20:  CLRF   xAC
0EF22:  CLRF   xAD
0EF24:  CLRF   xAE
0EF26:  CLRF   xAF
0EF28:  CLRF   xB0
0EF2A:  CLRF   xB1
0EF2C:  CLRF   xB2
0EF2E:  CLRF   xB3
0EF30:  CLRF   xB4
0EF32:  CLRF   xB5
0EF34:  CLRF   xB6
0EF36:  CLRF   xB7
0EF38:  CLRF   xB8
0EF3A:  CLRF   xB9
0EF3C:  CLRF   xBA
0EF3E:  CLRF   xBB
0EF40:  CLRF   xBC
0EF42:  CLRF   xBD
0EF44:  CLRF   xBE
0EF46:  CLRF   xBF
0EF48:  CLRF   xC0
0EF4A:  CLRF   xC1
0EF4C:  CLRF   xC2
0EF4E:  CLRF   xC3
0EF50:  CLRF   xC4
0EF52:  CLRF   xC5
0EF54:  CLRF   xC6
0EF56:  CLRF   xC7
0EF58:  CLRF   xC8
0EF5A:  CLRF   xC9
0EF5C:  CLRF   xCA
0EF5E:  CLRF   xCB
0EF60:  CLRF   xCC
0EF62:  CLRF   xCD
0EF64:  CLRF   xCE
0EF66:  CLRF   xCF
0EF68:  CLRF   xD0
0EF6A:  CLRF   xD1
....................     port1.port_num = 1;
0EF6C:  MOVLW  01
0EF6E:  MOVLB  1
0EF70:  MOVWF  xCE
....................     port1.sweep_step = 0;
0EF72:  CLRF   xD0
0EF74:  CLRF   xCF
....................     port1.active = 1;
0EF76:  MOVLB  4
0EF78:  BSF    xD1.0
.................... 
....................     int16 count = 0;
0EF7A:  CLRF   xD3
0EF7C:  CLRF   xD2
....................     
....................     // Initialize DACs to 0
....................     mcp4901_1_write(1);
0EF7E:  MOVLB  9
0EF80:  CLRF   xDD
0EF82:  MOVLW  01
0EF84:  MOVWF  xDC
0EF86:  MOVLB  0
0EF88:  CALL   2664
....................     unsigned int16 volt;
....................     unsigned int16 curr;
....................     iv_env_t measured_data = create_meas_data();
0EF8C:  CALL   8CB8
0EF90:  MOVFF  02,03
0EF94:  MOVF   01,W
0EF96:  MOVWF  FE1
0EF98:  MOVFF  03,FE2
0EF9C:  MOVLW  04
0EF9E:  MOVWF  FEA
0EFA0:  MOVLW  D8
0EFA2:  MOVWF  FE9
0EFA4:  MOVLW  0C
0EFA6:  MOVWF  01
0EFA8:  MOVFF  FE6,FEE
0EFAC:  DECFSZ 01,F
0EFAE:  GOTO   EFA8
....................     while (port1.active)
0EFB2:  MOVLB  4
0EFB4:  BTFSC  xD1.0
0EFB6:  BRA    EFBE
0EFB8:  MOVLB  0
0EFBA:  GOTO   F17A
0EFBE:  MOVLB  0
....................     {
....................         mcp4901_1_write(count);
0EFC0:  MOVFF  4D3,9DD
0EFC4:  MOVFF  4D2,9DC
0EFC8:  CALL   2664
....................         // mcp4901_2_write(count);
....................         delay_us(1); 
0EFCC:  BRA    EFCE
0EFCE:  BRA    EFD0
....................         if (port1.active) {
0EFD0:  MOVLB  4
0EFD2:  BTFSC  xD1.0
0EFD4:  BRA    EFDC
0EFD6:  MOVLB  0
0EFD8:  GOTO   F14A
0EFDC:  MOVLB  0
....................             volt = ad7490_read(ADC_CIGS1_AMP);
0EFDE:  MOVLW  02
0EFE0:  MOVLB  9
0EFE2:  MOVWF  xEE
0EFE4:  MOVLB  0
0EFE6:  CALL   22B4
0EFEA:  MOVFF  02,4D5
0EFEE:  MOVFF  01,4D4
....................             curr = ad7490_read(ADC_CIGS1_CURR);
0EFF2:  MOVLW  01
0EFF4:  MOVLB  9
0EFF6:  MOVWF  xEE
0EFF8:  MOVLB  0
0EFFA:  CALL   22B4
0EFFE:  MOVFF  02,4D7
0F002:  MOVFF  01,4D6
....................             // ad7490_read_2port(ADC_CIGS1_AMP, ADC_CIGS1_CURR, &volt, &curr);
....................             // fprintf(PC, "%04LX,%04LX,", volt, curr);
....................             port1.data_buffer[count*3]= (volt  >> 4) & 0xFF;
0F006:  MOVFF  4D3,A53
0F00A:  MOVFF  4D2,A52
0F00E:  MOVLB  A
0F010:  CLRF   x55
0F012:  MOVLW  03
0F014:  MOVWF  x54
0F016:  MOVLB  0
0F018:  CALL   5E06
0F01C:  MOVFF  02,4E5
0F020:  MOVFF  01,4E4
0F024:  MOVLW  D1
0F026:  MOVLB  4
0F028:  ADDWF  xE4,W
0F02A:  MOVWF  FE9
0F02C:  MOVLW  01
0F02E:  ADDWFC xE5,W
0F030:  MOVWF  FEA
0F032:  RRCF   xD5,W
0F034:  MOVWF  xE9
0F036:  RRCF   xD4,W
0F038:  MOVWF  xE8
0F03A:  RRCF   xE9,F
0F03C:  RRCF   xE8,F
0F03E:  RRCF   xE9,F
0F040:  RRCF   xE8,F
0F042:  RRCF   xE9,F
0F044:  RRCF   xE8,F
0F046:  MOVLW  0F
0F048:  ANDWF  xE9,F
0F04A:  MOVF   xE8,W
0F04C:  MOVWF  00
0F04E:  CLRF   03
0F050:  MOVF   00,W
0F052:  MOVWF  FEF
....................             port1.data_buffer[count*3+1]= ((volt & 0x0F) << 4) | ((curr >> 8) & 0x0F);
0F054:  MOVFF  4D3,A53
0F058:  MOVFF  4D2,A52
0F05C:  MOVLB  A
0F05E:  CLRF   x55
0F060:  MOVLW  03
0F062:  MOVWF  x54
0F064:  MOVLB  0
0F066:  CALL   5E06
0F06A:  MOVFF  02,4E5
0F06E:  MOVFF  01,4E4
0F072:  MOVLW  01
0F074:  MOVLB  4
0F076:  ADDWF  xE4,F
0F078:  MOVLW  00
0F07A:  ADDWFC xE5,F
0F07C:  MOVLW  D1
0F07E:  ADDWF  xE4,W
0F080:  MOVWF  FE9
0F082:  MOVLW  01
0F084:  ADDWFC xE5,W
0F086:  MOVWF  FEA
0F088:  MOVF   xD4,W
0F08A:  ANDLW  0F
0F08C:  MOVWF  xE8
0F08E:  CLRF   xE9
0F090:  RLCF   xE8,F
0F092:  RLCF   xE9,F
0F094:  RLCF   xE8,F
0F096:  RLCF   xE9,F
0F098:  RLCF   xE8,F
0F09A:  RLCF   xE9,F
0F09C:  RLCF   xE8,F
0F09E:  RLCF   xE9,F
0F0A0:  MOVLW  F0
0F0A2:  ANDWF  xE8,F
0F0A4:  MOVFF  4D7,4EA
0F0A8:  CLRF   xEB
0F0AA:  MOVF   xEA,W
0F0AC:  ANDLW  0F
0F0AE:  MOVWF  00
0F0B0:  CLRF   03
0F0B2:  MOVF   00,W
0F0B4:  IORWF  xE8,W
0F0B6:  MOVWF  00
0F0B8:  MOVF   03,W
0F0BA:  IORWF  xE9,W
0F0BC:  MOVWF  03
0F0BE:  MOVF   00,W
0F0C0:  MOVWF  FEF
....................             port1.data_buffer[count*3+2]= curr & 0xFF;
0F0C2:  MOVFF  4D3,A53
0F0C6:  MOVFF  4D2,A52
0F0CA:  MOVLB  A
0F0CC:  CLRF   x55
0F0CE:  MOVLW  03
0F0D0:  MOVWF  x54
0F0D2:  MOVLB  0
0F0D4:  CALL   5E06
0F0D8:  MOVFF  02,4E5
0F0DC:  MOVFF  01,4E4
0F0E0:  MOVLW  02
0F0E2:  MOVLB  4
0F0E4:  ADDWF  xE4,F
0F0E6:  MOVLW  00
0F0E8:  ADDWFC xE5,F
0F0EA:  MOVLW  D1
0F0EC:  ADDWF  xE4,W
0F0EE:  MOVWF  FE9
0F0F0:  MOVLW  01
0F0F2:  ADDWFC xE5,W
0F0F4:  MOVWF  FEA
0F0F6:  MOVF   xD6,W
0F0F8:  MOVWF  00
0F0FA:  CLRF   03
0F0FC:  MOVF   00,W
0F0FE:  MOVWF  FEF
....................             port1.sweep_step = count + 1; 
0F100:  MOVLW  01
0F102:  ADDWF  xD2,W
0F104:  MOVLB  1
0F106:  MOVWF  xCF
0F108:  MOVLW  00
0F10A:  MOVLB  4
0F10C:  ADDWFC xD3,W
0F10E:  MOVLB  1
0F110:  MOVWF  xD0
....................             // fprintf(PC, "%04LX,%04LX,", port1.data_buffer[count].voltage, port1.data_buffer[count].current);
....................             if (curr< curr_limit) {
0F112:  MOVLB  4
0F114:  MOVF   xD7,W
0F116:  MOVLB  1
0F118:  SUBWF  xC9,W
0F11A:  BTFSC  FD8.0
0F11C:  BRA    F124
0F11E:  MOVLB  0
0F120:  GOTO   F14A
0F124:  MOVLB  0
0F126:  BTFSS  FD8.2
0F128:  GOTO   F140
0F12C:  MOVLB  1
0F12E:  MOVF   xC8,W
0F130:  MOVLB  4
0F132:  SUBWF  xD6,W
0F134:  BTFSS  FD8.0
0F136:  BRA    F13E
0F138:  MOVLB  0
0F13A:  GOTO   F14A
0F13E:  MOVLB  0
....................                 port1.active = 0;
0F140:  MOVLB  4
0F142:  BCF    xD1.0
....................                 disconnect_port1();
0F144:  MOVLB  0
0F146:  CALL   8D3A
....................             }
....................         }
....................         count++;
0F14A:  MOVLB  4
0F14C:  INCF   xD2,F
0F14E:  BTFSC  FD8.2
0F150:  INCF   xD3,F
....................         if (count >= 255) {
0F152:  MOVF   xD3,F
0F154:  BTFSC  FD8.2
0F156:  BRA    F15E
0F158:  MOVLB  0
0F15A:  GOTO   F172
0F15E:  MOVLB  0
0F160:  MOVLB  4
0F162:  MOVF   xD2,W
0F164:  SUBLW  FE
0F166:  BTFSS  FD8.0
0F168:  BRA    F170
0F16A:  MOVLB  0
0F16C:  GOTO   F176
0F170:  MOVLB  0
....................             // fprintf(PC, "Maximum step count reached: %ld\r\n", count);
....................             break;
0F172:  GOTO   F17A
....................         }
0F176:  GOTO   EFB2
....................     }
....................     // unsigned int32 end_time_ms = get_current_msec();
....................     // Ensure all connections are disabled3
....................     disconnect_port1();
0F17A:  CALL   8D3A
....................     log_meas_data(&measured_data, &port1);
0F17E:  MOVLW  04
0F180:  MOVLB  9
0F182:  MOVWF  xC3
0F184:  MOVLW  D8
0F186:  MOVWF  xC2
0F188:  MOVLW  01
0F18A:  MOVWF  xC5
0F18C:  MOVLW  CE
0F18E:  MOVWF  xC4
0F190:  MOVLB  0
0F192:  CALL   8D4A
0F196:  RETURN 0
.................... }
.................... 
.................... 
.................... 
.................... 
.................... iv_env_t create_meas_data()
.................... {
....................     iv_env_t data;
....................     memset(&data, 0, sizeof(data));
*
08CB8:  MOVLW  09
08CBA:  MOVWF  FEA
08CBC:  MOVLW  E2
08CBE:  MOVWF  FE9
08CC0:  CLRF   00
08CC2:  CLRF   02
08CC4:  MOVLW  0C
08CC6:  MOVWF  01
08CC8:  CALL   213E
....................     data.time           = get_current_sec();
08CCC:  CALL   3A08
08CD0:  MOVFF  03,9E5
08CD4:  MOVFF  02,9E4
08CD8:  MOVFF  01,9E3
08CDC:  MOVFF  00,9E2
....................     data.temp_py_top    = ad7490_read(ADC_TEMP_PY_TOP);
08CE0:  MOVLW  0D
08CE2:  MOVLB  9
08CE4:  MOVWF  xEE
08CE6:  MOVLB  0
08CE8:  CALL   22B4
08CEC:  MOVFF  02,9E9
08CF0:  MOVFF  01,9E8
....................     data.temp_py_bot    = ad7490_read(ADC_TEMP_PY_BOT);
08CF4:  MOVLW  0E
08CF6:  MOVLB  9
08CF8:  MOVWF  xEE
08CFA:  MOVLB  0
08CFC:  CALL   22B4
08D00:  MOVFF  02,9EB
08D04:  MOVFF  01,9EA
....................     data.temp_mis7      = ad7490_read(ADC_TEMP_MIS7);
08D08:  MOVLW  0C
08D0A:  MOVLB  9
08D0C:  MOVWF  xEE
08D0E:  MOVLB  0
08D10:  CALL   22B4
08D14:  MOVFF  02,9ED
08D18:  MOVFF  01,9EC
....................     data.pd             = ad7490_read(ADC_PD);
08D1C:  MOVLW  0F
08D1E:  MOVLB  9
08D20:  MOVWF  xEE
08D22:  MOVLB  0
08D24:  CALL   22B4
08D28:  MOVFF  02,9E7
08D2C:  MOVFF  01,9E6
....................     return data;
08D30:  MOVLW  E2
08D32:  MOVWF  01
08D34:  MOVLW  09
08D36:  MOVWF  02
08D38:  RETURN 0
.................... }
.................... 
.................... unsigned int16 calc_pd_value(unsigned int16 data)
.................... {
....................     // ADCの12ビット値を電力密度（mW/cm²）に変換する例
....................     // ここでは仮に1 LSB = 0.1 mW/cm²とする
....................     return (unsigned int16)(data);
*
07D24:  MOVLB  1
07D26:  MOVF   xE9,W
07D28:  MOVWF  01
07D2A:  MOVF   xEA,W
07D2C:  MOVWF  02
07D2E:  MOVLB  0
07D30:  GOTO   896E (RETURN)
.................... }
.................... 
.................... int16 calc_curr_value(unsigned int16 data){
....................     float voltage_mv;
....................     float current_ma;
.................... 
....................     // 12ビットADCの値を[mV]に変換
....................     voltage_mv = (float)data * ADC_REF_VOLTAGE_MV / ADC_MAX_READING;
*
0871A:  MOVFF  1EA,1F4
0871E:  MOVFF  1E9,1F3
08722:  GOTO   7D34
08726:  MOVFF  03,1F6
0872A:  MOVFF  02,1F5
0872E:  MOVFF  01,1F4
08732:  MOVFF  00,1F3
08736:  MOVFF  1F6,1FA
0873A:  MOVFF  1F5,1F9
0873E:  MOVFF  1F4,1F8
08742:  MOVFF  1F3,1F7
08746:  MOVLB  1
08748:  CLRF   xFE
0874A:  MOVLW  40
0874C:  MOVWF  xFD
0874E:  MOVLW  1C
08750:  MOVWF  xFC
08752:  MOVLW  8A
08754:  MOVWF  xFB
08756:  MOVLB  0
08758:  GOTO   7D7A
0875C:  MOVFF  03,1F6
08760:  MOVFF  02,1F5
08764:  MOVFF  01,1F4
08768:  MOVFF  00,1F3
0876C:  MOVFF  1F6,1FA
08770:  MOVFF  1F5,1F9
08774:  MOVFF  1F4,1F8
08778:  MOVFF  1F3,1F7
0877C:  MOVLB  1
0877E:  CLRF   xFE
08780:  MOVLW  F0
08782:  MOVWF  xFD
08784:  MOVLW  7F
08786:  MOVWF  xFC
08788:  MOVLW  8A
0878A:  MOVWF  xFB
0878C:  MOVLB  0
0878E:  CALL   7ED8
08792:  MOVFF  03,1EE
08796:  MOVFF  02,1ED
0879A:  MOVFF  01,1EC
0879E:  MOVFF  00,1EB
.................... 
....................     // オフセット電圧(ADC_CURR_REF_VOLTAGE_MV)との差から電流[mA]を算出
....................     current_ma = (voltage_mv - ADC_CURR_REF_VOLTAGE_MV) / (SHUNT_RESISTANCE_OHM * AMP_GAIN);
087A2:  BSF    FD8.1
087A4:  MOVFF  1EE,1F6
087A8:  MOVFF  1ED,1F5
087AC:  MOVFF  1EC,1F4
087B0:  MOVFF  1EB,1F3
087B4:  MOVLB  1
087B6:  CLRF   xFA
087B8:  MOVLW  40
087BA:  MOVWF  xF9
087BC:  MOVLW  1C
087BE:  MOVWF  xF8
087C0:  MOVLW  89
087C2:  MOVWF  xF7
087C4:  MOVLB  0
087C6:  GOTO   81C6
087CA:  MOVFF  03,1F6
087CE:  MOVFF  02,1F5
087D2:  MOVFF  01,1F4
087D6:  MOVFF  00,1F3
087DA:  MOVFF  1F6,1FA
087DE:  MOVFF  1F5,1F9
087E2:  MOVFF  1F4,1F8
087E6:  MOVFF  1F3,1F7
087EA:  MOVLB  1
087EC:  CLRF   xFE
087EE:  CLRF   xFD
087F0:  MOVLW  20
087F2:  MOVWF  xFC
087F4:  MOVLW  82
087F6:  MOVWF  xFB
087F8:  MOVLB  0
087FA:  CALL   7ED8
087FE:  MOVFF  03,1F2
08802:  MOVFF  02,1F1
08806:  MOVFF  01,1F0
0880A:  MOVFF  00,1EF
.................... 
....................     return (int16)current_ma;
0880E:  MOVFF  1F2,1F6
08812:  MOVFF  1F1,1F5
08816:  MOVFF  1F0,1F4
0881A:  MOVFF  1EF,1F3
0881E:  GOTO   86C0
08822:  MOVF   01,W
08824:  MOVWF  01
08826:  MOVF   02,W
08828:  MOVWF  02
0882A:  RETURN 0
.................... }
.................... // End of file
.................... 
.................... #include "domain/cigs_piclog.c"
.................... #include "cigs_piclog.h"                          // 同じフォルダのヘッダー
.................... #ifndef     MMJ_CIGS_PICLOG_H
.................... #define     MMJ_CIGS_PICLOG_H
.................... 
.................... // PICLOG Param
.................... #define PICLOG_STARTUP 0x00
.................... #define PICLOG_PARAM_START 0x00
.................... #define PICLOG_PARAM_END   0xFF
.................... 
.................... 
.................... #define PICLOG_PACKET_SIZE 6
.................... 
.................... // PICLOG Union
.................... typedef union {
....................     struct {
....................         unsigned int32 time;
....................         unsigned int8  function;
....................         unsigned int8  parameter;
....................     } fields;
....................     unsigned int8 bytes[PICLOG_PACKET_SIZE];
.................... } piclog_t;
.................... 
.................... #define PICLOG_BLANK_SIZE 4
.................... unsigned int8 PICLOG_BLANK_DATA[PICLOG_BLANK_SIZE];
.................... 
.................... // PICLOG 関数（実装は .c）
.................... void piclog_save(unsigned int8 function, unsigned int8 parameter);
.................... 
.................... #endif // MMJ_CIGS_PICLOG_H
.................... //------------------End of File------------------
.................... 
.................... #include "../hal/timer.h"                   // タイマーライブラリ  
.................... #ifndef TIMER_H
.................... #define TIMER_H
.................... 
.................... // __________ define _________
.................... 
.................... #define SEC_IN_A_DAY 86400
.................... #define CLOCK_FREQUENCY 32768 // 32.768 kHz
.................... 
.................... // __________ values _________
.................... 
.................... int32 tick_10ms = 0; 
.................... 
.................... unsigned int32 dsec = 0, sec = 0; //dsec -> deci second (0.01 sec)
.................... volatile unsigned int16 day = 0;
.................... 
.................... void timer_init();
.................... // __________ functions _________
.................... unsigned int32 get_current_sec();
.................... unsigned int16 get_current_msec();
.................... unsigned int16 get_current_day();
.................... void set_current_10msec(unsigned int32 new_10msec);
.................... 
.................... #INT_TIMER0
.................... static void TIMER0_isr();
.................... 
.................... #INT_TIMER1 
.................... static void TIMER1_isr();
.................... 
.................... // Clock Freq : 32.768kHz
.................... #define TIMER_ISR_1S 0x8000 // 1秒ごとのタイマー割り込み
.................... #define TIMER_ISR_100MSEC 0xF313 // 100ミリ秒ごとのタイマー割り込み
.................... #define TIMER_ISR_10MSEC 0xFEA8 // 10ミリ秒ごとのタイマー割り込み
.................... #define TIMER_ISR_25MSEC 0xFC8D // 25ミリ秒ごとのタイマー割り込み
.................... 
.................... void set_current_sec(unsigned int32 new_sec);
.................... unsigned int32 get_current_sec();
.................... unsigned int16 get_current_msec();
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "cigs_flash.h"                 // ストレージ機能
.................... #ifndef MMJ_CIGS_FLASH_H
.................... #define MMJ_CIGS_FLASH_H
.................... 
.................... //#include <string.h>
.................... //#include "../hal/cigs_config.h"
.................... 
.................... #ifndef PACKET_SIZE
....................     #define PACKET_SIZE 64
.................... #endif
.................... 
.................... 
.................... #define MISF_START 0x00000000
.................... #define MISF_END   0x00BC0FFF
.................... #define SECTOR_64K_BYTE  0x10000
.................... 
.................... #define MISF_CIGS_DATA_TABLE_SIZE 64
.................... 
.................... // Flash Address
.................... #define MISF_CIGS_DATA_TABLE_START 0x00000000
.................... #define MISF_CIGS_DATA_TABLE_END   0x00000FFF
.................... #define MISF_CIGS_DATA_TABLE_SIZE  4096
.................... 
.................... #define MISF_CIGS_PICLOG_START    0x00010000
.................... #define MISF_CIGS_PICLOG_END      0x00140FFF
.................... #define MISF_CIGS_PICLOG_SIZE     1310720
.................... 
.................... #define MISF_CIGS_ENVIRO_START    0x00141000
.................... #define MISF_CIGS_ENVIRO_END      0x00280FFF
.................... #define MISF_CIGS_ENVIRO_SIZE     1310720
.................... 
.................... #define MISF_CIGS_IV1_HEADER_START 0x00281000
.................... #define MISF_CIGS_IV1_HEADER_END   0x00320FFF
.................... #define MISF_CIGS_IV1_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV1_DATA_START   0x00321000
.................... #define MISF_CIGS_IV1_DATA_END     0x00720FFF
.................... #define MISF_CIGS_IV1_DATA_SIZE    4194304
.................... 
.................... #define MISF_CIGS_IV2_HEADER_START 0x00721000
.................... #define MISF_CIGS_IV2_HEADER_END   0x007C0FFF
.................... #define MISF_CIGS_IV2_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV2_DATA_START   0x007C1000
.................... #define MISF_CIGS_IV2_DATA_END     0x00BC0FFF
.................... #define MISF_CIGS_IV2_DATA_SIZE    4194304
.................... 
.................... // 重複していた #define はここに一度だけ残す
.................... // 例: #define SECTOR_4K_BYTE  0x1000  // 4KByte
.................... // 他ファイルに同じ行があれば削除
.................... 
.................... // Flash カウンタだけを保持する汎用構造
.................... typedef struct {
....................     unsigned int32 used_counter;
....................     unsigned int32 uncopied_counter;
....................     unsigned int8  reserve_counter1;
....................     unsigned int8  reserve_counter2;
.................... } FlashCounter_t;
.................... 
.................... // データ種別ID
.................... typedef enum {
....................     FLASH_ID_DATA_TABLE = 0 ,
....................     FLASH_ID_PICLOG ,
....................     FLASH_ID_ENVIRONMENT,
....................     FLASH_ID_IV1_HEADER,
....................     FLASH_ID_IV1_DATA,
....................     FLASH_ID_IV2_HEADER,
....................     FLASH_ID_IV2_DATA,
....................     FLASH_ID_COUNT = 7
.................... } FlashDataId_t;
.................... 
.................... // Flash_t : 実体側で使用する拡張(必要なら id を保持)
.................... typedef struct {
....................     FlashDataId_t   id;
....................     unsigned int32  used_counter;
....................     unsigned int32  uncopied_counter;
....................     unsigned int8   reserve_counter1;
....................     unsigned int8   reserve_counter2;
.................... } Flash_t;
.................... 
.................... // FlashData_t （既存定義が別ヘッダなら重複しないよう確認）
.................... // ここでは payload 内の logdata.* が FlashCounter_t と仮定
.................... typedef union {
....................     struct {
....................         union {
....................             struct {
....................                 FlashCounter_t piclog;
....................                 FlashCounter_t environment;
....................                 FlashCounter_t iv1_header;
....................                 FlashCounter_t iv1_data;
....................                 FlashCounter_t iv2_header;
....................                 FlashCounter_t iv2_data;
....................             } logdata;  // 合計サイズは63バイト
....................             unsigned int8 reserve[63];
....................         } payload;
....................         unsigned int8 crc;  // 1バイトCRC
....................     } packet;
....................     unsigned int8 bytes[64];
.................... } FlashData_t;
.................... 
.................... 
.................... // 取得系
.................... FlashData_t make_flash_data_table(void);
.................... void misf_update_address_area(void);
.................... void print_flash_status(void);
.................... 
.................... 
.................... // キュー投入
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode);
.................... void misf_init();
.................... 
.................... // Flash 操作用構造体
.................... typedef struct {
....................     unsigned int32 start;
....................     unsigned int32 end;
....................     unsigned int32 size;
.................... } ADDRESS_AREA_T;
.................... 
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t misf_counter_table[];
.................... extern FlashCounter_t *misf_counter_table_ptr[];
.................... 
.................... void print_MISF_ADDRESS_TABLE(void);
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size);
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/tool/smf_queue.h"               // フラッシュ操作キュー
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... #include "../lib/device/mt25q.h"                 // フラッシュデバイス
.................... #ifndef MT25Q_H
.................... #define MT25Q_H
.................... 
.................... // =========
.................... //#define MT25Q_DEBUG
.................... // =========
.................... 
.................... #define SUBSECTOR_4K_BYTE 0x00001000
.................... #define SUBSECTOR_32K_BYTE 0x00008000
.................... #define SECTOR_64K_BYTE 0x00010000
.................... 
.................... 
.................... 
.................... #define FLASH_STREAM0 MIS_FM_STREAM     // <- Align the names to `config.h` Stream name
.................... #define FLASH_STREAM1 SMF_STREAM
.................... #define FLASH_STREAM2 SMF_STREAM // dont use
.................... #define FLASH_STREAM3 SMF_STREAM // dont use
.................... 
.................... typedef enum spi_stream{
....................     SPI_0 = 0,
....................     SPI_1,
....................     SPI_2,
....................     SPI_3
.................... }SpiStreamId;
.................... 
.................... #define MT25QL128ABA 0x00     //Mission Flash
.................... #define MT25QL01GBBB 0x01     //SMF,CF
.................... typedef struct select_stream_to_flash{
....................     SpiStreamId spi_stream_id;
....................     unsigned int8 flash_model;
....................     int16 cs_pin;
.................... }Flash;
.................... 
.................... 
.................... Flash mis_fm = {SPI_0, MT25QL128ABA, MIS_FM_CS};
.................... Flash smf = {SPI_1, MT25QL01GBBB, SMF_CS};
.................... 
.................... 
.................... 
.................... // ===================== Function List =====================
.................... // Public Functions
.................... 
.................... int1 is_connect(Flash flash_stream);
.................... 
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount);      
.................... 
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount);  
.................... 
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address);
.................... 
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address);  
....................                                
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address);      
.................... 
.................... //Private Functions
....................  
.................... void flash_setting(Flash flash_stream);
....................  
.................... int8 status_register(Flash flash_stream);
....................  
.................... int8 read_id(Flash flash_stream);
.................... 
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address);
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data);
.................... 
.................... 
.................... 
.................... // ===================== Flash Commands =====================
.................... #define CMD_READ_ID                     0x9F
.................... #define CMD_READ_STATUS_REGISTER        0x05
.................... #define CMD_READ                        0x03//for MT25QL128ABA
.................... #define CMD_4BYTE_READ                  0x13//for MT25QL01GBBB
.................... #define CMD_WRITE_ENABLE                0x06
.................... #define CMD_PAGE_PROGRAM                0x02//for MT25QL128ABA
.................... #define CMD_4BYTE_PAGE_PROGRAM          0x12//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_4KB_ERASE         0x20//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_4KB_ERASE   0x21//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_32KB_ERASE        0x52//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_32KB_ERASE  0x5C//for MT25QL01GBBB
.................... #define CMD_SECTOR_ERASE                0xD8//for MT25QL128ABA
.................... #define CMD_4BYTE_SECTOR_ERASE          0xDC//for MT25QL01GBBB
.................... 
.................... // ====================== Value List =====================
.................... #define MANUFACTURER_ID_MICRON 0x20 // Manufacturer ID for Micron flash
.................... #define READ_ID_DATASIZE 20 // 20 bytes for read ID data
.................... 
.................... 
.................... // ====================== Data Structures =====================
.................... typedef union
.................... {
....................     unsigned int8 bytes[READ_ID_DATASIZE]; // 20 bytes for read ID
....................     struct {
....................         unsigned int8 manufacturer_id; // 1 byte
....................         unsigned int8 memory_type;     // 1 byte
....................         unsigned int8 capacity;        // 1 byte
....................         unsigned int8 reserved;       // 1 byte
....................     } fields;
.................... }READ_ID_DATA;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... 
.................... // #define PICLOG_DEBUG
.................... #define MISSION_ID_PICLOG 0x03  // PICLOGミッションID
.................... 
.................... void piclog_save(int8 function, int8 parameter)
*
04EDC:  MOVLW  02
04EDE:  MOVLB  2
04EE0:  MOVWF  xCF
04EE2:  MOVLW  C8
04EE4:  MOVWF  xCE
.................... {
....................     piclog_t piclog;
....................     piclog_t *piclog_ptr = &piclog;
....................     memset(piclog_ptr, 0x00, PICLOG_PACKET_SIZE);
04EE6:  MOVFF  2CF,FEA
04EEA:  MOVFF  2CE,FE9
04EEE:  CLRF   00
04EF0:  CLRF   02
04EF2:  MOVLW  06
04EF4:  MOVWF  01
04EF6:  MOVLB  0
04EF8:  CALL   213E
....................     piclog_ptr->fields.time = get_current_sec();
04EFC:  MOVLB  2
04EFE:  MOVF   xCE,W
04F00:  MOVWF  01
04F02:  MOVF   xCF,W
04F04:  MOVWF  03
04F06:  MOVF   01,W
04F08:  MOVWF  xD1
04F0A:  MOVFF  03,2D2
04F0E:  MOVLB  0
04F10:  CALL   3A08
04F14:  MOVFF  2D2,FEA
04F18:  MOVFF  2D1,FE9
04F1C:  MOVFF  00,FEF
04F20:  MOVFF  01,FEC
04F24:  MOVFF  02,FEC
04F28:  MOVFF  03,FEC
04F2C:  MOVF   FED,F
04F2E:  MOVF   FED,F
04F30:  MOVF   FED,F
....................     piclog_ptr->fields.function = function;
04F32:  MOVLW  04
04F34:  MOVLB  2
04F36:  ADDWF  xCE,W
04F38:  MOVWF  FE9
04F3A:  MOVLW  00
04F3C:  ADDWFC xCF,W
04F3E:  MOVWF  FEA
04F40:  MOVFF  2C6,FEF
....................     piclog_ptr->fields.parameter = parameter;
04F44:  MOVLW  05
04F46:  ADDWF  xCE,W
04F48:  MOVWF  FE9
04F4A:  MOVLW  00
04F4C:  ADDWFC xCF,W
04F4E:  MOVWF  FEA
04F50:  MOVFF  2C7,FEF
.................... 
....................     printf("[PICLOG] : ");
04F54:  MOVLW  A0
04F56:  MOVWF  FF6
04F58:  MOVLW  06
04F5A:  MOVWF  FF7
04F5C:  MOVLW  00
04F5E:  MOVWF  FF8
04F60:  MOVLB  0
04F62:  CALL   20CE
....................     for (int8 i = 0; i < PICLOG_PACKET_SIZE; i++) {
04F66:  MOVLB  2
04F68:  CLRF   xD0
04F6A:  MOVLB  0
04F6C:  MOVLB  2
04F6E:  MOVF   xD0,W
04F70:  SUBLW  05
04F72:  BTFSC  FD8.0
04F74:  BRA    4F7C
04F76:  MOVLB  0
04F78:  GOTO   4FB8
04F7C:  MOVLB  0
....................         printf("%02X ", piclog_ptr->bytes[i]);
04F7E:  MOVLB  2
04F80:  MOVF   xD0,W
04F82:  ADDWF  xCE,W
04F84:  MOVWF  FE9
04F86:  MOVLW  00
04F88:  ADDWFC xCF,W
04F8A:  MOVWF  FEA
04F8C:  MOVFF  FEF,2D1
04F90:  MOVFF  2D1,9E8
04F94:  MOVLW  37
04F96:  MOVLB  9
04F98:  MOVWF  xE9
04F9A:  MOVLB  0
04F9C:  CALL   2334
04FA0:  MOVLW  20
04FA2:  BTFSS  FA6.6
04FA4:  GOTO   4FA2
04FA8:  MOVLB  E
04FAA:  MOVWF  xF9
04FAC:  MOVLB  0
04FAE:  MOVLB  2
04FB0:  INCF   xD0,F
04FB2:  MOVLB  0
04FB4:  GOTO   4F6C
....................     }
....................     printf("\r\n");
04FB8:  MOVLW  0D
04FBA:  BTFSS  FA6.6
04FBC:  GOTO   4FBA
04FC0:  MOVLB  E
04FC2:  MOVWF  xF9
04FC4:  MOVLW  0A
04FC6:  MOVLB  0
04FC8:  BTFSS  FA6.6
04FCA:  GOTO   4FC8
04FCE:  MOVLB  E
04FD0:  MOVWF  xF9
.................... 
....................     misf_write_data(FLASH_ID_PICLOG, piclog_ptr->bytes, PICLOG_PACKET_SIZE);
04FD2:  MOVLB  2
04FD4:  MOVF   xCE,W
04FD6:  MOVWF  01
04FD8:  MOVF   xCF,W
04FDA:  MOVWF  03
04FDC:  MOVF   01,W
04FDE:  MOVWF  xD1
04FE0:  MOVFF  03,2D2
04FE4:  MOVLW  01
04FE6:  MOVLB  A
04FE8:  MOVWF  x50
04FEA:  MOVFF  2D2,A52
04FEE:  MOVFF  2D1,A51
04FF2:  CLRF   x54
04FF4:  MOVLW  06
04FF6:  MOVWF  x53
04FF8:  MOVLB  0
04FFA:  CALL   407E
....................     misf_update_address_area();
04FFE:  CALL   4E4E
05002:  RETURN 0
.................... }
.................... // End of file
.................... 
.................... #include "domain/cigs_smf.c"
.................... #include "cigs_smf.h"  
.................... #ifndef MMJ_CIGS_SMF_H
.................... #define MMJ_CIGS_SMF_H
.................... 
.................... #include "../lib/tool/smf_queue.h"  // FlashOperationStruct定義
.................... #include "../hal/cigs_config.h" // int8,int32 型など(CCS C) 依存
.................... #include "cigs_flash.h"       // MISF_ADDRESS_TABLE, misf_counter_table 依存
.................... 
.................... #define CRC_RETRY_COUNT 5
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t smf_counter_table[];
.................... 
.................... extern int1 smf_update_flag[10]; // SMF更新フラグ
.................... 
.................... 
.................... // SMF管理用構造体
.................... typedef struct {
....................     ADDRESS_AREA_T header_area;
....................     ADDRESS_AREA_T data_area;
.................... } SMF_AREA_T;
.................... #define SMF_ID_COUNT 7
.................... 
.................... 
.................... // Mission ID 列挙（smf_queue.h の MissionID と整合させる）
.................... typedef enum{
....................     SMF_MISSION_DATA_TABLE = CIGS_DATA_TABLE,
....................     SMF_MISSION_PICLOG     = CIGS_PICLOG_DATA,
....................     SMF_MISSION_ENVIRO     = CIGS_ENVIRO_DATA,
....................     SMF_MISSION_IV1_HEADER = CIGS_IV1_HEADER,
....................     SMF_MISSION_IV1_DATA   = CIGS_IV1_DATA,
....................     SMF_MISSION_IV2_HEADER = CIGS_IV2_HEADER,
....................     SMF_MISSION_IV2_DATA   = CIGS_IV2_DATA
.................... } SmfMissionAlias; // 利便用Alias
.................... 
.................... // SMF操作関数
.................... void smf_write(FlashOperationStruct *smf_data_ptr);
.................... void smf_read(FlashOperationStruct *smf_data_ptr);
.................... void smf_erase(FlashOperationStruct *smf_data_ptr);
.................... 
.................... // カウンター管理関数
.................... void update_misf_counters(int8 mission_id, int32 transfer_size);
.................... void reset_misf_counters(int8 mission_id);
.................... void print_misf_counter_status(int8 mission_id);
.................... 
.................... 
.................... // SMF Partition Header
.................... typedef struct {
....................     int32 misf_used_size;
....................     int32 smf_copied_size;
.................... } SMF_PARTITION;
.................... 
.................... 
.................... 
.................... 
.................... typedef union {
....................     unsigned int8 bytes[PACKET_SIZE];  // 生データアクセス用
....................     struct {
....................         SMF_PARTITION headers[7];
....................         unsigned int8 reserved[7];
....................         unsigned int8 crc;  // 最後の1バイト
....................     } fields;
.................... } smf_data_table_t;
.................... 
.................... void smf_write_header(smf_data_table_t *smf_data_table);
.................... void print_smf_counter_status(smf_data_table_t *smf_data_table);
.................... 
.................... // mission_idから対応するSMF_PARTITIONを取得する関数
.................... SMF_PARTITION* get_smf_partition_by_mission_id(int8 mission_id);
.................... void update_smf_partition_by_mission_id(int8 mission_id, int32 used_size, int32 loop_counter);
.................... 
.................... void smf_update_smf_area(void);
.................... 
.................... typedef union{
....................     unsigned int8 bytes[PACKET_SIZE];
....................     struct {
....................         unsigned int32 piclog_used_size;
....................         unsigned int32 envero_used_size;
....................         unsigned int32 iv1_header_used_size;
....................         unsigned int32 iv1_data_used_size;
....................         unsigned int32 iv2_header_used_size;
....................         unsigned int32 iv2_data_used_size;
....................         unsigned int32 reserved[9];
....................     } fields;
.................... 
.................... }smf_address_header_t;
.................... 
.................... 
.................... 
.................... #endif  // MMJ_CIGS_SMF_H
.................... 
.................... #include "cigs_flash.h"
.................... #ifndef MMJ_CIGS_FLASH_H
.................... #define MMJ_CIGS_FLASH_H
.................... 
.................... //#include <string.h>
.................... //#include "../hal/cigs_config.h"
.................... 
.................... #ifndef PACKET_SIZE
....................     #define PACKET_SIZE 64
.................... #endif
.................... 
.................... 
.................... #define MISF_START 0x00000000
.................... #define MISF_END   0x00BC0FFF
.................... #define SECTOR_64K_BYTE  0x10000
.................... 
.................... #define MISF_CIGS_DATA_TABLE_SIZE 64
.................... 
.................... // Flash Address
.................... #define MISF_CIGS_DATA_TABLE_START 0x00000000
.................... #define MISF_CIGS_DATA_TABLE_END   0x00000FFF
.................... #define MISF_CIGS_DATA_TABLE_SIZE  4096
.................... 
.................... #define MISF_CIGS_PICLOG_START    0x00010000
.................... #define MISF_CIGS_PICLOG_END      0x00140FFF
.................... #define MISF_CIGS_PICLOG_SIZE     1310720
.................... 
.................... #define MISF_CIGS_ENVIRO_START    0x00141000
.................... #define MISF_CIGS_ENVIRO_END      0x00280FFF
.................... #define MISF_CIGS_ENVIRO_SIZE     1310720
.................... 
.................... #define MISF_CIGS_IV1_HEADER_START 0x00281000
.................... #define MISF_CIGS_IV1_HEADER_END   0x00320FFF
.................... #define MISF_CIGS_IV1_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV1_DATA_START   0x00321000
.................... #define MISF_CIGS_IV1_DATA_END     0x00720FFF
.................... #define MISF_CIGS_IV1_DATA_SIZE    4194304
.................... 
.................... #define MISF_CIGS_IV2_HEADER_START 0x00721000
.................... #define MISF_CIGS_IV2_HEADER_END   0x007C0FFF
.................... #define MISF_CIGS_IV2_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV2_DATA_START   0x007C1000
.................... #define MISF_CIGS_IV2_DATA_END     0x00BC0FFF
.................... #define MISF_CIGS_IV2_DATA_SIZE    4194304
.................... 
.................... // 重複していた #define はここに一度だけ残す
.................... // 例: #define SECTOR_4K_BYTE  0x1000  // 4KByte
.................... // 他ファイルに同じ行があれば削除
.................... 
.................... // Flash カウンタだけを保持する汎用構造
.................... typedef struct {
....................     unsigned int32 used_counter;
....................     unsigned int32 uncopied_counter;
....................     unsigned int8  reserve_counter1;
....................     unsigned int8  reserve_counter2;
.................... } FlashCounter_t;
.................... 
.................... // データ種別ID
.................... typedef enum {
....................     FLASH_ID_DATA_TABLE = 0 ,
....................     FLASH_ID_PICLOG ,
....................     FLASH_ID_ENVIRONMENT,
....................     FLASH_ID_IV1_HEADER,
....................     FLASH_ID_IV1_DATA,
....................     FLASH_ID_IV2_HEADER,
....................     FLASH_ID_IV2_DATA,
....................     FLASH_ID_COUNT = 7
.................... } FlashDataId_t;
.................... 
.................... // Flash_t : 実体側で使用する拡張(必要なら id を保持)
.................... typedef struct {
....................     FlashDataId_t   id;
....................     unsigned int32  used_counter;
....................     unsigned int32  uncopied_counter;
....................     unsigned int8   reserve_counter1;
....................     unsigned int8   reserve_counter2;
.................... } Flash_t;
.................... 
.................... // FlashData_t （既存定義が別ヘッダなら重複しないよう確認）
.................... // ここでは payload 内の logdata.* が FlashCounter_t と仮定
.................... typedef union {
....................     struct {
....................         union {
....................             struct {
....................                 FlashCounter_t piclog;
....................                 FlashCounter_t environment;
....................                 FlashCounter_t iv1_header;
....................                 FlashCounter_t iv1_data;
....................                 FlashCounter_t iv2_header;
....................                 FlashCounter_t iv2_data;
....................             } logdata;  // 合計サイズは63バイト
....................             unsigned int8 reserve[63];
....................         } payload;
....................         unsigned int8 crc;  // 1バイトCRC
....................     } packet;
....................     unsigned int8 bytes[64];
.................... } FlashData_t;
.................... 
.................... 
.................... // 取得系
.................... FlashData_t make_flash_data_table(void);
.................... void misf_update_address_area(void);
.................... void print_flash_status(void);
.................... 
.................... 
.................... // キュー投入
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode);
.................... void misf_init();
.................... 
.................... // Flash 操作用構造体
.................... typedef struct {
....................     unsigned int32 start;
....................     unsigned int32 end;
....................     unsigned int32 size;
.................... } ADDRESS_AREA_T;
.................... 
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t misf_counter_table[];
.................... extern FlashCounter_t *misf_counter_table_ptr[];
.................... 
.................... void print_MISF_ADDRESS_TABLE(void);
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size);
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/device/mt25q.h"              // Flash device definitions
.................... #ifndef MT25Q_H
.................... #define MT25Q_H
.................... 
.................... // =========
.................... //#define MT25Q_DEBUG
.................... // =========
.................... 
.................... #define SUBSECTOR_4K_BYTE 0x00001000
.................... #define SUBSECTOR_32K_BYTE 0x00008000
.................... #define SECTOR_64K_BYTE 0x00010000
.................... 
.................... 
.................... 
.................... #define FLASH_STREAM0 MIS_FM_STREAM     // <- Align the names to `config.h` Stream name
.................... #define FLASH_STREAM1 SMF_STREAM
.................... #define FLASH_STREAM2 SMF_STREAM // dont use
.................... #define FLASH_STREAM3 SMF_STREAM // dont use
.................... 
.................... typedef enum spi_stream{
....................     SPI_0 = 0,
....................     SPI_1,
....................     SPI_2,
....................     SPI_3
.................... }SpiStreamId;
.................... 
.................... #define MT25QL128ABA 0x00     //Mission Flash
.................... #define MT25QL01GBBB 0x01     //SMF,CF
.................... typedef struct select_stream_to_flash{
....................     SpiStreamId spi_stream_id;
....................     unsigned int8 flash_model;
....................     int16 cs_pin;
.................... }Flash;
.................... 
.................... 
.................... Flash mis_fm = {SPI_0, MT25QL128ABA, MIS_FM_CS};
.................... Flash smf = {SPI_1, MT25QL01GBBB, SMF_CS};
.................... 
.................... 
.................... 
.................... // ===================== Function List =====================
.................... // Public Functions
.................... 
.................... int1 is_connect(Flash flash_stream);
.................... 
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount);      
.................... 
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount);  
.................... 
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address);
.................... 
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address);  
....................                                
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address);      
.................... 
.................... //Private Functions
....................  
.................... void flash_setting(Flash flash_stream);
....................  
.................... int8 status_register(Flash flash_stream);
....................  
.................... int8 read_id(Flash flash_stream);
.................... 
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address);
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data);
.................... 
.................... 
.................... 
.................... // ===================== Flash Commands =====================
.................... #define CMD_READ_ID                     0x9F
.................... #define CMD_READ_STATUS_REGISTER        0x05
.................... #define CMD_READ                        0x03//for MT25QL128ABA
.................... #define CMD_4BYTE_READ                  0x13//for MT25QL01GBBB
.................... #define CMD_WRITE_ENABLE                0x06
.................... #define CMD_PAGE_PROGRAM                0x02//for MT25QL128ABA
.................... #define CMD_4BYTE_PAGE_PROGRAM          0x12//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_4KB_ERASE         0x20//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_4KB_ERASE   0x21//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_32KB_ERASE        0x52//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_32KB_ERASE  0x5C//for MT25QL01GBBB
.................... #define CMD_SECTOR_ERASE                0xD8//for MT25QL128ABA
.................... #define CMD_4BYTE_SECTOR_ERASE          0xDC//for MT25QL01GBBB
.................... 
.................... // ====================== Value List =====================
.................... #define MANUFACTURER_ID_MICRON 0x20 // Manufacturer ID for Micron flash
.................... #define READ_ID_DATASIZE 20 // 20 bytes for read ID data
.................... 
.................... 
.................... // ====================== Data Structures =====================
.................... typedef union
.................... {
....................     unsigned int8 bytes[READ_ID_DATASIZE]; // 20 bytes for read ID
....................     struct {
....................         unsigned int8 manufacturer_id; // 1 byte
....................         unsigned int8 memory_type;     // 1 byte
....................         unsigned int8 capacity;        // 1 byte
....................         unsigned int8 reserved;       // 1 byte
....................     } fields;
.................... }READ_ID_DATA;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... #include "../lib/tool/smf_queue.h"            // システム設定 
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... #include "../lib/tool/calc_tools.h"           // SMF処理関数 
.................... #ifndef CALC_TOOLS_H
.................... #define CALC_TOOLS_H
....................  
.................... unsigned int8 calc_crc8(unsigned int8 *frame, unsigned int8 payload_size);
.................... int1 is_crc_valid(unsigned int8 *frame, int8 payload_size);
.................... void int32_to_be_array(int32 value, int8 *buf, int8 index);
.................... int32 lsb_array_to_int32(int8 *buf, int8 index);
.................... unsigned int32 lsb_to_msb(unsigned int32 value);
.................... unsigned int32 msb_to_lsb(unsigned int32 value);
.................... 
.................... 
.................... #endif // CALC_TOOLS_H  
.................... 
.................... #include "../lib/tool/mmj_smf_memorymap.h" 
.................... #ifndef SMF_MEMORY_MAP_H
.................... #define SMF_MEMORY_MAP_H
.................... 
.................... /*
....................  * Auto-generated Memory Map Header
....................  * Generated from: MMJ_ICD_021_IICD_06_Memory_map.xlsx
....................  * Generated at: 2025-07-27 20:54:05
....................  */
.................... #define PACKET_SIZE 64
.................... 
.................... typedef struct {
....................     unsigned int32 used_size;
....................     unsigned int8 loop_counter;
....................     unsigned int8 reserved[3];
.................... } partition_header_t;
.................... 
.................... 
.................... typedef enum smf_memory_id_t{
....................     // SATO
....................     SMF_SATO_DATA_TABLE = 0xA0,
....................     SMF_SATO_PICLOG = 0xA1,
....................     SMF_SATO_INNER_DIODE_HEADER = 0xA2,
....................     SMF_SATO_INNER_DIODE_DATA = 0xA3,
....................     SMF_SATO_OUTER_DIODE_HEADER = 0xA4,
....................     SMF_SATO_OUTER_DIODE_DATA = 0xA5,
.................... 
....................     // CIGS related IDs
....................     SMF_CIGS_DATA_TABLE = 0xC0,
....................     SMF_CIGS_PICLOG = 0xC1,
....................     SMF_CIGS_ENVIRO = 0xC2,
....................     SMF_CIGS_IV1_HEADER = 0xC3,
....................     SMF_CIGS_IV1_DATA = 0xC4,
....................     SMF_CIGS_IV2_HEADER = 0xC5,
....................     SMF_CIGS_IV2_DATA = 0xC6,
.................... };
.................... 
.................... 
.................... 
.................... // Base Memory Configuration
.................... #define SMF_SIZE 0x08000000 // 128MB
.................... #define SMF_START_ADDRESS 0x00000000
.................... #define SMF_END_ADDRESS   0x07FFFFFF
.................... 
.................... 
.................... // ===== Device IDs from メモリマップ  =====
.................... #define MAIN_DEVICE_ID 0x10
.................... #define COM_DEVICE_ID 0x20
.................... #define APRS_DEVICE_ID 0x60
.................... #define CAM_DEVICE_ID 0x70
.................... #define CHO_DEVICE_ID 0x80
.................... #define SATO_DEVICE_ID 0x90
.................... #define BHU_DEVICE_ID 0xB0
.................... #define CIGS_DEVICE_ID 0xC0
.................... 
.................... // ===== Data IDs from メモリマップ  =====
.................... #define ID_MAIN_ADDRESS_AREA 0x10
.................... #define ID_MAIN_ADDRESS 0x11
.................... #define ID_MAIN_RESERVED_COMMAND 0x12
.................... #define ID_MAIN_HK 0x14
.................... #define ID_MAIN_HSHK 0x15
.................... #define ID_MAIN_LSHK 0x16
.................... #define ID_MAIN_PIC_LOG 0x1F
.................... #define ID_COM_RSSI_TRX_T_LOG 0x20
.................... #define ID_COM_PIC_LOG 0x2F
.................... #define ID_APRS_PIC_DATA_TABLE 0x60
.................... #define ID_APRS_APRS 0x61
.................... #define ID_APRS_IN_VEHICLE_COMMUNICATION_MISSION 0x62
.................... #define ID_APRS_TLE_DATA 0x63
.................... #define ID_APRS_ECOSYSTEM 0x67
.................... #define ID_APRS_PIC_LOG 0x6F
.................... #define ID_CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE 0x70
.................... #define ID_CAM_CHIBANY_IMAGE_DATA_SIZE 0x71
.................... #define ID_CAM_CHIBANY_VIDEO_SIZE 0x72
.................... #define ID_CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE 0x73
.................... #define ID_CAM_POLEN_IMAGE_DATA_SIZE 0x74
.................... #define ID_CAM_POLLEN_VIDEO_DATA_SIZE 0x75
.................... #define ID_CAM_MCU_LOG_DATA_SIZE 0x7F
.................... #define ID_CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE 0x80
.................... #define ID_CHO_GREECE_IMAGE_DATA_SIZE 0x81
.................... #define ID_CHO_SENSOR_DATA_SIZE 0x82
.................... #define ID_CHO_MCU_LOG_DATA_SIZE 0x8F
.................... #define ID_SATO_PIC_DATA_TABLE 0x90
.................... #define ID_SATO_CYCLE_MODE_DATA 0x91
.................... #define ID_SATO_RANDOM_MODE_DATA 0x92
.................... #define ID_SATO_MULTIPLE_POINT_MODE_DATA 0x93
.................... #define ID_SATO_VOLTAGE_SWEEP_MODE_DATA 0x94
.................... #define ID_SATO_PIC_LOG 0x9F
.................... #define ID_BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE 0xB0
.................... #define ID_BHU_FOREST_IMAGE_DATA_SIZE 0xB1
.................... #define ID_BHU_SENSOR_DATA_DATA_SIZE 0xB2
.................... #define ID_BHU_MCU_LOG_DATA_SIZE 0xBF
.................... #define ID_CIGS_DATA_TABLE 0xC0
.................... #define ID_CIGS_MEASURE_DATA 0xC1
.................... #define ID_CIGS_PICLOG 0xCF
.................... 
.................... // ===== Memory Address Mappings from メモリマップ  =====
.................... #define MAIN_ADDRESS_AREA_START_ADDRESS 0x00000000
.................... #define MAIN_ADDRESS_AREA_END_ADDRESS 0x00000FFF
.................... #define MAIN_ADDRESS_START_ADDRESS 0x00001000
.................... #define MAIN_ADDRESS_END_ADDRESS 0x00001FFF
.................... #define MAIN_RESERVED_COMMAND_START_ADDRESS 0x00002000
.................... #define MAIN_RESERVED_COMMAND_END_ADDRESS 0x00003FFF
.................... #define MAIN_HK_START_ADDRESS 0x00004000
.................... #define MAIN_HK_END_ADDRESS 0x02003FFF
.................... #define MAIN_HSHK_START_ADDRESS 0x02004000
.................... #define MAIN_HSHK_END_ADDRESS 0x02103FFF
.................... #define MAIN_LSHK_START_ADDRESS 0x02104000
.................... #define MAIN_LSHK_END_ADDRESS 0x02303FFF
.................... #define MAIN_PIC_LOG_START_ADDRESS 0x02304000
.................... #define MAIN_PIC_LOG_END_ADDRESS 0x0240FFFF
.................... #define COM_RSSI_TRX_T_LOG_START_ADDRESS 0x02800000
.................... #define COM_RSSI_TRX_T_LOG_END_ADDRESS 0x028FFFFF
.................... #define COM_PIC_LOG_START_ADDRESS 0x02900000
.................... #define COM_PIC_LOG_END_ADDRESS 0x029FFFFF
.................... #define APRS_PIC_DATA_TABLE_START_ADDRESS 0x02C00000
.................... #define APRS_PIC_DATA_TABLE_END_ADDRESS 0x02C00FFF
.................... #define APRS_APRS_START_ADDRESS 0x02C01000
.................... #define APRS_APRS_END_ADDRESS 0x02D00FFF
.................... #define APRS_IN_VEHICLE_COMMUNICATION_MISSION_START_ADDRESS 0x02D01000
.................... #define APRS_IN_VEHICLE_COMMUNICATION_MISSION_END_ADDRESS 0x02D01FFF
.................... #define APRS_TLE_DATA_START_ADDRESS 0x02D02000
.................... #define APRS_TLE_DATA_END_ADDRESS 0x02D02FFF
.................... #define APRS_ECOSYSTEM_START_ADDRESS 0x02D03000
.................... #define APRS_ECOSYSTEM_END_ADDRESS 0x02E02FFF
.................... #define APRS_PIC_LOG_START_ADDRESS 0x02E03000
.................... #define APRS_PIC_LOG_END_ADDRESS 0x02E03FFF
.................... #define CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x02F10000
.................... #define CAM_CHIBANY_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x02F10FFF
.................... #define CAM_CHIBANY_IMAGE_DATA_SIZE_START_ADDRESS 0x03311000
.................... #define CAM_CHIBANY_IMAGE_DATA_SIZE_END_ADDRESS 0x03311FFF
.................... #define CAM_CHIBANY_VIDEO_SIZE_START_ADDRESS 0x03712000
.................... #define CAM_CHIBANY_VIDEO_SIZE_END_ADDRESS 0x03712FFF
.................... #define CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x03B13000
.................... #define CAM_POLLEN_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x03B13FFF
.................... #define CAM_POLEN_IMAGE_DATA_SIZE_START_ADDRESS 0x03F14000
.................... #define CAM_POLEN_IMAGE_DATA_SIZE_END_ADDRESS 0x03F14FFF
.................... #define CAM_POLLEN_VIDEO_DATA_SIZE_START_ADDRESS 0x04315000
.................... #define CAM_POLLEN_VIDEO_DATA_SIZE_END_ADDRESS 0x04315FFF
.................... #define CAM_MCU_LOG_DATA_SIZE_START_ADDRESS 0x04320000
.................... #define CAM_MCU_LOG_DATA_SIZE_END_ADDRESS 0x04320FFF
.................... #define CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x04440000
.................... #define CHO_GREECE_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x04440FFF
.................... #define CHO_GREECE_IMAGE_DATA_SIZE_START_ADDRESS 0x04451000
.................... #define CHO_GREECE_IMAGE_DATA_SIZE_END_ADDRESS 0x04451FFF
.................... #define CHO_SENSOR_DATA_SIZE_START_ADDRESS 0x04852000
.................... #define CHO_SENSOR_DATA_SIZE_END_ADDRESS 0x04852FFF
.................... #define CHO_MCU_LOG_DATA_SIZE_START_ADDRESS 0x04863000
.................... #define CHO_MCU_LOG_DATA_SIZE_END_ADDRESS 0x04863FFF
.................... #define SATO_PIC_DATA_TABLE_START_ADDRESS 0x04980000
.................... #define SATO_PIC_DATA_TABLE_END_ADDRESS 0x04980FFF
.................... #define SATO_CYCLE_MODE_DATA_START_ADDRESS 0x04981000
.................... #define SATO_CYCLE_MODE_DATA_END_ADDRESS 0x04A80FFF
.................... #define SATO_RANDOM_MODE_DATA_START_ADDRESS 0x04A81000
.................... #define SATO_RANDOM_MODE_DATA_END_ADDRESS 0x04E80FFF
.................... #define SATO_MULTIPLE_POINT_MODE_DATA_START_ADDRESS 0x04E81000
.................... #define SATO_MULTIPLE_POINT_MODE_DATA_END_ADDRESS 0x04F80FFF
.................... #define SATO_VOLTAGE_SWEEP_MODE_DATA_START_ADDRESS 0x04F81000
.................... #define SATO_VOLTAGE_SWEEP_MODE_DATA_END_ADDRESS 0x05080FFF
.................... #define SATO_PIC_LOG_START_ADDRESS 0x05081000
.................... #define SATO_PIC_LOG_END_ADDRESS 0x05081FFF
.................... #define BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE_START_ADDRESS 0x05190000
.................... #define BHU_FOREST_THUMBNAIL_IMAGE_DATA_SIZE_END_ADDRESS 0x05190FFF
.................... #define BHU_FOREST_IMAGE_DATA_SIZE_START_ADDRESS 0x05591000
.................... #define BHU_FOREST_IMAGE_DATA_SIZE_END_ADDRESS 0x05591FFF
.................... #define BHU_SENSOR_DATA_DATA_SIZE_START_ADDRESS 0x05992000
.................... #define BHU_SENSOR_DATA_DATA_SIZE_END_ADDRESS 0x05992FFF
.................... #define BHU_MCU_LOG_DATA_SIZE_START_ADDRESS 0x06993000
.................... #define BHU_MCU_LOG_DATA_SIZE_END_ADDRESS   0x06993FFF
.................... // CIGS related partitions
.................... #define CIGS_DATA_TABLE_START_ADDRESS   0x06AA0000
.................... #define CIGS_DATA_TABLE_END_ADDRESS     0x06AA0FFF
.................... #define CIGS_PICLOG_START_ADDRESS       0x06AA1000
.................... #define CIGS_PICLOG_END_ADDRESS         0x06AB0FFF
.................... #define CIGS_ENVIRO_START_ADDRESS       0x06AB1000
.................... #define CIGS_ENVIRO_END_ADDRESS         0x06B50FFF
.................... #define CIGS_IV1_HEADER_START_ADDRESS   0x06B51000
.................... #define CIGS_IV1_HEADER_END_ADDRESS     0x06BF0FFF
.................... #define CIGS_IV1_DATA_START_ADDRESS     0x06BF1000
.................... #define CIGS_IV1_DATA_END_ADDRESS       0x06FF0FFF
.................... #define CIGS_IV2_HEADER_START_ADDRESS   0x06FF1000
.................... #define CIGS_IV2_HEADER_END_ADDRESS     0x07090FFF
.................... #define CIGS_IV2_DATA_START_ADDRESS     0x07091000
.................... #define CIGS_IV2_DATA_END_ADDRESS       0x07490FFF
.................... 
.................... /*
.................... enum smf_memory_id{
....................     // SATO
....................     SATO_DATA_TABLE = 0xA0,
....................     SATO_PICLOG = 0xA1,
....................     SATO_INNER_DIODE_HEADER = 0xA2,
....................     SATO_INNER_DIODE_DATA = 0xA3,
....................     SATO_OUTER_DIODE_HEADER = 0xA4,
....................     SATO_OUTER_DIODE_DATA = 0xA5,
.................... 
....................     // CIGS related IDs
....................     IDF_CIGS_DATA_TABLE = 0xC0,
....................     IDF_CIGS_PICLOG = 0xC1,
....................     IDF_CIGS_ENVIRO = 0xC2,
....................     IDF_CIGS_IV1_HEADER = 0xC3,
....................     IDF_CIGS_IV1_DATA = 0xC4,
....................     IDF_CIGS_IV2_HEADER = 0xC5,
....................     IDF_CIGS_IV2_DATA = 0xC6,
.................... }
.................... */
.................... // DATA ID for CIGS
.................... #define DATA_ID_CIGS_DATA_TABLE 0xC0
.................... #define DATA_ID_CIGS_PICLOG 0xC1
.................... #define DATA_ID_CIGS_ENVIRO 0xC2
.................... #define DATA_ID_CIGS_IV1_HEADER 0xC3
.................... #define DATA_ID_CIGS_IV1_DATA 0xC4
.................... #define DATA_ID_CIGS_IV2_HEADER 0xC5
.................... #define DATA_ID_CIGS_IV2_DATA 0xC6
.................... 
.................... // FLASH ADDRESS for CIGS
.................... #define SMF_DATA_TABLE_HEADER_START_ADDRESS   0x07284000
.................... #define SMF_DATA_TABLE_HEADER_END_ADDRESS     0x07284FFF
.................... #define SMF_DATA_TABLE_DATA_START_ADDRESS     0x07285000
.................... #define SMF_DATA_TABLE_DATA_END_ADDRESS       0x07285FFF
.................... 
.................... #define SMF_PICLOG_HEADER_START_ADDRESS       0x07286000
.................... #define SMF_PICLOG_HEADER_END_ADDRESS         0x07286FFF
.................... #define SMF_PICLOG_DATA_START_ADDRESS         0x07287000
.................... #define SMF_PICLOG_DATA_END_ADDRESS           0x07296FFF
.................... 
.................... #define SMF_ENVIRO_HEADER_START_ADDRESS       0x07297000
.................... #define SMF_ENVIRO_HEADER_END_ADDRESS         0x07297FFF
.................... #define SMF_ENVIRO_DATA_START_ADDRESS         0x07298000
.................... #define SMF_ENVIRO_DATA_END_ADDRESS           0x07337FFF
.................... 
.................... #define SMF_IV1_HEADER_HEADER_START_ADDRESS   0x07338000
.................... #define SMF_IV1_HEADER_HEADER_END_ADDRESS     0x07338FFF
.................... #define SMF_IV1_HEADER_DATA_START_ADDRESS     0x07339000
.................... #define SMF_IV1_HEADER_DATA_END_ADDRESS       0x073D8FFF
.................... 
.................... #define SMF_IV1_DATA_HEADER_START_ADDRESS     0x073D9000
.................... #define SMF_IV1_DATA_HEADER_END_ADDRESS       0x073D9FFF
.................... #define SMF_IV1_DATA_DATA_START_ADDRESS       0x073DA000
.................... #define SMF_IV1_DATA_DATA_END_ADDRESS         0x077D9FFF
.................... 
.................... #define SMF_IV2_HEADER_HEADER_START_ADDRESS   0x077DA000
.................... #define SMF_IV2_HEADER_HEADER_END_ADDRESS     0x077DAFFF
.................... #define SMF_IV2_HEADER_DATA_START_ADDRESS     0x077DB000
.................... #define SMF_IV2_HEADER_DATA_END_ADDRESS       0x0787AFFF
.................... 
.................... #define SMF_IV2_DATA_HEADER_START_ADDRESS     0x0787B000
.................... #define SMF_IV2_DATA_HEADER_END_ADDRESS       0x0787BFFF
.................... #define SMF_IV2_DATA_DATA_START_ADDRESS       0x0787C000
.................... #define SMF_IV2_DATA_DATA_END_ADDRESS         0x07C7BFFF
.................... 
.................... 
.................... // FLASH SIZE for CIGS
.................... #define SMF_DATA_TABLE_SIZE  4096
.................... #define SMF_PICLOG_SIZE     1310720
.................... #define SMF_ENVIRO_SIZE     1310720
.................... #define SMF_IV1_HEADER_SIZE  655360
.................... #define SMF_IV1_DATA_SIZE    4194304
.................... #define SMF_IV2_HEADER_SIZE  655360
.................... #define SMF_IV2_DATA_SIZE    4194304
.................... 
.................... #endif // SMF_MEMORY_MAP_H
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... #define MAX_READ_SIZE 64
.................... #define SIZE_AREA_SIZE 0x1000
.................... #define SUBSECTOR_SIZE 0x1000 // (4096bytes)
.................... #define CRC_RETRY_COUNT 5     // CRC検証のリトライ回数 (smf_queue.hの値と整合するなら一元化検討)
.................... 
.................... 
.................... const ADDRESS_AREA_T SMF_ADDRESS_TABLE[FLASH_ID_COUNT] = {
....................     { CIGS_DATA_TABLE_START_ADDRESS,   CIGS_DATA_TABLE_END_ADDRESS,   MISF_CIGS_DATA_TABLE_SIZE },
....................     { CIGS_PICLOG_START_ADDRESS,       CIGS_PICLOG_END_ADDRESS,       MISF_CIGS_PICLOG_SIZE },
....................     { CIGS_ENVIRO_START_ADDRESS,       CIGS_ENVIRO_END_ADDRESS,       MISF_CIGS_ENVIRO_SIZE },
....................     { CIGS_IV1_HEADER_START_ADDRESS,   CIGS_IV1_HEADER_END_ADDRESS,   MISF_CIGS_IV1_HEADER_SIZE },
....................     { CIGS_IV1_DATA_START_ADDRESS,     CIGS_IV1_DATA_END_ADDRESS,     MISF_CIGS_IV1_DATA_SIZE },
....................     { CIGS_IV2_HEADER_START_ADDRESS,   CIGS_IV2_HEADER_END_ADDRESS,   MISF_CIGS_IV2_HEADER_SIZE },
....................     { CIGS_IV2_DATA_START_ADDRESS,     CIGS_IV2_DATA_END_ADDRESS,     MISF_CIGS_IV2_DATA_SIZE }
.................... };
.................... 
.................... int1 smf_update_flag[10];
.................... 
.................... void update_smf_header()
.................... {
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... }
.................... 
.................... 
.................... void smf_data_table_init()
.................... {
....................     fprintf(PC, "SMF Data Table Initialize\r\n");
*
0742E:  MOVLW  AC
07430:  MOVWF  FF6
07432:  MOVLW  06
07434:  MOVWF  FF7
07436:  MOVLW  00
07438:  MOVWF  FF8
0743A:  CALL   20CE
....................     for ( unsigned int32 address = CIGS_DATA_TABLE_START_ADDRESS; address < CIGS_IV2_DATA_END_ADDRESS; address += SUBSECTOR_SIZE )
0743E:  MOVLW  06
07440:  MOVLB  1
07442:  MOVWF  xF8
07444:  MOVLW  AA
07446:  MOVWF  xF7
07448:  CLRF   xF6
0744A:  CLRF   xF5
0744C:  MOVLB  0
0744E:  MOVLB  1
07450:  MOVF   xF8,W
07452:  SUBLW  07
07454:  BTFSC  FD8.0
07456:  BRA    745E
07458:  MOVLB  0
0745A:  GOTO   74E0
0745E:  MOVLB  0
07460:  BTFSS  FD8.2
07462:  GOTO   74A8
07466:  MOVLB  1
07468:  MOVF   xF7,W
0746A:  SUBLW  49
0746C:  BTFSC  FD8.0
0746E:  BRA    7476
07470:  MOVLB  0
07472:  GOTO   74E0
07476:  MOVLB  0
07478:  BTFSS  FD8.2
0747A:  GOTO   74A8
0747E:  MOVLB  1
07480:  MOVF   xF6,W
07482:  SUBLW  0F
07484:  BTFSC  FD8.0
07486:  BRA    748E
07488:  MOVLB  0
0748A:  GOTO   74E0
0748E:  MOVLB  0
07490:  BTFSS  FD8.2
07492:  GOTO   74A8
07496:  MOVLB  1
07498:  MOVF   xF5,W
0749A:  SUBLW  FE
0749C:  BTFSC  FD8.0
0749E:  BRA    74A6
074A0:  MOVLB  0
074A2:  GOTO   74E0
074A6:  MOVLB  0
....................     {
....................         subsector_4kByte_erase(smf, address);
074A8:  MOVFF  119,A93
074AC:  MOVFF  118,A92
074B0:  MOVFF  117,A91
074B4:  MOVFF  116,A90
074B8:  MOVFF  1F8,A97
074BC:  MOVFF  1F7,A96
074C0:  MOVFF  1F6,A95
074C4:  MOVFF  1F5,A94
074C8:  CALL   4B2A
074CC:  MOVLW  10
074CE:  MOVLB  1
074D0:  ADDWF  xF6,F
074D2:  MOVLW  00
074D4:  ADDWFC xF7,F
074D6:  MOVLW  00
074D8:  ADDWFC xF8,F
074DA:  MOVLB  0
074DC:  GOTO   744E
....................     }
....................     smf_data_table_t smf_data_table = {0};
074E0:  MOVLB  1
074E2:  CLRF   xF9
074E4:  CLRF   xFA
074E6:  CLRF   xFB
074E8:  CLRF   xFC
074EA:  CLRF   xFD
074EC:  CLRF   xFE
074EE:  CLRF   xFF
074F0:  MOVLB  2
074F2:  CLRF   x00
074F4:  CLRF   x01
074F6:  CLRF   x02
074F8:  CLRF   x03
074FA:  CLRF   x04
074FC:  CLRF   x05
074FE:  CLRF   x06
07500:  CLRF   x07
07502:  CLRF   x08
07504:  CLRF   x09
07506:  CLRF   x0A
07508:  CLRF   x0B
0750A:  CLRF   x0C
0750C:  CLRF   x0D
0750E:  CLRF   x0E
07510:  CLRF   x0F
07512:  CLRF   x10
07514:  CLRF   x11
07516:  CLRF   x12
07518:  CLRF   x13
0751A:  CLRF   x14
0751C:  CLRF   x15
0751E:  CLRF   x16
07520:  CLRF   x17
07522:  CLRF   x18
07524:  CLRF   x19
07526:  CLRF   x1A
07528:  CLRF   x1B
0752A:  CLRF   x1C
0752C:  CLRF   x1D
0752E:  CLRF   x1E
07530:  CLRF   x1F
07532:  CLRF   x20
07534:  CLRF   x21
07536:  CLRF   x22
07538:  CLRF   x23
0753A:  CLRF   x24
0753C:  CLRF   x25
0753E:  CLRF   x26
07540:  CLRF   x27
07542:  CLRF   x28
07544:  CLRF   x29
07546:  CLRF   x2A
07548:  CLRF   x2B
0754A:  CLRF   x2C
0754C:  CLRF   x2D
0754E:  CLRF   x2E
07550:  CLRF   x2F
07552:  CLRF   x30
07554:  CLRF   x31
07556:  CLRF   x32
07558:  CLRF   x33
0755A:  CLRF   x34
0755C:  CLRF   x35
0755E:  CLRF   x36
07560:  CLRF   x37
07562:  CLRF   x38
....................     smf_data_table.fields.crc = calc_crc8(smf_data_table.bytes, PACKET_SIZE - 1); // CRCを計算して初期化    
07564:  MOVLW  01
07566:  MOVLB  A
07568:  MOVWF  xEC
0756A:  MOVLW  F9
0756C:  MOVWF  xEB
0756E:  MOVLW  3F
07570:  MOVWF  xED
07572:  MOVLB  0
07574:  CALL   2EDC
07578:  MOVFF  01,238
....................     write_data_bytes(smf, CIGS_DATA_TABLE_START_ADDRESS, smf_data_table.bytes, PACKET_SIZE);
0757C:  MOVFF  119,AEE
07580:  MOVFF  118,AED
07584:  MOVFF  117,AEC
07588:  MOVFF  116,AEB
0758C:  MOVLW  06
0758E:  MOVLB  A
07590:  MOVWF  xF2
07592:  MOVLW  AA
07594:  MOVWF  xF1
07596:  CLRF   xF0
07598:  CLRF   xEF
0759A:  MOVLW  01
0759C:  MOVWF  xF4
0759E:  MOVLW  F9
075A0:  MOVWF  xF3
075A2:  CLRF   xF6
075A4:  MOVLW  40
075A6:  MOVWF  xF5
075A8:  MOVLB  0
075AA:  CALL   3D26
075AE:  RETURN 0
.................... }
.................... 
.................... void read_smf_header(smf_data_table_t *smf_data_table)
.................... {
....................     int8 retry_count;
.................... 
....................     for (retry_count = 0; retry_count < CRC_RETRY_COUNT; retry_count++)
....................     {
....................         // ヘッダを読み出し
....................         read_data_bytes(smf, CIGS_DATA_TABLE_START_ADDRESS, smf_data_table->bytes, PACKET_SIZE);
....................         print_smf_counter_status(smf_data_table);
.................... 
....................         // CRC検証
....................         if (is_crc_valid(smf_data_table->bytes, PACKET_SIZE))
....................         {
....................             return; // 成功したら終了
....................         }
....................         // NGなら少し待って再試行
....................         printf("CRC ERROR %d\r\n", retry_count + 1);
....................     }
.................... 
....................     // ここまで来たら失敗
....................     printf("CRC verification failed after %d attempts\r\n", CRC_RETRY_COUNT);
.................... 
....................     // 読み込み失敗時は初期化しておく
....................     smf_data_table_init();
....................     read_data_bytes(smf, CIGS_DATA_TABLE_START_ADDRESS, smf_data_table->bytes, PACKET_SIZE);
.................... 
....................     return;
.................... }
.................... 
.................... 
.................... void smf_write_header(smf_data_table_t *smf_data_table)
.................... {
....................     int1 crc_valid = 0;
....................     int8 readdata[PACKET_SIZE];
....................     smf_data_table->fields.crc = calc_crc8(smf_data_table->bytes, PACKET_SIZE - 1); // CRCを更新
.................... 
....................     for (int8 retry_count = 0; retry_count < CRC_RETRY_COUNT; retry_count++)
....................     {
....................         subsector_4kByte_erase(smf, CIGS_DATA_TABLE_START_ADDRESS);
....................         write_data_bytes(smf, CIGS_DATA_TABLE_START_ADDRESS, smf_data_table->bytes, PACKET_SIZE); // ヘッダーを書き込み
....................         read_data_bytes(smf, CIGS_DATA_TABLE_START_ADDRESS, readdata, PACKET_SIZE);
....................         if (is_crc_valid(readdata, PACKET_SIZE))
....................         {
....................             crc_valid = 1; // FIX            break;
....................         }
....................     }
....................     if (!crc_valid)
....................     {
....................         fprintf(PC, "Error: CRC verification failed after %d attempts\r\n", CRC_RETRY_COUNT);
....................         // return; 
....................     }
.................... }
.................... 
.................... void smf_write(FlashOperationStruct *smf_queue_ptr)
.................... {
....................     fprintf(PC, "\r\n_______________________________\r\n");
*
10476:  MOVLW  38
10478:  MOVWF  FF6
1047A:  MOVLW  07
1047C:  MOVWF  FF7
1047E:  MOVLW  00
10480:  MOVWF  FF8
10482:  CALL   20CE
....................     fprintf(PC, "_________Start copy_data_________\r\n");
10486:  MOVLW  5C
10488:  MOVWF  FF6
1048A:  MOVLW  07
1048C:  MOVWF  FF7
1048E:  MOVLW  00
10490:  MOVWF  FF8
10492:  CALL   20CE
....................     
....................     // 接続確認
....................     if (!is_connect(mis_fm))
10496:  MOVFF  115,253
1049A:  MOVFF  114,252
1049E:  MOVFF  113,251
104A2:  MOVFF  112,250
104A6:  CALL   2BF4
104AA:  MOVF   01,F
104AC:  BTFSS  FD8.2
104AE:  GOTO   104C6
....................     {
....................         fprintf(PC, "Error: MIS FM is not connected\r\n");
104B2:  MOVLW  80
104B4:  MOVWF  FF6
104B6:  MOVLW  07
104B8:  MOVWF  FF7
104BA:  MOVLW  00
104BC:  MOVWF  FF8
104BE:  CALL   20CE
....................         return;
104C2:  GOTO   113A6
....................     }    
....................     if (!is_connect(smf))
104C6:  MOVFF  119,253
104CA:  MOVFF  118,252
104CE:  MOVFF  117,251
104D2:  MOVFF  116,250
104D6:  CALL   2BF4
104DA:  MOVF   01,F
104DC:  BTFSS  FD8.2
104DE:  GOTO   104F6
....................     {
....................         fprintf(PC, "Error: SMF is not connected\r\n");
104E2:  MOVLW  A2
104E4:  MOVWF  FF6
104E6:  MOVLW  07
104E8:  MOVWF  FF7
104EA:  MOVLW  00
104EC:  MOVWF  FF8
104EE:  CALL   20CE
....................         return;
104F2:  GOTO   113A6
....................     }    
.................... 
.................... 
....................     // smf_data_table_t smf_data_table;
....................     // read_smf_header(&smf_data_table);
.................... 
.................... 
....................     unsigned int32 misf_write_src;
....................     unsigned int32 misf_write_size;
....................     unsigned int32 used_size = misf_counter_table[smf_queue_ptr->mission_id].uncopied_counter;
104F6:  MOVLB  1
104F8:  MOVF   xA1,W
104FA:  MOVWF  FE9
104FC:  MOVF   xA2,W
104FE:  MOVWF  FEA
10500:  MOVF   FEF,W
10502:  MULLW  0A
10504:  MOVF   FF3,W
10506:  MOVLB  2
10508:  CLRF   x11
1050A:  MOVWF  x10
1050C:  MOVLW  04
1050E:  ADDWF  x10,W
10510:  MOVWF  01
10512:  MOVLW  00
10514:  ADDWFC x11,W
10516:  MOVWF  03
10518:  MOVF   01,W
1051A:  ADDLW  22
1051C:  MOVWF  FE9
1051E:  MOVLW  01
10520:  ADDWFC 03,W
10522:  MOVWF  FEA
10524:  MOVFF  FEF,1AB
10528:  MOVFF  FEC,1AC
1052C:  MOVFF  FEC,1AD
10530:  MOVFF  FEC,1AE
10534:  MOVF   FED,F
10536:  MOVF   FED,F
10538:  MOVF   FED,F
....................     //アドレスと自動更新
....................     if (smf_queue_ptr->source_type == SOURCE_MISF_UNCOPIED )
1053A:  MOVLW  03
1053C:  MOVLB  1
1053E:  ADDWF  xA1,W
10540:  MOVWF  01
10542:  MOVLW  00
10544:  ADDWFC xA2,W
10546:  MOVWF  03
10548:  MOVF   01,W
1054A:  MOVWF  FE9
1054C:  MOVFF  03,FEA
10550:  BTFSS  FEF.0
10552:  BRA    1055A
10554:  MOVLB  0
10556:  GOTO   1069C
1055A:  MOVLB  0
....................     {
....................         misf_write_src = MISF_ADDRESS_TABLE[smf_queue_ptr->mission_id].start + misf_counter_table[smf_queue_ptr->mission_id].used_counter - misf_counter_table[smf_queue_ptr->mission_id].uncopied_counter;
1055C:  MOVLB  1
1055E:  MOVF   xA1,W
10560:  MOVWF  FE9
10562:  MOVF   xA2,W
10564:  MOVWF  FEA
10566:  MOVF   FEF,W
10568:  MULLW  0C
1056A:  MOVF   FF3,W
1056C:  MOVLB  2
1056E:  CLRF   x11
10570:  MOVWF  x10
10572:  MOVFF  211,03
10576:  MOVF   x10,W
10578:  MOVLB  0
1057A:  CALL   00E6
1057E:  MOVWF  00
10580:  TBLRD*+
10582:  MOVFF  FF5,01
10586:  TBLRD*+
10588:  MOVFF  FF5,02
1058C:  TBLRD*+
1058E:  MOVFF  FF5,03
10592:  MOVFF  03,215
10596:  MOVFF  02,214
1059A:  MOVFF  01,213
1059E:  MOVFF  00,212
105A2:  MOVLB  1
105A4:  MOVF   xA1,W
105A6:  MOVWF  FE9
105A8:  MOVF   xA2,W
105AA:  MOVWF  FEA
105AC:  MOVF   FEF,W
105AE:  MULLW  0A
105B0:  MOVF   FF3,W
105B2:  MOVLB  2
105B4:  CLRF   x17
105B6:  MOVWF  x16
105B8:  MOVLW  22
105BA:  ADDWF  x16,W
105BC:  MOVWF  FE9
105BE:  MOVLW  01
105C0:  ADDWFC x17,W
105C2:  MOVWF  FEA
105C4:  MOVFF  FEF,00
105C8:  MOVFF  FEC,01
105CC:  MOVFF  FEC,02
105D0:  MOVFF  FEC,03
105D4:  MOVF   FED,F
105D6:  MOVF   FED,F
105D8:  MOVF   FED,F
105DA:  MOVF   00,W
105DC:  ADDWF  x12,F
105DE:  MOVF   01,W
105E0:  ADDWFC x13,F
105E2:  MOVF   02,W
105E4:  ADDWFC x14,F
105E6:  MOVF   03,W
105E8:  ADDWFC x15,F
105EA:  MOVLB  1
105EC:  MOVF   xA1,W
105EE:  MOVWF  FE9
105F0:  MOVF   xA2,W
105F2:  MOVWF  FEA
105F4:  MOVF   FEF,W
105F6:  MULLW  0A
105F8:  MOVF   FF3,W
105FA:  MOVLB  2
105FC:  CLRF   x19
105FE:  MOVWF  x18
10600:  MOVLW  04
10602:  ADDWF  x18,W
10604:  MOVWF  01
10606:  MOVLW  00
10608:  ADDWFC x19,W
1060A:  MOVWF  03
1060C:  MOVF   01,W
1060E:  ADDLW  22
10610:  MOVWF  FE9
10612:  MOVLW  01
10614:  ADDWFC 03,W
10616:  MOVWF  FEA
10618:  MOVFF  FEF,00
1061C:  MOVFF  FEC,01
10620:  MOVFF  FEC,02
10624:  MOVFF  FEC,03
10628:  MOVF   FED,F
1062A:  MOVF   FED,F
1062C:  MOVF   FED,F
1062E:  MOVF   00,W
10630:  SUBWF  x12,W
10632:  MOVLB  1
10634:  MOVWF  xA3
10636:  MOVF   01,W
10638:  MOVLB  2
1063A:  SUBWFB x13,W
1063C:  MOVLB  1
1063E:  MOVWF  xA4
10640:  MOVF   02,W
10642:  MOVLB  2
10644:  SUBWFB x14,W
10646:  MOVLB  1
10648:  MOVWF  xA5
1064A:  MOVF   03,W
1064C:  MOVLB  2
1064E:  SUBWFB x15,W
10650:  MOVLB  1
10652:  MOVWF  xA6
....................         misf_write_size = misf_counter_table[smf_queue_ptr->mission_id].uncopied_counter;
10654:  MOVF   xA1,W
10656:  MOVWF  FE9
10658:  MOVF   xA2,W
1065A:  MOVWF  FEA
1065C:  MOVF   FEF,W
1065E:  MULLW  0A
10660:  MOVF   FF3,W
10662:  MOVLB  2
10664:  CLRF   x11
10666:  MOVWF  x10
10668:  MOVLW  04
1066A:  ADDWF  x10,W
1066C:  MOVWF  01
1066E:  MOVLW  00
10670:  ADDWFC x11,W
10672:  MOVWF  03
10674:  MOVF   01,W
10676:  ADDLW  22
10678:  MOVWF  FE9
1067A:  MOVLW  01
1067C:  ADDWFC 03,W
1067E:  MOVWF  FEA
10680:  MOVFF  FEF,1A7
10684:  MOVFF  FEC,1A8
10688:  MOVFF  FEC,1A9
1068C:  MOVFF  FEC,1AA
10690:  MOVF   FED,F
10692:  MOVF   FED,F
10694:  MOVF   FED,F
10696:  MOVLB  0
....................     }else if(smf_queue_ptr->source_type == SOURCE_MISF_MANUAL)
10698:  GOTO   10706
1069C:  MOVLW  03
1069E:  MOVLB  1
106A0:  ADDWF  xA1,W
106A2:  MOVWF  01
106A4:  MOVLW  00
106A6:  ADDWFC xA2,W
106A8:  MOVWF  03
106AA:  MOVF   01,W
106AC:  MOVWF  FE9
106AE:  MOVFF  03,FEA
106B2:  BTFSC  FEF.0
106B4:  BRA    106BC
106B6:  MOVLB  0
106B8:  GOTO   10706
106BC:  MOVLB  0
....................     {
....................         misf_write_src = smf_queue_ptr->misf_start_addr;
106BE:  MOVLW  04
106C0:  MOVLB  1
106C2:  ADDWF  xA1,W
106C4:  MOVWF  FE9
106C6:  MOVLW  00
106C8:  ADDWFC xA2,W
106CA:  MOVWF  FEA
106CC:  MOVFF  FEF,1A3
106D0:  MOVFF  FEC,1A4
106D4:  MOVFF  FEC,1A5
106D8:  MOVFF  FEC,1A6
106DC:  MOVF   FED,F
106DE:  MOVF   FED,F
106E0:  MOVF   FED,F
....................         misf_write_size = smf_queue_ptr->misf_size;
106E2:  MOVLW  08
106E4:  ADDWF  xA1,W
106E6:  MOVWF  FE9
106E8:  MOVLW  00
106EA:  ADDWFC xA2,W
106EC:  MOVWF  FEA
106EE:  MOVFF  FEF,1A7
106F2:  MOVFF  FEC,1A8
106F6:  MOVFF  FEC,1A9
106FA:  MOVFF  FEC,1AA
106FE:  MOVF   FED,F
10700:  MOVF   FED,F
10702:  MOVF   FED,F
10704:  MOVLB  0
....................     }
.................... 
....................     unsigned int32 smf_header_address_start;
....................     unsigned int32 smf_data_address_start;
....................     unsigned int32 smf_data_address_end;
....................     unsigned int32 misf_address_start = MISF_ADDRESS_TABLE[smf_queue_ptr->mission_id].start;
....................     unsigned int32 misf_address_end   = MISF_ADDRESS_TABLE[smf_queue_ptr->mission_id].end;
10706:  MOVLB  1
10708:  MOVF   xA1,W
1070A:  MOVWF  FE9
1070C:  MOVF   xA2,W
1070E:  MOVWF  FEA
10710:  MOVF   FEF,W
10712:  MULLW  0C
10714:  MOVF   FF3,W
10716:  MOVLB  2
10718:  CLRF   x11
1071A:  MOVWF  x10
1071C:  MOVFF  211,03
10720:  MOVF   x10,W
10722:  MOVLB  0
10724:  CALL   00E6
10728:  MOVWF  00
1072A:  TBLRD*+
1072C:  MOVFF  FF5,01
10730:  TBLRD*+
10732:  MOVFF  FF5,02
10736:  TBLRD*+
10738:  MOVFF  FF5,03
1073C:  MOVFF  03,1BE
10740:  MOVFF  02,1BD
10744:  MOVFF  01,1BC
10748:  MOVFF  00,1BB
1074C:  MOVLB  1
1074E:  MOVF   xA1,W
10750:  MOVWF  FE9
10752:  MOVF   xA2,W
10754:  MOVWF  FEA
10756:  MOVF   FEF,W
10758:  MULLW  0C
1075A:  MOVF   FF3,W
1075C:  MOVLB  2
1075E:  CLRF   x13
10760:  MOVWF  x12
10762:  MOVLW  04
10764:  ADDWF  x12,W
10766:  MOVWF  01
10768:  MOVLW  00
1076A:  ADDWFC x13,W
1076C:  MOVWF  03
1076E:  MOVF   01,W
10770:  MOVLB  0
10772:  CALL   00E6
10776:  MOVWF  00
10778:  TBLRD*+
1077A:  MOVFF  FF5,01
1077E:  TBLRD*+
10780:  MOVFF  FF5,02
10784:  TBLRD*+
10786:  MOVFF  FF5,03
1078A:  MOVFF  03,1C2
1078E:  MOVFF  02,1C1
10792:  MOVFF  01,1C0
10796:  MOVFF  00,1BF
.................... 
....................     smf_update_flag[smf_queue_ptr->mission_id] = 1;
1079A:  MOVLB  1
1079C:  MOVF   xA1,W
1079E:  MOVWF  FE9
107A0:  MOVF   xA2,W
107A2:  MOVWF  FEA
107A4:  MOVFF  FEA,211
107A8:  MOVFF  FE9,210
107AC:  MOVFF  FEF,B09
107B0:  MOVLW  01
107B2:  MOVLB  B
107B4:  MOVWF  x0A
107B6:  MOVLW  01
107B8:  MOVWF  x0C
107BA:  MOVLW  7A
107BC:  MOVWF  x0B
107BE:  MOVLB  0
107C0:  CALL   28AC
107C4:  MOVFF  211,FEA
107C8:  MOVFF  210,FE9
....................     switch ( smf_queue_ptr->mission_id )
107CC:  MOVLB  1
107CE:  MOVF   xA1,W
107D0:  MOVWF  FE9
107D2:  MOVF   xA2,W
107D4:  MOVWF  FEA
107D6:  MOVF   FEF,W
107D8:  XORLW  00
107DA:  MOVLB  0
107DC:  BTFSC  FD8.2
107DE:  GOTO   10816
107E2:  XORLW  01
107E4:  BTFSC  FD8.2
107E6:  GOTO   10858
107EA:  XORLW  03
107EC:  BTFSC  FD8.2
107EE:  GOTO   1089A
107F2:  XORLW  01
107F4:  BTFSC  FD8.2
107F6:  GOTO   108DC
107FA:  XORLW  07
107FC:  BTFSC  FD8.2
107FE:  GOTO   1091E
10802:  XORLW  01
10804:  BTFSC  FD8.2
10806:  GOTO   10960
1080A:  XORLW  03
1080C:  BTFSC  FD8.2
1080E:  GOTO   109A2
10812:  GOTO   109E4
....................     {
....................         case CIGS_DATA_TABLE:
....................             fprintf(PC, "FLASH ID: CIGS_DATA_TABLE\r\n");
10816:  MOVLW  C0
10818:  MOVWF  FF6
1081A:  MOVLW  07
1081C:  MOVWF  FF7
1081E:  MOVLW  00
10820:  MOVWF  FF8
10822:  CALL   20CE
....................             smf_header_address_start = SMF_DATA_TABLE_HEADER_START_ADDRESS;
10826:  MOVLW  07
10828:  MOVLB  1
1082A:  MOVWF  xB2
1082C:  MOVLW  28
1082E:  MOVWF  xB1
10830:  MOVLW  40
10832:  MOVWF  xB0
10834:  CLRF   xAF
....................             smf_data_address_start = SMF_DATA_TABLE_DATA_START_ADDRESS;
10836:  MOVLW  07
10838:  MOVWF  xB6
1083A:  MOVLW  28
1083C:  MOVWF  xB5
1083E:  MOVLW  50
10840:  MOVWF  xB4
10842:  CLRF   xB3
....................             smf_data_address_end = SMF_DATA_TABLE_DATA_END_ADDRESS;
10844:  MOVLW  07
10846:  MOVWF  xBA
10848:  MOVLW  28
1084A:  MOVWF  xB9
1084C:  MOVLW  5F
1084E:  MOVWF  xB8
10850:  SETF   xB7
....................             break;
10852:  MOVLB  0
10854:  GOTO   10A3A
....................         case CIGS_PICLOG_DATA:
....................             fprintf(PC, "FLASH ID: CIGS_PICLOG_DATA\r\n");
10858:  MOVLW  DC
1085A:  MOVWF  FF6
1085C:  MOVLW  07
1085E:  MOVWF  FF7
10860:  MOVLW  00
10862:  MOVWF  FF8
10864:  CALL   20CE
....................             smf_header_address_start = SMF_PICLOG_HEADER_START_ADDRESS;
10868:  MOVLW  07
1086A:  MOVLB  1
1086C:  MOVWF  xB2
1086E:  MOVLW  28
10870:  MOVWF  xB1
10872:  MOVLW  60
10874:  MOVWF  xB0
10876:  CLRF   xAF
....................             smf_data_address_start = SMF_PICLOG_DATA_START_ADDRESS;
10878:  MOVLW  07
1087A:  MOVWF  xB6
1087C:  MOVLW  28
1087E:  MOVWF  xB5
10880:  MOVLW  70
10882:  MOVWF  xB4
10884:  CLRF   xB3
....................             smf_data_address_end = SMF_PICLOG_DATA_END_ADDRESS;
10886:  MOVLW  07
10888:  MOVWF  xBA
1088A:  MOVLW  29
1088C:  MOVWF  xB9
1088E:  MOVLW  6F
10890:  MOVWF  xB8
10892:  SETF   xB7
....................             break;
10894:  MOVLB  0
10896:  GOTO   10A3A
....................         case CIGS_ENVIRO_DATA:
....................             fprintf(PC, "FLASH ID: CIGS_ENVIRO_DATA\r\n");
1089A:  MOVLW  FA
1089C:  MOVWF  FF6
1089E:  MOVLW  07
108A0:  MOVWF  FF7
108A2:  MOVLW  00
108A4:  MOVWF  FF8
108A6:  CALL   20CE
....................             smf_header_address_start = SMF_ENVIRO_HEADER_START_ADDRESS;
108AA:  MOVLW  07
108AC:  MOVLB  1
108AE:  MOVWF  xB2
108B0:  MOVLW  29
108B2:  MOVWF  xB1
108B4:  MOVLW  70
108B6:  MOVWF  xB0
108B8:  CLRF   xAF
....................             smf_data_address_start = SMF_ENVIRO_DATA_START_ADDRESS;
108BA:  MOVLW  07
108BC:  MOVWF  xB6
108BE:  MOVLW  29
108C0:  MOVWF  xB5
108C2:  MOVLW  80
108C4:  MOVWF  xB4
108C6:  CLRF   xB3
....................             smf_data_address_end = SMF_ENVIRO_DATA_END_ADDRESS;
108C8:  MOVLW  07
108CA:  MOVWF  xBA
108CC:  MOVLW  33
108CE:  MOVWF  xB9
108D0:  MOVLW  7F
108D2:  MOVWF  xB8
108D4:  SETF   xB7
....................             break;
108D6:  MOVLB  0
108D8:  GOTO   10A3A
....................         case CIGS_IV1_HEADER:
....................             fprintf(PC, "FLASH ID: CIGS_IV1_HEADER\r\n");
108DC:  MOVLW  18
108DE:  MOVWF  FF6
108E0:  MOVLW  08
108E2:  MOVWF  FF7
108E4:  MOVLW  00
108E6:  MOVWF  FF8
108E8:  CALL   20CE
....................             smf_header_address_start = SMF_IV1_HEADER_HEADER_START_ADDRESS;
108EC:  MOVLW  07
108EE:  MOVLB  1
108F0:  MOVWF  xB2
108F2:  MOVLW  33
108F4:  MOVWF  xB1
108F6:  MOVLW  80
108F8:  MOVWF  xB0
108FA:  CLRF   xAF
....................             smf_data_address_start = SMF_IV1_HEADER_DATA_START_ADDRESS;
108FC:  MOVLW  07
108FE:  MOVWF  xB6
10900:  MOVLW  33
10902:  MOVWF  xB5
10904:  MOVLW  90
10906:  MOVWF  xB4
10908:  CLRF   xB3
....................             smf_data_address_end = SMF_IV1_HEADER_DATA_END_ADDRESS;
1090A:  MOVLW  07
1090C:  MOVWF  xBA
1090E:  MOVLW  3D
10910:  MOVWF  xB9
10912:  MOVLW  8F
10914:  MOVWF  xB8
10916:  SETF   xB7
....................             break;
10918:  MOVLB  0
1091A:  GOTO   10A3A
....................         case CIGS_IV1_DATA:
....................             fprintf(PC, "FLASH ID: CIGS_IV1_DATA\r\n");
1091E:  MOVLW  34
10920:  MOVWF  FF6
10922:  MOVLW  08
10924:  MOVWF  FF7
10926:  MOVLW  00
10928:  MOVWF  FF8
1092A:  CALL   20CE
....................             smf_header_address_start = SMF_IV1_DATA_HEADER_START_ADDRESS;
1092E:  MOVLW  07
10930:  MOVLB  1
10932:  MOVWF  xB2
10934:  MOVLW  3D
10936:  MOVWF  xB1
10938:  MOVLW  90
1093A:  MOVWF  xB0
1093C:  CLRF   xAF
....................             smf_data_address_start = SMF_IV1_DATA_DATA_START_ADDRESS;
1093E:  MOVLW  07
10940:  MOVWF  xB6
10942:  MOVLW  3D
10944:  MOVWF  xB5
10946:  MOVLW  A0
10948:  MOVWF  xB4
1094A:  CLRF   xB3
....................             smf_data_address_end = SMF_IV1_DATA_DATA_END_ADDRESS;
1094C:  MOVLW  07
1094E:  MOVWF  xBA
10950:  MOVLW  7D
10952:  MOVWF  xB9
10954:  MOVLW  9F
10956:  MOVWF  xB8
10958:  SETF   xB7
....................             break;
1095A:  MOVLB  0
1095C:  GOTO   10A3A
....................         case CIGS_IV2_HEADER:
....................             fprintf(PC, "FLASH ID: CIGS_IV2_HEADER\r\n");
10960:  MOVLW  4E
10962:  MOVWF  FF6
10964:  MOVLW  08
10966:  MOVWF  FF7
10968:  MOVLW  00
1096A:  MOVWF  FF8
1096C:  CALL   20CE
....................             smf_header_address_start = SMF_IV2_HEADER_HEADER_START_ADDRESS;
10970:  MOVLW  07
10972:  MOVLB  1
10974:  MOVWF  xB2
10976:  MOVLW  7D
10978:  MOVWF  xB1
1097A:  MOVLW  A0
1097C:  MOVWF  xB0
1097E:  CLRF   xAF
....................             smf_data_address_start = SMF_IV2_HEADER_DATA_START_ADDRESS;
10980:  MOVLW  07
10982:  MOVWF  xB6
10984:  MOVLW  7D
10986:  MOVWF  xB5
10988:  MOVLW  B0
1098A:  MOVWF  xB4
1098C:  CLRF   xB3
....................             smf_data_address_end = SMF_IV2_HEADER_DATA_END_ADDRESS;
1098E:  MOVLW  07
10990:  MOVWF  xBA
10992:  MOVLW  87
10994:  MOVWF  xB9
10996:  MOVLW  AF
10998:  MOVWF  xB8
1099A:  SETF   xB7
....................             break;
1099C:  MOVLB  0
1099E:  GOTO   10A3A
....................         case CIGS_IV2_DATA:
....................             fprintf(PC, "FLASH ID: CIGS_IV2_DATA\r\n");
109A2:  MOVLW  6A
109A4:  MOVWF  FF6
109A6:  MOVLW  08
109A8:  MOVWF  FF7
109AA:  MOVLW  00
109AC:  MOVWF  FF8
109AE:  CALL   20CE
....................             smf_header_address_start = SMF_IV2_DATA_HEADER_START_ADDRESS;
109B2:  MOVLW  07
109B4:  MOVLB  1
109B6:  MOVWF  xB2
109B8:  MOVLW  87
109BA:  MOVWF  xB1
109BC:  MOVLW  B0
109BE:  MOVWF  xB0
109C0:  CLRF   xAF
....................             smf_data_address_start = SMF_IV2_DATA_DATA_START_ADDRESS;
109C2:  MOVLW  07
109C4:  MOVWF  xB6
109C6:  MOVLW  87
109C8:  MOVWF  xB5
109CA:  MOVLW  C0
109CC:  MOVWF  xB4
109CE:  CLRF   xB3
....................             smf_data_address_end = SMF_IV2_DATA_DATA_END_ADDRESS;
109D0:  MOVLW  07
109D2:  MOVWF  xBA
109D4:  MOVLW  C7
109D6:  MOVWF  xB9
109D8:  MOVLW  BF
109DA:  MOVWF  xB8
109DC:  SETF   xB7
....................             break;
109DE:  MOVLB  0
109E0:  GOTO   10A3A
....................         default:
....................             fprintf(PC, "Error: Invalid mission ID %d\r\n", smf_queue_ptr->mission_id);
109E4:  MOVLB  1
109E6:  MOVF   xA1,W
109E8:  MOVWF  FE9
109EA:  MOVF   xA2,W
109EC:  MOVWF  FEA
109EE:  MOVFF  FEF,210
109F2:  MOVLW  84
109F4:  MOVWF  FF6
109F6:  MOVLW  08
109F8:  MOVWF  FF7
109FA:  MOVLW  00
109FC:  MOVWF  FF8
109FE:  MOVLW  1A
10A00:  MOVLB  A
10A02:  MOVWF  x4E
10A04:  MOVLB  0
10A06:  CALL   2104
10A0A:  MOVFF  210,211
10A0E:  MOVLW  18
10A10:  MOVLB  2
10A12:  MOVWF  x12
10A14:  MOVLB  0
10A16:  GOTO   10000
10A1A:  MOVLW  0D
10A1C:  BTFSS  FA6.6
10A1E:  GOTO   10A1C
10A22:  MOVLB  E
10A24:  MOVWF  xF9
10A26:  MOVLW  0A
10A28:  MOVLB  0
10A2A:  BTFSS  FA6.6
10A2C:  GOTO   10A2A
10A30:  MOVLB  E
10A32:  MOVWF  xF9
....................             return;
10A34:  MOVLB  0
10A36:  GOTO   113A6
....................     }
.................... 
....................     // Print MISF ADDRESS
....................     fprintf(PC,"[MISF ADDRESS]\r\n");
10A3A:  MOVLW  A4
10A3C:  MOVWF  FF6
10A3E:  MOVLW  08
10A40:  MOVWF  FF7
10A42:  MOVLW  00
10A44:  MOVWF  FF8
10A46:  CALL   20CE
....................     fprintf(PC, "\tParam\tData\r\n");
10A4A:  MOVLW  B6
10A4C:  MOVWF  FF6
10A4E:  MOVLW  08
10A50:  MOVWF  FF7
10A52:  MOVLW  00
10A54:  MOVWF  FF8
10A56:  CALL   20CE
....................     fprintf(PC, "\t-----\t----------\r\n");
10A5A:  MOVLW  C4
10A5C:  MOVWF  FF6
10A5E:  MOVLW  08
10A60:  MOVWF  FF7
10A62:  MOVLW  00
10A64:  MOVWF  FF8
10A66:  CALL   20CE
....................     fprintf(PC, "\tSTART\t0x%08LX\r\n", misf_address_start);
10A6A:  MOVLW  D8
10A6C:  MOVWF  FF6
10A6E:  MOVLW  08
10A70:  MOVWF  FF7
10A72:  MOVLW  00
10A74:  MOVWF  FF8
10A76:  MOVLW  09
10A78:  MOVLB  A
10A7A:  MOVWF  x4E
10A7C:  MOVLB  0
10A7E:  CALL   2104
10A82:  MOVFF  1BE,9E8
10A86:  MOVLW  37
10A88:  MOVLB  9
10A8A:  MOVWF  xE9
10A8C:  MOVLB  0
10A8E:  CALL   2334
10A92:  MOVFF  1BD,9E8
10A96:  MOVLW  37
10A98:  MOVLB  9
10A9A:  MOVWF  xE9
10A9C:  MOVLB  0
10A9E:  CALL   2334
10AA2:  MOVFF  1BC,9E8
10AA6:  MOVLW  37
10AA8:  MOVLB  9
10AAA:  MOVWF  xE9
10AAC:  MOVLB  0
10AAE:  CALL   2334
10AB2:  MOVFF  1BB,9E8
10AB6:  MOVLW  37
10AB8:  MOVLB  9
10ABA:  MOVWF  xE9
10ABC:  MOVLB  0
10ABE:  CALL   2334
10AC2:  MOVLW  0D
10AC4:  BTFSS  FA6.6
10AC6:  GOTO   10AC4
10ACA:  MOVLB  E
10ACC:  MOVWF  xF9
10ACE:  MOVLW  0A
10AD0:  MOVLB  0
10AD2:  BTFSS  FA6.6
10AD4:  GOTO   10AD2
10AD8:  MOVLB  E
10ADA:  MOVWF  xF9
....................     fprintf(PC, "\tEND\t0x%08LX\r\n", misf_address_end);
10ADC:  MOVLW  EA
10ADE:  MOVWF  FF6
10AE0:  MOVLW  08
10AE2:  MOVWF  FF7
10AE4:  MOVLW  00
10AE6:  MOVWF  FF8
10AE8:  MOVLW  07
10AEA:  MOVLB  A
10AEC:  MOVWF  x4E
10AEE:  MOVLB  0
10AF0:  CALL   2104
10AF4:  MOVFF  1C2,9E8
10AF8:  MOVLW  37
10AFA:  MOVLB  9
10AFC:  MOVWF  xE9
10AFE:  MOVLB  0
10B00:  CALL   2334
10B04:  MOVFF  1C1,9E8
10B08:  MOVLW  37
10B0A:  MOVLB  9
10B0C:  MOVWF  xE9
10B0E:  MOVLB  0
10B10:  CALL   2334
10B14:  MOVFF  1C0,9E8
10B18:  MOVLW  37
10B1A:  MOVLB  9
10B1C:  MOVWF  xE9
10B1E:  MOVLB  0
10B20:  CALL   2334
10B24:  MOVFF  1BF,9E8
10B28:  MOVLW  37
10B2A:  MOVLB  9
10B2C:  MOVWF  xE9
10B2E:  MOVLB  0
10B30:  CALL   2334
10B34:  MOVLW  0D
10B36:  BTFSS  FA6.6
10B38:  GOTO   10B36
10B3C:  MOVLB  E
10B3E:  MOVWF  xF9
10B40:  MOVLW  0A
10B42:  MOVLB  0
10B44:  BTFSS  FA6.6
10B46:  GOTO   10B44
10B4A:  MOVLB  E
10B4C:  MOVWF  xF9
....................     fprintf(PC, "\tSRC\t0x%08LX\r\n", misf_write_src);
10B4E:  MOVLW  FA
10B50:  MOVWF  FF6
10B52:  MOVLW  08
10B54:  MOVWF  FF7
10B56:  MOVLW  00
10B58:  MOVWF  FF8
10B5A:  MOVLW  07
10B5C:  MOVLB  A
10B5E:  MOVWF  x4E
10B60:  MOVLB  0
10B62:  CALL   2104
10B66:  MOVFF  1A6,9E8
10B6A:  MOVLW  37
10B6C:  MOVLB  9
10B6E:  MOVWF  xE9
10B70:  MOVLB  0
10B72:  CALL   2334
10B76:  MOVFF  1A5,9E8
10B7A:  MOVLW  37
10B7C:  MOVLB  9
10B7E:  MOVWF  xE9
10B80:  MOVLB  0
10B82:  CALL   2334
10B86:  MOVFF  1A4,9E8
10B8A:  MOVLW  37
10B8C:  MOVLB  9
10B8E:  MOVWF  xE9
10B90:  MOVLB  0
10B92:  CALL   2334
10B96:  MOVFF  1A3,9E8
10B9A:  MOVLW  37
10B9C:  MOVLB  9
10B9E:  MOVWF  xE9
10BA0:  MOVLB  0
10BA2:  CALL   2334
10BA6:  MOVLW  0D
10BA8:  BTFSS  FA6.6
10BAA:  GOTO   10BA8
10BAE:  MOVLB  E
10BB0:  MOVWF  xF9
10BB2:  MOVLW  0A
10BB4:  MOVLB  0
10BB6:  BTFSS  FA6.6
10BB8:  GOTO   10BB6
10BBC:  MOVLB  E
10BBE:  MOVWF  xF9
....................     fprintf(PC, "\tSIZE\t0x%08LX\r\n", misf_write_size);
10BC0:  MOVLW  0A
10BC2:  MOVWF  FF6
10BC4:  MOVLW  09
10BC6:  MOVWF  FF7
10BC8:  MOVLW  00
10BCA:  MOVWF  FF8
10BCC:  MOVLW  08
10BCE:  MOVLB  A
10BD0:  MOVWF  x4E
10BD2:  MOVLB  0
10BD4:  CALL   2104
10BD8:  MOVFF  1AA,9E8
10BDC:  MOVLW  37
10BDE:  MOVLB  9
10BE0:  MOVWF  xE9
10BE2:  MOVLB  0
10BE4:  CALL   2334
10BE8:  MOVFF  1A9,9E8
10BEC:  MOVLW  37
10BEE:  MOVLB  9
10BF0:  MOVWF  xE9
10BF2:  MOVLB  0
10BF4:  CALL   2334
10BF8:  MOVFF  1A8,9E8
10BFC:  MOVLW  37
10BFE:  MOVLB  9
10C00:  MOVWF  xE9
10C02:  MOVLB  0
10C04:  CALL   2334
10C08:  MOVFF  1A7,9E8
10C0C:  MOVLW  37
10C0E:  MOVLB  9
10C10:  MOVWF  xE9
10C12:  MOVLB  0
10C14:  CALL   2334
10C18:  MOVLW  0D
10C1A:  BTFSS  FA6.6
10C1C:  GOTO   10C1A
10C20:  MOVLB  E
10C22:  MOVWF  xF9
10C24:  MOVLW  0A
10C26:  MOVLB  0
10C28:  BTFSS  FA6.6
10C2A:  GOTO   10C28
10C2E:  MOVLB  E
10C30:  MOVWF  xF9
....................     fprintf(PC, "\t-----\t----------\r\n");
10C32:  MOVLW  1A
10C34:  MOVWF  FF6
10C36:  MOVLW  09
10C38:  MOVWF  FF7
10C3A:  MOVLW  00
10C3C:  MOVWF  FF8
10C3E:  MOVLB  0
10C40:  CALL   20CE
.................... 
....................     // Print SMF ADDRESS
....................     fprintf(PC,"[SMF ADDRESS]\r\n");
10C44:  MOVLW  2E
10C46:  MOVWF  FF6
10C48:  MOVLW  09
10C4A:  MOVWF  FF7
10C4C:  MOVLW  00
10C4E:  MOVWF  FF8
10C50:  CALL   20CE
....................     fprintf(PC, "\tParam\tData\r\n");
10C54:  MOVLW  3E
10C56:  MOVWF  FF6
10C58:  MOVLW  09
10C5A:  MOVWF  FF7
10C5C:  MOVLW  00
10C5E:  MOVWF  FF8
10C60:  CALL   20CE
....................     fprintf(PC, "\t-----\t----------\r\n");
10C64:  MOVLW  4C
10C66:  MOVWF  FF6
10C68:  MOVLW  09
10C6A:  MOVWF  FF7
10C6C:  MOVLW  00
10C6E:  MOVWF  FF8
10C70:  CALL   20CE
....................     fprintf(PC, "\tSTART\t0x%08LX\r\n", smf_data_address_start);
10C74:  MOVLW  60
10C76:  MOVWF  FF6
10C78:  MOVLW  09
10C7A:  MOVWF  FF7
10C7C:  MOVLW  00
10C7E:  MOVWF  FF8
10C80:  MOVLW  09
10C82:  MOVLB  A
10C84:  MOVWF  x4E
10C86:  MOVLB  0
10C88:  CALL   2104
10C8C:  MOVFF  1B6,9E8
10C90:  MOVLW  37
10C92:  MOVLB  9
10C94:  MOVWF  xE9
10C96:  MOVLB  0
10C98:  CALL   2334
10C9C:  MOVFF  1B5,9E8
10CA0:  MOVLW  37
10CA2:  MOVLB  9
10CA4:  MOVWF  xE9
10CA6:  MOVLB  0
10CA8:  CALL   2334
10CAC:  MOVFF  1B4,9E8
10CB0:  MOVLW  37
10CB2:  MOVLB  9
10CB4:  MOVWF  xE9
10CB6:  MOVLB  0
10CB8:  CALL   2334
10CBC:  MOVFF  1B3,9E8
10CC0:  MOVLW  37
10CC2:  MOVLB  9
10CC4:  MOVWF  xE9
10CC6:  MOVLB  0
10CC8:  CALL   2334
10CCC:  MOVLW  0D
10CCE:  BTFSS  FA6.6
10CD0:  GOTO   10CCE
10CD4:  MOVLB  E
10CD6:  MOVWF  xF9
10CD8:  MOVLW  0A
10CDA:  MOVLB  0
10CDC:  BTFSS  FA6.6
10CDE:  GOTO   10CDC
10CE2:  MOVLB  E
10CE4:  MOVWF  xF9
....................     fprintf(PC, "\tEND\t0x%08LX\r\n", smf_data_address_end);
10CE6:  MOVLW  72
10CE8:  MOVWF  FF6
10CEA:  MOVLW  09
10CEC:  MOVWF  FF7
10CEE:  MOVLW  00
10CF0:  MOVWF  FF8
10CF2:  MOVLW  07
10CF4:  MOVLB  A
10CF6:  MOVWF  x4E
10CF8:  MOVLB  0
10CFA:  CALL   2104
10CFE:  MOVFF  1BA,9E8
10D02:  MOVLW  37
10D04:  MOVLB  9
10D06:  MOVWF  xE9
10D08:  MOVLB  0
10D0A:  CALL   2334
10D0E:  MOVFF  1B9,9E8
10D12:  MOVLW  37
10D14:  MOVLB  9
10D16:  MOVWF  xE9
10D18:  MOVLB  0
10D1A:  CALL   2334
10D1E:  MOVFF  1B8,9E8
10D22:  MOVLW  37
10D24:  MOVLB  9
10D26:  MOVWF  xE9
10D28:  MOVLB  0
10D2A:  CALL   2334
10D2E:  MOVFF  1B7,9E8
10D32:  MOVLW  37
10D34:  MOVLB  9
10D36:  MOVWF  xE9
10D38:  MOVLB  0
10D3A:  CALL   2334
10D3E:  MOVLW  0D
10D40:  BTFSS  FA6.6
10D42:  GOTO   10D40
10D46:  MOVLB  E
10D48:  MOVWF  xF9
10D4A:  MOVLW  0A
10D4C:  MOVLB  0
10D4E:  BTFSS  FA6.6
10D50:  GOTO   10D4E
10D54:  MOVLB  E
10D56:  MOVWF  xF9
....................     fprintf(PC, "\t-----\t----------\r\n");
10D58:  MOVLW  82
10D5A:  MOVWF  FF6
10D5C:  MOVLW  09
10D5E:  MOVWF  FF7
10D60:  MOVLW  00
10D62:  MOVWF  FF8
10D64:  MOVLB  0
10D66:  CALL   20CE
.................... 
.................... 
....................     // Erase Area
....................     fprintf(PC, "ERASE SMF AREA\r\n");
10D6A:  MOVLW  96
10D6C:  MOVWF  FF6
10D6E:  MOVLW  09
10D70:  MOVWF  FF7
10D72:  MOVLW  00
10D74:  MOVWF  FF8
10D76:  CALL   20CE
....................     for ( unsigned int32 address = smf_data_address_start; address < smf_data_address_end; address += SUBSECTOR_SIZE )
10D7A:  MOVFF  1B6,1C6
10D7E:  MOVFF  1B5,1C5
10D82:  MOVFF  1B4,1C4
10D86:  MOVFF  1B3,1C3
10D8A:  MOVLB  1
10D8C:  MOVF   xC6,W
10D8E:  SUBWF  xBA,W
10D90:  BTFSC  FD8.0
10D92:  BRA    10D9A
10D94:  MOVLB  0
10D96:  GOTO   10E1C
10D9A:  MOVLB  0
10D9C:  BTFSS  FD8.2
10D9E:  GOTO   10DE4
10DA2:  MOVLB  1
10DA4:  MOVF   xC5,W
10DA6:  SUBWF  xB9,W
10DA8:  BTFSC  FD8.0
10DAA:  BRA    10DB2
10DAC:  MOVLB  0
10DAE:  GOTO   10E1C
10DB2:  MOVLB  0
10DB4:  BTFSS  FD8.2
10DB6:  GOTO   10DE4
10DBA:  MOVLB  1
10DBC:  MOVF   xC4,W
10DBE:  SUBWF  xB8,W
10DC0:  BTFSC  FD8.0
10DC2:  BRA    10DCA
10DC4:  MOVLB  0
10DC6:  GOTO   10E1C
10DCA:  MOVLB  0
10DCC:  BTFSS  FD8.2
10DCE:  GOTO   10DE4
10DD2:  MOVLB  1
10DD4:  MOVF   xB7,W
10DD6:  SUBWF  xC3,W
10DD8:  BTFSS  FD8.0
10DDA:  BRA    10DE2
10DDC:  MOVLB  0
10DDE:  GOTO   10E1C
10DE2:  MOVLB  0
....................     {
....................         subsector_4kByte_erase(smf, address);
10DE4:  MOVFF  119,A93
10DE8:  MOVFF  118,A92
10DEC:  MOVFF  117,A91
10DF0:  MOVFF  116,A90
10DF4:  MOVFF  1C6,A97
10DF8:  MOVFF  1C5,A96
10DFC:  MOVFF  1C4,A95
10E00:  MOVFF  1C3,A94
10E04:  CALL   4B2A
10E08:  MOVLW  10
10E0A:  MOVLB  1
10E0C:  ADDWF  xC4,F
10E0E:  MOVLW  00
10E10:  ADDWFC xC5,F
10E12:  MOVLW  00
10E14:  ADDWFC xC6,F
10E16:  MOVLB  0
10E18:  GOTO   10D8A
....................     }
....................     fprintf(PC, "\tERASE SMF AREA DONE\r\n");
10E1C:  MOVLW  A8
10E1E:  MOVWF  FF6
10E20:  MOVLW  09
10E22:  MOVWF  FF7
10E24:  MOVLW  00
10E26:  MOVWF  FF8
10E28:  CALL   20CE
.................... 
....................     // Write Data
....................     unsigned int8 buffer[PACKET_SIZE];
....................     unsigned int32 smf_write_address = smf_data_address_start;
....................     unsigned int32 misf_read_address = misf_write_src;
10E2C:  MOVFF  1B6,20A
10E30:  MOVFF  1B5,209
10E34:  MOVFF  1B4,208
10E38:  MOVFF  1B3,207
10E3C:  MOVFF  1A6,20E
10E40:  MOVFF  1A5,20D
10E44:  MOVFF  1A4,20C
10E48:  MOVFF  1A3,20B
....................     fprintf(PC, "WRITE DATA TO SMF\r\n");
10E4C:  MOVLW  C0
10E4E:  MOVWF  FF6
10E50:  MOVLW  09
10E52:  MOVWF  FF7
10E54:  MOVLW  00
10E56:  MOVWF  FF8
10E58:  CALL   20CE
....................     while (misf_write_size > 0)
10E5C:  MOVLB  1
10E5E:  MOVF   xA7,F
10E60:  BTFSC  FD8.2
10E62:  BRA    10E6A
10E64:  MOVLB  0
10E66:  GOTO   10E9C
10E6A:  MOVLB  0
10E6C:  MOVLB  1
10E6E:  MOVF   xA8,F
10E70:  BTFSC  FD8.2
10E72:  BRA    10E7A
10E74:  MOVLB  0
10E76:  GOTO   10E9C
10E7A:  MOVLB  0
10E7C:  MOVLB  1
10E7E:  MOVF   xA9,F
10E80:  BTFSC  FD8.2
10E82:  BRA    10E8A
10E84:  MOVLB  0
10E86:  GOTO   10E9C
10E8A:  MOVLB  0
10E8C:  MOVLB  1
10E8E:  MOVF   xAA,F
10E90:  BTFSS  FD8.2
10E92:  BRA    10E9A
10E94:  MOVLB  0
10E96:  GOTO   111C4
10E9A:  MOVLB  0
....................     {
....................         memset(buffer, 0x11, PACKET_SIZE);
10E9C:  MOVLW  01
10E9E:  MOVWF  FEA
10EA0:  MOVLW  C7
10EA2:  MOVWF  FE9
10EA4:  MOVLW  11
10EA6:  MOVWF  00
10EA8:  CLRF   02
10EAA:  MOVLW  40
10EAC:  MOVWF  01
10EAE:  CALL   213E
....................         read_data_bytes(mis_fm, misf_read_address, buffer, PACKET_SIZE);
10EB2:  MOVFF  115,AEE
10EB6:  MOVFF  114,AED
10EBA:  MOVFF  113,AEC
10EBE:  MOVFF  112,AEB
10EC2:  MOVFF  20E,AF2
10EC6:  MOVFF  20D,AF1
10ECA:  MOVFF  20C,AF0
10ECE:  MOVFF  20B,AEF
10ED2:  MOVLW  01
10ED4:  MOVLB  A
10ED6:  MOVWF  xF4
10ED8:  MOVLW  C7
10EDA:  MOVWF  xF3
10EDC:  CLRF   xF8
10EDE:  CLRF   xF7
10EE0:  CLRF   xF6
10EE2:  MOVLW  40
10EE4:  MOVWF  xF5
10EE6:  MOVLB  0
10EE8:  CALL   2CBC
....................         fprintf(PC," ");
10EEC:  MOVLW  20
10EEE:  BTFSS  FA6.6
10EF0:  GOTO   10EEE
10EF4:  MOVLB  E
10EF6:  MOVWF  xF9
....................         write_data_bytes(smf, smf_write_address, buffer, PACKET_SIZE);
10EF8:  MOVFF  119,AEE
10EFC:  MOVFF  118,AED
10F00:  MOVFF  117,AEC
10F04:  MOVFF  116,AEB
10F08:  MOVFF  20A,AF2
10F0C:  MOVFF  209,AF1
10F10:  MOVFF  208,AF0
10F14:  MOVFF  207,AEF
10F18:  MOVLW  01
10F1A:  MOVLB  A
10F1C:  MOVWF  xF4
10F1E:  MOVLW  C7
10F20:  MOVWF  xF3
10F22:  CLRF   xF6
10F24:  MOVLW  40
10F26:  MOVWF  xF5
10F28:  MOVLB  0
10F2A:  CALL   3D26
....................         fprintf(PC,".");
10F2E:  MOVLW  2E
10F30:  BTFSS  FA6.6
10F32:  GOTO   10F30
10F36:  MOVLB  E
10F38:  MOVWF  xF9
....................         // counter update
....................         if (misf_counter_table[smf_queue_ptr->mission_id].uncopied_counter >= PACKET_SIZE){
10F3A:  MOVLB  1
10F3C:  MOVF   xA1,W
10F3E:  MOVWF  FE9
10F40:  MOVF   xA2,W
10F42:  MOVWF  FEA
10F44:  MOVF   FEF,W
10F46:  MULLW  0A
10F48:  MOVF   FF3,W
10F4A:  MOVLB  2
10F4C:  CLRF   x11
10F4E:  MOVWF  x10
10F50:  MOVLW  04
10F52:  ADDWF  x10,W
10F54:  MOVWF  01
10F56:  MOVLW  00
10F58:  ADDWFC x11,W
10F5A:  MOVWF  03
10F5C:  MOVF   01,W
10F5E:  ADDLW  22
10F60:  MOVWF  FE9
10F62:  MOVLW  01
10F64:  ADDWFC 03,W
10F66:  MOVWF  FEA
10F68:  MOVFF  FEF,210
10F6C:  MOVFF  FEC,211
10F70:  MOVFF  FEC,212
10F74:  MOVFF  FEC,213
10F78:  MOVF   FED,F
10F7A:  MOVF   FED,F
10F7C:  MOVF   FED,F
10F7E:  MOVF   x13,F
10F80:  BTFSC  FD8.2
10F82:  BRA    10F8A
10F84:  MOVLB  0
10F86:  GOTO   10FBE
10F8A:  MOVLB  0
10F8C:  MOVLB  2
10F8E:  MOVF   x12,F
10F90:  BTFSC  FD8.2
10F92:  BRA    10F9A
10F94:  MOVLB  0
10F96:  GOTO   10FBE
10F9A:  MOVLB  0
10F9C:  MOVLB  2
10F9E:  MOVF   x11,F
10FA0:  BTFSC  FD8.2
10FA2:  BRA    10FAA
10FA4:  MOVLB  0
10FA6:  GOTO   10FBE
10FAA:  MOVLB  0
10FAC:  MOVLB  2
10FAE:  MOVF   x10,W
10FB0:  SUBLW  3F
10FB2:  BTFSS  FD8.0
10FB4:  BRA    10FBC
10FB6:  MOVLB  0
10FB8:  GOTO   11026
10FBC:  MOVLB  0
....................             misf_counter_table[smf_queue_ptr->mission_id].uncopied_counter -= PACKET_SIZE;
10FBE:  MOVLB  1
10FC0:  MOVF   xA1,W
10FC2:  MOVWF  FE9
10FC4:  MOVF   xA2,W
10FC6:  MOVWF  FEA
10FC8:  MOVF   FEF,W
10FCA:  MULLW  0A
10FCC:  MOVF   FF3,W
10FCE:  MOVLB  2
10FD0:  CLRF   x11
10FD2:  MOVWF  x10
10FD4:  MOVLW  04
10FD6:  ADDWF  x10,W
10FD8:  MOVWF  01
10FDA:  MOVLW  00
10FDC:  ADDWFC x11,W
10FDE:  MOVWF  03
10FE0:  MOVF   01,W
10FE2:  ADDLW  22
10FE4:  MOVWF  FE9
10FE6:  MOVLW  01
10FE8:  ADDWFC 03,W
10FEA:  MOVWF  FEA
10FEC:  MOVLW  40
10FEE:  SUBWF  FEF,W
10FF0:  MOVWF  00
10FF2:  MOVLW  00
10FF4:  SUBWFB FEC,W
10FF6:  MOVWF  01
10FF8:  MOVLW  00
10FFA:  SUBWFB FEC,W
10FFC:  MOVWF  02
10FFE:  MOVLW  00
11000:  SUBWFB FEC,W
11002:  MOVWF  03
11004:  MOVF   FED,F
11006:  MOVF   FED,F
11008:  MOVF   FED,F
1100A:  MOVFF  00,FEF
1100E:  MOVFF  01,FEC
11012:  MOVFF  02,FEC
11016:  MOVFF  03,FEC
1101A:  MOVF   FED,F
1101C:  MOVF   FED,F
1101E:  MOVF   FED,F
11020:  MOVLB  0
....................         }else{
11022:  GOTO   11138
....................             unsigned int8 add = PACKET_SIZE - misf_counter_table[smf_queue_ptr->mission_id].uncopied_counter;
11026:  MOVLB  1
11028:  MOVF   xA1,W
1102A:  MOVWF  FE9
1102C:  MOVF   xA2,W
1102E:  MOVWF  FEA
11030:  MOVF   FEF,W
11032:  MULLW  0A
11034:  MOVF   FF3,W
11036:  MOVLB  2
11038:  CLRF   x11
1103A:  MOVWF  x10
1103C:  MOVLW  04
1103E:  ADDWF  x10,W
11040:  MOVWF  01
11042:  MOVLW  00
11044:  ADDWFC x11,W
11046:  MOVWF  03
11048:  MOVF   01,W
1104A:  ADDLW  22
1104C:  MOVWF  FE9
1104E:  MOVLW  01
11050:  ADDWFC 03,W
11052:  MOVWF  FEA
11054:  MOVFF  FEF,00
11058:  MOVFF  FEC,01
1105C:  MOVFF  FEC,02
11060:  MOVFF  FEC,03
11064:  MOVF   FED,F
11066:  MOVF   FED,F
11068:  MOVF   FED,F
1106A:  MOVLW  40
1106C:  BSF    FD8.0
1106E:  SUBFWB 00,W
11070:  MOVWF  x0F
11072:  MOVLB  0
....................             misf_counter_table[smf_queue_ptr->mission_id].uncopied_counter = 0;
11074:  MOVLB  1
11076:  MOVF   xA1,W
11078:  MOVWF  FE9
1107A:  MOVF   xA2,W
1107C:  MOVWF  FEA
1107E:  MOVF   FEF,W
11080:  MULLW  0A
11082:  MOVF   FF3,W
11084:  MOVLB  2
11086:  CLRF   x11
11088:  MOVWF  x10
1108A:  MOVLW  04
1108C:  ADDWF  x10,W
1108E:  MOVWF  01
11090:  MOVLW  00
11092:  ADDWFC x11,W
11094:  MOVWF  03
11096:  MOVF   01,W
11098:  ADDLW  22
1109A:  MOVWF  FE9
1109C:  MOVLW  01
1109E:  ADDWFC 03,W
110A0:  MOVWF  FEA
110A2:  CLRF   FEF
110A4:  CLRF   FEC
110A6:  CLRF   FEC
110A8:  CLRF   FEC
110AA:  MOVF   FED,F
110AC:  MOVF   FED,F
110AE:  MOVF   FED,F
....................             misf_counter_table[smf_queue_ptr->mission_id].used_counter += add;
110B0:  MOVLB  1
110B2:  MOVF   xA1,W
110B4:  MOVWF  FE9
110B6:  MOVF   xA2,W
110B8:  MOVWF  FEA
110BA:  MOVF   FEF,W
110BC:  MULLW  0A
110BE:  MOVF   FF3,W
110C0:  MOVLB  2
110C2:  CLRF   x11
110C4:  MOVWF  x10
110C6:  MOVLW  22
110C8:  ADDWF  x10,W
110CA:  MOVWF  FE9
110CC:  MOVLW  01
110CE:  ADDWFC x11,W
110D0:  MOVWF  FEA
110D2:  MOVF   x0F,W
110D4:  ADDWF  FEF,W
110D6:  MOVWF  00
110D8:  MOVLW  00
110DA:  ADDWFC FEC,W
110DC:  MOVWF  01
110DE:  MOVLW  00
110E0:  ADDWFC FEC,W
110E2:  MOVWF  02
110E4:  MOVLW  00
110E6:  ADDWFC FEC,W
110E8:  MOVWF  03
110EA:  MOVF   FED,F
110EC:  MOVF   FED,F
110EE:  MOVF   FED,F
110F0:  MOVFF  00,FEF
110F4:  MOVFF  01,FEC
110F8:  MOVFF  02,FEC
110FC:  MOVFF  03,FEC
11100:  MOVF   FED,F
11102:  MOVF   FED,F
11104:  MOVF   FED,F
....................             misf_counter_table[smf_queue_ptr->mission_id].reserve_counter1 = 0;
11106:  MOVLB  1
11108:  MOVF   xA1,W
1110A:  MOVWF  FE9
1110C:  MOVF   xA2,W
1110E:  MOVWF  FEA
11110:  MOVF   FEF,W
11112:  MULLW  0A
11114:  MOVF   FF3,W
11116:  MOVLB  2
11118:  CLRF   x11
1111A:  MOVWF  x10
1111C:  MOVLW  08
1111E:  ADDWF  x10,W
11120:  MOVWF  01
11122:  MOVLW  00
11124:  ADDWFC x11,W
11126:  MOVWF  03
11128:  MOVF   01,W
1112A:  ADDLW  22
1112C:  MOVWF  FE9
1112E:  MOVLW  01
11130:  ADDWFC 03,W
11132:  MOVWF  FEA
11134:  CLRF   FEF
11136:  MOVLB  0
....................         }
....................         misf_read_address += PACKET_SIZE;
11138:  MOVLW  40
1113A:  MOVLB  2
1113C:  ADDWF  x0B,F
1113E:  MOVLW  00
11140:  ADDWFC x0C,F
11142:  MOVLW  00
11144:  ADDWFC x0D,F
11146:  MOVLW  00
11148:  ADDWFC x0E,F
....................         smf_write_address += PACKET_SIZE;
1114A:  MOVLW  40
1114C:  ADDWF  x07,F
1114E:  MOVLW  00
11150:  ADDWFC x08,F
11152:  MOVLW  00
11154:  ADDWFC x09,F
11156:  MOVLW  00
11158:  ADDWFC x0A,F
....................         if (misf_write_size > PACKET_SIZE){
1115A:  MOVLB  1
1115C:  MOVF   xAA,F
1115E:  BTFSC  FD8.2
11160:  BRA    11168
11162:  MOVLB  0
11164:  GOTO   1119C
11168:  MOVLB  0
1116A:  MOVLB  1
1116C:  MOVF   xA9,F
1116E:  BTFSC  FD8.2
11170:  BRA    11178
11172:  MOVLB  0
11174:  GOTO   1119C
11178:  MOVLB  0
1117A:  MOVLB  1
1117C:  MOVF   xA8,F
1117E:  BTFSC  FD8.2
11180:  BRA    11188
11182:  MOVLB  0
11184:  GOTO   1119C
11188:  MOVLB  0
1118A:  MOVLB  1
1118C:  MOVF   xA7,W
1118E:  SUBLW  40
11190:  BTFSS  FD8.0
11192:  BRA    1119A
11194:  MOVLB  0
11196:  GOTO   111B4
1119A:  MOVLB  0
....................             misf_write_size -= PACKET_SIZE;
1119C:  MOVLW  40
1119E:  MOVLB  1
111A0:  SUBWF  xA7,F
111A2:  MOVLW  00
111A4:  SUBWFB xA8,F
111A6:  MOVLW  00
111A8:  SUBWFB xA9,F
111AA:  MOVLW  00
111AC:  SUBWFB xAA,F
111AE:  MOVLB  0
....................         }else{
111B0:  GOTO   111C0
....................             misf_write_size = 0;
111B4:  MOVLB  1
111B6:  CLRF   xAA
111B8:  CLRF   xA9
111BA:  CLRF   xA8
111BC:  CLRF   xA7
111BE:  MOVLB  0
....................         }
111C0:  GOTO   10E5C
....................         
....................     }
....................     fprintf(PC, "\r\n");
111C4:  MOVLW  0D
111C6:  BTFSS  FA6.6
111C8:  GOTO   111C6
111CC:  MOVLB  E
111CE:  MOVWF  xF9
111D0:  MOVLW  0A
111D2:  MOVLB  0
111D4:  BTFSS  FA6.6
111D6:  GOTO   111D4
111DA:  MOVLB  E
111DC:  MOVWF  xF9
.................... 
....................     // Update SMF Counter Status
....................     fprintf(PC, "UPDATE SMF COUNTER STATUS\r\n");
111DE:  MOVLW  D4
111E0:  MOVWF  FF6
111E2:  MOVLW  09
111E4:  MOVWF  FF7
111E6:  MOVLW  00
111E8:  MOVWF  FF8
111EA:  MOVLB  0
111EC:  CALL   20CE
....................     subsector_4kByte_erase(SMF, smf_header_address_start);
111F0:  MOVFF  119,A93
111F4:  MOVFF  118,A92
111F8:  MOVFF  117,A91
111FC:  MOVFF  116,A90
11200:  MOVFF  1B2,A97
11204:  MOVFF  1B1,A96
11208:  MOVFF  1B0,A95
1120C:  MOVFF  1AF,A94
11210:  CALL   4B2A
....................     write_data_byte(SMF, smf_header_address_start + 0, (used_size >> 24)  & 0xFF);
11214:  MOVFF  1AE,211
11218:  MOVLB  2
1121A:  CLRF   x12
1121C:  CLRF   x13
1121E:  CLRF   x14
11220:  CLRF   x12
11222:  CLRF   x13
11224:  CLRF   x14
11226:  MOVFF  119,21C
1122A:  MOVFF  118,21B
1122E:  MOVFF  117,21A
11232:  MOVFF  116,219
11236:  MOVFF  1B2,220
1123A:  MOVFF  1B1,21F
1123E:  MOVFF  1B0,21E
11242:  MOVFF  1AF,21D
11246:  MOVFF  211,221
1124A:  MOVLB  0
1124C:  CALL   1013A
....................     write_data_byte(SMF, smf_header_address_start + 1, (used_size >> 16)  & 0xFF);
11250:  MOVLW  01
11252:  MOVLB  1
11254:  ADDWF  xAF,W
11256:  MOVLB  2
11258:  MOVWF  x10
1125A:  MOVLW  00
1125C:  MOVLB  1
1125E:  ADDWFC xB0,W
11260:  MOVLB  2
11262:  MOVWF  x11
11264:  MOVLW  00
11266:  MOVLB  1
11268:  ADDWFC xB1,W
1126A:  MOVLB  2
1126C:  MOVWF  x12
1126E:  MOVLW  00
11270:  MOVLB  1
11272:  ADDWFC xB2,W
11274:  MOVLB  2
11276:  MOVWF  x13
11278:  MOVFF  1AD,215
1127C:  MOVFF  1AE,216
11280:  CLRF   x17
11282:  CLRF   x18
11284:  CLRF   x16
11286:  CLRF   x17
11288:  CLRF   x18
1128A:  MOVFF  119,21C
1128E:  MOVFF  118,21B
11292:  MOVFF  117,21A
11296:  MOVFF  116,219
1129A:  MOVFF  213,220
1129E:  MOVFF  212,21F
112A2:  MOVFF  211,21E
112A6:  MOVFF  210,21D
112AA:  MOVFF  215,221
112AE:  MOVLB  0
112B0:  CALL   1013A
....................     write_data_byte(SMF, smf_header_address_start + 2, (used_size >> 8) & 0xFF);
112B4:  MOVLW  02
112B6:  MOVLB  1
112B8:  ADDWF  xAF,W
112BA:  MOVLB  2
112BC:  MOVWF  x10
112BE:  MOVLW  00
112C0:  MOVLB  1
112C2:  ADDWFC xB0,W
112C4:  MOVLB  2
112C6:  MOVWF  x11
112C8:  MOVLW  00
112CA:  MOVLB  1
112CC:  ADDWFC xB1,W
112CE:  MOVLB  2
112D0:  MOVWF  x12
112D2:  MOVLW  00
112D4:  MOVLB  1
112D6:  ADDWFC xB2,W
112D8:  MOVLB  2
112DA:  MOVWF  x13
112DC:  MOVFF  1AC,215
112E0:  MOVFF  1AD,216
112E4:  MOVFF  1AE,217
112E8:  CLRF   x18
112EA:  CLRF   x16
112EC:  CLRF   x17
112EE:  CLRF   x18
112F0:  MOVFF  119,21C
112F4:  MOVFF  118,21B
112F8:  MOVFF  117,21A
112FC:  MOVFF  116,219
11300:  MOVFF  213,220
11304:  MOVFF  212,21F
11308:  MOVFF  211,21E
1130C:  MOVFF  210,21D
11310:  MOVFF  215,221
11314:  MOVLB  0
11316:  CALL   1013A
....................     write_data_byte(SMF, smf_header_address_start + 3, (used_size >> 0) & 0xFF);
1131A:  MOVLW  03
1131C:  MOVLB  1
1131E:  ADDWF  xAF,W
11320:  MOVLB  2
11322:  MOVWF  x10
11324:  MOVLW  00
11326:  MOVLB  1
11328:  ADDWFC xB0,W
1132A:  MOVLB  2
1132C:  MOVWF  x11
1132E:  MOVLW  00
11330:  MOVLB  1
11332:  ADDWFC xB1,W
11334:  MOVLB  2
11336:  MOVWF  x12
11338:  MOVLW  00
1133A:  MOVLB  1
1133C:  ADDWFC xB2,W
1133E:  MOVLB  2
11340:  MOVWF  x13
11342:  MOVFF  1AE,218
11346:  MOVFF  1AD,217
1134A:  MOVFF  1AC,216
1134E:  MOVFF  1AB,215
11352:  CLRF   x16
11354:  CLRF   x17
11356:  CLRF   x18
11358:  MOVFF  119,21C
1135C:  MOVFF  118,21B
11360:  MOVFF  117,21A
11364:  MOVFF  116,219
11368:  MOVFF  213,220
1136C:  MOVFF  212,21F
11370:  MOVFF  211,21E
11374:  MOVFF  210,21D
11378:  MOVFF  215,221
1137C:  MOVLB  0
1137E:  CALL   1013A
.................... 
....................     // print_smf_counter_status(&smf_data_table);
....................     // write size area
....................     // smf_write_header(&smf_data_table);
....................     misf_update_address_area();
11382:  CALL   4E4E
....................     fprintf(PC, "\r\n_________End copy_data__________\r\n");
11386:  MOVLW  F0
11388:  MOVWF  FF6
1138A:  MOVLW  09
1138C:  MOVWF  FF7
1138E:  MOVLW  00
11390:  MOVWF  FF8
11392:  CALL   20CE
....................     fprintf(PC, "_______________________________\r\n\r\n");
11396:  MOVLW  16
11398:  MOVWF  FF6
1139A:  MOVLW  0A
1139C:  MOVWF  FF7
1139E:  MOVLW  00
113A0:  MOVWF  FF8
113A2:  CALL   20CE
113A6:  GOTO   124E0 (RETURN)
.................... }
.................... 
.................... void smf_read(FlashOperationStruct *smf_data)
.................... {
....................     fprintf(PC, "\r\n____________________\r\n");
*
11532:  MOVLW  3A
11534:  MOVWF  FF6
11536:  MOVLW  0A
11538:  MOVWF  FF7
1153A:  MOVLW  00
1153C:  MOVWF  FF8
1153E:  CALL   20CE
....................     fprintf(PC, "___Start SMF Read____\r\n");
11542:  MOVLW  54
11544:  MOVWF  FF6
11546:  MOVLW  0A
11548:  MOVWF  FF7
1154A:  MOVLW  00
1154C:  MOVWF  FF8
1154E:  CALL   20CE
.................... 
....................     int8 buffer[PACKET_SIZE];
.................... 
....................     SmfAddressStruct smf_address = get_smf_address_struct(smf_data->mission_id);
....................     unsigned int32 read_address = smf_data->misf_start_addr; // 呼び出し側でSMF内アドレスを設定する前提
....................     unsigned int32 read_size = smf_data->misf_size;
11552:  MOVLB  1
11554:  MOVF   xA1,W
11556:  MOVWF  FE9
11558:  MOVF   xA2,W
1155A:  MOVWF  FEA
1155C:  MOVFF  FEF,203
11560:  MOVFF  203,20A
11564:  MOVLB  0
11566:  CALL   113AA
1156A:  MOVFF  02,03
1156E:  MOVF   01,W
11570:  MOVWF  FE1
11572:  MOVFF  03,FE2
11576:  MOVLW  01
11578:  MOVWF  FEA
1157A:  MOVLW  E3
1157C:  MOVWF  FE9
1157E:  MOVLW  08
11580:  MOVWF  01
11582:  MOVFF  FE6,FEE
11586:  DECFSZ 01,F
11588:  GOTO   11582
1158C:  MOVLW  04
1158E:  MOVLB  1
11590:  ADDWF  xA1,W
11592:  MOVWF  FE9
11594:  MOVLW  00
11596:  ADDWFC xA2,W
11598:  MOVWF  FEA
1159A:  MOVFF  FEF,1EB
1159E:  MOVFF  FEC,1EC
115A2:  MOVFF  FEC,1ED
115A6:  MOVFF  FEC,1EE
115AA:  MOVF   FED,F
115AC:  MOVF   FED,F
115AE:  MOVF   FED,F
115B0:  MOVLW  08
115B2:  ADDWF  xA1,W
115B4:  MOVWF  FE9
115B6:  MOVLW  00
115B8:  ADDWFC xA2,W
115BA:  MOVWF  FEA
115BC:  MOVFF  FEF,1EF
115C0:  MOVFF  FEC,1F0
115C4:  MOVFF  FEC,1F1
115C8:  MOVFF  FEC,1F2
115CC:  MOVF   FED,F
115CE:  MOVF   FED,F
115D0:  MOVF   FED,F
.................... 
....................     // 境界チェック (start/end は [start_address, end_address) の半開区間想定)
....................     if (read_address < (unsigned int32)smf_address.start_address || read_address >= (unsigned int32)smf_address.end_address) {
115D2:  MOVF   xEE,W
115D4:  SUBWF  xE6,W
115D6:  BTFSC  FD8.0
115D8:  BRA    115E0
115DA:  MOVLB  0
115DC:  GOTO   1162A
115E0:  MOVLB  0
115E2:  BTFSS  FD8.2
115E4:  GOTO   11684
115E8:  MOVLB  1
115EA:  MOVF   xED,W
115EC:  SUBWF  xE5,W
115EE:  BTFSC  FD8.0
115F0:  BRA    115F8
115F2:  MOVLB  0
115F4:  GOTO   1162A
115F8:  MOVLB  0
115FA:  BTFSS  FD8.2
115FC:  GOTO   11684
11600:  MOVLB  1
11602:  MOVF   xEC,W
11604:  SUBWF  xE4,W
11606:  BTFSC  FD8.0
11608:  BRA    11610
1160A:  MOVLB  0
1160C:  GOTO   1162A
11610:  MOVLB  0
11612:  BTFSS  FD8.2
11614:  GOTO   11684
11618:  MOVLB  1
1161A:  MOVF   xE3,W
1161C:  SUBWF  xEB,W
1161E:  BTFSC  FD8.0
11620:  BRA    11628
11622:  MOVLB  0
11624:  GOTO   11684
11628:  MOVLB  0
1162A:  MOVLB  1
1162C:  MOVF   xEA,W
1162E:  SUBWF  xEE,W
11630:  BTFSC  FD8.0
11632:  BRA    1163A
11634:  MOVLB  0
11636:  GOTO   117A8
1163A:  MOVLB  0
1163C:  BTFSS  FD8.2
1163E:  GOTO   11684
11642:  MOVLB  1
11644:  MOVF   xE9,W
11646:  SUBWF  xED,W
11648:  BTFSC  FD8.0
1164A:  BRA    11652
1164C:  MOVLB  0
1164E:  GOTO   117A8
11652:  MOVLB  0
11654:  BTFSS  FD8.2
11656:  GOTO   11684
1165A:  MOVLB  1
1165C:  MOVF   xE8,W
1165E:  SUBWF  xEC,W
11660:  BTFSC  FD8.0
11662:  BRA    1166A
11664:  MOVLB  0
11666:  GOTO   117A8
1166A:  MOVLB  0
1166C:  BTFSS  FD8.2
1166E:  GOTO   11684
11672:  MOVLB  1
11674:  MOVF   xE7,W
11676:  SUBWF  xEB,W
11678:  BTFSC  FD8.0
1167A:  BRA    11682
1167C:  MOVLB  0
1167E:  GOTO   117A8
11682:  MOVLB  0
....................         fprintf(PC, "Error: Read address 0x%08LX out of SMF mission range [0x%08LX - 0x%08LX)\r\n",
....................                 read_address, (unsigned int32)smf_address.start_address, (unsigned int32)smf_address.end_address);
11684:  MOVLW  6C
11686:  MOVWF  FF6
11688:  MOVLW  0A
1168A:  MOVWF  FF7
1168C:  MOVLW  00
1168E:  MOVWF  FF8
11690:  MOVLW  16
11692:  MOVLB  A
11694:  MOVWF  x4E
11696:  MOVLB  0
11698:  CALL   2104
1169C:  MOVFF  1EE,9E8
116A0:  MOVLW  37
116A2:  MOVLB  9
116A4:  MOVWF  xE9
116A6:  MOVLB  0
116A8:  CALL   2334
116AC:  MOVFF  1ED,9E8
116B0:  MOVLW  37
116B2:  MOVLB  9
116B4:  MOVWF  xE9
116B6:  MOVLB  0
116B8:  CALL   2334
116BC:  MOVFF  1EC,9E8
116C0:  MOVLW  37
116C2:  MOVLB  9
116C4:  MOVWF  xE9
116C6:  MOVLB  0
116C8:  CALL   2334
116CC:  MOVFF  1EB,9E8
116D0:  MOVLW  37
116D2:  MOVLB  9
116D4:  MOVWF  xE9
116D6:  MOVLB  0
116D8:  CALL   2334
116DC:  MOVLW  87
116DE:  MOVWF  FF6
116E0:  MOVLW  0A
116E2:  MOVWF  FF7
116E4:  MOVLW  00
116E6:  MOVWF  FF8
116E8:  MOVLW  1D
116EA:  MOVLB  A
116EC:  MOVWF  x4E
116EE:  MOVLB  0
116F0:  CALL   2104
116F4:  MOVFF  1E6,9E8
116F8:  MOVLW  37
116FA:  MOVLB  9
116FC:  MOVWF  xE9
116FE:  MOVLB  0
11700:  CALL   2334
11704:  MOVFF  1E5,9E8
11708:  MOVLW  37
1170A:  MOVLB  9
1170C:  MOVWF  xE9
1170E:  MOVLB  0
11710:  CALL   2334
11714:  MOVFF  1E4,9E8
11718:  MOVLW  37
1171A:  MOVLB  9
1171C:  MOVWF  xE9
1171E:  MOVLB  0
11720:  CALL   2334
11724:  MOVFF  1E3,9E8
11728:  MOVLW  37
1172A:  MOVLB  9
1172C:  MOVWF  xE9
1172E:  MOVLB  0
11730:  CALL   2334
11734:  MOVLW  A9
11736:  MOVWF  FF6
11738:  MOVLW  0A
1173A:  MOVWF  FF7
1173C:  MOVLW  00
1173E:  MOVWF  FF8
11740:  MOVLW  05
11742:  MOVLB  A
11744:  MOVWF  x4E
11746:  MOVLB  0
11748:  CALL   2104
1174C:  MOVFF  1EA,9E8
11750:  MOVLW  37
11752:  MOVLB  9
11754:  MOVWF  xE9
11756:  MOVLB  0
11758:  CALL   2334
1175C:  MOVFF  1E9,9E8
11760:  MOVLW  37
11762:  MOVLB  9
11764:  MOVWF  xE9
11766:  MOVLB  0
11768:  CALL   2334
1176C:  MOVFF  1E8,9E8
11770:  MOVLW  37
11772:  MOVLB  9
11774:  MOVWF  xE9
11776:  MOVLB  0
11778:  CALL   2334
1177C:  MOVFF  1E7,9E8
11780:  MOVLW  37
11782:  MOVLB  9
11784:  MOVWF  xE9
11786:  MOVLB  0
11788:  CALL   2334
1178C:  MOVLW  B3
1178E:  MOVWF  FF6
11790:  MOVLW  0A
11792:  MOVWF  FF7
11794:  MOVLW  00
11796:  MOVWF  FF8
11798:  MOVLW  03
1179A:  MOVLB  A
1179C:  MOVWF  x4E
1179E:  MOVLB  0
117A0:  CALL   2104
....................         return;
117A4:  GOTO   11C68
....................     }
....................     unsigned int32 mission_remaining = (unsigned int32)smf_address.end_address - read_address; // 読める残り
117A8:  MOVLB  1
117AA:  MOVF   xEB,W
117AC:  SUBWF  xE7,W
117AE:  MOVWF  xF3
117B0:  MOVF   xEC,W
117B2:  SUBWFB xE8,W
117B4:  MOVWF  xF4
117B6:  MOVF   xED,W
117B8:  SUBWFB xE9,W
117BA:  MOVWF  xF5
117BC:  MOVF   xEE,W
117BE:  SUBWFB xEA,W
117C0:  MOVWF  xF6
....................     if (read_size > mission_remaining) {
117C2:  MOVF   xF6,W
117C4:  SUBWF  xF2,W
117C6:  BTFSC  FD8.0
117C8:  BRA    117D0
117CA:  MOVLB  0
117CC:  GOTO   118A2
117D0:  MOVLB  0
117D2:  BTFSS  FD8.2
117D4:  GOTO   1181A
117D8:  MOVLB  1
117DA:  MOVF   xF5,W
117DC:  SUBWF  xF1,W
117DE:  BTFSC  FD8.0
117E0:  BRA    117E8
117E2:  MOVLB  0
117E4:  GOTO   118A2
117E8:  MOVLB  0
117EA:  BTFSS  FD8.2
117EC:  GOTO   1181A
117F0:  MOVLB  1
117F2:  MOVF   xF4,W
117F4:  SUBWF  xF0,W
117F6:  BTFSC  FD8.0
117F8:  BRA    11800
117FA:  MOVLB  0
117FC:  GOTO   118A2
11800:  MOVLB  0
11802:  BTFSS  FD8.2
11804:  GOTO   1181A
11808:  MOVLB  1
1180A:  MOVF   xEF,W
1180C:  SUBWF  xF3,W
1180E:  BTFSS  FD8.0
11810:  BRA    11818
11812:  MOVLB  0
11814:  GOTO   118A2
11818:  MOVLB  0
....................         fprintf(PC, "Warn: Adjust read size from %lu to %lu (mission end)\r\n", read_size, mission_remaining);
1181A:  MOVLW  B8
1181C:  MOVWF  FF6
1181E:  MOVLW  0A
11820:  MOVWF  FF7
11822:  MOVLW  00
11824:  MOVWF  FF8
11826:  MOVLW  1C
11828:  MOVLB  A
1182A:  MOVWF  x4E
1182C:  MOVLB  0
1182E:  CALL   2104
11832:  MOVLW  41
11834:  MOVWF  FE9
11836:  MOVFF  1F2,20D
1183A:  MOVFF  1F1,20C
1183E:  MOVFF  1F0,20B
11842:  MOVFF  1EF,20A
11846:  CALL   641A
1184A:  MOVLW  D7
1184C:  MOVWF  FF6
1184E:  MOVLW  0A
11850:  MOVWF  FF7
11852:  MOVLW  00
11854:  MOVWF  FF8
11856:  MOVLW  04
11858:  MOVLB  A
1185A:  MOVWF  x4E
1185C:  MOVLB  0
1185E:  CALL   2104
11862:  MOVLW  41
11864:  MOVWF  FE9
11866:  MOVFF  1F6,20D
1186A:  MOVFF  1F5,20C
1186E:  MOVFF  1F4,20B
11872:  MOVFF  1F3,20A
11876:  CALL   641A
1187A:  MOVLW  DE
1187C:  MOVWF  FF6
1187E:  MOVLW  0A
11880:  MOVWF  FF7
11882:  MOVLW  00
11884:  MOVWF  FF8
11886:  MOVLW  10
11888:  MOVLB  A
1188A:  MOVWF  x4E
1188C:  MOVLB  0
1188E:  CALL   2104
....................         read_size = mission_remaining;
11892:  MOVFF  1F6,1F2
11896:  MOVFF  1F5,1F1
1189A:  MOVFF  1F4,1F0
1189E:  MOVFF  1F3,1EF
....................     }
....................     if (read_size == 0) {
118A2:  MOVLB  1
118A4:  MOVF   xEF,F
118A6:  BTFSC  FD8.2
118A8:  BRA    118B0
118AA:  MOVLB  0
118AC:  GOTO   118F6
118B0:  MOVLB  0
118B2:  MOVLB  1
118B4:  MOVF   xF0,F
118B6:  BTFSC  FD8.2
118B8:  BRA    118C0
118BA:  MOVLB  0
118BC:  GOTO   118F6
118C0:  MOVLB  0
118C2:  MOVLB  1
118C4:  MOVF   xF1,F
118C6:  BTFSC  FD8.2
118C8:  BRA    118D0
118CA:  MOVLB  0
118CC:  GOTO   118F6
118D0:  MOVLB  0
118D2:  MOVLB  1
118D4:  MOVF   xF2,F
118D6:  BTFSC  FD8.2
118D8:  BRA    118E0
118DA:  MOVLB  0
118DC:  GOTO   118F6
118E0:  MOVLB  0
....................         fprintf(PC, "Info: Nothing to read (size=0)\r\n");
118E2:  MOVLW  F0
118E4:  MOVWF  FF6
118E6:  MOVLW  0A
118E8:  MOVWF  FF7
118EA:  MOVLW  00
118EC:  MOVWF  FF8
118EE:  CALL   20CE
....................         return;
118F2:  GOTO   11C68
....................     }
.................... 
....................     fprintf(PC, "In SMF Read source data address: %LX\r\n", read_address);
118F6:  MOVLW  12
118F8:  MOVWF  FF6
118FA:  MOVLW  0B
118FC:  MOVWF  FF7
118FE:  MOVLW  00
11900:  MOVWF  FF8
11902:  MOVLW  21
11904:  MOVLB  A
11906:  MOVWF  x4E
11908:  MOVLB  0
1190A:  CALL   2104
1190E:  MOVFF  1EE,9E8
11912:  MOVLW  37
11914:  MOVLB  9
11916:  MOVWF  xE9
11918:  MOVLB  0
1191A:  CALL   2334
1191E:  MOVFF  1ED,9E8
11922:  MOVLW  37
11924:  MOVLB  9
11926:  MOVWF  xE9
11928:  MOVLB  0
1192A:  CALL   2334
1192E:  MOVFF  1EC,9E8
11932:  MOVLW  37
11934:  MOVLB  9
11936:  MOVWF  xE9
11938:  MOVLB  0
1193A:  CALL   2334
1193E:  MOVFF  1EB,9E8
11942:  MOVLW  37
11944:  MOVLB  9
11946:  MOVWF  xE9
11948:  MOVLB  0
1194A:  CALL   2334
1194E:  MOVLW  0D
11950:  BTFSS  FA6.6
11952:  GOTO   11950
11956:  MOVLB  E
11958:  MOVWF  xF9
1195A:  MOVLW  0A
1195C:  MOVLB  0
1195E:  BTFSS  FA6.6
11960:  GOTO   1195E
11964:  MOVLB  E
11966:  MOVWF  xF9
....................     fprintf(PC, "In SMF Read data size          : %lu (0x%lx)\r\n\r\n", read_size, read_size);
11968:  MOVLW  3A
1196A:  MOVWF  FF6
1196C:  MOVLW  0B
1196E:  MOVWF  FF7
11970:  MOVLW  00
11972:  MOVWF  FF8
11974:  MOVLW  21
11976:  MOVLB  A
11978:  MOVWF  x4E
1197A:  MOVLB  0
1197C:  CALL   2104
11980:  MOVLW  41
11982:  MOVWF  FE9
11984:  MOVFF  1F2,20D
11988:  MOVFF  1F1,20C
1198C:  MOVFF  1F0,20B
11990:  MOVFF  1EF,20A
11994:  CALL   641A
11998:  MOVLW  5E
1199A:  MOVWF  FF6
1199C:  MOVLW  0B
1199E:  MOVWF  FF7
119A0:  MOVLW  00
119A2:  MOVWF  FF8
119A4:  MOVLW  04
119A6:  MOVLB  A
119A8:  MOVWF  x4E
119AA:  MOVLB  0
119AC:  CALL   2104
119B0:  MOVFF  1F2,9E8
119B4:  MOVLW  57
119B6:  MOVLB  9
119B8:  MOVWF  xE9
119BA:  MOVLB  0
119BC:  CALL   2334
119C0:  MOVFF  1F1,9E8
119C4:  MOVLW  57
119C6:  MOVLB  9
119C8:  MOVWF  xE9
119CA:  MOVLB  0
119CC:  CALL   2334
119D0:  MOVFF  1F0,9E8
119D4:  MOVLW  57
119D6:  MOVLB  9
119D8:  MOVWF  xE9
119DA:  MOVLB  0
119DC:  CALL   2334
119E0:  MOVFF  1EF,9E8
119E4:  MOVLW  57
119E6:  MOVLB  9
119E8:  MOVWF  xE9
119EA:  MOVLB  0
119EC:  CALL   2334
119F0:  MOVLW  65
119F2:  MOVWF  FF6
119F4:  MOVLW  0B
119F6:  MOVWF  FF7
119F8:  MOVLW  00
119FA:  MOVWF  FF8
119FC:  MOVLW  05
119FE:  MOVLB  A
11A00:  MOVWF  x4E
11A02:  MOVLB  0
11A04:  CALL   2104
.................... 
....................     if (!is_connect(smf)){
11A08:  MOVFF  119,253
11A0C:  MOVFF  118,252
11A10:  MOVFF  117,251
11A14:  MOVFF  116,250
11A18:  CALL   2BF4
11A1C:  MOVF   01,F
11A1E:  BTFSS  FD8.2
11A20:  GOTO   11A34
....................         fprintf(PC, "Error: SMF is not connected\r\n");
11A24:  MOVLW  6C
11A26:  MOVWF  FF6
11A28:  MOVLW  0B
11A2A:  MOVWF  FF7
11A2C:  MOVLW  00
11A2E:  MOVWF  FF8
11A30:  CALL   20CE
....................     }
....................     fprintf(PC, "READ DATA FROM SMF...\r\n");
11A34:  MOVLW  8A
11A36:  MOVWF  FF6
11A38:  MOVLW  0B
11A3A:  MOVWF  FF7
11A3C:  MOVLW  00
11A3E:  MOVWF  FF8
11A40:  CALL   20CE
....................     unsigned int32 end_address = read_address + read_size;
11A44:  MOVLB  1
11A46:  MOVF   xEF,W
11A48:  ADDWF  xEB,W
11A4A:  MOVWF  xF7
11A4C:  MOVF   xF0,W
11A4E:  ADDWFC xEC,W
11A50:  MOVWF  xF8
11A52:  MOVF   xF1,W
11A54:  ADDWFC xED,W
11A56:  MOVWF  xF9
11A58:  MOVF   xF2,W
11A5A:  ADDWFC xEE,W
11A5C:  MOVWF  xFA
....................     for (unsigned int32 addr = read_address; addr < end_address; addr += PACKET_SIZE) {
11A5E:  MOVFF  1EE,1FE
11A62:  MOVFF  1ED,1FD
11A66:  MOVFF  1EC,1FC
11A6A:  MOVFF  1EB,1FB
11A6E:  MOVLB  0
11A70:  MOVLB  1
11A72:  MOVF   xFE,W
11A74:  SUBWF  xFA,W
11A76:  BTFSC  FD8.0
11A78:  BRA    11A80
11A7A:  MOVLB  0
11A7C:  GOTO   11C48
11A80:  MOVLB  0
11A82:  BTFSS  FD8.2
11A84:  GOTO   11ACA
11A88:  MOVLB  1
11A8A:  MOVF   xFD,W
11A8C:  SUBWF  xF9,W
11A8E:  BTFSC  FD8.0
11A90:  BRA    11A98
11A92:  MOVLB  0
11A94:  GOTO   11C48
11A98:  MOVLB  0
11A9A:  BTFSS  FD8.2
11A9C:  GOTO   11ACA
11AA0:  MOVLB  1
11AA2:  MOVF   xFC,W
11AA4:  SUBWF  xF8,W
11AA6:  BTFSC  FD8.0
11AA8:  BRA    11AB0
11AAA:  MOVLB  0
11AAC:  GOTO   11C48
11AB0:  MOVLB  0
11AB2:  BTFSS  FD8.2
11AB4:  GOTO   11ACA
11AB8:  MOVLB  1
11ABA:  MOVF   xF7,W
11ABC:  SUBWF  xFB,W
11ABE:  BTFSS  FD8.0
11AC0:  BRA    11AC8
11AC2:  MOVLB  0
11AC4:  GOTO   11C48
11AC8:  MOVLB  0
....................         unsigned int16 chunk = (end_address - addr) >= PACKET_SIZE ? PACKET_SIZE : (unsigned int16)(end_address - addr);
11ACA:  MOVLB  1
11ACC:  MOVF   xFB,W
11ACE:  SUBWF  xF7,W
11AD0:  MOVLB  2
11AD2:  MOVWF  x03
11AD4:  MOVLB  1
11AD6:  MOVF   xFC,W
11AD8:  SUBWFB xF8,W
11ADA:  MOVLB  2
11ADC:  MOVWF  x04
11ADE:  MOVLB  1
11AE0:  MOVF   xFD,W
11AE2:  SUBWFB xF9,W
11AE4:  MOVLB  2
11AE6:  MOVWF  x05
11AE8:  MOVLB  1
11AEA:  MOVF   xFE,W
11AEC:  SUBWFB xFA,W
11AEE:  MOVLB  2
11AF0:  MOVWF  x06
11AF2:  MOVF   x06,F
11AF4:  BTFSC  FD8.2
11AF6:  BRA    11AFE
11AF8:  MOVLB  0
11AFA:  GOTO   11B32
11AFE:  MOVLB  0
11B00:  MOVLB  2
11B02:  MOVF   x05,F
11B04:  BTFSC  FD8.2
11B06:  BRA    11B0E
11B08:  MOVLB  0
11B0A:  GOTO   11B32
11B0E:  MOVLB  0
11B10:  MOVLB  2
11B12:  MOVF   x04,F
11B14:  BTFSC  FD8.2
11B16:  BRA    11B1E
11B18:  MOVLB  0
11B1A:  GOTO   11B32
11B1E:  MOVLB  0
11B20:  MOVLB  2
11B22:  MOVF   x03,W
11B24:  SUBLW  3F
11B26:  BTFSS  FD8.0
11B28:  BRA    11B30
11B2A:  MOVLB  0
11B2C:  GOTO   11B3A
11B30:  MOVLB  0
11B32:  CLRF   03
11B34:  MOVLW  40
11B36:  GOTO   11B5C
11B3A:  MOVLB  1
11B3C:  MOVF   xFB,W
11B3E:  SUBWF  xF7,W
11B40:  MOVWF  00
11B42:  MOVF   xFC,W
11B44:  SUBWFB xF8,W
11B46:  MOVWF  01
11B48:  MOVF   xFD,W
11B4A:  SUBWFB xF9,W
11B4C:  MOVWF  02
11B4E:  MOVF   xFE,W
11B50:  SUBWFB xFA,W
11B52:  MOVWF  03
11B54:  MOVFF  01,03
11B58:  MOVF   00,W
11B5A:  MOVLB  0
11B5C:  MOVLB  1
11B5E:  MOVWF  xFF
11B60:  MOVFF  03,200
11B64:  MOVLB  0
....................         read_data_bytes(smf, addr, buffer, chunk);
11B66:  MOVFF  119,AEE
11B6A:  MOVFF  118,AED
11B6E:  MOVFF  117,AEC
11B72:  MOVFF  116,AEB
11B76:  MOVFF  1FE,AF2
11B7A:  MOVFF  1FD,AF1
11B7E:  MOVFF  1FC,AF0
11B82:  MOVFF  1FB,AEF
11B86:  MOVLW  01
11B88:  MOVLB  A
11B8A:  MOVWF  xF4
11B8C:  MOVLW  A3
11B8E:  MOVWF  xF3
11B90:  CLRF   xF8
11B92:  CLRF   xF7
11B94:  MOVFF  200,AF6
11B98:  MOVFF  1FF,AF5
11B9C:  MOVLB  0
11B9E:  CALL   2CBC
....................         for (unsigned int16 i = 0; i < chunk; i++) fprintf(PC, "%02X ", buffer[i]);
11BA2:  MOVLB  2
11BA4:  CLRF   x02
11BA6:  CLRF   x01
11BA8:  MOVLB  0
11BAA:  MOVLB  2
11BAC:  MOVF   x02,W
11BAE:  SUBWF  x00,W
11BB0:  BTFSC  FD8.0
11BB2:  BRA    11BBA
11BB4:  MOVLB  0
11BB6:  GOTO   11C14
11BBA:  MOVLB  0
11BBC:  BTFSS  FD8.2
11BBE:  GOTO   11BD6
11BC2:  MOVLB  1
11BC4:  MOVF   xFF,W
11BC6:  MOVLB  2
11BC8:  SUBWF  x01,W
11BCA:  BTFSS  FD8.0
11BCC:  BRA    11BD4
11BCE:  MOVLB  0
11BD0:  GOTO   11C14
11BD4:  MOVLB  0
11BD6:  MOVLW  A3
11BD8:  MOVLB  2
11BDA:  ADDWF  x01,W
11BDC:  MOVWF  FE9
11BDE:  MOVLW  01
11BE0:  ADDWFC x02,W
11BE2:  MOVWF  FEA
11BE4:  MOVFF  FEF,203
11BE8:  MOVFF  203,9E8
11BEC:  MOVLW  37
11BEE:  MOVLB  9
11BF0:  MOVWF  xE9
11BF2:  MOVLB  0
11BF4:  CALL   2334
11BF8:  MOVLW  20
11BFA:  BTFSS  FA6.6
11BFC:  GOTO   11BFA
11C00:  MOVLB  E
11C02:  MOVWF  xF9
11C04:  MOVLB  0
11C06:  MOVLB  2
11C08:  INCF   x01,F
11C0A:  BTFSC  FD8.2
11C0C:  INCF   x02,F
11C0E:  MOVLB  0
11C10:  GOTO   11BAA
....................         fprintf(PC, "\r\n");
11C14:  MOVLW  0D
11C16:  BTFSS  FA6.6
11C18:  GOTO   11C16
11C1C:  MOVLB  E
11C1E:  MOVWF  xF9
11C20:  MOVLW  0A
11C22:  MOVLB  0
11C24:  BTFSS  FA6.6
11C26:  GOTO   11C24
11C2A:  MOVLB  E
11C2C:  MOVWF  xF9
11C2E:  MOVLB  0
11C30:  MOVLW  40
11C32:  MOVLB  1
11C34:  ADDWF  xFB,F
11C36:  MOVLW  00
11C38:  ADDWFC xFC,F
11C3A:  MOVLW  00
11C3C:  ADDWFC xFD,F
11C3E:  MOVLW  00
11C40:  ADDWFC xFE,F
11C42:  MOVLB  0
11C44:  GOTO   11A70
....................     }
....................     fprintf(PC, "\r\n___End SMF Read____\r\n");
11C48:  MOVLW  A2
11C4A:  MOVWF  FF6
11C4C:  MOVLW  0B
11C4E:  MOVWF  FF7
11C50:  MOVLW  00
11C52:  MOVWF  FF8
11C54:  CALL   20CE
....................     fprintf(PC, "____________________\r\n\r\n");
11C58:  MOVLW  BA
11C5A:  MOVWF  FF6
11C5C:  MOVLW  0B
11C5E:  MOVWF  FF7
11C60:  MOVLW  00
11C62:  MOVWF  FF8
11C64:  CALL   20CE
11C68:  GOTO   124F0 (RETURN)
.................... }
.................... 
.................... void smf_erase(FlashOperationStruct *smf_data)
.................... {
....................     fprintf(PC, "\r\n____________________\r\n");
11C6C:  MOVLW  D4
11C6E:  MOVWF  FF6
11C70:  MOVLW  0B
11C72:  MOVWF  FF7
11C74:  MOVLW  00
11C76:  MOVWF  FF8
11C78:  CALL   20CE
....................     fprintf(PC, "___Start smf_erase____\r\n");
11C7C:  MOVLW  EE
11C7E:  MOVWF  FF6
11C80:  MOVLW  0B
11C82:  MOVWF  FF7
11C84:  MOVLW  00
11C86:  MOVWF  FF8
11C88:  CALL   20CE
.................... 
....................     SmfAddressStruct mission_type = get_smf_address_struct(smf_data->mission_id);
....................     unsigned int32 erase_address = smf_data->misf_start_addr;
....................     unsigned int32 erase_size = smf_data->misf_size;
11C8C:  MOVLB  1
11C8E:  MOVF   xA1,W
11C90:  MOVWF  FE9
11C92:  MOVF   xA2,W
11C94:  MOVWF  FEA
11C96:  MOVFF  FEF,1BB
11C9A:  MOVFF  1BB,20A
11C9E:  MOVLB  0
11CA0:  CALL   113AA
11CA4:  MOVFF  02,03
11CA8:  MOVF   01,W
11CAA:  MOVWF  FE1
11CAC:  MOVFF  03,FE2
11CB0:  MOVLW  01
11CB2:  MOVWF  FEA
11CB4:  MOVLW  A3
11CB6:  MOVWF  FE9
11CB8:  MOVLW  08
11CBA:  MOVWF  01
11CBC:  MOVFF  FE6,FEE
11CC0:  DECFSZ 01,F
11CC2:  GOTO   11CBC
11CC6:  MOVLW  04
11CC8:  MOVLB  1
11CCA:  ADDWF  xA1,W
11CCC:  MOVWF  FE9
11CCE:  MOVLW  00
11CD0:  ADDWFC xA2,W
11CD2:  MOVWF  FEA
11CD4:  MOVFF  FEF,1AB
11CD8:  MOVFF  FEC,1AC
11CDC:  MOVFF  FEC,1AD
11CE0:  MOVFF  FEC,1AE
11CE4:  MOVF   FED,F
11CE6:  MOVF   FED,F
11CE8:  MOVF   FED,F
11CEA:  MOVLW  08
11CEC:  ADDWF  xA1,W
11CEE:  MOVWF  FE9
11CF0:  MOVLW  00
11CF2:  ADDWFC xA2,W
11CF4:  MOVWF  FEA
11CF6:  MOVFF  FEF,1AF
11CFA:  MOVFF  FEC,1B0
11CFE:  MOVFF  FEC,1B1
11D02:  MOVFF  FEC,1B2
11D06:  MOVF   FED,F
11D08:  MOVF   FED,F
11D0A:  MOVF   FED,F
....................     fprintf(PC, "[SMF] Erase address   : %LX\r\n", erase_address);
11D0C:  MOVLW  08
11D0E:  MOVWF  FF6
11D10:  MOVLW  0C
11D12:  MOVWF  FF7
11D14:  MOVLW  00
11D16:  MOVWF  FF8
11D18:  MOVLW  18
11D1A:  MOVLB  A
11D1C:  MOVWF  x4E
11D1E:  MOVLB  0
11D20:  CALL   2104
11D24:  MOVFF  1AE,9E8
11D28:  MOVLW  37
11D2A:  MOVLB  9
11D2C:  MOVWF  xE9
11D2E:  MOVLB  0
11D30:  CALL   2334
11D34:  MOVFF  1AD,9E8
11D38:  MOVLW  37
11D3A:  MOVLB  9
11D3C:  MOVWF  xE9
11D3E:  MOVLB  0
11D40:  CALL   2334
11D44:  MOVFF  1AC,9E8
11D48:  MOVLW  37
11D4A:  MOVLB  9
11D4C:  MOVWF  xE9
11D4E:  MOVLB  0
11D50:  CALL   2334
11D54:  MOVFF  1AB,9E8
11D58:  MOVLW  37
11D5A:  MOVLB  9
11D5C:  MOVWF  xE9
11D5E:  MOVLB  0
11D60:  CALL   2334
11D64:  MOVLW  0D
11D66:  BTFSS  FA6.6
11D68:  GOTO   11D66
11D6C:  MOVLB  E
11D6E:  MOVWF  xF9
11D70:  MOVLW  0A
11D72:  MOVLB  0
11D74:  BTFSS  FA6.6
11D76:  GOTO   11D74
11D7A:  MOVLB  E
11D7C:  MOVWF  xF9
....................     fprintf(PC, "[SMF] Erase data size : %lu (0x%lx)\r\n\r\n", erase_size, erase_size);
11D7E:  MOVLW  26
11D80:  MOVWF  FF6
11D82:  MOVLW  0C
11D84:  MOVWF  FF7
11D86:  MOVLW  00
11D88:  MOVWF  FF8
11D8A:  MOVLW  18
11D8C:  MOVLB  A
11D8E:  MOVWF  x4E
11D90:  MOVLB  0
11D92:  CALL   2104
11D96:  MOVLW  41
11D98:  MOVWF  FE9
11D9A:  MOVFF  1B2,20D
11D9E:  MOVFF  1B1,20C
11DA2:  MOVFF  1B0,20B
11DA6:  MOVFF  1AF,20A
11DAA:  CALL   641A
11DAE:  MOVLW  41
11DB0:  MOVWF  FF6
11DB2:  MOVLW  0C
11DB4:  MOVWF  FF7
11DB6:  MOVLW  00
11DB8:  MOVWF  FF8
11DBA:  MOVLW  04
11DBC:  MOVLB  A
11DBE:  MOVWF  x4E
11DC0:  MOVLB  0
11DC2:  CALL   2104
11DC6:  MOVFF  1B2,9E8
11DCA:  MOVLW  57
11DCC:  MOVLB  9
11DCE:  MOVWF  xE9
11DD0:  MOVLB  0
11DD2:  CALL   2334
11DD6:  MOVFF  1B1,9E8
11DDA:  MOVLW  57
11DDC:  MOVLB  9
11DDE:  MOVWF  xE9
11DE0:  MOVLB  0
11DE2:  CALL   2334
11DE6:  MOVFF  1B0,9E8
11DEA:  MOVLW  57
11DEC:  MOVLB  9
11DEE:  MOVWF  xE9
11DF0:  MOVLB  0
11DF2:  CALL   2334
11DF6:  MOVFF  1AF,9E8
11DFA:  MOVLW  57
11DFC:  MOVLB  9
11DFE:  MOVWF  xE9
11E00:  MOVLB  0
11E02:  CALL   2334
11E06:  MOVLW  48
11E08:  MOVWF  FF6
11E0A:  MOVLW  0C
11E0C:  MOVWF  FF7
11E0E:  MOVLW  00
11E10:  MOVWF  FF8
11E12:  MOVLW  05
11E14:  MOVLB  A
11E16:  MOVWF  x4E
11E18:  MOVLB  0
11E1A:  CALL   2104
.................... 
....................     if (!is_connect(smf)){
11E1E:  MOVFF  119,253
11E22:  MOVFF  118,252
11E26:  MOVFF  117,251
11E2A:  MOVFF  116,250
11E2E:  CALL   2BF4
11E32:  MOVF   01,F
11E34:  BTFSS  FD8.2
11E36:  GOTO   11E4E
....................         fprintf(PC, "Error: SMF is not connected\r\n");
11E3A:  MOVLW  4E
11E3C:  MOVWF  FF6
11E3E:  MOVLW  0C
11E40:  MOVWF  FF7
11E42:  MOVLW  00
11E44:  MOVWF  FF8
11E46:  CALL   20CE
....................         return;
11E4A:  GOTO   122EA
....................     }
.................... 
....................     // Check if erase operation is within mission_type range
....................     if (erase_address < mission_type.start_address || erase_address >= mission_type.end_address) {
11E4E:  MOVLB  1
11E50:  MOVF   xAE,W
11E52:  SUBWF  xA6,W
11E54:  BTFSC  FD8.0
11E56:  BRA    11E5E
11E58:  MOVLB  0
11E5A:  GOTO   11EA8
11E5E:  MOVLB  0
11E60:  BTFSS  FD8.2
11E62:  GOTO   11F02
11E66:  MOVLB  1
11E68:  MOVF   xAD,W
11E6A:  SUBWF  xA5,W
11E6C:  BTFSC  FD8.0
11E6E:  BRA    11E76
11E70:  MOVLB  0
11E72:  GOTO   11EA8
11E76:  MOVLB  0
11E78:  BTFSS  FD8.2
11E7A:  GOTO   11F02
11E7E:  MOVLB  1
11E80:  MOVF   xAC,W
11E82:  SUBWF  xA4,W
11E84:  BTFSC  FD8.0
11E86:  BRA    11E8E
11E88:  MOVLB  0
11E8A:  GOTO   11EA8
11E8E:  MOVLB  0
11E90:  BTFSS  FD8.2
11E92:  GOTO   11F02
11E96:  MOVLB  1
11E98:  MOVF   xA3,W
11E9A:  SUBWF  xAB,W
11E9C:  BTFSC  FD8.0
11E9E:  BRA    11EA6
11EA0:  MOVLB  0
11EA2:  GOTO   11F02
11EA6:  MOVLB  0
11EA8:  MOVLB  1
11EAA:  MOVF   xAA,W
11EAC:  SUBWF  xAE,W
11EAE:  BTFSC  FD8.0
11EB0:  BRA    11EB8
11EB2:  MOVLB  0
11EB4:  GOTO   12026
11EB8:  MOVLB  0
11EBA:  BTFSS  FD8.2
11EBC:  GOTO   11F02
11EC0:  MOVLB  1
11EC2:  MOVF   xA9,W
11EC4:  SUBWF  xAD,W
11EC6:  BTFSC  FD8.0
11EC8:  BRA    11ED0
11ECA:  MOVLB  0
11ECC:  GOTO   12026
11ED0:  MOVLB  0
11ED2:  BTFSS  FD8.2
11ED4:  GOTO   11F02
11ED8:  MOVLB  1
11EDA:  MOVF   xA8,W
11EDC:  SUBWF  xAC,W
11EDE:  BTFSC  FD8.0
11EE0:  BRA    11EE8
11EE2:  MOVLB  0
11EE4:  GOTO   12026
11EE8:  MOVLB  0
11EEA:  BTFSS  FD8.2
11EEC:  GOTO   11F02
11EF0:  MOVLB  1
11EF2:  MOVF   xA7,W
11EF4:  SUBWF  xAB,W
11EF6:  BTFSC  FD8.0
11EF8:  BRA    11F00
11EFA:  MOVLB  0
11EFC:  GOTO   12026
11F00:  MOVLB  0
....................         fprintf(PC, "Error: Erase source address 0x%LX is outside mission range [0x%LX - 0x%LX]\r\n", 
....................                 erase_address, mission_type.start_address, mission_type.end_address);
11F02:  MOVLW  6C
11F04:  MOVWF  FF6
11F06:  MOVLW  0C
11F08:  MOVWF  FF7
11F0A:  MOVLW  00
11F0C:  MOVWF  FF8
11F0E:  MOVLW  1E
11F10:  MOVLB  A
11F12:  MOVWF  x4E
11F14:  MOVLB  0
11F16:  CALL   2104
11F1A:  MOVFF  1AE,9E8
11F1E:  MOVLW  37
11F20:  MOVLB  9
11F22:  MOVWF  xE9
11F24:  MOVLB  0
11F26:  CALL   2334
11F2A:  MOVFF  1AD,9E8
11F2E:  MOVLW  37
11F30:  MOVLB  9
11F32:  MOVWF  xE9
11F34:  MOVLB  0
11F36:  CALL   2334
11F3A:  MOVFF  1AC,9E8
11F3E:  MOVLW  37
11F40:  MOVLB  9
11F42:  MOVWF  xE9
11F44:  MOVLB  0
11F46:  CALL   2334
11F4A:  MOVFF  1AB,9E8
11F4E:  MOVLW  37
11F50:  MOVLB  9
11F52:  MOVWF  xE9
11F54:  MOVLB  0
11F56:  CALL   2334
11F5A:  MOVLW  8D
11F5C:  MOVWF  FF6
11F5E:  MOVLW  0C
11F60:  MOVWF  FF7
11F62:  MOVLW  00
11F64:  MOVWF  FF8
11F66:  MOVLW  1D
11F68:  MOVLB  A
11F6A:  MOVWF  x4E
11F6C:  MOVLB  0
11F6E:  CALL   2104
11F72:  MOVFF  1A6,9E8
11F76:  MOVLW  37
11F78:  MOVLB  9
11F7A:  MOVWF  xE9
11F7C:  MOVLB  0
11F7E:  CALL   2334
11F82:  MOVFF  1A5,9E8
11F86:  MOVLW  37
11F88:  MOVLB  9
11F8A:  MOVWF  xE9
11F8C:  MOVLB  0
11F8E:  CALL   2334
11F92:  MOVFF  1A4,9E8
11F96:  MOVLW  37
11F98:  MOVLB  9
11F9A:  MOVWF  xE9
11F9C:  MOVLB  0
11F9E:  CALL   2334
11FA2:  MOVFF  1A3,9E8
11FA6:  MOVLW  37
11FA8:  MOVLB  9
11FAA:  MOVWF  xE9
11FAC:  MOVLB  0
11FAE:  CALL   2334
11FB2:  MOVLW  AD
11FB4:  MOVWF  FF6
11FB6:  MOVLW  0C
11FB8:  MOVWF  FF7
11FBA:  MOVLW  00
11FBC:  MOVWF  FF8
11FBE:  MOVLW  05
11FC0:  MOVLB  A
11FC2:  MOVWF  x4E
11FC4:  MOVLB  0
11FC6:  CALL   2104
11FCA:  MOVFF  1AA,9E8
11FCE:  MOVLW  37
11FD0:  MOVLB  9
11FD2:  MOVWF  xE9
11FD4:  MOVLB  0
11FD6:  CALL   2334
11FDA:  MOVFF  1A9,9E8
11FDE:  MOVLW  37
11FE0:  MOVLB  9
11FE2:  MOVWF  xE9
11FE4:  MOVLB  0
11FE6:  CALL   2334
11FEA:  MOVFF  1A8,9E8
11FEE:  MOVLW  37
11FF0:  MOVLB  9
11FF2:  MOVWF  xE9
11FF4:  MOVLB  0
11FF6:  CALL   2334
11FFA:  MOVFF  1A7,9E8
11FFE:  MOVLW  37
12000:  MOVLB  9
12002:  MOVWF  xE9
12004:  MOVLB  0
12006:  CALL   2334
1200A:  MOVLW  B5
1200C:  MOVWF  FF6
1200E:  MOVLW  0C
12010:  MOVWF  FF7
12012:  MOVLW  00
12014:  MOVWF  FF8
12016:  MOVLW  03
12018:  MOVLB  A
1201A:  MOVWF  x4E
1201C:  MOVLB  0
1201E:  CALL   2104
....................         return;
12022:  GOTO   122EA
....................     }
.................... 
....................     if ((erase_address + erase_size) > mission_type.end_address) {
12026:  MOVLB  1
12028:  MOVF   xAF,W
1202A:  ADDWF  xAB,W
1202C:  MOVWF  xBB
1202E:  MOVF   xB0,W
12030:  ADDWFC xAC,W
12032:  MOVWF  xBC
12034:  MOVF   xB1,W
12036:  ADDWFC xAD,W
12038:  MOVWF  xBD
1203A:  MOVF   xB2,W
1203C:  ADDWFC xAE,W
1203E:  MOVWF  xBE
12040:  MOVF   xAA,W
12042:  SUBWF  xBE,W
12044:  BTFSC  FD8.0
12046:  BRA    1204E
12048:  MOVLB  0
1204A:  GOTO   12138
1204E:  MOVLB  0
12050:  BTFSS  FD8.2
12052:  GOTO   12098
12056:  MOVLB  1
12058:  MOVF   xA9,W
1205A:  SUBWF  xBD,W
1205C:  BTFSC  FD8.0
1205E:  BRA    12066
12060:  MOVLB  0
12062:  GOTO   12138
12066:  MOVLB  0
12068:  BTFSS  FD8.2
1206A:  GOTO   12098
1206E:  MOVLB  1
12070:  MOVF   xA8,W
12072:  SUBWF  xBC,W
12074:  BTFSC  FD8.0
12076:  BRA    1207E
12078:  MOVLB  0
1207A:  GOTO   12138
1207E:  MOVLB  0
12080:  BTFSS  FD8.2
12082:  GOTO   12098
12086:  MOVLB  1
12088:  MOVF   xBB,W
1208A:  SUBWF  xA7,W
1208C:  BTFSS  FD8.0
1208E:  BRA    12096
12090:  MOVLB  0
12092:  GOTO   12138
12096:  MOVLB  0
....................         fprintf(PC, "Error: Erase operation would exceed mission end address 0x%LX\r\n", mission_type.end_address);
12098:  MOVLW  BA
1209A:  MOVWF  FF6
1209C:  MOVLW  0C
1209E:  MOVWF  FF7
120A0:  MOVLW  00
120A2:  MOVWF  FF8
120A4:  MOVLW  3A
120A6:  MOVLB  A
120A8:  MOVWF  x4E
120AA:  MOVLB  0
120AC:  CALL   2104
120B0:  MOVFF  1AA,9E8
120B4:  MOVLW  37
120B6:  MOVLB  9
120B8:  MOVWF  xE9
120BA:  MOVLB  0
120BC:  CALL   2334
120C0:  MOVFF  1A9,9E8
120C4:  MOVLW  37
120C6:  MOVLB  9
120C8:  MOVWF  xE9
120CA:  MOVLB  0
120CC:  CALL   2334
120D0:  MOVFF  1A8,9E8
120D4:  MOVLW  37
120D6:  MOVLB  9
120D8:  MOVWF  xE9
120DA:  MOVLB  0
120DC:  CALL   2334
120E0:  MOVFF  1A7,9E8
120E4:  MOVLW  37
120E6:  MOVLB  9
120E8:  MOVWF  xE9
120EA:  MOVLB  0
120EC:  CALL   2334
120F0:  MOVLW  0D
120F2:  BTFSS  FA6.6
120F4:  GOTO   120F2
120F8:  MOVLB  E
120FA:  MOVWF  xF9
120FC:  MOVLW  0A
120FE:  MOVLB  0
12100:  BTFSS  FA6.6
12102:  GOTO   12100
12106:  MOVLB  E
12108:  MOVWF  xF9
....................         fprintf(PC, "Limiting erase size to stay within mission bounds\r\n");
1210A:  MOVLW  FA
1210C:  MOVWF  FF6
1210E:  MOVLW  0C
12110:  MOVWF  FF7
12112:  MOVLW  00
12114:  MOVWF  FF8
12116:  MOVLB  0
12118:  CALL   20CE
....................         erase_size = mission_type.end_address - erase_address;
1211C:  MOVLB  1
1211E:  MOVF   xAB,W
12120:  SUBWF  xA7,W
12122:  MOVWF  xAF
12124:  MOVF   xAC,W
12126:  SUBWFB xA8,W
12128:  MOVWF  xB0
1212A:  MOVF   xAD,W
1212C:  SUBWFB xA9,W
1212E:  MOVWF  xB1
12130:  MOVF   xAE,W
12132:  SUBWFB xAA,W
12134:  MOVWF  xB2
12136:  MOVLB  0
....................     }
.................... 
....................     fprintf(PC, "Erase operation validated within mission range\r\n");
12138:  MOVLW  2E
1213A:  MOVWF  FF6
1213C:  MOVLW  0D
1213E:  MOVWF  FF7
12140:  MOVLW  00
12142:  MOVWF  FF8
12144:  CALL   20CE
....................     unsigned int32 erase_end = erase_address + erase_size;
....................     // 4KB境界開始へアライン
....................     unsigned int32 current = erase_address & ~0xFFF;
12148:  MOVLB  1
1214A:  MOVF   xAF,W
1214C:  ADDWF  xAB,W
1214E:  MOVWF  xB3
12150:  MOVF   xB0,W
12152:  ADDWFC xAC,W
12154:  MOVWF  xB4
12156:  MOVF   xB1,W
12158:  ADDWFC xAD,W
1215A:  MOVWF  xB5
1215C:  MOVF   xB2,W
1215E:  ADDWFC xAE,W
12160:  MOVWF  xB6
12162:  CLRF   xB7
12164:  MOVF   xAC,W
12166:  ANDLW  F0
12168:  MOVWF  xB8
1216A:  CLRF   xB9
1216C:  CLRF   xBA
1216E:  MOVLB  0
....................     while (current < erase_end && current < (unsigned int32)mission_type.end_address) {
12170:  MOVLB  1
12172:  MOVF   xBA,W
12174:  SUBWF  xB6,W
12176:  BTFSC  FD8.0
12178:  BRA    12180
1217A:  MOVLB  0
1217C:  GOTO   1225C
12180:  MOVLB  0
12182:  BTFSS  FD8.2
12184:  GOTO   121CA
12188:  MOVLB  1
1218A:  MOVF   xB9,W
1218C:  SUBWF  xB5,W
1218E:  BTFSC  FD8.0
12190:  BRA    12198
12192:  MOVLB  0
12194:  GOTO   1225C
12198:  MOVLB  0
1219A:  BTFSS  FD8.2
1219C:  GOTO   121CA
121A0:  MOVLB  1
121A2:  MOVF   xB8,W
121A4:  SUBWF  xB4,W
121A6:  BTFSC  FD8.0
121A8:  BRA    121B0
121AA:  MOVLB  0
121AC:  GOTO   1225C
121B0:  MOVLB  0
121B2:  BTFSS  FD8.2
121B4:  GOTO   121CA
121B8:  MOVLB  1
121BA:  MOVF   xB3,W
121BC:  SUBWF  xB7,W
121BE:  BTFSS  FD8.0
121C0:  BRA    121C8
121C2:  MOVLB  0
121C4:  GOTO   1225C
121C8:  MOVLB  0
121CA:  MOVLB  1
121CC:  MOVF   xBA,W
121CE:  SUBWF  xAA,W
121D0:  BTFSC  FD8.0
121D2:  BRA    121DA
121D4:  MOVLB  0
121D6:  GOTO   1225C
121DA:  MOVLB  0
121DC:  BTFSS  FD8.2
121DE:  GOTO   12224
121E2:  MOVLB  1
121E4:  MOVF   xB9,W
121E6:  SUBWF  xA9,W
121E8:  BTFSC  FD8.0
121EA:  BRA    121F2
121EC:  MOVLB  0
121EE:  GOTO   1225C
121F2:  MOVLB  0
121F4:  BTFSS  FD8.2
121F6:  GOTO   12224
121FA:  MOVLB  1
121FC:  MOVF   xB8,W
121FE:  SUBWF  xA8,W
12200:  BTFSC  FD8.0
12202:  BRA    1220A
12204:  MOVLB  0
12206:  GOTO   1225C
1220A:  MOVLB  0
1220C:  BTFSS  FD8.2
1220E:  GOTO   12224
12212:  MOVLB  1
12214:  MOVF   xA7,W
12216:  SUBWF  xB7,W
12218:  BTFSS  FD8.0
1221A:  BRA    12222
1221C:  MOVLB  0
1221E:  GOTO   1225C
12222:  MOVLB  0
....................         subsector_4kByte_erase(smf, current);
12224:  MOVFF  119,A93
12228:  MOVFF  118,A92
1222C:  MOVFF  117,A91
12230:  MOVFF  116,A90
12234:  MOVFF  1BA,A97
12238:  MOVFF  1B9,A96
1223C:  MOVFF  1B8,A95
12240:  MOVFF  1B7,A94
12244:  CALL   4B2A
....................         current += SUBSECTOR_SIZE;
12248:  MOVLW  10
1224A:  MOVLB  1
1224C:  ADDWF  xB8,F
1224E:  MOVLW  00
12250:  ADDWFC xB9,F
12252:  MOVLW  00
12254:  ADDWFC xBA,F
12256:  MOVLB  0
12258:  GOTO   12170
....................     }
....................     fprintf(PC, "Erased %lu bytes (aligned)\r\n", (current - (erase_address & ~0xFFF)));
1225C:  CLRF   00
1225E:  MOVLB  1
12260:  MOVF   xAC,W
12262:  ANDLW  F0
12264:  MOVWF  01
12266:  CLRF   02
12268:  CLRF   03
1226A:  MOVF   00,W
1226C:  SUBWF  xB7,W
1226E:  MOVWF  xBB
12270:  MOVF   01,W
12272:  SUBWFB xB8,W
12274:  MOVWF  xBC
12276:  MOVF   02,W
12278:  SUBWFB xB9,W
1227A:  MOVWF  xBD
1227C:  MOVF   03,W
1227E:  SUBWFB xBA,W
12280:  MOVWF  xBE
12282:  MOVLW  60
12284:  MOVWF  FF6
12286:  MOVLW  0D
12288:  MOVWF  FF7
1228A:  MOVLW  00
1228C:  MOVWF  FF8
1228E:  MOVLW  07
12290:  MOVLB  A
12292:  MOVWF  x4E
12294:  MOVLB  0
12296:  CALL   2104
1229A:  MOVLW  41
1229C:  MOVWF  FE9
1229E:  MOVFF  1BE,20D
122A2:  MOVFF  1BD,20C
122A6:  MOVFF  1BC,20B
122AA:  MOVFF  1BB,20A
122AE:  CALL   641A
122B2:  MOVLW  6A
122B4:  MOVWF  FF6
122B6:  MOVLW  0D
122B8:  MOVWF  FF7
122BA:  MOVLW  00
122BC:  MOVWF  FF8
122BE:  MOVLW  12
122C0:  MOVLB  A
122C2:  MOVWF  x4E
122C4:  MOVLB  0
122C6:  CALL   2104
.................... 
....................     fprintf(PC, "\r\n___End smf_erase____\r\n");
122CA:  MOVLW  7E
122CC:  MOVWF  FF6
122CE:  MOVLW  0D
122D0:  MOVWF  FF7
122D2:  MOVLW  00
122D4:  MOVWF  FF8
122D6:  CALL   20CE
....................     fprintf(PC, "____________________\r\n\r\n");
122DA:  MOVLW  98
122DC:  MOVWF  FF6
122DE:  MOVLW  0D
122E0:  MOVWF  FF7
122E2:  MOVLW  00
122E4:  MOVWF  FF8
122E6:  CALL   20CE
122EA:  GOTO   12500 (RETURN)
.................... }
.................... 
.................... 
.................... 
.................... void smf_update_address_area()
.................... {
....................     smf_address_header_t smf_data_table;
....................     unsigned int8 buffer[PACKET_SIZE];
.................... 
....................     // Read existing SMF address area
....................     read_data_bytes(smf, CIGS_DATA_TABLE_START_ADDRESS, buffer, PACKET_SIZE);
.................... }
.................... // End of file
.................... 
.................... #include "domain/cigs_flash.c"
.................... #include "cigs_flash.h"                           
.................... #ifndef MMJ_CIGS_FLASH_H
.................... #define MMJ_CIGS_FLASH_H
.................... 
.................... //#include <string.h>
.................... //#include "../hal/cigs_config.h"
.................... 
.................... #ifndef PACKET_SIZE
....................     #define PACKET_SIZE 64
.................... #endif
.................... 
.................... 
.................... #define MISF_START 0x00000000
.................... #define MISF_END   0x00BC0FFF
.................... #define SECTOR_64K_BYTE  0x10000
.................... 
.................... #define MISF_CIGS_DATA_TABLE_SIZE 64
.................... 
.................... // Flash Address
.................... #define MISF_CIGS_DATA_TABLE_START 0x00000000
.................... #define MISF_CIGS_DATA_TABLE_END   0x00000FFF
.................... #define MISF_CIGS_DATA_TABLE_SIZE  4096
.................... 
.................... #define MISF_CIGS_PICLOG_START    0x00010000
.................... #define MISF_CIGS_PICLOG_END      0x00140FFF
.................... #define MISF_CIGS_PICLOG_SIZE     1310720
.................... 
.................... #define MISF_CIGS_ENVIRO_START    0x00141000
.................... #define MISF_CIGS_ENVIRO_END      0x00280FFF
.................... #define MISF_CIGS_ENVIRO_SIZE     1310720
.................... 
.................... #define MISF_CIGS_IV1_HEADER_START 0x00281000
.................... #define MISF_CIGS_IV1_HEADER_END   0x00320FFF
.................... #define MISF_CIGS_IV1_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV1_DATA_START   0x00321000
.................... #define MISF_CIGS_IV1_DATA_END     0x00720FFF
.................... #define MISF_CIGS_IV1_DATA_SIZE    4194304
.................... 
.................... #define MISF_CIGS_IV2_HEADER_START 0x00721000
.................... #define MISF_CIGS_IV2_HEADER_END   0x007C0FFF
.................... #define MISF_CIGS_IV2_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV2_DATA_START   0x007C1000
.................... #define MISF_CIGS_IV2_DATA_END     0x00BC0FFF
.................... #define MISF_CIGS_IV2_DATA_SIZE    4194304
.................... 
.................... // 重複していた #define はここに一度だけ残す
.................... // 例: #define SECTOR_4K_BYTE  0x1000  // 4KByte
.................... // 他ファイルに同じ行があれば削除
.................... 
.................... // Flash カウンタだけを保持する汎用構造
.................... typedef struct {
....................     unsigned int32 used_counter;
....................     unsigned int32 uncopied_counter;
....................     unsigned int8  reserve_counter1;
....................     unsigned int8  reserve_counter2;
.................... } FlashCounter_t;
.................... 
.................... // データ種別ID
.................... typedef enum {
....................     FLASH_ID_DATA_TABLE = 0 ,
....................     FLASH_ID_PICLOG ,
....................     FLASH_ID_ENVIRONMENT,
....................     FLASH_ID_IV1_HEADER,
....................     FLASH_ID_IV1_DATA,
....................     FLASH_ID_IV2_HEADER,
....................     FLASH_ID_IV2_DATA,
....................     FLASH_ID_COUNT = 7
.................... } FlashDataId_t;
.................... 
.................... // Flash_t : 実体側で使用する拡張(必要なら id を保持)
.................... typedef struct {
....................     FlashDataId_t   id;
....................     unsigned int32  used_counter;
....................     unsigned int32  uncopied_counter;
....................     unsigned int8   reserve_counter1;
....................     unsigned int8   reserve_counter2;
.................... } Flash_t;
.................... 
.................... // FlashData_t （既存定義が別ヘッダなら重複しないよう確認）
.................... // ここでは payload 内の logdata.* が FlashCounter_t と仮定
.................... typedef union {
....................     struct {
....................         union {
....................             struct {
....................                 FlashCounter_t piclog;
....................                 FlashCounter_t environment;
....................                 FlashCounter_t iv1_header;
....................                 FlashCounter_t iv1_data;
....................                 FlashCounter_t iv2_header;
....................                 FlashCounter_t iv2_data;
....................             } logdata;  // 合計サイズは63バイト
....................             unsigned int8 reserve[63];
....................         } payload;
....................         unsigned int8 crc;  // 1バイトCRC
....................     } packet;
....................     unsigned int8 bytes[64];
.................... } FlashData_t;
.................... 
.................... 
.................... // 取得系
.................... FlashData_t make_flash_data_table(void);
.................... void misf_update_address_area(void);
.................... void print_flash_status(void);
.................... 
.................... 
.................... // キュー投入
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode);
.................... void misf_init();
.................... 
.................... // Flash 操作用構造体
.................... typedef struct {
....................     unsigned int32 start;
....................     unsigned int32 end;
....................     unsigned int32 size;
.................... } ADDRESS_AREA_T;
.................... 
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t misf_counter_table[];
.................... extern FlashCounter_t *misf_counter_table_ptr[];
.................... 
.................... void print_MISF_ADDRESS_TABLE(void);
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size);
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../hal/cigs_config.h"             
.................... #ifndef MMJ_CIGS_CONFIG_H
.................... #define MMJ_CIGS_CONFIG_H
.................... 
.................... 
.................... 
.................... 
.................... #include <18F67J94.h>
.................... //#include <16F1789.h>
.................... #opt 0 // 0 = no optimization, 1 = optimize for speed, 2 = optimize for size
.................... 
.................... #device ADC=12
.................... #use delay(crystal=16MHz)
.................... #fuses HS, NOWDT, NOBROWNOUT, NOPROTECT
.................... #device HIGH_INTS=TRUE
.................... #define PIC18
.................... //#define PIC16
.................... 
.................... 
.................... 
.................... #ifdef PIC16
....................     //#include <16F1789.h>
....................     #fuses NOMCLR
....................     //-------------Serial--------------------
....................     #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,stream=BOSS)
....................     #use rs232(baud=9600,parity=N,xmit=PIN_B4,bits=8,stream=PC,FORCE_SW)
.................... 
.................... 
....................     // -------------SPI--------------------
....................     // MOSI:PIN_C5, MISO:PIN_C4, SCK:PIN_C3
....................     // Shared Mission Flash
....................     #define MIS_FM_CS  PIN_D3
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS= 8, STREAM = MIS_FM_STREAM)
.................... 
....................     // Mission Flash
....................     #define SMF_CS PIN_D1
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = SMF_STREAM)
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = spi_cell_write)
....................     // Analog to Digital Converter 
....................     #define ADC_CS PIN_D2
....................     //#use spi(MASTER, SPI1, BAUD = 9600, MODE=2, BITS = 16, STREAM = ADC_STREAM)
....................     #use spi(MASTER, CLK = PIN_C3, DI = PIN_C4, DO = PIN_C5, ENABLE = PIN_D2, BAUD = 57600, BITS = 16, STREAM = ADC_STREAM, MODE = 2 )
....................     
....................     
....................     // AI/O___ADC
....................     #define TEMP_TOP PIN_B0
....................     #define TEMP_BOT PIN_A3
....................     #define CIGS_VOLT PIN_A0 //PIN_A0
....................     #define CIGS_CURR PIN_A1
....................     #define PD PIN_E0
....................     #define VREF PIN_A4
....................  
....................     // AI/O___DAC
....................     #define LOAD PIN_A5
.................... 
....................     /* DEMO
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A0, MODE=0, BITS=8, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A1, MODE=0, BITS=8, ENABLE_ACTIVE=1, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A3, BAUD=40000, MODE=2, BITS=16, ENABLE_ACTIVE=1, STREAM=ADC)
....................     #use spi (MASTER, MODE=0, BITS=8, STREAM=SPI_4)
....................     */
.................... #endif
.................... 
.................... #ifdef PIC18
....................     //#include <18F67J94.h>
....................     //-------------UART--------------------
....................     // BOSS command port
....................     #pin_select TX3=PIN_E3                                                          
....................     #pin_select RX3=PIN_F2                                                        
....................     #use rs232(baud=9600, parity=N, UART3, bits=8, stream=BOSS, ERRORS)                      
....................     
....................     // PC debug port
....................     #pin_select TX4=PIN_E5
....................     #pin_select RX4=PIN_D4  
....................     #use rs232(baud=9600,parity=N, UART4, bits=8,stream=PC, ERRORS)
.................... 
....................     // -------------SPI--------------------
....................     // Shared Mission Flash
....................     #define SMF_CS PIN_A2
....................     #pin_select SCK1OUT=PIN_A3
....................     #pin_select SDI1=PIN_A0
....................     #pin_select SDO1=PIN_A1
....................     // #use spi (MASTER, SPI1, BAUD=200000, MODE=0, BITS=8, STREAM=SMF_STREAM)
....................     #use spi (MASTER, CLK=PIN_A3, DI=PIN_A1, DO=PIN_A0, BAUD=20000000, MODE=0, BITS=8, STREAM=SMF_STREAM)
.................... 
.................... 
....................     // Mission Flash
....................     #define MIS_FM_CS  PIN_G0
....................     #use spi (MASTER, CLK=PIN_E1, DI=PIN_E0, DO=PIN_E6, BAUD=20000000, MODE=0, BITS=8, STREAM=MIS_FM_STREAM)
.................... 
.................... 
....................     // ADC  
....................     #define ADC_CS PIN_B1
....................     // #pin_select SCK2OUT=PIN_B2
....................     // #pin_select SDI2=PIN_B4
....................     // #pin_select SDO2=PIN_B5
....................     // #use spi (MASTER, SPI2, BAUD=200000, MODE=2, BITS=16, STREAM=ADC_STREAM)
....................     #use spi (MASTER, CLK=PIN_B2, DI=PIN_B4, DO=PIN_B5, BAUD=20000000, MODE=2, BITS=16, STREAM=ADC_STREAM)
.................... 
....................     // DAC
....................     #define DAC1_CS PIN_D7
....................     #define DAC2_CS PIN_D6
....................     #use spi (MASTER, CLK=PIN_D5, DO=PIN_D4,  BAUD=20000000, MODE=2, BITS=16, STREAM=DAC_STREAM)
.................... 
.................... 
....................     // DI/O___
....................     #define CONNECT_CIGS1 PIN_C3
....................     #define CONNECT_CIGS2 PIN_C5
....................     #define EN_NPWR1 PIN_C7
....................     #define EN_NPWR2 PIN_C6
.................... 
.................... #endif
.................... 
.................... //-------------I/O port--------------------
.................... #use FIXED_IO( A_outputs=SMF_CS )
.................... #use FIXED_IO( B_outputs=ADC_CS )
.................... #use FIXED_IO( C_outputs=CONNECT_CIGS1, CONNECT_CIGS2, EN_NPWR1, EN_NPWR2 )
.................... #use FIXED_IO( D_outputs=DAC1_CS, DAC2_CS )
.................... #use FIXED_IO( G_outputs=MIS_FM_CS )
.................... 
.................... // ADC Settings
.................... #define ADC_CIGS1_VOLT      AD7490_CH0
.................... #define ADC_CIGS1_CURR      AD7490_CH1
.................... #define ADC_CIGS1_AMP       AD7490_CH2
.................... #define ADC_CIGS1_VREF      AD7490_CH3
.................... #define ADC_CIGS2_VOLT      AD7490_CH4
.................... #define ADC_CIGS2_CURR      AD7490_CH5
.................... #define ADC_CIGS2_AMP       AD7490_CH6
.................... #define ADC_CIGS2_VREF      AD7490_CH7
.................... #define ADC_CIGS1_DAC       AD7490_CH8
.................... #define ADC_CIGS2_DAC       AD7490_CH9
.................... #define EMPTY_VIN0          AD7490_CH10
.................... #define EMPTY_VIN1          AD7490_CH11
.................... #define ADC_TEMP_MIS7       AD7490_CH12
.................... #define ADC_TEMP_PY_TOP     AD7490_CH13
.................... #define ADC_TEMP_PY_BOT     AD7490_CH14
.................... #define ADC_PD              AD7490_CH15
.................... 
.................... #endif // MMJ_CIGS_CONFIG_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/device/mt25q.h"                
.................... #ifndef MT25Q_H
.................... #define MT25Q_H
.................... 
.................... // =========
.................... //#define MT25Q_DEBUG
.................... // =========
.................... 
.................... #define SUBSECTOR_4K_BYTE 0x00001000
.................... #define SUBSECTOR_32K_BYTE 0x00008000
.................... #define SECTOR_64K_BYTE 0x00010000
.................... 
.................... 
.................... 
.................... #define FLASH_STREAM0 MIS_FM_STREAM     // <- Align the names to `config.h` Stream name
.................... #define FLASH_STREAM1 SMF_STREAM
.................... #define FLASH_STREAM2 SMF_STREAM // dont use
.................... #define FLASH_STREAM3 SMF_STREAM // dont use
.................... 
.................... typedef enum spi_stream{
....................     SPI_0 = 0,
....................     SPI_1,
....................     SPI_2,
....................     SPI_3
.................... }SpiStreamId;
.................... 
.................... #define MT25QL128ABA 0x00     //Mission Flash
.................... #define MT25QL01GBBB 0x01     //SMF,CF
.................... typedef struct select_stream_to_flash{
....................     SpiStreamId spi_stream_id;
....................     unsigned int8 flash_model;
....................     int16 cs_pin;
.................... }Flash;
.................... 
.................... 
.................... Flash mis_fm = {SPI_0, MT25QL128ABA, MIS_FM_CS};
.................... Flash smf = {SPI_1, MT25QL01GBBB, SMF_CS};
.................... 
.................... 
.................... 
.................... // ===================== Function List =====================
.................... // Public Functions
.................... 
.................... int1 is_connect(Flash flash_stream);
.................... 
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount);      
.................... 
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount);  
.................... 
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address);
.................... 
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address);  
....................                                
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address);      
.................... 
.................... //Private Functions
....................  
.................... void flash_setting(Flash flash_stream);
....................  
.................... int8 status_register(Flash flash_stream);
....................  
.................... int8 read_id(Flash flash_stream);
.................... 
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address);
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data);
.................... 
.................... 
.................... 
.................... // ===================== Flash Commands =====================
.................... #define CMD_READ_ID                     0x9F
.................... #define CMD_READ_STATUS_REGISTER        0x05
.................... #define CMD_READ                        0x03//for MT25QL128ABA
.................... #define CMD_4BYTE_READ                  0x13//for MT25QL01GBBB
.................... #define CMD_WRITE_ENABLE                0x06
.................... #define CMD_PAGE_PROGRAM                0x02//for MT25QL128ABA
.................... #define CMD_4BYTE_PAGE_PROGRAM          0x12//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_4KB_ERASE         0x20//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_4KB_ERASE   0x21//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_32KB_ERASE        0x52//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_32KB_ERASE  0x5C//for MT25QL01GBBB
.................... #define CMD_SECTOR_ERASE                0xD8//for MT25QL128ABA
.................... #define CMD_4BYTE_SECTOR_ERASE          0xDC//for MT25QL01GBBB
.................... 
.................... // ====================== Value List =====================
.................... #define MANUFACTURER_ID_MICRON 0x20 // Manufacturer ID for Micron flash
.................... #define READ_ID_DATASIZE 20 // 20 bytes for read ID data
.................... 
.................... 
.................... // ====================== Data Structures =====================
.................... typedef union
.................... {
....................     unsigned int8 bytes[READ_ID_DATASIZE]; // 20 bytes for read ID
....................     struct {
....................         unsigned int8 manufacturer_id; // 1 byte
....................         unsigned int8 memory_type;     // 1 byte
....................         unsigned int8 capacity;        // 1 byte
....................         unsigned int8 reserved;       // 1 byte
....................     } fields;
.................... }READ_ID_DATA;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... #include "../lib/tool/calc_tools.h"             
.................... #ifndef CALC_TOOLS_H
.................... #define CALC_TOOLS_H
....................  
.................... unsigned int8 calc_crc8(unsigned int8 *frame, unsigned int8 payload_size);
.................... int1 is_crc_valid(unsigned int8 *frame, int8 payload_size);
.................... void int32_to_be_array(int32 value, int8 *buf, int8 index);
.................... int32 lsb_array_to_int32(int8 *buf, int8 index);
.................... unsigned int32 lsb_to_msb(unsigned int32 value);
.................... unsigned int32 msb_to_lsb(unsigned int32 value);
.................... 
.................... 
.................... #endif // CALC_TOOLS_H  
.................... 
.................... #include "../lib/tool/smf_queue.h"              
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... 
.................... const ADDRESS_AREA_T MISF_ADDRESS_TABLE[FLASH_ID_COUNT] = {
....................     { MISF_CIGS_DATA_TABLE_START,   MISF_CIGS_DATA_TABLE_END,   MISF_CIGS_DATA_TABLE_SIZE },
....................     { MISF_CIGS_PICLOG_START,       MISF_CIGS_PICLOG_END,       MISF_CIGS_PICLOG_SIZE },
....................     { MISF_CIGS_ENVIRO_START,       MISF_CIGS_ENVIRO_END,       MISF_CIGS_ENVIRO_SIZE },
....................     { MISF_CIGS_IV1_HEADER_START,   MISF_CIGS_IV1_HEADER_END,   MISF_CIGS_IV1_HEADER_SIZE },
....................     { MISF_CIGS_IV1_DATA_START,     MISF_CIGS_IV1_DATA_END,     MISF_CIGS_IV1_DATA_SIZE },
....................     { MISF_CIGS_IV2_HEADER_START,   MISF_CIGS_IV2_HEADER_END,   MISF_CIGS_IV2_HEADER_SIZE },
....................     { MISF_CIGS_IV2_DATA_START,     MISF_CIGS_IV2_DATA_END,     MISF_CIGS_IV2_DATA_SIZE }
.................... };
.................... 
.................... FlashCounter_t misf_counter_table[FLASH_ID_COUNT];
.................... FlashCounter_t *misf_counter_table_ptr[FLASH_ID_COUNT] = {&misf_counter_table[0], &misf_counter_table[1], &misf_counter_table[2], &misf_counter_table[3], &misf_counter_table[4], &misf_counter_table[5], &misf_counter_table[6]};
.................... 
.................... void misf_init()
.................... {
....................     fprintf(PC, "MISSION FLASH Initialize\r\n");
*
03750:  MOVLW  B2
03752:  MOVWF  FF6
03754:  MOVLW  0D
03756:  MOVWF  FF7
03758:  MOVLW  00
0375A:  MOVWF  FF8
0375C:  CALL   20CE
....................     output_high(MIS_FM_CS);
03760:  MOVLW  FE
03762:  MOVWF  F98
03764:  BSF    F8F.0
....................     output_high(SMF_CS);
03766:  MOVLW  FB
03768:  MOVWF  F92
0376A:  BSF    F89.2
.................... 
....................     // 接続処理
....................     if (is_connect(mis_fm)) {
0376C:  MOVFF  115,253
03770:  MOVFF  114,252
03774:  MOVFF  113,251
03778:  MOVFF  112,250
0377C:  CALL   2BF4
03780:  MOVF   01,F
03782:  BTFSC  FD8.2
03784:  GOTO   379C
....................         fprintf(PC, "\t[MIS FM] Connected\r\n");
03788:  MOVLW  CE
0378A:  MOVWF  FF6
0378C:  MOVLW  0D
0378E:  MOVWF  FF7
03790:  MOVLW  00
03792:  MOVWF  FF8
03794:  CALL   20CE
....................     } else {
03798:  GOTO   37AC
....................         fprintf(PC, "\t[MIS FM] Not Connected\r\n");
0379C:  MOVLW  E4
0379E:  MOVWF  FF6
037A0:  MOVLW  0D
037A2:  MOVWF  FF7
037A4:  MOVLW  00
037A6:  MOVWF  FF8
037A8:  CALL   20CE
....................     }
....................     if (is_connect(smf)) {
037AC:  MOVFF  119,253
037B0:  MOVFF  118,252
037B4:  MOVFF  117,251
037B8:  MOVFF  116,250
037BC:  CALL   2BF4
037C0:  MOVF   01,F
037C2:  BTFSC  FD8.2
037C4:  GOTO   37DC
....................         fprintf(PC, "\t[SMF] Connected\r\n");
037C8:  MOVLW  FE
037CA:  MOVWF  FF6
037CC:  MOVLW  0D
037CE:  MOVWF  FF7
037D0:  MOVLW  00
037D2:  MOVWF  FF8
037D4:  CALL   20CE
....................     } else {
037D8:  GOTO   37EC
....................         fprintf(PC, "\t[SMF] Not Connected\r\n");
037DC:  MOVLW  12
037DE:  MOVWF  FF6
037E0:  MOVLW  0E
037E2:  MOVWF  FF7
037E4:  MOVLW  00
037E6:  MOVWF  FF8
037E8:  CALL   20CE
....................     }
.................... 
....................     //=== MIS_FM カウンタテーブル読出し ===//
....................     FlashData_t read_header;
....................     FlashData_t *read_header_ptr = &read_header;
037EC:  MOVLW  02
037EE:  MOVLB  2
037F0:  MOVWF  x4F
037F2:  MOVLW  0E
037F4:  MOVWF  x4E
....................     memset(read_header_ptr, 0x00, sizeof(FlashData_t));
037F6:  MOVFF  24F,FEA
037FA:  MOVFF  24E,FE9
037FE:  CLRF   00
03800:  CLRF   02
03802:  MOVLW  40
03804:  MOVWF  01
03806:  MOVLB  0
03808:  CALL   213E
....................     fprintf(PC, "\t[MIS FM] %08LX\r\n", MISF_ADDRESS_TABLE[FLASH_ID_DATA_TABLE].start);
0380C:  MOVLW  2A
0380E:  MOVWF  FF6
03810:  MOVLW  0E
03812:  MOVWF  FF7
03814:  MOVLW  00
03816:  MOVWF  FF8
03818:  MOVLW  0A
0381A:  MOVLB  A
0381C:  MOVWF  x4E
0381E:  MOVLB  0
03820:  CALL   2104
03824:  MOVLB  9
03826:  CLRF   xE8
03828:  MOVLW  37
0382A:  MOVWF  xE9
0382C:  MOVLB  0
0382E:  CALL   2334
03832:  MOVLB  9
03834:  CLRF   xE8
03836:  MOVLW  37
03838:  MOVWF  xE9
0383A:  MOVLB  0
0383C:  CALL   2334
03840:  MOVLB  9
03842:  CLRF   xE8
03844:  MOVLW  37
03846:  MOVWF  xE9
03848:  MOVLB  0
0384A:  CALL   2334
0384E:  MOVLB  9
03850:  CLRF   xE8
03852:  MOVLW  37
03854:  MOVWF  xE9
03856:  MOVLB  0
03858:  CALL   2334
0385C:  MOVLW  0D
0385E:  BTFSS  FA6.6
03860:  GOTO   385E
03864:  MOVLB  E
03866:  MOVWF  xF9
03868:  MOVLW  0A
0386A:  MOVLB  0
0386C:  BTFSS  FA6.6
0386E:  GOTO   386C
03872:  MOVLB  E
03874:  MOVWF  xF9
....................     read_data_bytes(mis_fm, MISF_ADDRESS_TABLE[FLASH_ID_DATA_TABLE].start, read_header_ptr->bytes, PACKET_SIZE);
03876:  MOVLB  2
03878:  MOVF   x4E,W
0387A:  MOVWF  01
0387C:  MOVF   x4F,W
0387E:  MOVWF  03
03880:  MOVF   01,W
03882:  MOVWF  x50
03884:  MOVFF  03,251
03888:  MOVFF  115,AEE
0388C:  MOVFF  114,AED
03890:  MOVFF  113,AEC
03894:  MOVFF  112,AEB
03898:  MOVLB  A
0389A:  CLRF   xF2
0389C:  CLRF   xF1
0389E:  CLRF   xF0
038A0:  CLRF   xEF
038A2:  MOVFF  251,AF4
038A6:  MOVFF  250,AF3
038AA:  CLRF   xF8
038AC:  CLRF   xF7
038AE:  CLRF   xF6
038B0:  MOVLW  40
038B2:  MOVWF  xF5
038B4:  MOVLB  0
038B6:  CALL   2CBC
.................... 
....................     // CRC 検証
....................     if (read_header_ptr->packet.crc != calc_crc8(read_header_ptr->bytes, PACKET_SIZE - 1)) {
038BA:  MOVLW  3F
038BC:  MOVLB  2
038BE:  ADDWF  x4E,W
038C0:  MOVWF  FE9
038C2:  MOVLW  00
038C4:  ADDWFC x4F,W
038C6:  MOVWF  FEA
038C8:  MOVFF  FEF,250
038CC:  MOVF   x4E,W
038CE:  MOVWF  01
038D0:  MOVF   x4F,W
038D2:  MOVWF  03
038D4:  MOVF   01,W
038D6:  MOVWF  x51
038D8:  MOVFF  03,252
038DC:  MOVFF  252,AEC
038E0:  MOVFF  251,AEB
038E4:  MOVLW  3F
038E6:  MOVLB  A
038E8:  MOVWF  xED
038EA:  MOVLB  0
038EC:  CALL   2EDC
038F0:  MOVF   01,W
038F2:  MOVLB  2
038F4:  SUBWF  x50,W
038F6:  BTFSS  FD8.2
038F8:  BRA    3900
038FA:  MOVLB  0
038FC:  GOTO   3912
03900:  MOVLB  0
....................         fprintf(PC, "\t[MIS FM] CRC error -> initialize counters\r\n");
03902:  MOVLW  3C
03904:  MOVWF  FF6
03906:  MOVLW  0E
03908:  MOVWF  FF7
0390A:  MOVLW  00
0390C:  MOVWF  FF8
0390E:  CALL   20CE
....................         
....................     }
....................     misf_counter_table[FLASH_ID_PICLOG]       = read_header_ptr->packet.payload.logdata.piclog;
03912:  MOVLB  2
03914:  MOVF   x4E,W
03916:  MOVWF  FE1
03918:  MOVF   x4F,W
0391A:  MOVWF  FE2
0391C:  MOVLW  01
0391E:  MOVWF  FEA
03920:  MOVLW  2C
03922:  MOVWF  FE9
03924:  MOVLW  0A
03926:  MOVWF  01
03928:  MOVLB  0
0392A:  MOVFF  FE6,FEE
0392E:  DECFSZ 01,F
03930:  GOTO   392A
....................     misf_counter_table[FLASH_ID_ENVIRONMENT]  = read_header_ptr->packet.payload.logdata.environment;
03934:  MOVLW  0A
03936:  MOVLB  2
03938:  ADDWF  x4E,W
0393A:  MOVWF  FE1
0393C:  MOVLW  00
0393E:  ADDWFC x4F,W
03940:  MOVWF  FE2
03942:  MOVLW  01
03944:  MOVWF  FEA
03946:  MOVLW  36
03948:  MOVWF  FE9
0394A:  MOVLW  0A
0394C:  MOVWF  01
0394E:  MOVLB  0
03950:  MOVFF  FE6,FEE
03954:  DECFSZ 01,F
03956:  GOTO   3950
....................     misf_counter_table[FLASH_ID_IV1_HEADER]   = read_header_ptr->packet.payload.logdata.iv1_header;
0395A:  MOVLW  14
0395C:  MOVLB  2
0395E:  ADDWF  x4E,W
03960:  MOVWF  FE1
03962:  MOVLW  00
03964:  ADDWFC x4F,W
03966:  MOVWF  FE2
03968:  MOVLW  01
0396A:  MOVWF  FEA
0396C:  MOVLW  40
0396E:  MOVWF  FE9
03970:  MOVLW  0A
03972:  MOVWF  01
03974:  MOVLB  0
03976:  MOVFF  FE6,FEE
0397A:  DECFSZ 01,F
0397C:  GOTO   3976
....................     misf_counter_table[FLASH_ID_IV1_DATA]     = read_header_ptr->packet.payload.logdata.iv1_data;
03980:  MOVLW  1E
03982:  MOVLB  2
03984:  ADDWF  x4E,W
03986:  MOVWF  FE1
03988:  MOVLW  00
0398A:  ADDWFC x4F,W
0398C:  MOVWF  FE2
0398E:  MOVLW  01
03990:  MOVWF  FEA
03992:  MOVLW  4A
03994:  MOVWF  FE9
03996:  MOVLW  0A
03998:  MOVWF  01
0399A:  MOVLB  0
0399C:  MOVFF  FE6,FEE
039A0:  DECFSZ 01,F
039A2:  GOTO   399C
....................     misf_counter_table[FLASH_ID_IV2_HEADER]   = read_header_ptr->packet.payload.logdata.iv2_header;
039A6:  MOVLW  28
039A8:  MOVLB  2
039AA:  ADDWF  x4E,W
039AC:  MOVWF  FE1
039AE:  MOVLW  00
039B0:  ADDWFC x4F,W
039B2:  MOVWF  FE2
039B4:  MOVLW  01
039B6:  MOVWF  FEA
039B8:  MOVLW  54
039BA:  MOVWF  FE9
039BC:  MOVLW  0A
039BE:  MOVWF  01
039C0:  MOVLB  0
039C2:  MOVFF  FE6,FEE
039C6:  DECFSZ 01,F
039C8:  GOTO   39C2
....................     misf_counter_table[FLASH_ID_IV2_DATA]     = read_header_ptr->packet.payload.logdata.iv2_data;
039CC:  MOVLW  32
039CE:  MOVLB  2
039D0:  ADDWF  x4E,W
039D2:  MOVWF  FE1
039D4:  MOVLW  00
039D6:  ADDWFC x4F,W
039D8:  MOVWF  FE2
039DA:  MOVLW  01
039DC:  MOVWF  FEA
039DE:  MOVLW  5E
039E0:  MOVWF  FE9
039E2:  MOVLW  0A
039E4:  MOVWF  01
039E6:  MOVLB  0
039E8:  MOVFF  FE6,FEE
039EC:  DECFSZ 01,F
039EE:  GOTO   39E8
.................... 
....................     print_misf_address_table();
039F2:  CALL   2F48
.................... 
....................     fprintf(PC, "\tComplete\r\n");
039F6:  MOVLW  6A
039F8:  MOVWF  FF6
039FA:  MOVLW  0E
039FC:  MOVWF  FF7
039FE:  MOVLW  00
03A00:  MOVWF  FF8
03A02:  CALL   20CE
03A06:  RETURN 0
.................... }
.................... 
.................... void print_misf_address_table()
.................... {
....................     fprintf(PC, "\tField\t\tCounterName\tValue\r\n");
*
02F48:  MOVLW  76
02F4A:  MOVWF  FF6
02F4C:  MOVLW  0E
02F4E:  MOVWF  FF7
02F50:  MOVLW  00
02F52:  MOVWF  FF8
02F54:  CALL   20CE
....................     fprintf(PC, "\t------------\t-------------\t-------------\r\n");
02F58:  MOVLW  92
02F5A:  MOVWF  FF6
02F5C:  MOVLW  0E
02F5E:  MOVWF  FF7
02F60:  MOVLW  00
02F62:  MOVWF  FF8
02F64:  CALL   20CE
....................     fprintf(PC, "\tPICLOG\t\tUsed\t\t0x%08LX\r\n", misf_counter_table[FLASH_ID_PICLOG].used_counter);
02F68:  MOVLW  BE
02F6A:  MOVWF  FF6
02F6C:  MOVLW  0E
02F6E:  MOVWF  FF7
02F70:  MOVLW  00
02F72:  MOVWF  FF8
02F74:  MOVLW  11
02F76:  MOVLB  A
02F78:  MOVWF  x4E
02F7A:  MOVLB  0
02F7C:  CALL   2104
02F80:  MOVFF  12F,9E8
02F84:  MOVLW  37
02F86:  MOVLB  9
02F88:  MOVWF  xE9
02F8A:  MOVLB  0
02F8C:  CALL   2334
02F90:  MOVFF  12E,9E8
02F94:  MOVLW  37
02F96:  MOVLB  9
02F98:  MOVWF  xE9
02F9A:  MOVLB  0
02F9C:  CALL   2334
02FA0:  MOVFF  12D,9E8
02FA4:  MOVLW  37
02FA6:  MOVLB  9
02FA8:  MOVWF  xE9
02FAA:  MOVLB  0
02FAC:  CALL   2334
02FB0:  MOVFF  12C,9E8
02FB4:  MOVLW  37
02FB6:  MOVLB  9
02FB8:  MOVWF  xE9
02FBA:  MOVLB  0
02FBC:  CALL   2334
02FC0:  MOVLW  0D
02FC2:  BTFSS  FA6.6
02FC4:  GOTO   2FC2
02FC8:  MOVLB  E
02FCA:  MOVWF  xF9
02FCC:  MOVLW  0A
02FCE:  MOVLB  0
02FD0:  BTFSS  FA6.6
02FD2:  GOTO   2FD0
02FD6:  MOVLB  E
02FD8:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tUncopyed\t0x%08LX\r\n", misf_counter_table[FLASH_ID_PICLOG].uncopied_counter);
02FDA:  MOVLW  D8
02FDC:  MOVWF  FF6
02FDE:  MOVLW  0E
02FE0:  MOVWF  FF7
02FE2:  MOVLW  00
02FE4:  MOVWF  FF8
02FE6:  MOVLW  0E
02FE8:  MOVLB  A
02FEA:  MOVWF  x4E
02FEC:  MOVLB  0
02FEE:  CALL   2104
02FF2:  MOVFF  133,9E8
02FF6:  MOVLW  37
02FF8:  MOVLB  9
02FFA:  MOVWF  xE9
02FFC:  MOVLB  0
02FFE:  CALL   2334
03002:  MOVFF  132,9E8
03006:  MOVLW  37
03008:  MOVLB  9
0300A:  MOVWF  xE9
0300C:  MOVLB  0
0300E:  CALL   2334
03012:  MOVFF  131,9E8
03016:  MOVLW  37
03018:  MOVLB  9
0301A:  MOVWF  xE9
0301C:  MOVLB  0
0301E:  CALL   2334
03022:  MOVFF  130,9E8
03026:  MOVLW  37
03028:  MOVLB  9
0302A:  MOVWF  xE9
0302C:  MOVLB  0
0302E:  CALL   2334
03032:  MOVLW  0D
03034:  BTFSS  FA6.6
03036:  GOTO   3034
0303A:  MOVLB  E
0303C:  MOVWF  xF9
0303E:  MOVLW  0A
03040:  MOVLB  0
03042:  BTFSS  FA6.6
03044:  GOTO   3042
03048:  MOVLB  E
0304A:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tReserve\t\t0x%02X/ 0x%02X\r\n", misf_counter_table[FLASH_ID_PICLOG].reserve_counter1,misf_counter_table[FLASH_ID_PICLOG].reserve_counter2);
0304C:  MOVLW  EE
0304E:  MOVWF  FF6
03050:  MOVLW  0E
03052:  MOVWF  FF7
03054:  MOVLW  00
03056:  MOVWF  FF8
03058:  MOVLW  0E
0305A:  MOVLB  A
0305C:  MOVWF  x4E
0305E:  MOVLB  0
03060:  CALL   2104
03064:  MOVFF  134,9E8
03068:  MOVLW  37
0306A:  MOVLB  9
0306C:  MOVWF  xE9
0306E:  MOVLB  0
03070:  CALL   2334
03074:  MOVLW  00
03076:  MOVWF  FF6
03078:  MOVLW  0F
0307A:  MOVWF  FF7
0307C:  MOVLW  00
0307E:  MOVWF  FF8
03080:  MOVLW  04
03082:  MOVLB  A
03084:  MOVWF  x4E
03086:  MOVLB  0
03088:  CALL   2104
0308C:  MOVFF  135,9E8
03090:  MOVLW  37
03092:  MOVLB  9
03094:  MOVWF  xE9
03096:  MOVLB  0
03098:  CALL   2334
0309C:  MOVLW  0D
0309E:  BTFSS  FA6.6
030A0:  GOTO   309E
030A4:  MOVLB  E
030A6:  MOVWF  xF9
030A8:  MOVLW  0A
030AA:  MOVLB  0
030AC:  BTFSS  FA6.6
030AE:  GOTO   30AC
030B2:  MOVLB  E
030B4:  MOVWF  xF9
....................     fprintf(PC, "\tENVIRO\t\tUsed\t\t0x%08LX\r\n", misf_counter_table[FLASH_ID_ENVIRONMENT].used_counter);
030B6:  MOVLW  0C
030B8:  MOVWF  FF6
030BA:  MOVLW  0F
030BC:  MOVWF  FF7
030BE:  MOVLW  00
030C0:  MOVWF  FF8
030C2:  MOVLW  11
030C4:  MOVLB  A
030C6:  MOVWF  x4E
030C8:  MOVLB  0
030CA:  CALL   2104
030CE:  MOVFF  139,9E8
030D2:  MOVLW  37
030D4:  MOVLB  9
030D6:  MOVWF  xE9
030D8:  MOVLB  0
030DA:  CALL   2334
030DE:  MOVFF  138,9E8
030E2:  MOVLW  37
030E4:  MOVLB  9
030E6:  MOVWF  xE9
030E8:  MOVLB  0
030EA:  CALL   2334
030EE:  MOVFF  137,9E8
030F2:  MOVLW  37
030F4:  MOVLB  9
030F6:  MOVWF  xE9
030F8:  MOVLB  0
030FA:  CALL   2334
030FE:  MOVFF  136,9E8
03102:  MOVLW  37
03104:  MOVLB  9
03106:  MOVWF  xE9
03108:  MOVLB  0
0310A:  CALL   2334
0310E:  MOVLW  0D
03110:  BTFSS  FA6.6
03112:  GOTO   3110
03116:  MOVLB  E
03118:  MOVWF  xF9
0311A:  MOVLW  0A
0311C:  MOVLB  0
0311E:  BTFSS  FA6.6
03120:  GOTO   311E
03124:  MOVLB  E
03126:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tUncopyed\t0x%08LX\r\n", misf_counter_table[FLASH_ID_ENVIRONMENT].uncopied_counter);
03128:  MOVLW  26
0312A:  MOVWF  FF6
0312C:  MOVLW  0F
0312E:  MOVWF  FF7
03130:  MOVLW  00
03132:  MOVWF  FF8
03134:  MOVLW  0E
03136:  MOVLB  A
03138:  MOVWF  x4E
0313A:  MOVLB  0
0313C:  CALL   2104
03140:  MOVFF  13D,9E8
03144:  MOVLW  37
03146:  MOVLB  9
03148:  MOVWF  xE9
0314A:  MOVLB  0
0314C:  CALL   2334
03150:  MOVFF  13C,9E8
03154:  MOVLW  37
03156:  MOVLB  9
03158:  MOVWF  xE9
0315A:  MOVLB  0
0315C:  CALL   2334
03160:  MOVFF  13B,9E8
03164:  MOVLW  37
03166:  MOVLB  9
03168:  MOVWF  xE9
0316A:  MOVLB  0
0316C:  CALL   2334
03170:  MOVFF  13A,9E8
03174:  MOVLW  37
03176:  MOVLB  9
03178:  MOVWF  xE9
0317A:  MOVLB  0
0317C:  CALL   2334
03180:  MOVLW  0D
03182:  BTFSS  FA6.6
03184:  GOTO   3182
03188:  MOVLB  E
0318A:  MOVWF  xF9
0318C:  MOVLW  0A
0318E:  MOVLB  0
03190:  BTFSS  FA6.6
03192:  GOTO   3190
03196:  MOVLB  E
03198:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tReserve\t\t0x%02X/ 0x%02X\r\n", misf_counter_table[FLASH_ID_ENVIRONMENT].reserve_counter1,misf_counter_table[FLASH_ID_ENVIRONMENT].reserve_counter2);
0319A:  MOVLW  3C
0319C:  MOVWF  FF6
0319E:  MOVLW  0F
031A0:  MOVWF  FF7
031A2:  MOVLW  00
031A4:  MOVWF  FF8
031A6:  MOVLW  0E
031A8:  MOVLB  A
031AA:  MOVWF  x4E
031AC:  MOVLB  0
031AE:  CALL   2104
031B2:  MOVFF  13E,9E8
031B6:  MOVLW  37
031B8:  MOVLB  9
031BA:  MOVWF  xE9
031BC:  MOVLB  0
031BE:  CALL   2334
031C2:  MOVLW  4E
031C4:  MOVWF  FF6
031C6:  MOVLW  0F
031C8:  MOVWF  FF7
031CA:  MOVLW  00
031CC:  MOVWF  FF8
031CE:  MOVLW  04
031D0:  MOVLB  A
031D2:  MOVWF  x4E
031D4:  MOVLB  0
031D6:  CALL   2104
031DA:  MOVFF  13F,9E8
031DE:  MOVLW  37
031E0:  MOVLB  9
031E2:  MOVWF  xE9
031E4:  MOVLB  0
031E6:  CALL   2334
031EA:  MOVLW  0D
031EC:  BTFSS  FA6.6
031EE:  GOTO   31EC
031F2:  MOVLB  E
031F4:  MOVWF  xF9
031F6:  MOVLW  0A
031F8:  MOVLB  0
031FA:  BTFSS  FA6.6
031FC:  GOTO   31FA
03200:  MOVLB  E
03202:  MOVWF  xF9
....................     fprintf(PC, "\tIV1 HEADER\tUsed\t\t0x%08LX\r\n", misf_counter_table[FLASH_ID_IV1_HEADER].used_counter);
03204:  MOVLW  5A
03206:  MOVWF  FF6
03208:  MOVLW  0F
0320A:  MOVWF  FF7
0320C:  MOVLW  00
0320E:  MOVWF  FF8
03210:  MOVLW  14
03212:  MOVLB  A
03214:  MOVWF  x4E
03216:  MOVLB  0
03218:  CALL   2104
0321C:  MOVFF  143,9E8
03220:  MOVLW  37
03222:  MOVLB  9
03224:  MOVWF  xE9
03226:  MOVLB  0
03228:  CALL   2334
0322C:  MOVFF  142,9E8
03230:  MOVLW  37
03232:  MOVLB  9
03234:  MOVWF  xE9
03236:  MOVLB  0
03238:  CALL   2334
0323C:  MOVFF  141,9E8
03240:  MOVLW  37
03242:  MOVLB  9
03244:  MOVWF  xE9
03246:  MOVLB  0
03248:  CALL   2334
0324C:  MOVFF  140,9E8
03250:  MOVLW  37
03252:  MOVLB  9
03254:  MOVWF  xE9
03256:  MOVLB  0
03258:  CALL   2334
0325C:  MOVLW  0D
0325E:  BTFSS  FA6.6
03260:  GOTO   325E
03264:  MOVLB  E
03266:  MOVWF  xF9
03268:  MOVLW  0A
0326A:  MOVLB  0
0326C:  BTFSS  FA6.6
0326E:  GOTO   326C
03272:  MOVLB  E
03274:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tUncopyed\t0x%08LX\r\n", misf_counter_table[FLASH_ID_IV1_HEADER].uncopied_counter);
03276:  MOVLW  76
03278:  MOVWF  FF6
0327A:  MOVLW  0F
0327C:  MOVWF  FF7
0327E:  MOVLW  00
03280:  MOVWF  FF8
03282:  MOVLW  0E
03284:  MOVLB  A
03286:  MOVWF  x4E
03288:  MOVLB  0
0328A:  CALL   2104
0328E:  MOVFF  147,9E8
03292:  MOVLW  37
03294:  MOVLB  9
03296:  MOVWF  xE9
03298:  MOVLB  0
0329A:  CALL   2334
0329E:  MOVFF  146,9E8
032A2:  MOVLW  37
032A4:  MOVLB  9
032A6:  MOVWF  xE9
032A8:  MOVLB  0
032AA:  CALL   2334
032AE:  MOVFF  145,9E8
032B2:  MOVLW  37
032B4:  MOVLB  9
032B6:  MOVWF  xE9
032B8:  MOVLB  0
032BA:  CALL   2334
032BE:  MOVFF  144,9E8
032C2:  MOVLW  37
032C4:  MOVLB  9
032C6:  MOVWF  xE9
032C8:  MOVLB  0
032CA:  CALL   2334
032CE:  MOVLW  0D
032D0:  BTFSS  FA6.6
032D2:  GOTO   32D0
032D6:  MOVLB  E
032D8:  MOVWF  xF9
032DA:  MOVLW  0A
032DC:  MOVLB  0
032DE:  BTFSS  FA6.6
032E0:  GOTO   32DE
032E4:  MOVLB  E
032E6:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tReserve\t\t0x%02X/ 0x%02X\r\n", misf_counter_table[FLASH_ID_IV1_HEADER].reserve_counter1,misf_counter_table[FLASH_ID_IV1_HEADER].reserve_counter2);
032E8:  MOVLW  8C
032EA:  MOVWF  FF6
032EC:  MOVLW  0F
032EE:  MOVWF  FF7
032F0:  MOVLW  00
032F2:  MOVWF  FF8
032F4:  MOVLW  0E
032F6:  MOVLB  A
032F8:  MOVWF  x4E
032FA:  MOVLB  0
032FC:  CALL   2104
03300:  MOVFF  148,9E8
03304:  MOVLW  37
03306:  MOVLB  9
03308:  MOVWF  xE9
0330A:  MOVLB  0
0330C:  CALL   2334
03310:  MOVLW  9E
03312:  MOVWF  FF6
03314:  MOVLW  0F
03316:  MOVWF  FF7
03318:  MOVLW  00
0331A:  MOVWF  FF8
0331C:  MOVLW  04
0331E:  MOVLB  A
03320:  MOVWF  x4E
03322:  MOVLB  0
03324:  CALL   2104
03328:  MOVFF  149,9E8
0332C:  MOVLW  37
0332E:  MOVLB  9
03330:  MOVWF  xE9
03332:  MOVLB  0
03334:  CALL   2334
03338:  MOVLW  0D
0333A:  BTFSS  FA6.6
0333C:  GOTO   333A
03340:  MOVLB  E
03342:  MOVWF  xF9
03344:  MOVLW  0A
03346:  MOVLB  0
03348:  BTFSS  FA6.6
0334A:  GOTO   3348
0334E:  MOVLB  E
03350:  MOVWF  xF9
....................     fprintf(PC, "\tIV1 DATA\tUsed\t\t0x%08LX\r\n", misf_counter_table[FLASH_ID_IV1_DATA].used_counter);
03352:  MOVLW  AA
03354:  MOVWF  FF6
03356:  MOVLW  0F
03358:  MOVWF  FF7
0335A:  MOVLW  00
0335C:  MOVWF  FF8
0335E:  MOVLW  12
03360:  MOVLB  A
03362:  MOVWF  x4E
03364:  MOVLB  0
03366:  CALL   2104
0336A:  MOVFF  14D,9E8
0336E:  MOVLW  37
03370:  MOVLB  9
03372:  MOVWF  xE9
03374:  MOVLB  0
03376:  CALL   2334
0337A:  MOVFF  14C,9E8
0337E:  MOVLW  37
03380:  MOVLB  9
03382:  MOVWF  xE9
03384:  MOVLB  0
03386:  CALL   2334
0338A:  MOVFF  14B,9E8
0338E:  MOVLW  37
03390:  MOVLB  9
03392:  MOVWF  xE9
03394:  MOVLB  0
03396:  CALL   2334
0339A:  MOVFF  14A,9E8
0339E:  MOVLW  37
033A0:  MOVLB  9
033A2:  MOVWF  xE9
033A4:  MOVLB  0
033A6:  CALL   2334
033AA:  MOVLW  0D
033AC:  BTFSS  FA6.6
033AE:  GOTO   33AC
033B2:  MOVLB  E
033B4:  MOVWF  xF9
033B6:  MOVLW  0A
033B8:  MOVLB  0
033BA:  BTFSS  FA6.6
033BC:  GOTO   33BA
033C0:  MOVLB  E
033C2:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tUncopyed\t0x%08LX\r\n", misf_counter_table[FLASH_ID_IV1_DATA].uncopied_counter);
033C4:  MOVLW  C4
033C6:  MOVWF  FF6
033C8:  MOVLW  0F
033CA:  MOVWF  FF7
033CC:  MOVLW  00
033CE:  MOVWF  FF8
033D0:  MOVLW  0E
033D2:  MOVLB  A
033D4:  MOVWF  x4E
033D6:  MOVLB  0
033D8:  CALL   2104
033DC:  MOVFF  151,9E8
033E0:  MOVLW  37
033E2:  MOVLB  9
033E4:  MOVWF  xE9
033E6:  MOVLB  0
033E8:  CALL   2334
033EC:  MOVFF  150,9E8
033F0:  MOVLW  37
033F2:  MOVLB  9
033F4:  MOVWF  xE9
033F6:  MOVLB  0
033F8:  CALL   2334
033FC:  MOVFF  14F,9E8
03400:  MOVLW  37
03402:  MOVLB  9
03404:  MOVWF  xE9
03406:  MOVLB  0
03408:  CALL   2334
0340C:  MOVFF  14E,9E8
03410:  MOVLW  37
03412:  MOVLB  9
03414:  MOVWF  xE9
03416:  MOVLB  0
03418:  CALL   2334
0341C:  MOVLW  0D
0341E:  BTFSS  FA6.6
03420:  GOTO   341E
03424:  MOVLB  E
03426:  MOVWF  xF9
03428:  MOVLW  0A
0342A:  MOVLB  0
0342C:  BTFSS  FA6.6
0342E:  GOTO   342C
03432:  MOVLB  E
03434:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tReserve\t\t0x%02X/ 0x%02X\r\n", misf_counter_table[FLASH_ID_IV1_DATA].reserve_counter1,misf_counter_table[FLASH_ID_IV1_DATA].reserve_counter2);
03436:  MOVLW  DA
03438:  MOVWF  FF6
0343A:  MOVLW  0F
0343C:  MOVWF  FF7
0343E:  MOVLW  00
03440:  MOVWF  FF8
03442:  MOVLW  0E
03444:  MOVLB  A
03446:  MOVWF  x4E
03448:  MOVLB  0
0344A:  CALL   2104
0344E:  MOVFF  152,9E8
03452:  MOVLW  37
03454:  MOVLB  9
03456:  MOVWF  xE9
03458:  MOVLB  0
0345A:  CALL   2334
0345E:  MOVLW  EC
03460:  MOVWF  FF6
03462:  MOVLW  0F
03464:  MOVWF  FF7
03466:  MOVLW  00
03468:  MOVWF  FF8
0346A:  MOVLW  04
0346C:  MOVLB  A
0346E:  MOVWF  x4E
03470:  MOVLB  0
03472:  CALL   2104
03476:  MOVFF  153,9E8
0347A:  MOVLW  37
0347C:  MOVLB  9
0347E:  MOVWF  xE9
03480:  MOVLB  0
03482:  CALL   2334
03486:  MOVLW  0D
03488:  BTFSS  FA6.6
0348A:  GOTO   3488
0348E:  MOVLB  E
03490:  MOVWF  xF9
03492:  MOVLW  0A
03494:  MOVLB  0
03496:  BTFSS  FA6.6
03498:  GOTO   3496
0349C:  MOVLB  E
0349E:  MOVWF  xF9
....................     fprintf(PC, "\tIV2 HEADER\tUsed\t\t0x%08LX\r\n", misf_counter_table[FLASH_ID_IV2_HEADER].used_counter);
034A0:  MOVLW  F8
034A2:  MOVWF  FF6
034A4:  MOVLW  0F
034A6:  MOVWF  FF7
034A8:  MOVLW  00
034AA:  MOVWF  FF8
034AC:  MOVLW  14
034AE:  MOVLB  A
034B0:  MOVWF  x4E
034B2:  MOVLB  0
034B4:  CALL   2104
034B8:  MOVFF  157,9E8
034BC:  MOVLW  37
034BE:  MOVLB  9
034C0:  MOVWF  xE9
034C2:  MOVLB  0
034C4:  CALL   2334
034C8:  MOVFF  156,9E8
034CC:  MOVLW  37
034CE:  MOVLB  9
034D0:  MOVWF  xE9
034D2:  MOVLB  0
034D4:  CALL   2334
034D8:  MOVFF  155,9E8
034DC:  MOVLW  37
034DE:  MOVLB  9
034E0:  MOVWF  xE9
034E2:  MOVLB  0
034E4:  CALL   2334
034E8:  MOVFF  154,9E8
034EC:  MOVLW  37
034EE:  MOVLB  9
034F0:  MOVWF  xE9
034F2:  MOVLB  0
034F4:  CALL   2334
034F8:  MOVLW  0D
034FA:  BTFSS  FA6.6
034FC:  GOTO   34FA
03500:  MOVLB  E
03502:  MOVWF  xF9
03504:  MOVLW  0A
03506:  MOVLB  0
03508:  BTFSS  FA6.6
0350A:  GOTO   3508
0350E:  MOVLB  E
03510:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tUncopyed\t0x%08LX\r\n", misf_counter_table[FLASH_ID_IV2_HEADER].uncopied_counter);
03512:  MOVLW  14
03514:  MOVWF  FF6
03516:  MOVLW  10
03518:  MOVWF  FF7
0351A:  MOVLW  00
0351C:  MOVWF  FF8
0351E:  MOVLW  0E
03520:  MOVLB  A
03522:  MOVWF  x4E
03524:  MOVLB  0
03526:  CALL   2104
0352A:  MOVFF  15B,9E8
0352E:  MOVLW  37
03530:  MOVLB  9
03532:  MOVWF  xE9
03534:  MOVLB  0
03536:  CALL   2334
0353A:  MOVFF  15A,9E8
0353E:  MOVLW  37
03540:  MOVLB  9
03542:  MOVWF  xE9
03544:  MOVLB  0
03546:  CALL   2334
0354A:  MOVFF  159,9E8
0354E:  MOVLW  37
03550:  MOVLB  9
03552:  MOVWF  xE9
03554:  MOVLB  0
03556:  CALL   2334
0355A:  MOVFF  158,9E8
0355E:  MOVLW  37
03560:  MOVLB  9
03562:  MOVWF  xE9
03564:  MOVLB  0
03566:  CALL   2334
0356A:  MOVLW  0D
0356C:  BTFSS  FA6.6
0356E:  GOTO   356C
03572:  MOVLB  E
03574:  MOVWF  xF9
03576:  MOVLW  0A
03578:  MOVLB  0
0357A:  BTFSS  FA6.6
0357C:  GOTO   357A
03580:  MOVLB  E
03582:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tReserve\t\t0x%02X/ 0x%02X\r\n", misf_counter_table[FLASH_ID_IV2_HEADER].reserve_counter1,misf_counter_table[FLASH_ID_IV2_HEADER].reserve_counter2);
03584:  MOVLW  2A
03586:  MOVWF  FF6
03588:  MOVLW  10
0358A:  MOVWF  FF7
0358C:  MOVLW  00
0358E:  MOVWF  FF8
03590:  MOVLW  0E
03592:  MOVLB  A
03594:  MOVWF  x4E
03596:  MOVLB  0
03598:  CALL   2104
0359C:  MOVFF  15C,9E8
035A0:  MOVLW  37
035A2:  MOVLB  9
035A4:  MOVWF  xE9
035A6:  MOVLB  0
035A8:  CALL   2334
035AC:  MOVLW  3C
035AE:  MOVWF  FF6
035B0:  MOVLW  10
035B2:  MOVWF  FF7
035B4:  MOVLW  00
035B6:  MOVWF  FF8
035B8:  MOVLW  04
035BA:  MOVLB  A
035BC:  MOVWF  x4E
035BE:  MOVLB  0
035C0:  CALL   2104
035C4:  MOVFF  15D,9E8
035C8:  MOVLW  37
035CA:  MOVLB  9
035CC:  MOVWF  xE9
035CE:  MOVLB  0
035D0:  CALL   2334
035D4:  MOVLW  0D
035D6:  BTFSS  FA6.6
035D8:  GOTO   35D6
035DC:  MOVLB  E
035DE:  MOVWF  xF9
035E0:  MOVLW  0A
035E2:  MOVLB  0
035E4:  BTFSS  FA6.6
035E6:  GOTO   35E4
035EA:  MOVLB  E
035EC:  MOVWF  xF9
....................     fprintf(PC, "\tIV2 DATA\tUsed\t\t0x%08LX\r\n", misf_counter_table[FLASH_ID_IV2_DATA].used_counter);
035EE:  MOVLW  48
035F0:  MOVWF  FF6
035F2:  MOVLW  10
035F4:  MOVWF  FF7
035F6:  MOVLW  00
035F8:  MOVWF  FF8
035FA:  MOVLW  12
035FC:  MOVLB  A
035FE:  MOVWF  x4E
03600:  MOVLB  0
03602:  CALL   2104
03606:  MOVFF  161,9E8
0360A:  MOVLW  37
0360C:  MOVLB  9
0360E:  MOVWF  xE9
03610:  MOVLB  0
03612:  CALL   2334
03616:  MOVFF  160,9E8
0361A:  MOVLW  37
0361C:  MOVLB  9
0361E:  MOVWF  xE9
03620:  MOVLB  0
03622:  CALL   2334
03626:  MOVFF  15F,9E8
0362A:  MOVLW  37
0362C:  MOVLB  9
0362E:  MOVWF  xE9
03630:  MOVLB  0
03632:  CALL   2334
03636:  MOVFF  15E,9E8
0363A:  MOVLW  37
0363C:  MOVLB  9
0363E:  MOVWF  xE9
03640:  MOVLB  0
03642:  CALL   2334
03646:  MOVLW  0D
03648:  BTFSS  FA6.6
0364A:  GOTO   3648
0364E:  MOVLB  E
03650:  MOVWF  xF9
03652:  MOVLW  0A
03654:  MOVLB  0
03656:  BTFSS  FA6.6
03658:  GOTO   3656
0365C:  MOVLB  E
0365E:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tUncopyed\t0x%08LX\r\n", misf_counter_table[FLASH_ID_IV2_DATA].uncopied_counter);
03660:  MOVLW  62
03662:  MOVWF  FF6
03664:  MOVLW  10
03666:  MOVWF  FF7
03668:  MOVLW  00
0366A:  MOVWF  FF8
0366C:  MOVLW  0E
0366E:  MOVLB  A
03670:  MOVWF  x4E
03672:  MOVLB  0
03674:  CALL   2104
03678:  MOVFF  165,9E8
0367C:  MOVLW  37
0367E:  MOVLB  9
03680:  MOVWF  xE9
03682:  MOVLB  0
03684:  CALL   2334
03688:  MOVFF  164,9E8
0368C:  MOVLW  37
0368E:  MOVLB  9
03690:  MOVWF  xE9
03692:  MOVLB  0
03694:  CALL   2334
03698:  MOVFF  163,9E8
0369C:  MOVLW  37
0369E:  MOVLB  9
036A0:  MOVWF  xE9
036A2:  MOVLB  0
036A4:  CALL   2334
036A8:  MOVFF  162,9E8
036AC:  MOVLW  37
036AE:  MOVLB  9
036B0:  MOVWF  xE9
036B2:  MOVLB  0
036B4:  CALL   2334
036B8:  MOVLW  0D
036BA:  BTFSS  FA6.6
036BC:  GOTO   36BA
036C0:  MOVLB  E
036C2:  MOVWF  xF9
036C4:  MOVLW  0A
036C6:  MOVLB  0
036C8:  BTFSS  FA6.6
036CA:  GOTO   36C8
036CE:  MOVLB  E
036D0:  MOVWF  xF9
....................     fprintf(PC, "\t\t\tReserve\t\t0x%02X/ 0x%02X\r\n", misf_counter_table[FLASH_ID_IV2_DATA].reserve_counter1,misf_counter_table[FLASH_ID_IV2_DATA].reserve_counter2);
036D2:  MOVLW  78
036D4:  MOVWF  FF6
036D6:  MOVLW  10
036D8:  MOVWF  FF7
036DA:  MOVLW  00
036DC:  MOVWF  FF8
036DE:  MOVLW  0E
036E0:  MOVLB  A
036E2:  MOVWF  x4E
036E4:  MOVLB  0
036E6:  CALL   2104
036EA:  MOVFF  166,9E8
036EE:  MOVLW  37
036F0:  MOVLB  9
036F2:  MOVWF  xE9
036F4:  MOVLB  0
036F6:  CALL   2334
036FA:  MOVLW  8A
036FC:  MOVWF  FF6
036FE:  MOVLW  10
03700:  MOVWF  FF7
03702:  MOVLW  00
03704:  MOVWF  FF8
03706:  MOVLW  04
03708:  MOVLB  A
0370A:  MOVWF  x4E
0370C:  MOVLB  0
0370E:  CALL   2104
03712:  MOVFF  167,9E8
03716:  MOVLW  37
03718:  MOVLB  9
0371A:  MOVWF  xE9
0371C:  MOVLB  0
0371E:  CALL   2334
03722:  MOVLW  0D
03724:  BTFSS  FA6.6
03726:  GOTO   3724
0372A:  MOVLB  E
0372C:  MOVWF  xF9
0372E:  MOVLW  0A
03730:  MOVLB  0
03732:  BTFSS  FA6.6
03734:  GOTO   3732
03738:  MOVLB  E
0373A:  MOVWF  xF9
....................     fprintf(PC, "\t==================================================\r\n");
0373C:  MOVLW  96
0373E:  MOVWF  FF6
03740:  MOVLW  10
03742:  MOVWF  FF7
03744:  MOVLW  00
03746:  MOVWF  FF8
03748:  MOVLB  0
0374A:  CALL   20CE
0374E:  RETURN 0
.................... }
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size)
.................... {
....................     /*
....................     fprintf(PC, "[MIS FM] Write Data Size:%lu\r\n", size);
....................     fprintf(PC, "%08LX\r\n", MISF_ADDRESS_TABLE[id].start);
....................     fprintf(PC, "%08LX\r\n", misf_counter_table[id].used_counter);
....................     fprintf(PC, "%08LX\r\n", misf_counter_table[id].reserve_counter1);
....................     for (unsigned int32 j = 0; j < size; j++) {
....................         fprintf(PC, "%02X ", data_ptr[j]);
....................     }
....................     fprintf(PC, "\r\n");
....................     */
....................     // パケット境界チェック
....................     if (size == PACKET_SIZE){
*
0407E:  MOVLB  A
04080:  MOVF   x53,W
04082:  SUBLW  40
04084:  BTFSC  FD8.2
04086:  BRA    408E
04088:  MOVLB  0
0408A:  GOTO   4204
0408E:  MOVLB  0
04090:  MOVLB  A
04092:  MOVF   x54,F
04094:  BTFSC  FD8.2
04096:  BRA    409E
04098:  MOVLB  0
0409A:  GOTO   4204
0409E:  MOVLB  0
....................         // fprintf(PC, "PACKET SIZE 64\r\n");
....................         unsigned int32 write_address = MISF_ADDRESS_TABLE[id].start + misf_counter_table[id].used_counter;
040A0:  MOVLB  A
040A2:  MOVF   x50,W
040A4:  MULLW  0C
040A6:  MOVF   FF3,W
040A8:  CLRF   xEC
040AA:  MOVWF  xEB
040AC:  MOVFF  AEC,03
040B0:  MOVF   xEB,W
040B2:  MOVLB  0
040B4:  CALL   00E6
040B8:  MOVWF  00
040BA:  TBLRD*+
040BC:  MOVFF  FF5,01
040C0:  TBLRD*+
040C2:  MOVFF  FF5,02
040C6:  TBLRD*+
040C8:  MOVFF  FF5,03
040CC:  MOVFF  03,AF0
040D0:  MOVFF  02,AEF
040D4:  MOVFF  01,AEE
040D8:  MOVFF  00,AED
040DC:  MOVLB  A
040DE:  MOVF   x50,W
040E0:  MULLW  0A
040E2:  MOVF   FF3,W
040E4:  CLRF   xF2
040E6:  MOVWF  xF1
040E8:  MOVLW  22
040EA:  ADDWF  xF1,W
040EC:  MOVWF  FE9
040EE:  MOVLW  01
040F0:  ADDWFC xF2,W
040F2:  MOVWF  FEA
040F4:  MOVFF  FEF,00
040F8:  MOVFF  FEC,01
040FC:  MOVFF  FEC,02
04100:  MOVFF  FEC,03
04104:  MOVF   FED,F
04106:  MOVF   FED,F
04108:  MOVF   FED,F
0410A:  MOVF   00,W
0410C:  ADDWF  xED,W
0410E:  MOVWF  x55
04110:  MOVF   01,W
04112:  ADDWFC xEE,W
04114:  MOVWF  x56
04116:  MOVF   02,W
04118:  ADDWFC xEF,W
0411A:  MOVWF  x57
0411C:  MOVF   03,W
0411E:  ADDWFC xF0,W
04120:  MOVWF  x58
04122:  MOVLB  0
....................         write_data_bytes(mis_fm, write_address, data_ptr, size);
04124:  MOVFF  115,AEE
04128:  MOVFF  114,AED
0412C:  MOVFF  113,AEC
04130:  MOVFF  112,AEB
04134:  MOVFF  A58,AF2
04138:  MOVFF  A57,AF1
0413C:  MOVFF  A56,AF0
04140:  MOVFF  A55,AEF
04144:  MOVFF  A52,AF4
04148:  MOVFF  A51,AF3
0414C:  MOVFF  A54,AF6
04150:  MOVFF  A53,AF5
04154:  CALL   3D26
....................         // for (unsigned int32 j = 0; j < size; j++) {
....................             // fprintf(PC, "%02X ", data_ptr[j]);
....................         // }
....................         misf_counter_table[id].used_counter     += size;
04158:  MOVLB  A
0415A:  MOVF   x50,W
0415C:  MULLW  0A
0415E:  MOVF   FF3,W
04160:  CLRF   xEC
04162:  MOVWF  xEB
04164:  MOVLW  22
04166:  ADDWF  xEB,W
04168:  MOVWF  FE9
0416A:  MOVLW  01
0416C:  ADDWFC xEC,W
0416E:  MOVWF  FEA
04170:  MOVF   x53,W
04172:  ADDWF  FEF,W
04174:  MOVWF  00
04176:  MOVF   x54,W
04178:  ADDWFC FEC,W
0417A:  MOVWF  01
0417C:  MOVLW  00
0417E:  ADDWFC FEC,W
04180:  MOVWF  02
04182:  MOVLW  00
04184:  ADDWFC FEC,W
04186:  MOVWF  03
04188:  MOVF   FED,F
0418A:  MOVF   FED,F
0418C:  MOVF   FED,F
0418E:  MOVFF  00,FEF
04192:  MOVFF  01,FEC
04196:  MOVFF  02,FEC
0419A:  MOVFF  03,FEC
0419E:  MOVF   FED,F
041A0:  MOVF   FED,F
041A2:  MOVF   FED,F
....................         misf_counter_table[id].uncopied_counter += size;
041A4:  MOVF   x50,W
041A6:  MULLW  0A
041A8:  MOVF   FF3,W
041AA:  CLRF   xEC
041AC:  MOVWF  xEB
041AE:  MOVLW  04
041B0:  ADDWF  xEB,W
041B2:  MOVWF  01
041B4:  MOVLW  00
041B6:  ADDWFC xEC,W
041B8:  MOVWF  03
041BA:  MOVF   01,W
041BC:  ADDLW  22
041BE:  MOVWF  FE9
041C0:  MOVLW  01
041C2:  ADDWFC 03,W
041C4:  MOVWF  FEA
041C6:  MOVF   x53,W
041C8:  ADDWF  FEF,W
041CA:  MOVWF  00
041CC:  MOVF   x54,W
041CE:  ADDWFC FEC,W
041D0:  MOVWF  01
041D2:  MOVLW  00
041D4:  ADDWFC FEC,W
041D6:  MOVWF  02
041D8:  MOVLW  00
041DA:  ADDWFC FEC,W
041DC:  MOVWF  03
041DE:  MOVF   FED,F
041E0:  MOVF   FED,F
041E2:  MOVF   FED,F
041E4:  MOVFF  00,FEF
041E8:  MOVFF  01,FEC
041EC:  MOVFF  02,FEC
041F0:  MOVFF  03,FEC
041F4:  MOVF   FED,F
041F6:  MOVF   FED,F
041F8:  MOVF   FED,F
.................... 
....................         return;
041FA:  MOVLB  0
041FC:  GOTO   49C8
....................     }
04200:  GOTO   483A
....................     
....................     else if (misf_counter_table[id].reserve_counter1 + size == PACKET_SIZE-1) {
04204:  MOVLB  A
04206:  MOVF   x50,W
04208:  MULLW  0A
0420A:  MOVF   FF3,W
0420C:  CLRF   xEC
0420E:  MOVWF  xEB
04210:  MOVLW  08
04212:  ADDWF  xEB,W
04214:  MOVWF  01
04216:  MOVLW  00
04218:  ADDWFC xEC,W
0421A:  MOVWF  03
0421C:  MOVF   01,W
0421E:  ADDLW  22
04220:  MOVWF  FE9
04222:  MOVLW  01
04224:  ADDWFC 03,W
04226:  MOVWF  FEA
04228:  MOVF   FEF,W
0422A:  ADDWF  x53,W
0422C:  MOVWF  xEB
0422E:  MOVLW  00
04230:  ADDWFC x54,W
04232:  MOVWF  xEC
04234:  MOVF   xEB,W
04236:  SUBLW  3F
04238:  BTFSC  FD8.2
0423A:  BRA    4242
0423C:  MOVLB  0
0423E:  GOTO   44F8
04242:  MOVLB  0
04244:  MOVLB  A
04246:  MOVF   xEC,F
04248:  BTFSC  FD8.2
0424A:  BRA    4252
0424C:  MOVLB  0
0424E:  GOTO   44F8
04252:  MOVLB  0
....................         unsigned int8 blank_size = PACKET_SIZE - 1 - misf_counter_table[id].reserve_counter1;
....................         // fprintf(PC, "0x%02X", blank_size);
....................         unsigned int8 blank_data[PACKET_SIZE];
04254:  MOVLB  A
04256:  MOVF   x50,W
04258:  MULLW  0A
0425A:  MOVF   FF3,W
0425C:  CLRF   xEC
0425E:  MOVWF  xEB
04260:  MOVLW  08
04262:  ADDWF  xEB,W
04264:  MOVWF  01
04266:  MOVLW  00
04268:  ADDWFC xEC,W
0426A:  MOVWF  03
0426C:  MOVF   01,W
0426E:  ADDLW  22
04270:  MOVWF  FE9
04272:  MOVLW  01
04274:  ADDWFC 03,W
04276:  MOVWF  FEA
04278:  MOVF   FEF,W
0427A:  XORLW  FF
0427C:  ADDLW  40
0427E:  MOVWF  x59
04280:  MOVLB  0
....................         memset(blank_data, 0, blank_size);
04282:  MOVLW  0A
04284:  MOVWF  FEA
04286:  MOVLW  5A
04288:  MOVWF  FE9
0428A:  CLRF   00
0428C:  CLRF   02
0428E:  MOVFF  A59,01
04292:  CALL   213E
.................... 
....................         // アドレス再計算
....................         unsigned int32 write_address = MISF_ADDRESS_TABLE[id].start + misf_counter_table[id].used_counter;
04296:  MOVLB  A
04298:  MOVF   x50,W
0429A:  MULLW  0C
0429C:  MOVF   FF3,W
0429E:  CLRF   xEC
042A0:  MOVWF  xEB
042A2:  MOVFF  AEC,03
042A6:  MOVF   xEB,W
042A8:  MOVLB  0
042AA:  CALL   00E6
042AE:  MOVWF  00
042B0:  TBLRD*+
042B2:  MOVFF  FF5,01
042B6:  TBLRD*+
042B8:  MOVFF  FF5,02
042BC:  TBLRD*+
042BE:  MOVFF  FF5,03
042C2:  MOVFF  03,AF0
042C6:  MOVFF  02,AEF
042CA:  MOVFF  01,AEE
042CE:  MOVFF  00,AED
042D2:  MOVLB  A
042D4:  MOVF   x50,W
042D6:  MULLW  0A
042D8:  MOVF   FF3,W
042DA:  CLRF   xF2
042DC:  MOVWF  xF1
042DE:  MOVLW  22
042E0:  ADDWF  xF1,W
042E2:  MOVWF  FE9
042E4:  MOVLW  01
042E6:  ADDWFC xF2,W
042E8:  MOVWF  FEA
042EA:  MOVFF  FEF,00
042EE:  MOVFF  FEC,01
042F2:  MOVFF  FEC,02
042F6:  MOVFF  FEC,03
042FA:  MOVF   FED,F
042FC:  MOVF   FED,F
042FE:  MOVF   FED,F
04300:  MOVF   00,W
04302:  ADDWF  xED,W
04304:  MOVWF  x9A
04306:  MOVF   01,W
04308:  ADDWFC xEE,W
0430A:  MOVWF  x9B
0430C:  MOVF   02,W
0430E:  ADDWFC xEF,W
04310:  MOVWF  x9C
04312:  MOVF   03,W
04314:  ADDWFC xF0,W
04316:  MOVWF  x9D
.................... 
....................         // 未使用部分を 0 埋め
....................         write_data_bytes(mis_fm, write_address, blank_data, blank_size);
04318:  MOVFF  115,AEE
0431C:  MOVFF  114,AED
04320:  MOVFF  113,AEC
04324:  MOVFF  112,AEB
04328:  MOVFF  A9D,AF2
0432C:  MOVFF  A9C,AF1
04330:  MOVFF  A9B,AF0
04334:  MOVFF  A9A,AEF
04338:  MOVLW  0A
0433A:  MOVWF  xF4
0433C:  MOVLW  5A
0433E:  MOVWF  xF3
04340:  CLRF   xF6
04342:  MOVFF  A59,AF5
04346:  MOVLB  0
04348:  CALL   3D26
.................... 
....................         // CRC 計算（本体部分だけ読む）
....................         unsigned int8 packet_data[PACKET_SIZE - 1];
....................         unsigned int32 read_address = write_address + blank_size - PACKET_SIZE - 1;
0434C:  MOVLB  A
0434E:  MOVF   x59,W
04350:  ADDWF  x9A,W
04352:  MOVWF  xEB
04354:  MOVLW  00
04356:  ADDWFC x9B,W
04358:  MOVWF  xEC
0435A:  MOVLW  00
0435C:  ADDWFC x9C,W
0435E:  MOVWF  xED
04360:  MOVLW  00
04362:  ADDWFC x9D,W
04364:  MOVWF  xEE
04366:  MOVLW  40
04368:  SUBWF  xEB,F
0436A:  MOVLW  00
0436C:  SUBWFB xEC,F
0436E:  MOVLW  00
04370:  SUBWFB xED,F
04372:  MOVLW  00
04374:  SUBWFB xEE,F
04376:  MOVLW  01
04378:  SUBWF  xEB,W
0437A:  MOVWF  xDD
0437C:  MOVLW  00
0437E:  SUBWFB xEC,W
04380:  MOVWF  xDE
04382:  MOVLW  00
04384:  SUBWFB xED,W
04386:  MOVWF  xDF
04388:  MOVLW  00
0438A:  SUBWFB xEE,W
0438C:  MOVWF  xE0
....................         read_data_bytes(mis_fm, read_address, packet_data, PACKET_SIZE - 1);
0438E:  MOVFF  115,AEE
04392:  MOVFF  114,AED
04396:  MOVFF  113,AEC
0439A:  MOVFF  112,AEB
0439E:  MOVFF  AE0,AF2
043A2:  MOVFF  ADF,AF1
043A6:  MOVFF  ADE,AF0
043AA:  MOVFF  ADD,AEF
043AE:  MOVLW  0A
043B0:  MOVWF  xF4
043B2:  MOVLW  9E
043B4:  MOVWF  xF3
043B6:  CLRF   xF8
043B8:  CLRF   xF7
043BA:  CLRF   xF6
043BC:  MOVLW  3F
043BE:  MOVWF  xF5
043C0:  MOVLB  0
043C2:  CALL   2CBC
....................         unsigned int8 crc = calc_crc8(packet_data, PACKET_SIZE - 1);
043C6:  MOVLW  0A
043C8:  MOVLB  A
043CA:  MOVWF  xEC
043CC:  MOVLW  9E
043CE:  MOVWF  xEB
043D0:  MOVLW  3F
043D2:  MOVWF  xED
043D4:  MOVLB  0
043D6:  CALL   2EDC
043DA:  MOVFF  01,AE1
....................         // fprintf(PC, "0x%02X", crc);
....................         // CRC 書き込み
....................         write_address += blank_size;
043DE:  MOVLB  A
043E0:  MOVF   x59,W
043E2:  ADDWF  x9A,F
043E4:  MOVLW  00
043E6:  ADDWFC x9B,F
043E8:  MOVLW  00
043EA:  ADDWFC x9C,F
043EC:  MOVLW  00
043EE:  ADDWFC x9D,F
....................         write_data_bytes(mis_fm, write_address, &crc, 1);
043F0:  MOVFF  115,AEE
043F4:  MOVFF  114,AED
043F8:  MOVFF  113,AEC
043FC:  MOVFF  112,AEB
04400:  MOVFF  A9D,AF2
04404:  MOVFF  A9C,AF1
04408:  MOVFF  A9B,AF0
0440C:  MOVFF  A9A,AEF
04410:  MOVLW  0A
04412:  MOVWF  xF4
04414:  MOVLW  E1
04416:  MOVWF  xF3
04418:  CLRF   xF6
0441A:  MOVLW  01
0441C:  MOVWF  xF5
0441E:  MOVLB  0
04420:  CALL   3D26
.................... 
....................         // カウンタ更新
....................         misf_counter_table[id].used_counter     += blank_size + 1;
04424:  MOVLB  A
04426:  MOVF   x50,W
04428:  MULLW  0A
0442A:  MOVF   FF3,W
0442C:  CLRF   xEC
0442E:  MOVWF  xEB
04430:  MOVLW  22
04432:  ADDWF  xEB,W
04434:  MOVWF  FE9
04436:  MOVLW  01
04438:  ADDWFC xEC,W
0443A:  MOVWF  FEA
0443C:  MOVLW  01
0443E:  ADDWF  x59,W
04440:  ADDWF  FEF,W
04442:  MOVWF  00
04444:  MOVLW  00
04446:  ADDWFC FEC,W
04448:  MOVWF  01
0444A:  MOVLW  00
0444C:  ADDWFC FEC,W
0444E:  MOVWF  02
04450:  MOVLW  00
04452:  ADDWFC FEC,W
04454:  MOVWF  03
04456:  MOVF   FED,F
04458:  MOVF   FED,F
0445A:  MOVF   FED,F
0445C:  MOVFF  00,FEF
04460:  MOVFF  01,FEC
04464:  MOVFF  02,FEC
04468:  MOVFF  03,FEC
0446C:  MOVF   FED,F
0446E:  MOVF   FED,F
04470:  MOVF   FED,F
....................         misf_counter_table[id].uncopied_counter += blank_size + 1;
04472:  MOVF   x50,W
04474:  MULLW  0A
04476:  MOVF   FF3,W
04478:  CLRF   xEC
0447A:  MOVWF  xEB
0447C:  MOVLW  04
0447E:  ADDWF  xEB,W
04480:  MOVWF  01
04482:  MOVLW  00
04484:  ADDWFC xEC,W
04486:  MOVWF  03
04488:  MOVF   01,W
0448A:  ADDLW  22
0448C:  MOVWF  FE9
0448E:  MOVLW  01
04490:  ADDWFC 03,W
04492:  MOVWF  FEA
04494:  MOVLW  01
04496:  ADDWF  x59,W
04498:  ADDWF  FEF,W
0449A:  MOVWF  00
0449C:  MOVLW  00
0449E:  ADDWFC FEC,W
044A0:  MOVWF  01
044A2:  MOVLW  00
044A4:  ADDWFC FEC,W
044A6:  MOVWF  02
044A8:  MOVLW  00
044AA:  ADDWFC FEC,W
044AC:  MOVWF  03
044AE:  MOVF   FED,F
044B0:  MOVF   FED,F
044B2:  MOVF   FED,F
044B4:  MOVFF  00,FEF
044B8:  MOVFF  01,FEC
044BC:  MOVFF  02,FEC
044C0:  MOVFF  03,FEC
044C4:  MOVF   FED,F
044C6:  MOVF   FED,F
044C8:  MOVF   FED,F
....................         misf_counter_table[id].reserve_counter1  = 0;
044CA:  MOVF   x50,W
044CC:  MULLW  0A
044CE:  MOVF   FF3,W
044D0:  CLRF   xEC
044D2:  MOVWF  xEB
044D4:  MOVLW  08
044D6:  ADDWF  xEB,W
044D8:  MOVWF  01
044DA:  MOVLW  00
044DC:  ADDWFC xEC,W
044DE:  MOVWF  03
044E0:  MOVF   01,W
044E2:  ADDLW  22
044E4:  MOVWF  FE9
044E6:  MOVLW  01
044E8:  ADDWFC 03,W
044EA:  MOVWF  FEA
044EC:  CLRF   FEF
....................         return;
044EE:  MOVLB  0
044F0:  GOTO   49C8
.................... 
....................     }else  if(misf_counter_table[id].reserve_counter1 + size == PACKET_SIZE-1){
044F4:  GOTO   483A
044F8:  MOVLB  A
044FA:  MOVF   x50,W
044FC:  MULLW  0A
044FE:  MOVF   FF3,W
04500:  CLRF   xEC
04502:  MOVWF  xEB
04504:  MOVLW  08
04506:  ADDWF  xEB,W
04508:  MOVWF  01
0450A:  MOVLW  00
0450C:  ADDWFC xEC,W
0450E:  MOVWF  03
04510:  MOVF   01,W
04512:  ADDLW  22
04514:  MOVWF  FE9
04516:  MOVLW  01
04518:  ADDWFC 03,W
0451A:  MOVWF  FEA
0451C:  MOVF   FEF,W
0451E:  ADDWF  x53,W
04520:  MOVWF  xEB
04522:  MOVLW  00
04524:  ADDWFC x54,W
04526:  MOVWF  xEC
04528:  MOVF   xEB,W
0452A:  SUBLW  3F
0452C:  BTFSC  FD8.2
0452E:  BRA    4536
04530:  MOVLB  0
04532:  GOTO   483A
04536:  MOVLB  0
04538:  MOVLB  A
0453A:  MOVF   xEC,F
0453C:  BTFSC  FD8.2
0453E:  BRA    4546
04540:  MOVLB  0
04542:  GOTO   483A
04546:  MOVLB  0
....................         // データ書き込み
....................         unsigned int32 write_address = MISF_ADDRESS_TABLE[id].start + misf_counter_table[id].used_counter;
04548:  MOVLB  A
0454A:  MOVF   x50,W
0454C:  MULLW  0C
0454E:  MOVF   FF3,W
04550:  CLRF   xEC
04552:  MOVWF  xEB
04554:  MOVFF  AEC,03
04558:  MOVF   xEB,W
0455A:  MOVLB  0
0455C:  CALL   00E6
04560:  MOVWF  00
04562:  TBLRD*+
04564:  MOVFF  FF5,01
04568:  TBLRD*+
0456A:  MOVFF  FF5,02
0456E:  TBLRD*+
04570:  MOVFF  FF5,03
04574:  MOVFF  03,AF0
04578:  MOVFF  02,AEF
0457C:  MOVFF  01,AEE
04580:  MOVFF  00,AED
04584:  MOVLB  A
04586:  MOVF   x50,W
04588:  MULLW  0A
0458A:  MOVF   FF3,W
0458C:  CLRF   xF2
0458E:  MOVWF  xF1
04590:  MOVLW  22
04592:  ADDWF  xF1,W
04594:  MOVWF  FE9
04596:  MOVLW  01
04598:  ADDWFC xF2,W
0459A:  MOVWF  FEA
0459C:  MOVFF  FEF,00
045A0:  MOVFF  FEC,01
045A4:  MOVFF  FEC,02
045A8:  MOVFF  FEC,03
045AC:  MOVF   FED,F
045AE:  MOVF   FED,F
045B0:  MOVF   FED,F
045B2:  MOVF   00,W
045B4:  ADDWF  xED,W
045B6:  MOVWF  xE2
045B8:  MOVF   01,W
045BA:  ADDWFC xEE,W
045BC:  MOVWF  xE3
045BE:  MOVF   02,W
045C0:  ADDWFC xEF,W
045C2:  MOVWF  xE4
045C4:  MOVF   03,W
045C6:  ADDWFC xF0,W
045C8:  MOVWF  xE5
045CA:  MOVLB  0
....................         write_data_bytes(mis_fm, write_address, data_ptr, size);
045CC:  MOVFF  115,AEE
045D0:  MOVFF  114,AED
045D4:  MOVFF  113,AEC
045D8:  MOVFF  112,AEB
045DC:  MOVFF  AE5,AF2
045E0:  MOVFF  AE4,AF1
045E4:  MOVFF  AE3,AF0
045E8:  MOVFF  AE2,AEF
045EC:  MOVFF  A52,AF4
045F0:  MOVFF  A51,AF3
045F4:  MOVFF  A54,AF6
045F8:  MOVFF  A53,AF5
045FC:  CALL   3D26
....................         // fprintf(PC, "ADDRESS 0x%08LX DATA ", write_address);
....................         // for (unsigned int32 j = 0; j < size; j++) {
....................             // fprintf(PC, "%02X ", data_ptr[j]);
....................         // }
....................         // fprintf(PC, "\Sr\n");
.................... 
....................         misf_counter_table[id].used_counter     += size;
04600:  MOVLB  A
04602:  MOVF   x50,W
04604:  MULLW  0A
04606:  MOVF   FF3,W
04608:  CLRF   xEC
0460A:  MOVWF  xEB
0460C:  MOVLW  22
0460E:  ADDWF  xEB,W
04610:  MOVWF  FE9
04612:  MOVLW  01
04614:  ADDWFC xEC,W
04616:  MOVWF  FEA
04618:  MOVF   x53,W
0461A:  ADDWF  FEF,W
0461C:  MOVWF  00
0461E:  MOVF   x54,W
04620:  ADDWFC FEC,W
04622:  MOVWF  01
04624:  MOVLW  00
04626:  ADDWFC FEC,W
04628:  MOVWF  02
0462A:  MOVLW  00
0462C:  ADDWFC FEC,W
0462E:  MOVWF  03
04630:  MOVF   FED,F
04632:  MOVF   FED,F
04634:  MOVF   FED,F
04636:  MOVFF  00,FEF
0463A:  MOVFF  01,FEC
0463E:  MOVFF  02,FEC
04642:  MOVFF  03,FEC
04646:  MOVF   FED,F
04648:  MOVF   FED,F
0464A:  MOVF   FED,F
....................         misf_counter_table[id].uncopied_counter += size;
0464C:  MOVF   x50,W
0464E:  MULLW  0A
04650:  MOVF   FF3,W
04652:  CLRF   xEC
04654:  MOVWF  xEB
04656:  MOVLW  04
04658:  ADDWF  xEB,W
0465A:  MOVWF  01
0465C:  MOVLW  00
0465E:  ADDWFC xEC,W
04660:  MOVWF  03
04662:  MOVF   01,W
04664:  ADDLW  22
04666:  MOVWF  FE9
04668:  MOVLW  01
0466A:  ADDWFC 03,W
0466C:  MOVWF  FEA
0466E:  MOVF   x53,W
04670:  ADDWF  FEF,W
04672:  MOVWF  00
04674:  MOVF   x54,W
04676:  ADDWFC FEC,W
04678:  MOVWF  01
0467A:  MOVLW  00
0467C:  ADDWFC FEC,W
0467E:  MOVWF  02
04680:  MOVLW  00
04682:  ADDWFC FEC,W
04684:  MOVWF  03
04686:  MOVF   FED,F
04688:  MOVF   FED,F
0468A:  MOVF   FED,F
0468C:  MOVFF  00,FEF
04690:  MOVFF  01,FEC
04694:  MOVFF  02,FEC
04698:  MOVFF  03,FEC
0469C:  MOVF   FED,F
0469E:  MOVF   FED,F
046A0:  MOVF   FED,F
....................         unsigned int8 crc = calc_crc8(data_ptr, size);
046A2:  MOVFF  A52,AEC
046A6:  MOVFF  A51,AEB
046AA:  MOVFF  A53,AED
046AE:  MOVLB  0
046B0:  CALL   2EDC
046B4:  MOVFF  01,AE6
.................... 
....................         // CRC 書き込み
....................         write_address = MISF_ADDRESS_TABLE[id].start + misf_counter_table[id].used_counter;
046B8:  MOVLB  A
046BA:  MOVF   x50,W
046BC:  MULLW  0C
046BE:  MOVF   FF3,W
046C0:  CLRF   xEC
046C2:  MOVWF  xEB
046C4:  MOVFF  AEC,03
046C8:  MOVF   xEB,W
046CA:  MOVLB  0
046CC:  CALL   00E6
046D0:  MOVWF  00
046D2:  TBLRD*+
046D4:  MOVFF  FF5,01
046D8:  TBLRD*+
046DA:  MOVFF  FF5,02
046DE:  TBLRD*+
046E0:  MOVFF  FF5,03
046E4:  MOVFF  03,AF0
046E8:  MOVFF  02,AEF
046EC:  MOVFF  01,AEE
046F0:  MOVFF  00,AED
046F4:  MOVLB  A
046F6:  MOVF   x50,W
046F8:  MULLW  0A
046FA:  MOVF   FF3,W
046FC:  CLRF   xF2
046FE:  MOVWF  xF1
04700:  MOVLW  22
04702:  ADDWF  xF1,W
04704:  MOVWF  FE9
04706:  MOVLW  01
04708:  ADDWFC xF2,W
0470A:  MOVWF  FEA
0470C:  MOVFF  FEF,00
04710:  MOVFF  FEC,01
04714:  MOVFF  FEC,02
04718:  MOVFF  FEC,03
0471C:  MOVF   FED,F
0471E:  MOVF   FED,F
04720:  MOVF   FED,F
04722:  MOVF   00,W
04724:  ADDWF  xED,W
04726:  MOVWF  xE2
04728:  MOVF   01,W
0472A:  ADDWFC xEE,W
0472C:  MOVWF  xE3
0472E:  MOVF   02,W
04730:  ADDWFC xEF,W
04732:  MOVWF  xE4
04734:  MOVF   03,W
04736:  ADDWFC xF0,W
04738:  MOVWF  xE5
....................         write_data_bytes(mis_fm, write_address, &crc, 1);
0473A:  MOVFF  115,AEE
0473E:  MOVFF  114,AED
04742:  MOVFF  113,AEC
04746:  MOVFF  112,AEB
0474A:  MOVFF  AE5,AF2
0474E:  MOVFF  AE4,AF1
04752:  MOVFF  AE3,AF0
04756:  MOVFF  AE2,AEF
0475A:  MOVLW  0A
0475C:  MOVWF  xF4
0475E:  MOVLW  E6
04760:  MOVWF  xF3
04762:  CLRF   xF6
04764:  MOVLW  01
04766:  MOVWF  xF5
04768:  MOVLB  0
0476A:  CALL   3D26
.................... 
....................         // カウンタ更新
....................         misf_counter_table[id].used_counter     += 1;
0476E:  MOVLB  A
04770:  MOVF   x50,W
04772:  MULLW  0A
04774:  MOVF   FF3,W
04776:  CLRF   xEC
04778:  MOVWF  xEB
0477A:  MOVLW  22
0477C:  ADDWF  xEB,W
0477E:  MOVWF  FE9
04780:  MOVLW  01
04782:  ADDWFC xEC,W
04784:  MOVWF  FEA
04786:  MOVLW  01
04788:  ADDWF  FEF,W
0478A:  MOVWF  00
0478C:  MOVLW  00
0478E:  ADDWFC FEC,W
04790:  MOVWF  01
04792:  MOVLW  00
04794:  ADDWFC FEC,W
04796:  MOVWF  02
04798:  MOVLW  00
0479A:  ADDWFC FEC,W
0479C:  MOVWF  03
0479E:  MOVF   FED,F
047A0:  MOVF   FED,F
047A2:  MOVF   FED,F
047A4:  MOVFF  00,FEF
047A8:  MOVFF  01,FEC
047AC:  MOVFF  02,FEC
047B0:  MOVFF  03,FEC
047B4:  MOVF   FED,F
047B6:  MOVF   FED,F
047B8:  MOVF   FED,F
....................         misf_counter_table[id].uncopied_counter += 1;
047BA:  MOVF   x50,W
047BC:  MULLW  0A
047BE:  MOVF   FF3,W
047C0:  CLRF   xEC
047C2:  MOVWF  xEB
047C4:  MOVLW  04
047C6:  ADDWF  xEB,W
047C8:  MOVWF  01
047CA:  MOVLW  00
047CC:  ADDWFC xEC,W
047CE:  MOVWF  03
047D0:  MOVF   01,W
047D2:  ADDLW  22
047D4:  MOVWF  FE9
047D6:  MOVLW  01
047D8:  ADDWFC 03,W
047DA:  MOVWF  FEA
047DC:  MOVLW  01
047DE:  ADDWF  FEF,W
047E0:  MOVWF  00
047E2:  MOVLW  00
047E4:  ADDWFC FEC,W
047E6:  MOVWF  01
047E8:  MOVLW  00
047EA:  ADDWFC FEC,W
047EC:  MOVWF  02
047EE:  MOVLW  00
047F0:  ADDWFC FEC,W
047F2:  MOVWF  03
047F4:  MOVF   FED,F
047F6:  MOVF   FED,F
047F8:  MOVF   FED,F
047FA:  MOVFF  00,FEF
047FE:  MOVFF  01,FEC
04802:  MOVFF  02,FEC
04806:  MOVFF  03,FEC
0480A:  MOVF   FED,F
0480C:  MOVF   FED,F
0480E:  MOVF   FED,F
....................         misf_counter_table[id].reserve_counter1  = 0;
04810:  MOVF   x50,W
04812:  MULLW  0A
04814:  MOVF   FF3,W
04816:  CLRF   xEC
04818:  MOVWF  xEB
0481A:  MOVLW  08
0481C:  ADDWF  xEB,W
0481E:  MOVWF  01
04820:  MOVLW  00
04822:  ADDWFC xEC,W
04824:  MOVWF  03
04826:  MOVF   01,W
04828:  ADDLW  22
0482A:  MOVWF  FE9
0482C:  MOVLW  01
0482E:  ADDWFC 03,W
04830:  MOVWF  FEA
04832:  CLRF   FEF
.................... 
....................         // アドレステーブル更新
....................         // misf_update_address_area();
....................         return;
04834:  MOVLB  0
04836:  GOTO   49C8
....................     }
.................... 
....................     // データ書き込み
....................     unsigned int32 write_address = MISF_ADDRESS_TABLE[id].start + misf_counter_table[id].used_counter;
0483A:  MOVLB  A
0483C:  MOVF   x50,W
0483E:  MULLW  0C
04840:  MOVF   FF3,W
04842:  CLRF   xEC
04844:  MOVWF  xEB
04846:  MOVFF  AEC,03
0484A:  MOVF   xEB,W
0484C:  MOVLB  0
0484E:  CALL   00E6
04852:  MOVWF  00
04854:  TBLRD*+
04856:  MOVFF  FF5,01
0485A:  TBLRD*+
0485C:  MOVFF  FF5,02
04860:  TBLRD*+
04862:  MOVFF  FF5,03
04866:  MOVFF  03,AF0
0486A:  MOVFF  02,AEF
0486E:  MOVFF  01,AEE
04872:  MOVFF  00,AED
04876:  MOVLB  A
04878:  MOVF   x50,W
0487A:  MULLW  0A
0487C:  MOVF   FF3,W
0487E:  CLRF   xF2
04880:  MOVWF  xF1
04882:  MOVLW  22
04884:  ADDWF  xF1,W
04886:  MOVWF  FE9
04888:  MOVLW  01
0488A:  ADDWFC xF2,W
0488C:  MOVWF  FEA
0488E:  MOVFF  FEF,00
04892:  MOVFF  FEC,01
04896:  MOVFF  FEC,02
0489A:  MOVFF  FEC,03
0489E:  MOVF   FED,F
048A0:  MOVF   FED,F
048A2:  MOVF   FED,F
048A4:  MOVF   00,W
048A6:  ADDWF  xED,W
048A8:  MOVWF  xE7
048AA:  MOVF   01,W
048AC:  ADDWFC xEE,W
048AE:  MOVWF  xE8
048B0:  MOVF   02,W
048B2:  ADDWFC xEF,W
048B4:  MOVWF  xE9
048B6:  MOVF   03,W
048B8:  ADDWFC xF0,W
048BA:  MOVWF  xEA
....................     // fprintf(PC, "ADDRESS 0x%08LX DATA ", write_address);
....................     write_data_bytes(mis_fm, write_address, data_ptr, size);
048BC:  MOVFF  115,AEE
048C0:  MOVFF  114,AED
048C4:  MOVFF  113,AEC
048C8:  MOVFF  112,AEB
048CC:  MOVFF  AEA,AF2
048D0:  MOVFF  AE9,AF1
048D4:  MOVFF  AE8,AF0
048D8:  MOVFF  AE7,AEF
048DC:  MOVFF  A52,AF4
048E0:  MOVFF  A51,AF3
048E4:  MOVFF  A54,AF6
048E8:  MOVFF  A53,AF5
048EC:  MOVLB  0
048EE:  CALL   3D26
.................... 
....................     // カウンタ更新
....................     misf_counter_table[id].used_counter     += size;
048F2:  MOVLB  A
048F4:  MOVF   x50,W
048F6:  MULLW  0A
048F8:  MOVF   FF3,W
048FA:  CLRF   xEC
048FC:  MOVWF  xEB
048FE:  MOVLW  22
04900:  ADDWF  xEB,W
04902:  MOVWF  FE9
04904:  MOVLW  01
04906:  ADDWFC xEC,W
04908:  MOVWF  FEA
0490A:  MOVF   x53,W
0490C:  ADDWF  FEF,W
0490E:  MOVWF  00
04910:  MOVF   x54,W
04912:  ADDWFC FEC,W
04914:  MOVWF  01
04916:  MOVLW  00
04918:  ADDWFC FEC,W
0491A:  MOVWF  02
0491C:  MOVLW  00
0491E:  ADDWFC FEC,W
04920:  MOVWF  03
04922:  MOVF   FED,F
04924:  MOVF   FED,F
04926:  MOVF   FED,F
04928:  MOVFF  00,FEF
0492C:  MOVFF  01,FEC
04930:  MOVFF  02,FEC
04934:  MOVFF  03,FEC
04938:  MOVF   FED,F
0493A:  MOVF   FED,F
0493C:  MOVF   FED,F
....................     misf_counter_table[id].uncopied_counter += size;
0493E:  MOVF   x50,W
04940:  MULLW  0A
04942:  MOVF   FF3,W
04944:  CLRF   xEC
04946:  MOVWF  xEB
04948:  MOVLW  04
0494A:  ADDWF  xEB,W
0494C:  MOVWF  01
0494E:  MOVLW  00
04950:  ADDWFC xEC,W
04952:  MOVWF  03
04954:  MOVF   01,W
04956:  ADDLW  22
04958:  MOVWF  FE9
0495A:  MOVLW  01
0495C:  ADDWFC 03,W
0495E:  MOVWF  FEA
04960:  MOVF   x53,W
04962:  ADDWF  FEF,W
04964:  MOVWF  00
04966:  MOVF   x54,W
04968:  ADDWFC FEC,W
0496A:  MOVWF  01
0496C:  MOVLW  00
0496E:  ADDWFC FEC,W
04970:  MOVWF  02
04972:  MOVLW  00
04974:  ADDWFC FEC,W
04976:  MOVWF  03
04978:  MOVF   FED,F
0497A:  MOVF   FED,F
0497C:  MOVF   FED,F
0497E:  MOVFF  00,FEF
04982:  MOVFF  01,FEC
04986:  MOVFF  02,FEC
0498A:  MOVFF  03,FEC
0498E:  MOVF   FED,F
04990:  MOVF   FED,F
04992:  MOVF   FED,F
....................     misf_counter_table[id].reserve_counter1 += size;
04994:  MOVF   x50,W
04996:  MULLW  0A
04998:  MOVF   FF3,W
0499A:  CLRF   xEC
0499C:  MOVWF  xEB
0499E:  MOVLW  08
049A0:  ADDWF  xEB,W
049A2:  MOVWF  01
049A4:  MOVLW  00
049A6:  ADDWFC xEC,W
049A8:  MOVWF  03
049AA:  MOVF   01,W
049AC:  ADDLW  22
049AE:  MOVWF  FE9
049B0:  MOVLW  01
049B2:  ADDWFC 03,W
049B4:  MOVWF  FEA
049B6:  MOVF   FEF,W
049B8:  ADDWF  x53,W
049BA:  MOVWF  01
049BC:  MOVLW  00
049BE:  ADDWFC x54,W
049C0:  MOVWF  03
049C2:  MOVF   01,W
049C4:  MOVWF  FEF
049C6:  MOVLB  0
049C8:  RETURN 0
.................... 
....................     // アドレステーブル更新
....................     // misf_update_address_area();
.................... }
.................... 
.................... FlashData_t make_flash_data_table(void)
049CA:  MOVLW  0A
049CC:  MOVLB  A
049CE:  MOVWF  xD7
049D0:  MOVLW  96
049D2:  MOVWF  xD6
.................... {
....................     FlashData_t flash_data;
....................     FlashData_t *flash_data_ptr = &flash_data;
.................... 
....................     // 初期化
....................     memset(flash_data_ptr->bytes, 0, sizeof(flash_data_ptr->bytes));
049D4:  MOVF   xD6,W
049D6:  MOVWF  01
049D8:  MOVF   xD7,W
049DA:  MOVWF  03
049DC:  MOVF   01,W
049DE:  MOVWF  xD8
049E0:  MOVFF  03,AD9
049E4:  MOVFF  AD9,FEA
049E8:  MOVFF  AD8,FE9
049EC:  CLRF   00
049EE:  CLRF   02
049F0:  MOVLW  40
049F2:  MOVWF  01
049F4:  MOVLB  0
049F6:  CALL   213E
.................... 
....................     flash_data_ptr->packet.payload.logdata.piclog = misf_counter_table[FLASH_ID_PICLOG];
049FA:  MOVLB  A
049FC:  MOVF   xD6,W
049FE:  MOVWF  FE9
04A00:  MOVF   xD7,W
04A02:  MOVWF  FEA
04A04:  MOVLW  01
04A06:  MOVWF  FE2
04A08:  MOVLW  2C
04A0A:  MOVWF  FE1
04A0C:  MOVLW  0A
04A0E:  MOVWF  01
04A10:  MOVLB  0
04A12:  MOVFF  FE6,FEE
04A16:  DECFSZ 01,F
04A18:  GOTO   4A12
....................     flash_data_ptr->packet.payload.logdata.environment = misf_counter_table[FLASH_ID_ENVIRONMENT];
04A1C:  MOVLW  0A
04A1E:  MOVLB  A
04A20:  ADDWF  xD6,W
04A22:  MOVWF  FE9
04A24:  MOVLW  00
04A26:  ADDWFC xD7,W
04A28:  MOVWF  FEA
04A2A:  MOVLW  01
04A2C:  MOVWF  FE2
04A2E:  MOVLW  36
04A30:  MOVWF  FE1
04A32:  MOVLW  0A
04A34:  MOVWF  01
04A36:  MOVLB  0
04A38:  MOVFF  FE6,FEE
04A3C:  DECFSZ 01,F
04A3E:  GOTO   4A38
....................     flash_data_ptr->packet.payload.logdata.iv1_header = misf_counter_table[FLASH_ID_IV1_HEADER];
04A42:  MOVLW  14
04A44:  MOVLB  A
04A46:  ADDWF  xD6,W
04A48:  MOVWF  FE9
04A4A:  MOVLW  00
04A4C:  ADDWFC xD7,W
04A4E:  MOVWF  FEA
04A50:  MOVLW  01
04A52:  MOVWF  FE2
04A54:  MOVLW  40
04A56:  MOVWF  FE1
04A58:  MOVLW  0A
04A5A:  MOVWF  01
04A5C:  MOVLB  0
04A5E:  MOVFF  FE6,FEE
04A62:  DECFSZ 01,F
04A64:  GOTO   4A5E
....................     flash_data_ptr->packet.payload.logdata.iv1_data = misf_counter_table[FLASH_ID_IV1_DATA];
04A68:  MOVLW  1E
04A6A:  MOVLB  A
04A6C:  ADDWF  xD6,W
04A6E:  MOVWF  FE9
04A70:  MOVLW  00
04A72:  ADDWFC xD7,W
04A74:  MOVWF  FEA
04A76:  MOVLW  01
04A78:  MOVWF  FE2
04A7A:  MOVLW  4A
04A7C:  MOVWF  FE1
04A7E:  MOVLW  0A
04A80:  MOVWF  01
04A82:  MOVLB  0
04A84:  MOVFF  FE6,FEE
04A88:  DECFSZ 01,F
04A8A:  GOTO   4A84
....................     flash_data_ptr->packet.payload.logdata.iv2_header = misf_counter_table[FLASH_ID_IV2_HEADER];
04A8E:  MOVLW  28
04A90:  MOVLB  A
04A92:  ADDWF  xD6,W
04A94:  MOVWF  FE9
04A96:  MOVLW  00
04A98:  ADDWFC xD7,W
04A9A:  MOVWF  FEA
04A9C:  MOVLW  01
04A9E:  MOVWF  FE2
04AA0:  MOVLW  54
04AA2:  MOVWF  FE1
04AA4:  MOVLW  0A
04AA6:  MOVWF  01
04AA8:  MOVLB  0
04AAA:  MOVFF  FE6,FEE
04AAE:  DECFSZ 01,F
04AB0:  GOTO   4AAA
....................     flash_data_ptr->packet.payload.logdata.iv2_data = misf_counter_table[FLASH_ID_IV2_DATA];
04AB4:  MOVLW  32
04AB6:  MOVLB  A
04AB8:  ADDWF  xD6,W
04ABA:  MOVWF  FE9
04ABC:  MOVLW  00
04ABE:  ADDWFC xD7,W
04AC0:  MOVWF  FEA
04AC2:  MOVLW  01
04AC4:  MOVWF  FE2
04AC6:  MOVLW  5E
04AC8:  MOVWF  FE1
04ACA:  MOVLW  0A
04ACC:  MOVWF  01
04ACE:  MOVLB  0
04AD0:  MOVFF  FE6,FEE
04AD4:  DECFSZ 01,F
04AD6:  GOTO   4AD0
.................... 
....................     // CRC 計算
....................     flash_data_ptr->packet.crc = calc_crc8(flash_data_ptr->bytes, PACKET_SIZE - 1);
04ADA:  MOVLW  3F
04ADC:  MOVLB  A
04ADE:  ADDWF  xD6,W
04AE0:  MOVWF  01
04AE2:  MOVLW  00
04AE4:  ADDWFC xD7,W
04AE6:  MOVWF  03
04AE8:  MOVF   01,W
04AEA:  MOVWF  xD8
04AEC:  MOVFF  03,AD9
04AF0:  MOVF   xD6,W
04AF2:  MOVWF  01
04AF4:  MOVF   xD7,W
04AF6:  MOVWF  03
04AF8:  MOVF   01,W
04AFA:  MOVWF  xDA
04AFC:  MOVFF  03,ADB
04B00:  MOVFF  ADB,AEC
04B04:  MOVFF  ADA,AEB
04B08:  MOVLW  3F
04B0A:  MOVWF  xED
04B0C:  MOVLB  0
04B0E:  CALL   2EDC
04B12:  MOVFF  AD9,FEA
04B16:  MOVFF  AD8,FE9
04B1A:  MOVFF  01,FEF
.................... 
....................     return flash_data;
04B1E:  MOVLW  96
04B20:  MOVWF  01
04B22:  MOVLW  0A
04B24:  MOVWF  02
04B26:  GOTO   4E52 (RETURN)
.................... }
.................... 
.................... void misf_update_address_area(void)
*
04E4E:  GOTO   49CA
04E52:  MOVFF  02,03
04E56:  MOVF   01,W
04E58:  MOVWF  FE1
04E5A:  MOVFF  03,FE2
04E5E:  MOVLW  0A
04E60:  MOVWF  FEA
04E62:  MOVLW  4E
04E64:  MOVWF  FE9
04E66:  MOVLW  40
04E68:  MOVWF  01
04E6A:  MOVFF  FE6,FEE
04E6E:  DECFSZ 01,F
04E70:  GOTO   4E6A
04E74:  MOVLW  0A
04E76:  MOVLB  A
04E78:  MOVWF  x8F
04E7A:  MOVLW  4E
04E7C:  MOVWF  x8E
.................... {
....................     FlashData_t flash_data = make_flash_data_table();
....................     FlashData_t *flash_data_ptr = &flash_data;
.................... 
....................     subsector_4kByte_erase(mis_fm, MISF_ADDRESS_TABLE[FLASH_ID_DATA_TABLE].start);
04E7E:  MOVFF  115,A93
04E82:  MOVFF  114,A92
04E86:  MOVFF  113,A91
04E8A:  MOVFF  112,A90
04E8E:  CLRF   x97
04E90:  CLRF   x96
04E92:  CLRF   x95
04E94:  CLRF   x94
04E96:  MOVLB  0
04E98:  CALL   4B2A
....................     write_data_bytes(mis_fm, MISF_ADDRESS_TABLE[FLASH_ID_DATA_TABLE].start, flash_data_ptr->bytes, PACKET_SIZE);
04E9C:  MOVLB  A
04E9E:  MOVF   x8E,W
04EA0:  MOVWF  01
04EA2:  MOVF   x8F,W
04EA4:  MOVWF  03
04EA6:  MOVF   01,W
04EA8:  MOVWF  x90
04EAA:  MOVFF  03,A91
04EAE:  MOVFF  115,AEE
04EB2:  MOVFF  114,AED
04EB6:  MOVFF  113,AEC
04EBA:  MOVFF  112,AEB
04EBE:  CLRF   xF2
04EC0:  CLRF   xF1
04EC2:  CLRF   xF0
04EC4:  CLRF   xEF
04EC6:  MOVFF  A91,AF4
04ECA:  MOVFF  A90,AF3
04ECE:  CLRF   xF6
04ED0:  MOVLW  40
04ED2:  MOVWF  xF5
04ED4:  MOVLB  0
04ED6:  CALL   3D26
04EDA:  RETURN 0
.................... }
.................... 
.................... 
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode)
.................... {
....................     FlashOperationStruct data;
....................     // 構造体の初期化
....................     data.mission_id = mission_id;
....................     data.func_type = func_type;
....................     data.write_mode = write_mode;
....................     data.source_type = SOURCE_MISF_UNCOPIED;
....................     enqueue_flash_operation(&data);
.................... }
.................... 
.................... void write_smf_header(smf_data_table_t *smf_data_table)
.................... {
.................... 
....................     int8 readdata[PACKET_SIZE];
....................     int8 retry_count;
....................     int1 crc_valid = 0;
....................     for (retry_count = 0; retry_count < CRC_RETRY_COUNT; retry_count++)
....................     {
....................         subsector_4kByte_erase(smf, CIGS_DATA_TABLE_START_ADDRESS);
....................         write_data_bytes(smf, CIGS_DATA_TABLE_START_ADDRESS, smf_data_table->bytes, PACKET_SIZE);
....................         read_data_bytes(smf, CIGS_DATA_TABLE_START_ADDRESS, readdata, PACKET_SIZE);
....................         if (is_crc_valid(readdata, PACKET_SIZE-1))
....................         {
....................             crc_valid = 1; // FIX: フラグ更新
....................             fprintf(PC, "CRC verification passed on attempt %d\r\n", retry_count + 1);
....................             break;
....................         }
....................     }
....................     if (!crc_valid)
....................     {
....................         fprintf(PC, "Error: CRC verification failed after %d attempts\r\n", CRC_RETRY_COUNT);
....................         // return; 
....................     }
.................... }
.................... 
.................... 
.................... 
.................... // End of file
.................... 
.................... 
.................... // アプリケーション実装ファイル
.................... #include "application/cigs_excute_mission.c"
.................... #include "../lib/tool/smf_queue.h"                   // ツールライブラリ
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... #include "../hal/cigs_config.h"             // システム設定
.................... #ifndef MMJ_CIGS_CONFIG_H
.................... #define MMJ_CIGS_CONFIG_H
.................... 
.................... 
.................... 
.................... 
.................... #include <18F67J94.h>
.................... //#include <16F1789.h>
.................... #opt 0 // 0 = no optimization, 1 = optimize for speed, 2 = optimize for size
.................... 
.................... #device ADC=12
.................... #use delay(crystal=16MHz)
.................... #fuses HS, NOWDT, NOBROWNOUT, NOPROTECT
.................... #device HIGH_INTS=TRUE
.................... #define PIC18
.................... //#define PIC16
.................... 
.................... 
.................... 
.................... #ifdef PIC16
....................     //#include <16F1789.h>
....................     #fuses NOMCLR
....................     //-------------Serial--------------------
....................     #use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8,stream=BOSS)
....................     #use rs232(baud=9600,parity=N,xmit=PIN_B4,bits=8,stream=PC,FORCE_SW)
.................... 
.................... 
....................     // -------------SPI--------------------
....................     // MOSI:PIN_C5, MISO:PIN_C4, SCK:PIN_C3
....................     // Shared Mission Flash
....................     #define MIS_FM_CS  PIN_D3
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS= 8, STREAM = MIS_FM_STREAM)
.................... 
....................     // Mission Flash
....................     #define SMF_CS PIN_D1
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = SMF_STREAM)
....................     #use spi(MASTER, SPI1, BAUD = 100000, MODE = 0, BITS = 8, STREAM = spi_cell_write)
....................     // Analog to Digital Converter 
....................     #define ADC_CS PIN_D2
....................     //#use spi(MASTER, SPI1, BAUD = 9600, MODE=2, BITS = 16, STREAM = ADC_STREAM)
....................     #use spi(MASTER, CLK = PIN_C3, DI = PIN_C4, DO = PIN_C5, ENABLE = PIN_D2, BAUD = 57600, BITS = 16, STREAM = ADC_STREAM, MODE = 2 )
....................     
....................     
....................     // AI/O___ADC
....................     #define TEMP_TOP PIN_B0
....................     #define TEMP_BOT PIN_A3
....................     #define CIGS_VOLT PIN_A0 //PIN_A0
....................     #define CIGS_CURR PIN_A1
....................     #define PD PIN_E0
....................     #define VREF PIN_A4
....................  
....................     // AI/O___DAC
....................     #define LOAD PIN_A5
.................... 
....................     /* DEMO
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A0, MODE=0, BITS=8, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A1, MODE=0, BITS=8, ENABLE_ACTIVE=1, STREAM=MISF)
....................     #use spi (MASTER, SPI1, ENABLE=PIN_A3, BAUD=40000, MODE=2, BITS=16, ENABLE_ACTIVE=1, STREAM=ADC)
....................     #use spi (MASTER, MODE=0, BITS=8, STREAM=SPI_4)
....................     */
.................... #endif
.................... 
.................... #ifdef PIC18
....................     //#include <18F67J94.h>
....................     //-------------UART--------------------
....................     // BOSS command port
....................     #pin_select TX3=PIN_E3                                                          
....................     #pin_select RX3=PIN_F2                                                        
....................     #use rs232(baud=9600, parity=N, UART3, bits=8, stream=BOSS, ERRORS)                      
....................     
....................     // PC debug port
....................     #pin_select TX4=PIN_E5
....................     #pin_select RX4=PIN_D4  
....................     #use rs232(baud=9600,parity=N, UART4, bits=8,stream=PC, ERRORS)
.................... 
....................     // -------------SPI--------------------
....................     // Shared Mission Flash
....................     #define SMF_CS PIN_A2
....................     #pin_select SCK1OUT=PIN_A3
....................     #pin_select SDI1=PIN_A0
....................     #pin_select SDO1=PIN_A1
....................     // #use spi (MASTER, SPI1, BAUD=200000, MODE=0, BITS=8, STREAM=SMF_STREAM)
....................     #use spi (MASTER, CLK=PIN_A3, DI=PIN_A1, DO=PIN_A0, BAUD=20000000, MODE=0, BITS=8, STREAM=SMF_STREAM)
.................... 
.................... 
....................     // Mission Flash
....................     #define MIS_FM_CS  PIN_G0
....................     #use spi (MASTER, CLK=PIN_E1, DI=PIN_E0, DO=PIN_E6, BAUD=20000000, MODE=0, BITS=8, STREAM=MIS_FM_STREAM)
.................... 
.................... 
....................     // ADC  
....................     #define ADC_CS PIN_B1
....................     // #pin_select SCK2OUT=PIN_B2
....................     // #pin_select SDI2=PIN_B4
....................     // #pin_select SDO2=PIN_B5
....................     // #use spi (MASTER, SPI2, BAUD=200000, MODE=2, BITS=16, STREAM=ADC_STREAM)
....................     #use spi (MASTER, CLK=PIN_B2, DI=PIN_B4, DO=PIN_B5, BAUD=20000000, MODE=2, BITS=16, STREAM=ADC_STREAM)
.................... 
....................     // DAC
....................     #define DAC1_CS PIN_D7
....................     #define DAC2_CS PIN_D6
....................     #use spi (MASTER, CLK=PIN_D5, DO=PIN_D4,  BAUD=20000000, MODE=2, BITS=16, STREAM=DAC_STREAM)
.................... 
.................... 
....................     // DI/O___
....................     #define CONNECT_CIGS1 PIN_C3
....................     #define CONNECT_CIGS2 PIN_C5
....................     #define EN_NPWR1 PIN_C7
....................     #define EN_NPWR2 PIN_C6
.................... 
.................... #endif
.................... 
.................... //-------------I/O port--------------------
.................... #use FIXED_IO( A_outputs=SMF_CS )
.................... #use FIXED_IO( B_outputs=ADC_CS )
.................... #use FIXED_IO( C_outputs=CONNECT_CIGS1, CONNECT_CIGS2, EN_NPWR1, EN_NPWR2 )
.................... #use FIXED_IO( D_outputs=DAC1_CS, DAC2_CS )
.................... #use FIXED_IO( G_outputs=MIS_FM_CS )
.................... 
.................... // ADC Settings
.................... #define ADC_CIGS1_VOLT      AD7490_CH0
.................... #define ADC_CIGS1_CURR      AD7490_CH1
.................... #define ADC_CIGS1_AMP       AD7490_CH2
.................... #define ADC_CIGS1_VREF      AD7490_CH3
.................... #define ADC_CIGS2_VOLT      AD7490_CH4
.................... #define ADC_CIGS2_CURR      AD7490_CH5
.................... #define ADC_CIGS2_AMP       AD7490_CH6
.................... #define ADC_CIGS2_VREF      AD7490_CH7
.................... #define ADC_CIGS1_DAC       AD7490_CH8
.................... #define ADC_CIGS2_DAC       AD7490_CH9
.................... #define EMPTY_VIN0          AD7490_CH10
.................... #define EMPTY_VIN1          AD7490_CH11
.................... #define ADC_TEMP_MIS7       AD7490_CH12
.................... #define ADC_TEMP_PY_TOP     AD7490_CH13
.................... #define ADC_TEMP_PY_BOT     AD7490_CH14
.................... #define ADC_PD              AD7490_CH15
.................... 
.................... #endif // MMJ_CIGS_CONFIG_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/communication/value_status.h"    // ステータス定義
.................... #ifndef VALUE_STATUS_H
.................... #define VALUE_STATUS_H
.................... 
.................... // there is used in main.c and mission
.................... 
.................... volatile int1 is_use_smf_req_in_mission = FALSE;
.................... volatile int8 status[4] = {IDLE, 0, 0, 0};
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "cigs_excute_mission.h"                  // 同じフォルダのヘッダー
.................... #ifndef MMJ_CIGS_EXCUTE_MISSION_H
.................... #define MMJ_CIGS_EXCUTE_MISSION_H
.................... 
.................... // _________ values _________
.................... //#define PARAMETER_LENGTH 8
.................... // #include "../lib/communication/mission_tools.h"
.................... 
.................... 
.................... 
.................... int1 execute_command(Command *command);
.................... 
.................... void handle_uplink_command(Command *command);
.................... 
.................... int1 handle_status_check(Command *command);
.................... 
.................... void handle_smf_available(Command *command);
.................... 
.................... void handle_recieve_time(Command *command);
.................... 
.................... 
.................... void execute_mission(unsigned int8 *content);
.................... 
.................... int8 duration_sec = 30; // duration sec for mission
.................... 
.................... 
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "cigs_mode_mission.h"                    // 同じフォルダのヘッダー
.................... #ifndef MMJ_CIGS_MODE_MISSION_H
.................... #define MMJ_CIGS_MODE_MISSION_H
.................... 
.................... #define CMD_LENGTH 9
.................... 
.................... // ______________CMD ID________________
.................... // Operation Command
.................... #define ID_MEAS_IV 0xA0
.................... #define ID_MEAS_DEBUG 0xA1
.................... #define ID_MEAS_ENV 0xA2
.................... #define ID_MEAS_ENV_PRINT 0xA3
.................... #define ID_MEAS_IV_PRINT 0xA4
.................... #define ID_MEAS_PD 0xA5
.................... 
.................... // ______________MODE FUNCTIONS____________
.................... void mode_meas_iv(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_debug(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_env(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_env_debug(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_pd(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_1sweep(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_port1(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_port2(unsigned int8 *uplinkcmd_ptr);
.................... 
.................... typedef union {
....................     unsigned int8 raw;
....................     struct {
....................         unsigned int8 mission_continue : 1;
....................         unsigned int8 erase_and_save : 1;
....................         unsigned int8 reserved : 6;
....................     } flag;
.................... } mission_state_t;
.................... 
.................... 
.................... typedef struct {
....................     unsigned int8 id; // Command ID
....................     unsigned int16 sleep_time; // Sleep time in milliseconds
....................     unsigned int16 curr_threshold; // Current threshold for measurement
....................     unsigned int16 pd_threshold; // PD threshold for measurement
....................     unsigned int16 curr_limit; // Current limit for measurement
....................     unsigned int16 meas_time; // Measurement time in milliseconds
....................     mission_state_t mission_state; // Flag to indicate if the measurement is finished
.................... } MEAS_IV_CMD;
.................... 
.................... typedef struct {
....................     unsigned int8 id;
....................     unsigned int16 interval;
....................     unsigned int16 pd_threshold;
....................     unsigned int16 meas_time;
....................     unsigned int16 log_threshold;
....................     unsigned int16 sweep_limit;
.................... } meas_iv_param_t;
.................... 
.................... 
.................... // MEAS_IV_CMD make_meas_iv_cmd(unsigned int8 uplinkcmd[]);
.................... meas_iv_param_t make_meas_iv_cmd(int8 *uplinkcmd_ptr);
.................... void print_meas_iv_cmd(meas_iv_param_t *cmd_ptr);
.................... #endif // MMJ_CIGS_MODE_MISSION_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "cigs_mode_flash.h"                      // 同じフォルダのヘッダー
.................... #ifndef MMJ_CIGS_MODE_FLASH_H
.................... #define MMJ_CIGS_MODE_FLASH_H
.................... 
.................... #define PARAMETER_LENGTH 9
.................... 
.................... 
.................... typedef union{
....................     unsigned int8 bytes[PARAMETER_LENGTH];
....................     struct{
....................         unsigned int8 cmd;
....................         unsigned int32 address;
....................         unsigned int8 blank;
....................         unsigned int16 copy_packet_size;
....................         unsigned int8 sector_size;
....................     } fields;
.................... } flash_mode_param_t;
.................... 
.................... 
.................... 
.................... // ___________MISF FUNCTIONS____________
.................... // Command ID 
.................... #define ID_MISF_ERASE_ALL 0x80
.................... #define ID_MISF_ERASE_1SECTOR 0x81
.................... #define ID_MISF_ERASE_4kByte_SUBSECTOR 0x82
.................... #define ID_MISF_ERASE_64kByte_SUBSECTOR 0x83
.................... #define ID_MISF_WRITE_DEMO 0x84
.................... #define ID_MISF_WRITE_4kByte_SUBSECTOR 0x85
.................... #define ID_MISF_READ 0x86
.................... #define ID_MISF_READ_ADDRESS 0x87
.................... #define ID_MISF_ERASE_AND_RESET 0x88
.................... #define ID_MISF_ADDRESS_RESET 0x8F
.................... 
.................... // Mode
.................... void mode_misf_erase_all(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_1sector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_4kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_64kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_write_demo(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_write_4kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_read(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_read_address(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_erase_and_reset(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_address_reset(unsigned int8 *uplinkcmd_ptr);
.................... 
.................... // ___________SMF FUNCTIONS____________
.................... // Command
.................... #define ID_SMF_COPY 0x90
.................... #define ID_SMF_READ 0x91
.................... #define ID_SMF_ERASE 0x92
.................... #define ID_SMF_COPY_FORCE 0x93
.................... #define ID_SMF_READ_FORCE 0x94
.................... #define ID_SMF_ERASE_FORCE 0x95
.................... #define ID_SMF_RESET 0x96
.................... 
.................... // Mode
.................... void mode_smf_copy(unsigned int8 parameter[]);
.................... void mode_smf_read(unsigned int8 parameter[]);
.................... void mode_smf_erase(unsigned int8 parameter[]);
.................... void mode_smf_copy_force(unsigned int8 parameter[]);
.................... void mode_smf_read_force(unsigned int8 parameter[]);
.................... void mode_smf_erase_force(unsigned int8 parameter[]);
.................... void mode_smf_address_reset(unsigned int8 parameter[]);
.................... 
.................... #endif // MMJ_CIGS_MODE_FLASH_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... 
.................... #include "../domain/cigs_smf.h"             // ストレージ機能
.................... #ifndef MMJ_CIGS_SMF_H
.................... #define MMJ_CIGS_SMF_H
.................... 
.................... #include "../lib/tool/smf_queue.h"  // FlashOperationStruct定義
.................... #include "../hal/cigs_config.h" // int8,int32 型など(CCS C) 依存
.................... #include "cigs_flash.h"       // MISF_ADDRESS_TABLE, misf_counter_table 依存
.................... 
.................... #define CRC_RETRY_COUNT 5
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t smf_counter_table[];
.................... 
.................... extern int1 smf_update_flag[10]; // SMF更新フラグ
.................... 
.................... 
.................... // SMF管理用構造体
.................... typedef struct {
....................     ADDRESS_AREA_T header_area;
....................     ADDRESS_AREA_T data_area;
.................... } SMF_AREA_T;
.................... #define SMF_ID_COUNT 7
.................... 
.................... 
.................... // Mission ID 列挙（smf_queue.h の MissionID と整合させる）
.................... typedef enum{
....................     SMF_MISSION_DATA_TABLE = CIGS_DATA_TABLE,
....................     SMF_MISSION_PICLOG     = CIGS_PICLOG_DATA,
....................     SMF_MISSION_ENVIRO     = CIGS_ENVIRO_DATA,
....................     SMF_MISSION_IV1_HEADER = CIGS_IV1_HEADER,
....................     SMF_MISSION_IV1_DATA   = CIGS_IV1_DATA,
....................     SMF_MISSION_IV2_HEADER = CIGS_IV2_HEADER,
....................     SMF_MISSION_IV2_DATA   = CIGS_IV2_DATA
.................... } SmfMissionAlias; // 利便用Alias
.................... 
.................... // SMF操作関数
.................... void smf_write(FlashOperationStruct *smf_data_ptr);
.................... void smf_read(FlashOperationStruct *smf_data_ptr);
.................... void smf_erase(FlashOperationStruct *smf_data_ptr);
.................... 
.................... // カウンター管理関数
.................... void update_misf_counters(int8 mission_id, int32 transfer_size);
.................... void reset_misf_counters(int8 mission_id);
.................... void print_misf_counter_status(int8 mission_id);
.................... 
.................... 
.................... // SMF Partition Header
.................... typedef struct {
....................     int32 misf_used_size;
....................     int32 smf_copied_size;
.................... } SMF_PARTITION;
.................... 
.................... 
.................... 
.................... 
.................... typedef union {
....................     unsigned int8 bytes[PACKET_SIZE];  // 生データアクセス用
....................     struct {
....................         SMF_PARTITION headers[7];
....................         unsigned int8 reserved[7];
....................         unsigned int8 crc;  // 最後の1バイト
....................     } fields;
.................... } smf_data_table_t;
.................... 
.................... void smf_write_header(smf_data_table_t *smf_data_table);
.................... void print_smf_counter_status(smf_data_table_t *smf_data_table);
.................... 
.................... // mission_idから対応するSMF_PARTITIONを取得する関数
.................... SMF_PARTITION* get_smf_partition_by_mission_id(int8 mission_id);
.................... void update_smf_partition_by_mission_id(int8 mission_id, int32 used_size, int32 loop_counter);
.................... 
.................... void smf_update_smf_area(void);
.................... 
.................... typedef union{
....................     unsigned int8 bytes[PACKET_SIZE];
....................     struct {
....................         unsigned int32 piclog_used_size;
....................         unsigned int32 envero_used_size;
....................         unsigned int32 iv1_header_used_size;
....................         unsigned int32 iv1_data_used_size;
....................         unsigned int32 iv2_header_used_size;
....................         unsigned int32 iv2_data_used_size;
....................         unsigned int32 reserved[9];
....................     } fields;
.................... 
.................... }smf_address_header_t;
.................... 
.................... 
.................... 
.................... #endif  // MMJ_CIGS_SMF_H
.................... 
.................... #include "../lib/communication/typedef_content.h"    // 通信ライブラリ
.................... #ifndef TYPEDEF_CONTENT_H
.................... #define TYPEDEF_CONTENT_H
.................... 
.................... // there is used in main.c
.................... 
.................... typedef enum {
....................     EXECUTING_MISSION = 0x02,
....................     IDLE              = 0x03,
....................     SMF_USE_REQ       = 0x04,
....................     COPYING           = 0x05,
....................     FINISHED          = 0x06,
....................     TIME_REQ          = 0x07
.................... } MisMcuStatusContent;
.................... 
.................... 
.................... typedef enum {
....................     ALLOW = 0x01,
....................     DENY  = 0x00
.................... } IsSmfAvailableContent;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../lib/communication/mission_tools.h"      // ミッションツール
.................... #ifndef MISSION_TOOLS_H
.................... #define MISSION_TOOLS_H
.................... 
.................... #include "communication_driver.h"
.................... 
.................... 
.................... // ________________ fuctions ____________
.................... 
.................... // Check and reply to messages received from BOSS PIC
.................... void check_and_respond_to_boss();
.................... 
.................... // Request using SMF to BOSS PIC
.................... // !!!After use, you must call `void finished_use_smf()`
.................... int1 req_use_smf();
.................... 
.................... // Call after using SMF
.................... void finished_use_smf();
.................... //unsigned int8 calc_crc8(unsigned int8 frame[], int8 payload_size);
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #include "../domain/cigs_iv.h"          // 測定機能
.................... #ifndef mmj_cigs_iv_H
.................... #define mmj_cigs_iv_H
.................... 
.................... /*
.................... // _________ values _________
.................... #define MISSION_DATA_SIZE 64
.................... volatile unsigned int8 mission_datas[MISSION_DATA_SIZE] = {0x00};
.................... volatile int8 executed_mission_count = 0;
.................... */
.................... 
.................... #define START_MAKER 0xFF
.................... #define RESERVED_VALUE 0x00
.................... 
.................... #define HEADER_SIZE 5  // START_MAKER + time (4バイト)
.................... #define ENV_SIZE    6  // pd + temp_py_top + temp_py_bot + temp_mis7 packed
.................... #define DATA_SIZE_PER_STEP 3 // data0 + data1 12bitずつ
.................... 
.................... 
.................... void make_meas_header(unsigned int8 *packetdata, unsigned int8 *cmd);
.................... 
.................... 
.................... // void sweep(unsigned int8 parameter[]);
.................... void sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit, unsigned int16 pd_limit);  
.................... void test_sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit);
.................... 
.................... typedef struct{
....................     unsigned int32 time;
....................     unsigned int16 pd;
....................     unsigned int16 temp_py_top;
....................     unsigned int16 temp_py_bot;
....................     unsigned int16 temp_mis7;
.................... } iv_env_t;
.................... 
.................... /*
.................... typedef struct{
....................     unsigned int8 port_num; // Port number (1 or 2)
....................     unsigned int16 sweep_step; // Number of steps in the sweep
....................     unsigned int16 data_buffer[2][0xFF]; // Data buffer for voltage and current readings
....................     int1 active; // Indicates if the port is active (1 for active, 0 for inactive)
.................... } sweep_config_t;
.................... */
.................... 
.................... 
.................... typedef union{
....................     struct{
....................         unsigned int8 start_marker;
....................         unsigned int8 reserved;
....................         unsigned int8 command;
....................         unsigned int8 port_num;
....................         unsigned int16 data[2];
....................     }fields;
.................... 
....................     unsigned int8 raw[PACKET_SIZE];
.................... }iv_packet_t;
.................... 
.................... typedef struct {
....................     unsigned int16 voltage;
....................     unsigned int16 current;
.................... } iv_data_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     unsigned int8 data_buffer[0x300];
....................     int1 active;
.................... } sweep_config_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     iv_data_t data_buffer[0xFF];
....................     int1 active;
.................... } sweep_debug_config_t;
.................... 
.................... typedef struct 
.................... {
....................     unsigned int8 data[3];
.................... } meas_data_t;
.................... 
.................... #define PACKET_IV_HEADER_SIZE 51
.................... #define IV_HEADER_SIZE 17
.................... #define PACKET_IV_DATA_SIZE  63
.................... #define IV_DATA_SIZE  21
.................... 
.................... typedef union{
....................     unsigned int8 raw[PACKET_SIZE];
....................     struct {
....................         unsigned int8  start_marker;
....................         unsigned int32 time_sec;
....................         unsigned int8 time_msec;
....................         unsigned int8 envdata[6];
....................         unsigned int8 ivdata[PACKET_IV_HEADER_SIZE];
....................         unsigned int8 crc;
....................     }header;
....................     struct {
....................         unsigned int8 iv_data[PACKET_IV_DATA_SIZE];
....................         unsigned int8 crc;
....................     }data;
.................... } iv_data_packet_t;
.................... 
....................     
.................... 
.................... iv_env_t create_meas_data();
.................... void log_meas_data(iv_env_t *measured_data_ptr, sweep_config_t *port_data_ptr);
.................... 
.................... void sweep_with_print();
.................... 
.................... unsigned int16 calc_pd_value(unsigned int16 data);
.................... // 
.................... unsigned int16 calc_curr_value(unsigned int16 data);
.................... #define SHUNT_RESISTANCE_OHM 0.05
.................... #define AMP_GAIN 200
.................... #define ADC_REF_VOLTAGE_MV 2500 
.................... #define ADC_MAX_READING 4095
.................... #define ADC_CURR_REF_VOLTAGE_MV 1250
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/communication/communication_driver.h" // 通信ドライバー
.................... #ifndef COMMUNICATION_DRIVER_H
.................... #define COMMUNICATION_DRIVER_H
.................... 
.................... #include "communication.h"
.................... 
.................... 
.................... // This is redundant, but it is a process to hide the Communication library as a driver.
.................... Command make_command(unsigned int8 receive_signal[], int8 receive_signal_size);
.................... 
.................... void transmit_ack(void);
.................... void transmit_status(void);
.................... 
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... 
.................... void execute_mission(unsigned int8 *uplink_cmt_ptr)
*
0F6A0:  MOVLB  1
0F6A2:  MOVF   x9F,W
0F6A4:  MOVWF  FE9
0F6A6:  MOVF   xA0,W
0F6A8:  MOVWF  FEA
0F6AA:  MOVFF  FEF,1A1
.................... {
....................    // record to executed mission list
....................    int8 command_id = uplink_cmt_ptr[0];
....................    //unsigned int8 *parameter = &content[1];
....................       
....................    // execution mission
....................    fprintf(PC, "\r\n______________________________\r\n_____Start execute_mission_____\r\n\r\n");
0F6AE:  MOVLW  28
0F6B0:  MOVWF  FF6
0F6B2:  MOVLW  11
0F6B4:  MOVWF  FF7
0F6B6:  MOVLW  00
0F6B8:  MOVWF  FF8
0F6BA:  MOVLB  0
0F6BC:  CALL   20CE
....................    fprintf(PC, "Command ID: %X\r\n\r\n", command_id);
0F6C0:  MOVLW  6E
0F6C2:  MOVWF  FF6
0F6C4:  MOVLW  11
0F6C6:  MOVWF  FF7
0F6C8:  MOVLW  00
0F6CA:  MOVWF  FF8
0F6CC:  MOVLW  0C
0F6CE:  MOVLB  A
0F6D0:  MOVWF  x4E
0F6D2:  MOVLB  0
0F6D4:  CALL   2104
0F6D8:  MOVFF  1A1,9E8
0F6DC:  MOVLW  37
0F6DE:  MOVLB  9
0F6E0:  MOVWF  xE9
0F6E2:  MOVLB  0
0F6E4:  CALL   2334
0F6E8:  MOVLW  7C
0F6EA:  MOVWF  FF6
0F6EC:  MOVLW  11
0F6EE:  MOVWF  FF7
0F6F0:  MOVLW  00
0F6F2:  MOVWF  FF8
0F6F4:  MOVLW  04
0F6F6:  MOVLB  A
0F6F8:  MOVWF  x4E
0F6FA:  MOVLB  0
0F6FC:  CALL   2104
....................    switch(command_id)
0F700:  MOVLB  1
0F702:  MOVF   xA1,W
0F704:  XORLW  10
0F706:  MOVLB  0
0F708:  BTFSC  FD8.2
0F70A:  GOTO   F7FA
0F70E:  XORLW  01
0F710:  BTFSC  FD8.2
0F712:  GOTO   F7FE
0F716:  XORLW  03
0F718:  BTFSC  FD8.2
0F71A:  GOTO   F802
0F71E:  XORLW  13
0F720:  BTFSC  FD8.2
0F722:  GOTO   F806
0F726:  XORLW  12
0F728:  BTFSC  FD8.2
0F72A:  GOTO   F80A
0F72E:  XORLW  93
0F730:  BTFSC  FD8.2
0F732:  GOTO   F80E
0F736:  XORLW  01
0F738:  BTFSC  FD8.2
0F73A:  GOTO   F81E
0F73E:  XORLW  03
0F740:  BTFSC  FD8.2
0F742:  GOTO   F82E
0F746:  XORLW  01
0F748:  BTFSC  FD8.2
0F74A:  GOTO   F83E
0F74E:  XORLW  06
0F750:  BTFSC  FD8.2
0F752:  GOTO   F84E
0F756:  XORLW  03
0F758:  BTFSC  FD8.2
0F75A:  GOTO   F85E
0F75E:  XORLW  0E
0F760:  BTFSC  FD8.2
0F762:  GOTO   F86E
0F766:  XORLW  18
0F768:  BTFSC  FD8.2
0F76A:  GOTO   F87E
0F76E:  XORLW  01
0F770:  BTFSC  FD8.2
0F772:  GOTO   F88E
0F776:  XORLW  03
0F778:  BTFSC  FD8.2
0F77A:  GOTO   F89E
0F77E:  XORLW  01
0F780:  BTFSC  FD8.2
0F782:  GOTO   F8AE
0F786:  XORLW  07
0F788:  BTFSC  FD8.2
0F78A:  GOTO   F8BE
0F78E:  XORLW  01
0F790:  BTFSC  FD8.2
0F792:  GOTO   F8CE
0F796:  XORLW  03
0F798:  BTFSC  FD8.2
0F79A:  GOTO   F8DE
0F79E:  XORLW  36
0F7A0:  BTFSC  FD8.2
0F7A2:  GOTO   F8E6
0F7A6:  XORLW  01
0F7A8:  BTFSC  FD8.2
0F7AA:  GOTO   F8F6
0F7AE:  XORLW  03
0F7B0:  BTFSC  FD8.2
0F7B2:  GOTO   F906
0F7B6:  XORLW  01
0F7B8:  BTFSC  FD8.2
0F7BA:  GOTO   F916
0F7BE:  XORLW  07
0F7C0:  BTFSC  FD8.2
0F7C2:  GOTO   F91A
0F7C6:  XORLW  01
0F7C8:  BTFSC  FD8.2
0F7CA:  GOTO   F922
0F7CE:  XORLW  03
0F7D0:  BTFSC  FD8.2
0F7D2:  GOTO   F932
0F7D6:  XORLW  01
0F7D8:  BTFSC  FD8.2
0F7DA:  GOTO   FA10
0F7DE:  XORLW  0F
0F7E0:  BTFSC  FD8.2
0F7E2:  GOTO   FA28
0F7E6:  XORLW  01
0F7E8:  BTFSC  FD8.2
0F7EA:  GOTO   FA40
0F7EE:  XORLW  19
0F7F0:  BTFSC  FD8.2
0F7F2:  GOTO   FA58
0F7F6:  GOTO   FC64
....................    {
....................       case 0x10: // example command
....................          // mode_dummy(content);
....................          //mode_iv_meas_adc();
....................          break;
0F7FA:  GOTO   FC78
....................       case 0x11:
....................          // mode_test_iv(content);
....................          break;
0F7FE:  GOTO   FC78
....................       case 0x12:
....................          // test_adc();
....................          break;
0F802:  GOTO   FC78
....................       case 0x01:
....................          //mode_measure(content); // check if the flash is connected
....................          break;
0F806:  GOTO   FC78
....................       case 0x13:
....................          // mode_sweep_port1(content[1]); // Sweep Port 1 with the given step
....................          break;
0F80A:  GOTO   FC78
.................... 
....................       // ___________________ MISF Commands ______________________
....................       case ID_MISF_ERASE_ALL:
....................          mode_misf_erase_all(uplink_cmt_ptr);
0F80E:  MOVFF  1A0,1CB
0F812:  MOVFF  19F,1CA
0F816:  CALL   5A66
....................          break;
0F81A:  GOTO   FC78
....................       case ID_MISF_ERASE_1SECTOR:
....................          mode_misf_erase_1sector(uplink_cmt_ptr);
0F81E:  MOVFF  1A0,1B0
0F822:  MOVFF  19F,1AF
0F826:  GOTO   5BFE
....................          break;
0F82A:  GOTO   FC78
....................       case ID_MISF_ERASE_4kByte_SUBSECTOR:
....................          mode_misf_erase_4kbyte_subsector(uplink_cmt_ptr);
0F82E:  MOVFF  1A0,1B0
0F832:  MOVFF  19F,1AF
0F836:  GOTO   5E28
....................          break;
0F83A:  GOTO   FC78
....................       case ID_MISF_ERASE_64kByte_SUBSECTOR:
....................          mode_misf_erase_64kbyte_subsector(uplink_cmt_ptr);
0F83E:  MOVFF  1A0,1B0
0F842:  MOVFF  19F,1AF
0F846:  GOTO   604A
....................          break;
0F84A:  GOTO   FC78
....................       case ID_MISF_WRITE_4kByte_SUBSECTOR:
....................          mode_misf_write_4kbyte_subsector(uplink_cmt_ptr);
0F84E:  MOVFF  1A0,1B0
0F852:  MOVFF  19F,1AF
0F856:  GOTO   62C8
....................          break;
0F85A:  GOTO   FC78
....................       case ID_MISF_READ:
....................          mode_misf_read(uplink_cmt_ptr);
0F85E:  MOVFF  1A0,1B0
0F862:  MOVFF  19F,1AF
0F866:  GOTO   6520
....................          break;
0F86A:  GOTO   FC78
....................       case ID_MISF_ERASE_AND_RESET:
....................          mode_misf_erase_and_reset(uplink_cmt_ptr);
0F86E:  MOVFF  1A0,1C9
0F872:  MOVFF  19F,1C8
0F876:  CALL   6E92
....................          break;
0F87A:  GOTO   FC78
.................... 
....................       // ___________________ SMF Commands ______________________
....................       case ID_SMF_COPY:
....................          mode_smf_copy(uplink_cmt_ptr);
0F87E:  MOVFF  1A0,1B0
0F882:  MOVFF  19F,1AF
0F886:  GOTO   6EE8
....................          break;
0F88A:  GOTO   FC78
....................       case ID_SMF_READ:
....................          mode_smf_read(uplink_cmt_ptr);
0F88E:  MOVFF  1A0,1B0
0F892:  MOVFF  19F,1AF
0F896:  GOTO   70F4
....................          break;
0F89A:  GOTO   FC78
....................       case ID_SMF_ERASE:
....................          mode_smf_erase(uplink_cmt_ptr);
0F89E:  MOVFF  1A0,1B0
0F8A2:  MOVFF  19F,1AF
0F8A6:  GOTO   73C6
....................          break;
0F8AA:  GOTO   FC78
....................       case ID_SMF_COPY_FORCE:
....................          mode_smf_address_reset(uplink_cmt_ptr);
0F8AE:  MOVFF  1A0,1B0
0F8B2:  MOVFF  19F,1AF
0F8B6:  GOTO   75B0
....................          break;
0F8BA:  GOTO   FC78
....................       case ID_SMF_READ_FORCE:
....................          mode_smf_read_force(uplink_cmt_ptr);
0F8BE:  MOVFF  1A0,1B0
0F8C2:  MOVFF  19F,1AF
0F8C6:  GOTO   772E
....................          break;
0F8CA:  GOTO   FC78
....................       case ID_SMF_ERASE_FORCE:
....................          mode_smf_erase_force(uplink_cmt_ptr);
0F8CE:  MOVFF  1A0,1B0
0F8D2:  MOVFF  19F,1AF
0F8D6:  GOTO   7B40
....................          break;
0F8DA:  GOTO   FC78
....................       case ID_SMF_RESET:
....................          smf_data_table_init();
0F8DE:  CALL   742E
....................          break;
0F8E2:  GOTO   FC78
....................          
....................          
....................       // ________________MEAS________________________________
....................       case ID_MEAS_IV:
....................          mode_meas_iv(uplink_cmt_ptr);
0F8E6:  MOVFF  1A0,1B0
0F8EA:  MOVFF  19F,1AF
0F8EE:  GOTO   AA68
....................          break;
0F8F2:  GOTO   FC78
....................       case ID_MEAS_DEBUG:
....................          mode_meas_iv_debug(uplink_cmt_ptr);
0F8F6:  MOVFF  1A0,1B0
0F8FA:  MOVFF  19F,1AF
0F8FE:  GOTO   C7B6
....................          break;
0F902:  GOTO   FC78
....................       case ID_MEAS_ENV:
....................          mode_meas_env(uplink_cmt_ptr);
0F906:  MOVFF  1A0,1B0
0F90A:  MOVFF  19F,1AF
0F90E:  GOTO   CA98
....................          break;
0F912:  GOTO   FC78
....................       case ID_MEAS_ENV_PRINT:
....................          // mode_meas_env_debug(uplink_cmt_ptr);
....................          break;
0F916:  GOTO   FC78
....................       case ID_MEAS_IV_PRINT:
....................          sweep_with_print();
0F91A:  GOTO   CB80
....................          break;
0F91E:  GOTO   FC78
....................       case ID_MEAS_PD:
....................          mode_meas_pd(uplink_cmt_ptr);
0F922:  MOVFF  1A0,1B0
0F926:  MOVFF  19F,1AF
0F92A:  GOTO   E296
....................          break;
0F92E:  GOTO   FC78
....................       case 0xA6:
....................          connect_port1();
0F932:  CALL   5004
....................          connect_port2();
0F936:  CALL   500C
....................          unsigned int16 cell1_curr;
....................          unsigned int16 cell2_curr;
....................          mcp4901_1_write(10); 
0F93A:  MOVLB  9
0F93C:  CLRF   xDD
0F93E:  MOVLW  0A
0F940:  MOVWF  xDC
0F942:  MOVLB  0
0F944:  CALL   2664
....................          mcp4901_2_write(10);
0F948:  MOVLB  9
0F94A:  CLRF   xDD
0F94C:  MOVLW  0A
0F94E:  MOVWF  xDC
0F950:  MOVLB  0
0F952:  CALL   26A2
....................          while (TRUE)
....................          {  
....................             cell1_curr = ad7490_read(ADC_CIGS1_CURR);
0F956:  MOVLW  01
0F958:  MOVLB  9
0F95A:  MOVWF  xEE
0F95C:  MOVLB  0
0F95E:  CALL   22B4
0F962:  MOVFF  02,1A3
0F966:  MOVFF  01,1A2
....................             cell2_curr = ad7490_read(ADC_CIGS2_CURR);
0F96A:  MOVLW  05
0F96C:  MOVLB  9
0F96E:  MOVWF  xEE
0F970:  MOVLB  0
0F972:  CALL   22B4
0F976:  MOVFF  02,1A5
0F97A:  MOVFF  01,1A4
....................             fprintf(PC, "%04LX,%04LX\r\n", cell1_curr, cell2_curr);
0F97E:  MOVFF  1A3,9E8
0F982:  MOVLW  37
0F984:  MOVLB  9
0F986:  MOVWF  xE9
0F988:  MOVLB  0
0F98A:  CALL   2334
0F98E:  MOVFF  1A2,9E8
0F992:  MOVLW  37
0F994:  MOVLB  9
0F996:  MOVWF  xE9
0F998:  MOVLB  0
0F99A:  CALL   2334
0F99E:  MOVLW  2C
0F9A0:  BTFSS  FA6.6
0F9A2:  GOTO   F9A0
0F9A6:  MOVLB  E
0F9A8:  MOVWF  xF9
0F9AA:  MOVFF  1A5,9E8
0F9AE:  MOVLW  37
0F9B0:  MOVLB  9
0F9B2:  MOVWF  xE9
0F9B4:  MOVLB  0
0F9B6:  CALL   2334
0F9BA:  MOVFF  1A4,9E8
0F9BE:  MOVLW  37
0F9C0:  MOVLB  9
0F9C2:  MOVWF  xE9
0F9C4:  MOVLB  0
0F9C6:  CALL   2334
0F9CA:  MOVLW  0D
0F9CC:  BTFSS  FA6.6
0F9CE:  GOTO   F9CC
0F9D2:  MOVLB  E
0F9D4:  MOVWF  xF9
0F9D6:  MOVLW  0A
0F9D8:  MOVLB  0
0F9DA:  BTFSS  FA6.6
0F9DC:  GOTO   F9DA
0F9E0:  MOVLB  E
0F9E2:  MOVWF  xF9
....................             delay_ms(1000);
0F9E4:  MOVLW  04
0F9E6:  MOVLB  1
0F9E8:  MOVWF  xAF
0F9EA:  MOVLB  0
0F9EC:  MOVLW  FA
0F9EE:  MOVLB  B
0F9F0:  MOVWF  x03
0F9F2:  MOVLB  0
0F9F4:  CALL   20A0
0F9F8:  MOVLB  1
0F9FA:  DECFSZ xAF,F
0F9FC:  BRA    FA02
0F9FE:  BRA    FA06
0FA00:  MOVLB  0
0FA02:  MOVLB  0
0FA04:  BRA    F9EC
0FA06:  MOVLB  0
0FA08:  GOTO   F956
....................          }
....................          break;
0FA0C:  GOTO   FC78
....................       case 0xA7:
....................          connect_port1();
0FA10:  CALL   5004
....................          connect_port2();
0FA14:  CALL   500C
....................          mode_meas_iv_1sweep(uplink_cmt_ptr);
0FA18:  MOVFF  1A0,1B0
0FA1C:  MOVFF  19F,1AF
0FA20:  GOTO   E48E
....................          break;
0FA24:  GOTO   FC78
.................... 
....................       case 0xA8:
....................          connect_port1();
0FA28:  CALL   5004
....................          connect_port2();
0FA2C:  CALL   500C
....................          mode_meas_iv_port1(uplink_cmt_ptr);
0FA30:  MOVFF  1A0,1B0
0FA34:  MOVFF  19F,1AF
0FA38:  GOTO   F198
....................          break;
0FA3C:  GOTO   FC78
....................       
....................       case 0xA9:
....................          connect_port1();
0FA40:  CALL   5004
....................          connect_port2();
0FA44:  CALL   500C
....................          mode_meas_iv_port2(uplink_cmt_ptr);
0FA48:  MOVFF  1A0,1B0
0FA4C:  MOVFF  19F,1AF
0FA50:  GOTO   F41C
....................       break;
0FA54:  GOTO   FC78
.................... 
....................       // ________________Others______________________________
....................       case 0xB0:
....................          unsigned int32 total_seconds = get_current_sec();
....................          unsigned int16 days;
....................          unsigned int8 hours, minutes, seconds;
0FA58:  CALL   3A08
0FA5C:  MOVFF  03,1A9
0FA60:  MOVFF  02,1A8
0FA64:  MOVFF  01,1A7
0FA68:  MOVFF  00,1A6
....................          days    = total_seconds / 86400;
0FA6C:  BCF    FD8.1
0FA6E:  MOVFF  1A9,219
0FA72:  MOVFF  1A8,218
0FA76:  MOVFF  1A7,217
0FA7A:  MOVFF  1A6,216
0FA7E:  MOVLB  2
0FA80:  CLRF   x1D
0FA82:  MOVLW  01
0FA84:  MOVWF  x1C
0FA86:  MOVLW  51
0FA88:  MOVWF  x1B
0FA8A:  MOVLW  80
0FA8C:  MOVWF  x1A
0FA8E:  MOVLB  0
0FA90:  CALL   6340
0FA94:  MOVFF  01,1AB
0FA98:  MOVFF  00,1AA
....................          hours   = (total_seconds % 86400) / 3600;
0FA9C:  BSF    FD8.1
0FA9E:  MOVLW  01
0FAA0:  MOVWF  FEA
0FAA2:  MOVLW  AF
0FAA4:  MOVWF  FE9
0FAA6:  MOVFF  1A9,219
0FAAA:  MOVFF  1A8,218
0FAAE:  MOVFF  1A7,217
0FAB2:  MOVFF  1A6,216
0FAB6:  MOVLB  2
0FAB8:  CLRF   x1D
0FABA:  MOVLW  01
0FABC:  MOVWF  x1C
0FABE:  MOVLW  51
0FAC0:  MOVWF  x1B
0FAC2:  MOVLW  80
0FAC4:  MOVWF  x1A
0FAC6:  MOVLB  0
0FAC8:  CALL   6340
0FACC:  MOVFF  1B2,1B6
0FAD0:  MOVFF  1B1,1B5
0FAD4:  MOVFF  1B0,1B4
0FAD8:  MOVFF  1AF,1B3
0FADC:  MOVFF  FEA,1B8
0FAE0:  MOVFF  FE9,1B7
0FAE4:  BCF    FD8.1
0FAE6:  MOVFF  1B6,219
0FAEA:  MOVFF  1B5,218
0FAEE:  MOVFF  1B4,217
0FAF2:  MOVFF  1B3,216
0FAF6:  MOVLB  2
0FAF8:  CLRF   x1D
0FAFA:  CLRF   x1C
0FAFC:  MOVLW  0E
0FAFE:  MOVWF  x1B
0FB00:  MOVLW  10
0FB02:  MOVWF  x1A
0FB04:  MOVLB  0
0FB06:  CALL   6340
0FB0A:  MOVFF  1B8,FEA
0FB0E:  MOVFF  1B7,FE9
0FB12:  MOVFF  00,1AC
....................          minutes = (total_seconds % 3600) / 60;
0FB16:  BSF    FD8.1
0FB18:  MOVLW  01
0FB1A:  MOVWF  FEA
0FB1C:  MOVLW  AF
0FB1E:  MOVWF  FE9
0FB20:  MOVFF  1A9,219
0FB24:  MOVFF  1A8,218
0FB28:  MOVFF  1A7,217
0FB2C:  MOVFF  1A6,216
0FB30:  MOVLB  2
0FB32:  CLRF   x1D
0FB34:  CLRF   x1C
0FB36:  MOVLW  0E
0FB38:  MOVWF  x1B
0FB3A:  MOVLW  10
0FB3C:  MOVWF  x1A
0FB3E:  MOVLB  0
0FB40:  CALL   6340
0FB44:  MOVFF  1B2,1B6
0FB48:  MOVFF  1B1,1B5
0FB4C:  MOVFF  1B0,1B4
0FB50:  MOVFF  1AF,1B3
0FB54:  MOVFF  FEA,1B8
0FB58:  MOVFF  FE9,1B7
0FB5C:  BCF    FD8.1
0FB5E:  MOVFF  1B6,219
0FB62:  MOVFF  1B5,218
0FB66:  MOVFF  1B4,217
0FB6A:  MOVFF  1B3,216
0FB6E:  MOVLB  2
0FB70:  CLRF   x1D
0FB72:  CLRF   x1C
0FB74:  CLRF   x1B
0FB76:  MOVLW  3C
0FB78:  MOVWF  x1A
0FB7A:  MOVLB  0
0FB7C:  CALL   6340
0FB80:  MOVFF  1B8,FEA
0FB84:  MOVFF  1B7,FE9
0FB88:  MOVFF  00,1AD
....................          seconds = total_seconds % 60;
0FB8C:  BSF    FD8.1
0FB8E:  MOVLW  01
0FB90:  MOVWF  FEA
0FB92:  MOVLW  AF
0FB94:  MOVWF  FE9
0FB96:  MOVFF  1A9,219
0FB9A:  MOVFF  1A8,218
0FB9E:  MOVFF  1A7,217
0FBA2:  MOVFF  1A6,216
0FBA6:  MOVLB  2
0FBA8:  CLRF   x1D
0FBAA:  CLRF   x1C
0FBAC:  CLRF   x1B
0FBAE:  MOVLW  3C
0FBB0:  MOVWF  x1A
0FBB2:  MOVLB  0
0FBB4:  CALL   6340
0FBB8:  MOVFF  1AF,1AE
.................... 
....................          fprintf(PC, "\t\t-> Get time to %lu days, %02u:%02u:%02u\r\n",
....................                days, hours, minutes, seconds);
0FBBC:  MOVLW  82
0FBBE:  MOVWF  FF6
0FBC0:  MOVLW  11
0FBC2:  MOVWF  FF7
0FBC4:  MOVLW  00
0FBC6:  MOVWF  FF8
0FBC8:  MOVLW  11
0FBCA:  MOVLB  A
0FBCC:  MOVWF  x4E
0FBCE:  MOVLB  0
0FBD0:  CALL   2104
0FBD4:  MOVLW  10
0FBD6:  MOVWF  FE9
0FBD8:  MOVFF  1AB,1EA
0FBDC:  MOVFF  1AA,1E9
0FBE0:  CALL   882C
0FBE4:  MOVLW  96
0FBE6:  MOVWF  FF6
0FBE8:  MOVLW  11
0FBEA:  MOVWF  FF7
0FBEC:  MOVLW  00
0FBEE:  MOVWF  FF8
0FBF0:  MOVLW  07
0FBF2:  MOVLB  A
0FBF4:  MOVWF  x4E
0FBF6:  MOVLB  0
0FBF8:  CALL   2104
0FBFC:  MOVFF  1AC,A4E
0FC00:  MOVLW  01
0FC02:  MOVLB  A
0FC04:  MOVWF  x4F
0FC06:  MOVLB  0
0FC08:  CALL   8BFC
0FC0C:  MOVLW  3A
0FC0E:  BTFSS  FA6.6
0FC10:  GOTO   FC0E
0FC14:  MOVLB  E
0FC16:  MOVWF  xF9
0FC18:  MOVFF  1AD,A4E
0FC1C:  MOVLW  01
0FC1E:  MOVLB  A
0FC20:  MOVWF  x4F
0FC22:  MOVLB  0
0FC24:  CALL   8BFC
0FC28:  MOVLW  3A
0FC2A:  BTFSS  FA6.6
0FC2C:  GOTO   FC2A
0FC30:  MOVLB  E
0FC32:  MOVWF  xF9
0FC34:  MOVFF  1AE,A4E
0FC38:  MOVLW  01
0FC3A:  MOVLB  A
0FC3C:  MOVWF  x4F
0FC3E:  MOVLB  0
0FC40:  CALL   8BFC
0FC44:  MOVLW  0D
0FC46:  BTFSS  FA6.6
0FC48:  GOTO   FC46
0FC4C:  MOVLB  E
0FC4E:  MOVWF  xF9
0FC50:  MOVLW  0A
0FC52:  MOVLB  0
0FC54:  BTFSS  FA6.6
0FC56:  GOTO   FC54
0FC5A:  MOVLB  E
0FC5C:  MOVWF  xF9
....................          break;
0FC5E:  MOVLB  0
0FC60:  GOTO   FC78
.................... 
....................       default:
....................          fprintf(PC, "\t\t-> Invalid CMD ID!\r\n");
0FC64:  MOVLW  AE
0FC66:  MOVWF  FF6
0FC68:  MOVLW  11
0FC6A:  MOVWF  FF7
0FC6C:  MOVLW  00
0FC6E:  MOVWF  FF8
0FC70:  CALL   20CE
....................          break;
0FC74:  GOTO   FC78
....................    }
....................    fprintf(PC, "\r\n______End execute_mission______\r\n_______________________________\r\n");
0FC78:  MOVLW  C6
0FC7A:  MOVWF  FF6
0FC7C:  MOVLW  11
0FC7E:  MOVWF  FF7
0FC80:  MOVLW  00
0FC82:  MOVWF  FF8
0FC84:  CALL   20CE
0FC88:  GOTO   FCF6 (RETURN)
.................... }
.................... 
.................... 
.................... 
.................... int1 execute_command(Command *command)
.................... {
....................    fprintf(PC, "Start execute_command\r\n");
*
1293A:  MOVLW  0C
1293C:  MOVWF  FF6
1293E:  MOVLW  12
12940:  MOVWF  FF7
12942:  MOVLW  00
12944:  MOVWF  FF8
12946:  CALL   20CE
....................    
....................    switch(command->frame_id)
1294A:  MOVLB  1
1294C:  MOVF   x99,W
1294E:  MOVWF  FE9
12950:  MOVF   x9A,W
12952:  MOVWF  FEA
12954:  MOVF   FEF,W
12956:  ADDLW  FC
12958:  BTFSS  FD8.0
1295A:  BRA    12962
1295C:  MOVLB  0
1295E:  GOTO   129BA
12962:  ADDLW  04
12964:  MOVLB  0
12966:  GOTO   129C2
....................    {
....................       case UPLINK_COMMAND:
....................          handle_uplink_command(command);
1296A:  MOVFF  19A,19C
1296E:  MOVFF  199,19B
12972:  GOTO   FCAA
....................          break;
12976:  GOTO   129BA
....................          
....................       case STATUS_CHECK:
....................          if (handle_status_check(command)){
1297A:  MOVFF  19A,19C
1297E:  MOVFF  199,19B
12982:  GOTO   FD12
12986:  MOVF   01,F
12988:  BTFSC  FD8.2
1298A:  GOTO   12996
....................             return TRUE; // if status is finished, return TRUE
1298E:  MOVLW  01
12990:  MOVWF  01
12992:  GOTO   129BE
....................          }        
....................          break;
12996:  GOTO   129BA
....................       
....................       case IS_SMF_AVAILABLE:
....................          handle_smf_available(command);
1299A:  MOVFF  19A,19C
1299E:  MOVFF  199,19B
129A2:  GOTO   122EE
....................          break;
129A6:  GOTO   129BA
....................       
....................       case SEND_TIME:
....................          handle_recieve_time(command);
129AA:  MOVFF  19A,19C
129AE:  MOVFF  199,19B
129B2:  GOTO   12652
....................          break;
129B6:  GOTO   129BA
....................    }
....................    return FALSE;
129BA:  MOVLW  00
129BC:  MOVWF  01
129BE:  GOTO   12EAA (RETURN)
.................... }
.................... 
.................... 
.................... 
.................... void handle_uplink_command(Command *command) {
....................    fprintf(PC, "\t-> Uplink command\r\n");
*
0FCAA:  MOVLW  24
0FCAC:  MOVWF  FF6
0FCAE:  MOVLW  12
0FCB0:  MOVWF  FF7
0FCB2:  MOVLW  00
0FCB4:  MOVWF  FF8
0FCB6:  CALL   20CE
....................    fprintf(PC, "\t   Transmit Acknolegde\r\n");
0FCBA:  MOVLW  3A
0FCBC:  MOVWF  FF6
0FCBE:  MOVLW  12
0FCC0:  MOVWF  FF7
0FCC2:  MOVLW  00
0FCC4:  MOVWF  FF8
0FCC6:  CALL   20CE
....................    transmit_ack();
0FCCA:  CALL   56F0
.................... 
....................    status[0] = EXECUTING_MISSION;
0FCCE:  MOVLW  02
0FCD0:  MOVWF  4C
....................    execute_mission(command->content);
0FCD2:  MOVLW  03
0FCD4:  MOVLB  1
0FCD6:  ADDWF  x9B,W
0FCD8:  MOVWF  01
0FCDA:  MOVLW  00
0FCDC:  ADDWFC x9C,W
0FCDE:  MOVWF  03
0FCE0:  MOVF   01,W
0FCE2:  MOVWF  x9D
0FCE4:  MOVFF  03,19E
0FCE8:  MOVFF  19E,1A0
0FCEC:  MOVFF  19D,19F
0FCF0:  MOVLB  0
0FCF2:  GOTO   F6A0
....................    if (is_empty_flash_queue())
0FCF6:  CALL   FC8C
0FCFA:  MOVF   01,F
0FCFC:  BTFSC  FD8.2
0FCFE:  GOTO   FD0A
....................       status[0] = FINISHED;
0FD02:  MOVLW  06
0FD04:  MOVWF  4C
0FD06:  GOTO   FD0E
....................    else
....................       status[0] = SMF_USE_REQ;
0FD0A:  MOVLW  04
0FD0C:  MOVWF  4C
0FD0E:  GOTO   12976 (RETURN)
.................... 
....................    //return TRUE; // ここでTRUEを返すことで、実行後に何か処理をすることができる
....................    
.................... }
.................... 
.................... 
.................... int1 handle_status_check(Command *command) {
....................    fprintf(PC, "\t-> Status check\r\n");
0FD12:  MOVLW  54
0FD14:  MOVWF  FF6
0FD16:  MOVLW  12
0FD18:  MOVWF  FF7
0FD1A:  MOVLW  00
0FD1C:  MOVWF  FF8
0FD1E:  CALL   20CE
....................    fprintf(PC, "\t   Transmit MIS MCU Status\r\n");
0FD22:  MOVLW  68
0FD24:  MOVWF  FF6
0FD26:  MOVLW  12
0FD28:  MOVWF  FF7
0FD2A:  MOVLW  00
0FD2C:  MOVWF  FF8
0FD2E:  CALL   20CE
....................    transmit_status();
0FD32:  CALL   A7B0
....................    if (status[0] == FINISHED)
0FD36:  MOVF   4C,W
0FD38:  SUBLW  06
0FD3A:  BTFSS  FD8.2
0FD3C:  GOTO   FD5C
....................    {
....................       fprintf(PC, "finished in status_check\r\n");
0FD40:  MOVLW  86
0FD42:  MOVWF  FF6
0FD44:  MOVLW  12
0FD46:  MOVWF  FF7
0FD48:  MOVLW  00
0FD4A:  MOVWF  FF8
0FD4C:  CALL   20CE
....................       return TRUE;
0FD50:  MOVLW  01
0FD52:  MOVWF  01
0FD54:  GOTO   FD64
....................    }
0FD58:  GOTO   FD64
....................    else{
....................       return FALSE;
0FD5C:  MOVLW  00
0FD5E:  MOVWF  01
0FD60:  GOTO   FD64
....................    }
0FD64:  GOTO   12986 (RETURN)
.................... }
.................... 
.................... 
.................... void handle_smf_available(Command *command)
.................... {
....................     fprintf(PC, "\t-> SMF available check\r\n");
*
122EE:  MOVLW  A2
122F0:  MOVWF  FF6
122F2:  MOVLW  12
122F4:  MOVWF  FF7
122F6:  MOVLW  00
122F8:  MOVWF  FF8
122FA:  CALL   20CE
....................     fprintf(PC, "\t   Transmit Acknowledgement\r\n");
122FE:  MOVLW  BC
12300:  MOVWF  FF6
12302:  MOVLW  12
12304:  MOVWF  FF7
12306:  MOVLW  00
12308:  MOVWF  FF8
1230A:  CALL   20CE
....................     transmit_ack();
1230E:  CALL   56F0
.................... 
....................     if (command->content[0] != ALLOW) {
12312:  MOVLW  03
12314:  MOVLB  1
12316:  ADDWF  x9B,W
12318:  MOVWF  FE9
1231A:  MOVLW  00
1231C:  ADDWFC x9C,W
1231E:  MOVWF  FEA
12320:  DECFSZ FEF,W
12322:  BRA    12328
12324:  BRA    1232E
12326:  MOVLB  0
12328:  MOVLB  0
1232A:  GOTO   12334
1232E:  MOVLB  0
12330:  GOTO   12348
....................         fprintf(PC, "\t\t-> denied\r\n");
12334:  MOVLW  DC
12336:  MOVWF  FF6
12338:  MOVLW  12
1233A:  MOVWF  FF7
1233C:  MOVLW  00
1233E:  MOVWF  FF8
12340:  CALL   20CE
....................         return;
12344:  GOTO   1264E
....................     }
.................... 
....................     fprintf(PC, "\t\t-> allowed\r\n");
12348:  MOVLW  EA
1234A:  MOVWF  FF6
1234C:  MOVLW  12
1234E:  MOVWF  FF7
12350:  MOVLW  00
12352:  MOVWF  FF8
12354:  CALL   20CE
....................     status[0] = COPYING;
12358:  MOVLW  05
1235A:  MOVWF  4C
.................... 
....................     int8 processed_count = 0;
1235C:  MOVLB  1
1235E:  CLRF   x9D
12360:  MOVLB  0
.................... 
....................     while (!is_empty_flash_queue()) {
12362:  CALL   FC8C
12366:  MOVF   01,F
12368:  BTFSS  FD8.2
1236A:  GOTO   12606
....................         FlashOperationStruct *smf_data = dequeue_flash_operation();
1236E:  GOTO   FD68
12372:  MOVFF  02,19F
12376:  MOVFF  01,19E
....................         /*
....................         if (smf_data == NULL) {
....................             fprintf(PC, "\t\t-> dequeue NULL (break)\r\n");
....................             break;
....................         }
....................          */
....................         fprintf(PC, "\t\t-> Dequeued: func=%u mission=%u size=%ld addr=%ld\r\n",
....................                 (unsigned int)smf_data->func_type,
....................                 (unsigned int)smf_data->mission_id,
....................                 smf_data->misf_size,
....................                 smf_data->misf_start_addr);
1237A:  MOVLW  01
1237C:  MOVLB  1
1237E:  ADDWF  x9E,W
12380:  MOVWF  FE9
12382:  MOVLW  00
12384:  ADDWFC x9F,W
12386:  MOVWF  FEA
12388:  MOVFF  FEF,1A1
1238C:  MOVF   x9E,W
1238E:  MOVWF  FE9
12390:  MOVF   x9F,W
12392:  MOVWF  FEA
12394:  MOVFF  FEF,1A2
12398:  MOVLW  08
1239A:  ADDWF  x9E,W
1239C:  MOVWF  FE9
1239E:  MOVLW  00
123A0:  ADDWFC x9F,W
123A2:  MOVWF  FEA
123A4:  MOVFF  FEF,1A3
123A8:  MOVFF  FEC,1A4
123AC:  MOVFF  FEC,1A5
123B0:  MOVFF  FEC,1A6
123B4:  MOVF   FED,F
123B6:  MOVF   FED,F
123B8:  MOVF   FED,F
123BA:  MOVLW  04
123BC:  ADDWF  x9E,W
123BE:  MOVWF  FE9
123C0:  MOVLW  00
123C2:  ADDWFC x9F,W
123C4:  MOVWF  FEA
123C6:  MOVFF  FEF,1A7
123CA:  MOVFF  FEC,1A8
123CE:  MOVFF  FEC,1A9
123D2:  MOVFF  FEC,1AA
123D6:  MOVF   FED,F
123D8:  MOVF   FED,F
123DA:  MOVF   FED,F
123DC:  MOVLW  FA
123DE:  MOVWF  FF6
123E0:  MOVLW  12
123E2:  MOVWF  FF7
123E4:  MOVLW  00
123E6:  MOVWF  FF8
123E8:  MOVLW  14
123EA:  MOVLB  A
123EC:  MOVWF  x4E
123EE:  MOVLB  0
123F0:  CALL   2104
123F4:  MOVFF  1A1,A4E
123F8:  MOVLW  1B
123FA:  MOVLB  A
123FC:  MOVWF  x4F
123FE:  MOVLB  0
12400:  CALL   8BFC
12404:  MOVLW  10
12406:  MOVWF  FF6
12408:  MOVLW  13
1240A:  MOVWF  FF7
1240C:  MOVLW  00
1240E:  MOVWF  FF8
12410:  MOVLW  09
12412:  MOVLB  A
12414:  MOVWF  x4E
12416:  MOVLB  0
12418:  CALL   2104
1241C:  MOVFF  1A2,A4E
12420:  MOVLW  1B
12422:  MOVLB  A
12424:  MOVWF  x4F
12426:  MOVLB  0
12428:  CALL   8BFC
1242C:  MOVLW  1B
1242E:  MOVWF  FF6
12430:  MOVLW  13
12432:  MOVWF  FF7
12434:  MOVLW  00
12436:  MOVWF  FF8
12438:  MOVLW  06
1243A:  MOVLB  A
1243C:  MOVWF  x4E
1243E:  MOVLB  0
12440:  CALL   2104
12444:  MOVLW  41
12446:  MOVWF  FE9
12448:  MOVFF  1A6,1AE
1244C:  MOVFF  1A5,1AD
12450:  MOVFF  1A4,1AC
12454:  MOVFF  1A3,1AB
12458:  CALL   FDCA
1245C:  MOVLW  24
1245E:  MOVWF  FF6
12460:  MOVLW  13
12462:  MOVWF  FF7
12464:  MOVLW  00
12466:  MOVWF  FF8
12468:  MOVLW  06
1246A:  MOVLB  A
1246C:  MOVWF  x4E
1246E:  MOVLB  0
12470:  CALL   2104
12474:  MOVLW  41
12476:  MOVWF  FE9
12478:  MOVFF  1AA,1AE
1247C:  MOVFF  1A9,1AD
12480:  MOVFF  1A8,1AC
12484:  MOVFF  1A7,1AB
12488:  CALL   FDCA
1248C:  MOVLW  0D
1248E:  BTFSS  FA6.6
12490:  GOTO   1248E
12494:  MOVLB  E
12496:  MOVWF  xF9
12498:  MOVLW  0A
1249A:  MOVLB  0
1249C:  BTFSS  FA6.6
1249E:  GOTO   1249C
124A2:  MOVLB  E
124A4:  MOVWF  xF9
.................... 
....................         switch (smf_data->func_type) {
124A6:  MOVLW  01
124A8:  MOVLB  1
124AA:  ADDWF  x9E,W
124AC:  MOVWF  FE9
124AE:  MOVLW  00
124B0:  ADDWFC x9F,W
124B2:  MOVWF  FEA
124B4:  MOVF   FEF,W
124B6:  XORLW  00
124B8:  MOVLB  0
124BA:  BTFSC  FD8.2
124BC:  GOTO   124D4
124C0:  XORLW  01
124C2:  BTFSC  FD8.2
124C4:  GOTO   124E4
124C8:  XORLW  03
124CA:  BTFSC  FD8.2
124CC:  GOTO   124F4
124D0:  GOTO   12504
....................             case ENUM_SMF_WRITE:
....................                 smf_write(smf_data);
124D4:  MOVFF  19F,1A2
124D8:  MOVFF  19E,1A1
124DC:  GOTO   10476
....................                 break;
124E0:  GOTO   1255E
....................             case ENUM_SMF_READ:
....................                 smf_read(smf_data);
124E4:  MOVFF  19F,1A2
124E8:  MOVFF  19E,1A1
124EC:  GOTO   11532
....................                 break;
124F0:  GOTO   1255E
....................             case ENUM_SMF_ERASE:
....................                 smf_erase(smf_data);
124F4:  MOVFF  19F,1A2
124F8:  MOVFF  19E,1A1
124FC:  GOTO   11C6C
....................                 break;
12500:  GOTO   1255E
....................             default:
....................                 fprintf(PC, "\t\t   Unknown func_type=%u\r\n",
....................                         (unsigned int)smf_data->func_type);
12504:  MOVLW  01
12506:  MOVLB  1
12508:  ADDWF  x9E,W
1250A:  MOVWF  FE9
1250C:  MOVLW  00
1250E:  ADDWFC x9F,W
12510:  MOVWF  FEA
12512:  MOVFF  FEF,1A1
12516:  MOVLW  30
12518:  MOVWF  FF6
1251A:  MOVLW  13
1251C:  MOVWF  FF7
1251E:  MOVLW  00
12520:  MOVWF  FF8
12522:  MOVLW  17
12524:  MOVLB  A
12526:  MOVWF  x4E
12528:  MOVLB  0
1252A:  CALL   2104
1252E:  MOVFF  1A1,A4E
12532:  MOVLW  1B
12534:  MOVLB  A
12536:  MOVWF  x4F
12538:  MOVLB  0
1253A:  CALL   8BFC
1253E:  MOVLW  0D
12540:  BTFSS  FA6.6
12542:  GOTO   12540
12546:  MOVLB  E
12548:  MOVWF  xF9
1254A:  MOVLW  0A
1254C:  MOVLB  0
1254E:  BTFSS  FA6.6
12550:  GOTO   1254E
12554:  MOVLB  E
12556:  MOVWF  xF9
....................                 break;
12558:  MOVLB  0
1255A:  GOTO   1255E
....................         }
....................          processed_count++;
1255E:  MOVLB  1
12560:  INCF   x9D,F
....................          unsigned int8 smf_id;
....................          switch (smf_data->mission_id) {
12562:  MOVF   x9E,W
12564:  MOVWF  FE9
12566:  MOVF   x9F,W
12568:  MOVWF  FEA
1256A:  MOVF   FEF,W
1256C:  XORLW  00
1256E:  MOVLB  0
12570:  BTFSC  FD8.2
12572:  GOTO   125AA
12576:  XORLW  01
12578:  BTFSC  FD8.2
1257A:  GOTO   125B6
1257E:  XORLW  03
12580:  BTFSC  FD8.2
12582:  GOTO   125C2
12586:  XORLW  01
12588:  BTFSC  FD8.2
1258A:  GOTO   125CE
1258E:  XORLW  07
12590:  BTFSC  FD8.2
12592:  GOTO   125DA
12596:  XORLW  01
12598:  BTFSC  FD8.2
1259A:  GOTO   125E6
1259E:  XORLW  03
125A0:  BTFSC  FD8.2
125A2:  GOTO   125F2
125A6:  GOTO   125FE
....................             case CIGS_DATA_TABLE:
....................                smf_id = DATA_ID_CIGS_DATA_TABLE;
125AA:  MOVLW  C0
125AC:  MOVLB  1
125AE:  MOVWF  xA0
....................                break;
125B0:  MOVLB  0
125B2:  GOTO   12602
....................             case CIGS_PICLOG_DATA:
....................                smf_id = DATA_ID_CIGS_PICLOG;
125B6:  MOVLW  C1
125B8:  MOVLB  1
125BA:  MOVWF  xA0
....................                break;
125BC:  MOVLB  0
125BE:  GOTO   12602
....................             case CIGS_ENVIRO_DATA:
....................                smf_id = DATA_ID_CIGS_ENVIRO;
125C2:  MOVLW  C2
125C4:  MOVLB  1
125C6:  MOVWF  xA0
....................                break;
125C8:  MOVLB  0
125CA:  GOTO   12602
....................             case CIGS_IV1_HEADER:
....................                smf_id = DATA_ID_CIGS_IV1_HEADER;
125CE:  MOVLW  C3
125D0:  MOVLB  1
125D2:  MOVWF  xA0
....................                break;
125D4:  MOVLB  0
125D6:  GOTO   12602
....................             case CIGS_IV1_DATA:
....................                smf_id = DATA_ID_CIGS_IV1_DATA;
125DA:  MOVLW  C4
125DC:  MOVLB  1
125DE:  MOVWF  xA0
....................                break;
125E0:  MOVLB  0
125E2:  GOTO   12602
....................             case CIGS_IV2_HEADER:
....................                smf_id = DATA_ID_CIGS_IV2_HEADER;
125E6:  MOVLW  C5
125E8:  MOVLB  1
125EA:  MOVWF  xA0
....................                break;
125EC:  MOVLB  0
125EE:  GOTO   12602
....................             case CIGS_IV2_DATA:
....................                smf_id = DATA_ID_CIGS_IV2_DATA;
125F2:  MOVLW  C6
125F4:  MOVLB  1
125F6:  MOVWF  xA0
....................                 break;
125F8:  MOVLB  0
125FA:  GOTO   12602
....................             default:
....................                 break;
125FE:  GOTO   12602
....................          }
12602:  GOTO   12362
....................          
....................     }
.................... 
....................     fprintf(PC, "\t\t-> Completed %u operations\r\n",
....................             (unsigned int)processed_count);
12606:  MOVLW  4C
12608:  MOVWF  FF6
1260A:  MOVLW  13
1260C:  MOVWF  FF7
1260E:  MOVLW  00
12610:  MOVWF  FF8
12612:  MOVLW  0F
12614:  MOVLB  A
12616:  MOVWF  x4E
12618:  MOVLB  0
1261A:  CALL   2104
1261E:  MOVFF  19D,A4E
12622:  MOVLW  1B
12624:  MOVLB  A
12626:  MOVWF  x4F
12628:  MOVLB  0
1262A:  CALL   8BFC
1262E:  MOVLW  5D
12630:  MOVWF  FF6
12632:  MOVLW  13
12634:  MOVWF  FF7
12636:  MOVLW  00
12638:  MOVWF  FF8
1263A:  MOVLW  0D
1263C:  MOVLB  A
1263E:  MOVWF  x4E
12640:  MOVLB  0
12642:  CALL   2104
....................       status[1] = 0xC0;
12646:  MOVLW  C0
12648:  MOVWF  4D
....................       status[0] = FINISHED;
1264A:  MOVLW  06
1264C:  MOVWF  4C
1264E:  GOTO   129A6 (RETURN)
.................... }
.................... 
.................... void handle_recieve_time(Command *command)
.................... {
....................    fprintf(PC, "\t-> TIME Receive\r\n");
12652:  MOVLW  6C
12654:  MOVWF  FF6
12656:  MOVLW  13
12658:  MOVWF  FF7
1265A:  MOVLW  00
1265C:  MOVWF  FF8
1265E:  CALL   20CE
....................    fprintf(PC, "\t   Transmit Acknolegde\r\n");
12662:  MOVLW  80
12664:  MOVWF  FF6
12666:  MOVLW  13
12668:  MOVWF  FF7
1266A:  MOVLW  00
1266C:  MOVWF  FF8
1266E:  CALL   20CE
....................    transmit_ack();
12672:  CALL   56F0
.................... 
....................    // 4バイト(MSB, big-endian)に詰められた MM/DD hh:mm:ss を復元
....................    // [31:26]=0, [25:22]=month(1-12), [21:17]=day(1-31), [16:12]=hour(0-23), [11:6]=minute(0-59), [5:0]=second(0-59)
....................    unsigned int32 total_seconds = ((unsigned int32)command->content[0] << 24) |
....................                       ((unsigned int32)command->content[1] << 16) |
....................                       ((unsigned int32)command->content[2] << 8)  |
....................                       ((unsigned int32)command->content[3]);
12676:  MOVLW  03
12678:  MOVLB  1
1267A:  ADDWF  x9B,W
1267C:  MOVWF  FE9
1267E:  MOVLW  00
12680:  ADDWFC x9C,W
12682:  MOVWF  FEA
12684:  MOVF   FEF,W
12686:  CLRF   xA9
12688:  CLRF   xA8
1268A:  CLRF   xA7
1268C:  MOVWF  xA6
1268E:  MOVFF  1A6,1A9
12692:  CLRF   xA6
12694:  CLRF   xA7
12696:  CLRF   xA8
12698:  MOVLW  04
1269A:  ADDWF  x9B,W
1269C:  MOVWF  FE9
1269E:  MOVLW  00
126A0:  ADDWFC x9C,W
126A2:  MOVWF  FEA
126A4:  MOVF   FEF,W
126A6:  CLRF   xAE
126A8:  CLRF   xAD
126AA:  CLRF   xAC
126AC:  MOVWF  xAB
126AE:  MOVFF  1AC,03
126B2:  MOVFF  1AB,02
126B6:  CLRF   00
126B8:  CLRF   01
126BA:  MOVF   00,W
126BC:  IORWF  xA6,F
126BE:  MOVF   01,W
126C0:  IORWF  xA7,F
126C2:  MOVF   02,W
126C4:  IORWF  xA8,F
126C6:  MOVF   03,W
126C8:  IORWF  xA9,F
126CA:  MOVLW  05
126CC:  ADDWF  x9B,W
126CE:  MOVWF  FE9
126D0:  MOVLW  00
126D2:  ADDWFC x9C,W
126D4:  MOVWF  FEA
126D6:  MOVF   FEF,W
126D8:  CLRF   xAE
126DA:  CLRF   xAD
126DC:  CLRF   xAC
126DE:  MOVWF  xAB
126E0:  MOVFF  1AD,03
126E4:  MOVFF  1AC,02
126E8:  MOVFF  1AB,01
126EC:  CLRF   00
126EE:  MOVF   00,W
126F0:  IORWF  xA6,F
126F2:  MOVF   01,W
126F4:  IORWF  xA7,F
126F6:  MOVF   02,W
126F8:  IORWF  xA8,F
126FA:  MOVF   03,W
126FC:  IORWF  xA9,F
126FE:  MOVLW  06
12700:  ADDWF  x9B,W
12702:  MOVWF  FE9
12704:  MOVLW  00
12706:  ADDWFC x9C,W
12708:  MOVWF  FEA
1270A:  MOVF   FEF,W
1270C:  MOVWF  00
1270E:  CLRF   01
12710:  CLRF   02
12712:  CLRF   03
12714:  MOVF   00,W
12716:  IORWF  xA6,W
12718:  MOVWF  x9D
1271A:  MOVF   01,W
1271C:  IORWF  xA7,W
1271E:  MOVWF  x9E
12720:  MOVF   02,W
12722:  IORWF  xA8,W
12724:  MOVWF  x9F
12726:  MOVF   03,W
12728:  IORWF  xA9,W
1272A:  MOVWF  xA0
.................... 
....................    set_current_sec(total_seconds);
1272C:  MOVFF  1A0,1A9
12730:  MOVFF  19F,1A8
12734:  MOVFF  19E,1A7
12738:  MOVFF  19D,1A6
1273C:  MOVLB  0
1273E:  GOTO   FF50
....................    unsigned int16 days;
....................    unsigned int8 hours, minutes, seconds;
....................    days    = total_seconds / 86400;
12742:  BCF    FD8.1
12744:  MOVFF  1A0,219
12748:  MOVFF  19F,218
1274C:  MOVFF  19E,217
12750:  MOVFF  19D,216
12754:  MOVLB  2
12756:  CLRF   x1D
12758:  MOVLW  01
1275A:  MOVWF  x1C
1275C:  MOVLW  51
1275E:  MOVWF  x1B
12760:  MOVLW  80
12762:  MOVWF  x1A
12764:  MOVLB  0
12766:  CALL   6340
1276A:  MOVFF  01,1A2
1276E:  MOVFF  00,1A1
....................    hours   = (total_seconds % 86400) / 3600;
12772:  BSF    FD8.1
12774:  MOVLW  01
12776:  MOVWF  FEA
12778:  MOVLW  A6
1277A:  MOVWF  FE9
1277C:  MOVFF  1A0,219
12780:  MOVFF  19F,218
12784:  MOVFF  19E,217
12788:  MOVFF  19D,216
1278C:  MOVLB  2
1278E:  CLRF   x1D
12790:  MOVLW  01
12792:  MOVWF  x1C
12794:  MOVLW  51
12796:  MOVWF  x1B
12798:  MOVLW  80
1279A:  MOVWF  x1A
1279C:  MOVLB  0
1279E:  CALL   6340
127A2:  MOVFF  1A9,1AD
127A6:  MOVFF  1A8,1AC
127AA:  MOVFF  1A7,1AB
127AE:  MOVFF  1A6,1AA
127B2:  MOVFF  FEA,1AF
127B6:  MOVFF  FE9,1AE
127BA:  BCF    FD8.1
127BC:  MOVFF  1AD,219
127C0:  MOVFF  1AC,218
127C4:  MOVFF  1AB,217
127C8:  MOVFF  1AA,216
127CC:  MOVLB  2
127CE:  CLRF   x1D
127D0:  CLRF   x1C
127D2:  MOVLW  0E
127D4:  MOVWF  x1B
127D6:  MOVLW  10
127D8:  MOVWF  x1A
127DA:  MOVLB  0
127DC:  CALL   6340
127E0:  MOVFF  1AF,FEA
127E4:  MOVFF  1AE,FE9
127E8:  MOVFF  00,1A3
....................    minutes = (total_seconds % 3600) / 60;
127EC:  BSF    FD8.1
127EE:  MOVLW  01
127F0:  MOVWF  FEA
127F2:  MOVLW  A6
127F4:  MOVWF  FE9
127F6:  MOVFF  1A0,219
127FA:  MOVFF  19F,218
127FE:  MOVFF  19E,217
12802:  MOVFF  19D,216
12806:  MOVLB  2
12808:  CLRF   x1D
1280A:  CLRF   x1C
1280C:  MOVLW  0E
1280E:  MOVWF  x1B
12810:  MOVLW  10
12812:  MOVWF  x1A
12814:  MOVLB  0
12816:  CALL   6340
1281A:  MOVFF  1A9,1AD
1281E:  MOVFF  1A8,1AC
12822:  MOVFF  1A7,1AB
12826:  MOVFF  1A6,1AA
1282A:  MOVFF  FEA,1AF
1282E:  MOVFF  FE9,1AE
12832:  BCF    FD8.1
12834:  MOVFF  1AD,219
12838:  MOVFF  1AC,218
1283C:  MOVFF  1AB,217
12840:  MOVFF  1AA,216
12844:  MOVLB  2
12846:  CLRF   x1D
12848:  CLRF   x1C
1284A:  CLRF   x1B
1284C:  MOVLW  3C
1284E:  MOVWF  x1A
12850:  MOVLB  0
12852:  CALL   6340
12856:  MOVFF  1AF,FEA
1285A:  MOVFF  1AE,FE9
1285E:  MOVFF  00,1A4
....................    seconds = total_seconds % 60;
12862:  BSF    FD8.1
12864:  MOVLW  01
12866:  MOVWF  FEA
12868:  MOVLW  A6
1286A:  MOVWF  FE9
1286C:  MOVFF  1A0,219
12870:  MOVFF  19F,218
12874:  MOVFF  19E,217
12878:  MOVFF  19D,216
1287C:  MOVLB  2
1287E:  CLRF   x1D
12880:  CLRF   x1C
12882:  CLRF   x1B
12884:  MOVLW  3C
12886:  MOVWF  x1A
12888:  MOVLB  0
1288A:  CALL   6340
1288E:  MOVFF  1A6,1A5
.................... 
....................    fprintf(PC, "\t\t-> Set time to %lu days, %02u:%02u:%02u\r\n",
....................            days, hours, minutes, seconds);
12892:  MOVLW  9A
12894:  MOVWF  FF6
12896:  MOVLW  13
12898:  MOVWF  FF7
1289A:  MOVLW  00
1289C:  MOVWF  FF8
1289E:  MOVLW  11
128A0:  MOVLB  A
128A2:  MOVWF  x4E
128A4:  MOVLB  0
128A6:  CALL   2104
128AA:  MOVLW  10
128AC:  MOVWF  FE9
128AE:  MOVFF  1A2,1EA
128B2:  MOVFF  1A1,1E9
128B6:  CALL   882C
128BA:  MOVLW  AE
128BC:  MOVWF  FF6
128BE:  MOVLW  13
128C0:  MOVWF  FF7
128C2:  MOVLW  00
128C4:  MOVWF  FF8
128C6:  MOVLW  07
128C8:  MOVLB  A
128CA:  MOVWF  x4E
128CC:  MOVLB  0
128CE:  CALL   2104
128D2:  MOVFF  1A3,A4E
128D6:  MOVLW  01
128D8:  MOVLB  A
128DA:  MOVWF  x4F
128DC:  MOVLB  0
128DE:  CALL   8BFC
128E2:  MOVLW  3A
128E4:  BTFSS  FA6.6
128E6:  GOTO   128E4
128EA:  MOVLB  E
128EC:  MOVWF  xF9
128EE:  MOVFF  1A4,A4E
128F2:  MOVLW  01
128F4:  MOVLB  A
128F6:  MOVWF  x4F
128F8:  MOVLB  0
128FA:  CALL   8BFC
128FE:  MOVLW  3A
12900:  BTFSS  FA6.6
12902:  GOTO   12900
12906:  MOVLB  E
12908:  MOVWF  xF9
1290A:  MOVFF  1A5,A4E
1290E:  MOVLW  01
12910:  MOVLB  A
12912:  MOVWF  x4F
12914:  MOVLB  0
12916:  CALL   8BFC
1291A:  MOVLW  0D
1291C:  BTFSS  FA6.6
1291E:  GOTO   1291C
12922:  MOVLB  E
12924:  MOVWF  xF9
12926:  MOVLW  0A
12928:  MOVLB  0
1292A:  BTFSS  FA6.6
1292C:  GOTO   1292A
12930:  MOVLB  E
12932:  MOVWF  xF9
12934:  MOVLB  0
12936:  GOTO   129B6 (RETURN)
.................... 
.................... }
.................... // End of file
.................... 
.................... #include "application/cigs_mode_mission.c"
.................... #include "cigs_mode_mission.h"                    // 同じフォルダのヘッダー
.................... #ifndef MMJ_CIGS_MODE_MISSION_H
.................... #define MMJ_CIGS_MODE_MISSION_H
.................... 
.................... #define CMD_LENGTH 9
.................... 
.................... // ______________CMD ID________________
.................... // Operation Command
.................... #define ID_MEAS_IV 0xA0
.................... #define ID_MEAS_DEBUG 0xA1
.................... #define ID_MEAS_ENV 0xA2
.................... #define ID_MEAS_ENV_PRINT 0xA3
.................... #define ID_MEAS_IV_PRINT 0xA4
.................... #define ID_MEAS_PD 0xA5
.................... 
.................... // ______________MODE FUNCTIONS____________
.................... void mode_meas_iv(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_debug(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_env(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_env_debug(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_pd(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_1sweep(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_port1(unsigned int8 *uplinkcmd_ptr);
.................... void mode_meas_iv_port2(unsigned int8 *uplinkcmd_ptr);
.................... 
.................... typedef union {
....................     unsigned int8 raw;
....................     struct {
....................         unsigned int8 mission_continue : 1;
....................         unsigned int8 erase_and_save : 1;
....................         unsigned int8 reserved : 6;
....................     } flag;
.................... } mission_state_t;
.................... 
.................... 
.................... typedef struct {
....................     unsigned int8 id; // Command ID
....................     unsigned int16 sleep_time; // Sleep time in milliseconds
....................     unsigned int16 curr_threshold; // Current threshold for measurement
....................     unsigned int16 pd_threshold; // PD threshold for measurement
....................     unsigned int16 curr_limit; // Current limit for measurement
....................     unsigned int16 meas_time; // Measurement time in milliseconds
....................     mission_state_t mission_state; // Flag to indicate if the measurement is finished
.................... } MEAS_IV_CMD;
.................... 
.................... typedef struct {
....................     unsigned int8 id;
....................     unsigned int16 interval;
....................     unsigned int16 pd_threshold;
....................     unsigned int16 meas_time;
....................     unsigned int16 log_threshold;
....................     unsigned int16 sweep_limit;
.................... } meas_iv_param_t;
.................... 
.................... 
.................... // MEAS_IV_CMD make_meas_iv_cmd(unsigned int8 uplinkcmd[]);
.................... meas_iv_param_t make_meas_iv_cmd(int8 *uplinkcmd_ptr);
.................... void print_meas_iv_cmd(meas_iv_param_t *cmd_ptr);
.................... #endif // MMJ_CIGS_MODE_MISSION_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "../domain/cigs_iv.h"          // 測定機能
.................... #ifndef mmj_cigs_iv_H
.................... #define mmj_cigs_iv_H
.................... 
.................... /*
.................... // _________ values _________
.................... #define MISSION_DATA_SIZE 64
.................... volatile unsigned int8 mission_datas[MISSION_DATA_SIZE] = {0x00};
.................... volatile int8 executed_mission_count = 0;
.................... */
.................... 
.................... #define START_MAKER 0xFF
.................... #define RESERVED_VALUE 0x00
.................... 
.................... #define HEADER_SIZE 5  // START_MAKER + time (4バイト)
.................... #define ENV_SIZE    6  // pd + temp_py_top + temp_py_bot + temp_mis7 packed
.................... #define DATA_SIZE_PER_STEP 3 // data0 + data1 12bitずつ
.................... 
.................... 
.................... void make_meas_header(unsigned int8 *packetdata, unsigned int8 *cmd);
.................... 
.................... 
.................... // void sweep(unsigned int8 parameter[]);
.................... void sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit, unsigned int16 pd_limit);  
.................... void test_sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit);
.................... 
.................... typedef struct{
....................     unsigned int32 time;
....................     unsigned int16 pd;
....................     unsigned int16 temp_py_top;
....................     unsigned int16 temp_py_bot;
....................     unsigned int16 temp_mis7;
.................... } iv_env_t;
.................... 
.................... /*
.................... typedef struct{
....................     unsigned int8 port_num; // Port number (1 or 2)
....................     unsigned int16 sweep_step; // Number of steps in the sweep
....................     unsigned int16 data_buffer[2][0xFF]; // Data buffer for voltage and current readings
....................     int1 active; // Indicates if the port is active (1 for active, 0 for inactive)
.................... } sweep_config_t;
.................... */
.................... 
.................... 
.................... typedef union{
....................     struct{
....................         unsigned int8 start_marker;
....................         unsigned int8 reserved;
....................         unsigned int8 command;
....................         unsigned int8 port_num;
....................         unsigned int16 data[2];
....................     }fields;
.................... 
....................     unsigned int8 raw[PACKET_SIZE];
.................... }iv_packet_t;
.................... 
.................... typedef struct {
....................     unsigned int16 voltage;
....................     unsigned int16 current;
.................... } iv_data_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     unsigned int8 data_buffer[0x300];
....................     int1 active;
.................... } sweep_config_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     iv_data_t data_buffer[0xFF];
....................     int1 active;
.................... } sweep_debug_config_t;
.................... 
.................... typedef struct 
.................... {
....................     unsigned int8 data[3];
.................... } meas_data_t;
.................... 
.................... #define PACKET_IV_HEADER_SIZE 51
.................... #define IV_HEADER_SIZE 17
.................... #define PACKET_IV_DATA_SIZE  63
.................... #define IV_DATA_SIZE  21
.................... 
.................... typedef union{
....................     unsigned int8 raw[PACKET_SIZE];
....................     struct {
....................         unsigned int8  start_marker;
....................         unsigned int32 time_sec;
....................         unsigned int8 time_msec;
....................         unsigned int8 envdata[6];
....................         unsigned int8 ivdata[PACKET_IV_HEADER_SIZE];
....................         unsigned int8 crc;
....................     }header;
....................     struct {
....................         unsigned int8 iv_data[PACKET_IV_DATA_SIZE];
....................         unsigned int8 crc;
....................     }data;
.................... } iv_data_packet_t;
.................... 
....................     
.................... 
.................... iv_env_t create_meas_data();
.................... void log_meas_data(iv_env_t *measured_data_ptr, sweep_config_t *port_data_ptr);
.................... 
.................... void sweep_with_print();
.................... 
.................... unsigned int16 calc_pd_value(unsigned int16 data);
.................... // 
.................... unsigned int16 calc_curr_value(unsigned int16 data);
.................... #define SHUNT_RESISTANCE_OHM 0.05
.................... #define AMP_GAIN 200
.................... #define ADC_REF_VOLTAGE_MV 2500 
.................... #define ADC_MAX_READING 4095
.................... #define ADC_CURR_REF_VOLTAGE_MV 1250
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/tool/smf_queue.h"                   // ツールライブラリ
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... #include "../lib/device/mt25q.h"                     // デバイスライブラリ
.................... #ifndef MT25Q_H
.................... #define MT25Q_H
.................... 
.................... // =========
.................... //#define MT25Q_DEBUG
.................... // =========
.................... 
.................... #define SUBSECTOR_4K_BYTE 0x00001000
.................... #define SUBSECTOR_32K_BYTE 0x00008000
.................... #define SECTOR_64K_BYTE 0x00010000
.................... 
.................... 
.................... 
.................... #define FLASH_STREAM0 MIS_FM_STREAM     // <- Align the names to `config.h` Stream name
.................... #define FLASH_STREAM1 SMF_STREAM
.................... #define FLASH_STREAM2 SMF_STREAM // dont use
.................... #define FLASH_STREAM3 SMF_STREAM // dont use
.................... 
.................... typedef enum spi_stream{
....................     SPI_0 = 0,
....................     SPI_1,
....................     SPI_2,
....................     SPI_3
.................... }SpiStreamId;
.................... 
.................... #define MT25QL128ABA 0x00     //Mission Flash
.................... #define MT25QL01GBBB 0x01     //SMF,CF
.................... typedef struct select_stream_to_flash{
....................     SpiStreamId spi_stream_id;
....................     unsigned int8 flash_model;
....................     int16 cs_pin;
.................... }Flash;
.................... 
.................... 
.................... Flash mis_fm = {SPI_0, MT25QL128ABA, MIS_FM_CS};
.................... Flash smf = {SPI_1, MT25QL01GBBB, SMF_CS};
.................... 
.................... 
.................... 
.................... // ===================== Function List =====================
.................... // Public Functions
.................... 
.................... int1 is_connect(Flash flash_stream);
.................... 
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount);      
.................... 
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount);  
.................... 
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address);
.................... 
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address);  
....................                                
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address);      
.................... 
.................... //Private Functions
....................  
.................... void flash_setting(Flash flash_stream);
....................  
.................... int8 status_register(Flash flash_stream);
....................  
.................... int8 read_id(Flash flash_stream);
.................... 
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address);
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data);
.................... 
.................... 
.................... 
.................... // ===================== Flash Commands =====================
.................... #define CMD_READ_ID                     0x9F
.................... #define CMD_READ_STATUS_REGISTER        0x05
.................... #define CMD_READ                        0x03//for MT25QL128ABA
.................... #define CMD_4BYTE_READ                  0x13//for MT25QL01GBBB
.................... #define CMD_WRITE_ENABLE                0x06
.................... #define CMD_PAGE_PROGRAM                0x02//for MT25QL128ABA
.................... #define CMD_4BYTE_PAGE_PROGRAM          0x12//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_4KB_ERASE         0x20//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_4KB_ERASE   0x21//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_32KB_ERASE        0x52//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_32KB_ERASE  0x5C//for MT25QL01GBBB
.................... #define CMD_SECTOR_ERASE                0xD8//for MT25QL128ABA
.................... #define CMD_4BYTE_SECTOR_ERASE          0xDC//for MT25QL01GBBB
.................... 
.................... // ====================== Value List =====================
.................... #define MANUFACTURER_ID_MICRON 0x20 // Manufacturer ID for Micron flash
.................... #define READ_ID_DATASIZE 20 // 20 bytes for read ID data
.................... 
.................... 
.................... // ====================== Data Structures =====================
.................... typedef union
.................... {
....................     unsigned int8 bytes[READ_ID_DATASIZE]; // 20 bytes for read ID
....................     struct {
....................         unsigned int8 manufacturer_id; // 1 byte
....................         unsigned int8 memory_type;     // 1 byte
....................         unsigned int8 capacity;        // 1 byte
....................         unsigned int8 reserved;       // 1 byte
....................     } fields;
.................... }READ_ID_DATA;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... #include "../lib/device/ad7490.h"                    // ADCライブラリ
.................... #ifndef  _AD7490_H_
.................... #define  _AD7490_H_
.................... 
.................... // === AD7490 Control Word ===
.................... // Bit[15]   : WRITE (常に0)
.................... // Bit[14:13]: SEQ mode (シーケンス設定)
.................... // Bit[12]   : SHADOW (0=disabled, 1=enabled)
.................... // Bit[11]   : Don't Care
.................... // Bit[10]   : PM1 (Power Management)
.................... // Bit[9]    : PM0
.................... // Bit[8]    : REFSEL (0=internal, 1=external)
.................... // Bit[7]    : Coding (0=straight binary, 1=twos complement)
.................... // Bit[6]    : Don't Care
.................... // Bit[5]    : ADD2
.................... // Bit[4]    : ADD1
.................... // Bit[3]    : ADD0
.................... // Bit[2]    : DIFF (0=single-ended, 1=differential)
.................... // Bit[1:0]  : Don't Care
.................... 
.................... 
.................... 
.................... typedef union {
....................     unsigned int16 value; // 16-bit value for direct access
....................     struct {
....................         int1 reserved0; // Reserved bits
....................         int1 reserved1; // Reserved bits
....................         int1 reserved2; // Reserved bits
....................         int1 reserved3; // Reserved bits   
....................         int1 coding; // 1: Two's complement, 0: Binary
....................         int1 range; // 1: Range mode, 0: Normal mode
....................         int1 weak_tri; // 1: Weak trigger, 0: Strong trigger
....................         int1 shadow; // 1: Shadow register, 0: Direct access
....................         int1 pm0;
....................         int1 pm1; // Power mode bits
....................         int1 add0;
....................         int1 add1; // Channel address bits
....................         int1 add2;
....................         int1 add3; // Channel address bits
....................         int1 seq; // 1: Sequential mode, 0: Random mode
....................         int1 write; // 1: Write operation, 0: Read operation
.................... 
....................     } fields;
.................... } ad7490_cmd_t;
.................... 
.................... // Public Function 
.................... //void ad7490_init(void);
.................... unsigned int16 ad7490_make_cmd(int8 channel);
.................... 
.................... 
.................... // Resistor Settings
.................... #define AD7490_EN_WRITE 0b1
.................... 
.................... // Power Mode Register
.................... #define AD7490_PM_NORMAL 0b00000011
.................... #define AD7490_PM_SHUTDOWN 0b00000001
.................... #define AD7490_PM_AUTO_SHUTDOWN 0b00000010
.................... #define AD7490_PM_AUTO_STANDBY 0b00000000
.................... 
.................... 
.................... // ----------------------------
.................... // WRITE bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_WRITE_DISABLE = 0,  // 書き込み無効
....................     AD7490_WRITE_ENABLE  = 1   // 書き込み有効
.................... } ad7490_write_t;
.................... 
.................... // ----------------------------
.................... // SEQ bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_SEQ_DISABLE = 0,
....................     AD7490_SEQ_ENABLE  = 1
.................... } ad7490_seq_t;
.................... 
.................... // ----------------------------
.................... // CODING bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_CODING_BINARY  = 0, // ストレートバイナリ
....................     AD7490_CODING_TWOS    = 1  // Two’s complement
.................... } ad7490_coding_t;
.................... 
.................... // ----------------------------
.................... // RANGE bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_RANGE_2REF  = 0, // 0〜2*REFIN
....................     AD7490_RANGE_REF   = 1  // 0〜REFIN
.................... } ad7490_range_t;
.................... 
.................... // ----------------------------
.................... // WEAK/TRI bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_DOUT_TRI   = 0, // Three-state
....................     AD7490_DOUT_WEAK  = 1  // Weakly driven
.................... } ad7490_dout_t;
.................... 
.................... // ----------------------------
.................... // SHADOW bit
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_SHADOW_DISABLE = 0,
....................     AD7490_SHADOW_ENABLE  = 1
.................... } ad7490_shadow_t;
.................... 
.................... // ----------------------------
.................... // Power Mode (PM1, PM0)
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_PWR_NORMAL    = 0, // 00
....................     AD7490_PWR_FULLDOWN  = 1, // 01
....................     AD7490_PWR_AUTO      = 2, // 10
....................     AD7490_PWR_SHUTDOWN  = 3  // 11
.................... } ad7490_pwr_mode_t;
.................... 
.................... // ----------------------------
.................... // Channel Address (ADD3–ADD0)
.................... // ----------------------------
.................... typedef enum {
....................     AD7490_CH0  = 0,
....................     AD7490_CH1  = 1,
....................     AD7490_CH2  = 2,
....................     AD7490_CH3  = 3,
....................     AD7490_CH4  = 4,
....................     AD7490_CH5  = 5,
....................     AD7490_CH6  = 6,
....................     AD7490_CH7  = 7,
....................     AD7490_CH8  = 8,
....................     AD7490_CH9  = 9,
....................     AD7490_CH10 = 10,
....................     AD7490_CH11 = 11,
....................     AD7490_CH12 = 12,
....................     AD7490_CH13 = 13,
....................     AD7490_CH14 = 14,
....................     AD7490_CH15 = 15
.................... } ad7490_channel_t;
.................... 
.................... typedef struct {
....................     ad7490_write_t     write;
....................     ad7490_seq_t       seq;
....................     ad7490_coding_t    coding;
....................     ad7490_range_t     range;
....................     ad7490_dout_t      dout;
....................     ad7490_shadow_t    shadow;
....................     ad7490_pwr_mode_t  power_mode;
....................     ad7490_channel_t   channel;
.................... } ad7490_config_t;
.................... 
.................... 
.................... unsigned int16 ad7490_make_cmd(ad7490_config_t config);
.................... 
.................... 
.................... #endif // _AD7490_H_
.................... //------------------End of File------------------
.................... 
.................... #include "../domain/cigs_flash.h"             // ストレージ機能
.................... #ifndef MMJ_CIGS_FLASH_H
.................... #define MMJ_CIGS_FLASH_H
.................... 
.................... //#include <string.h>
.................... //#include "../hal/cigs_config.h"
.................... 
.................... #ifndef PACKET_SIZE
....................     #define PACKET_SIZE 64
.................... #endif
.................... 
.................... 
.................... #define MISF_START 0x00000000
.................... #define MISF_END   0x00BC0FFF
.................... #define SECTOR_64K_BYTE  0x10000
.................... 
.................... #define MISF_CIGS_DATA_TABLE_SIZE 64
.................... 
.................... // Flash Address
.................... #define MISF_CIGS_DATA_TABLE_START 0x00000000
.................... #define MISF_CIGS_DATA_TABLE_END   0x00000FFF
.................... #define MISF_CIGS_DATA_TABLE_SIZE  4096
.................... 
.................... #define MISF_CIGS_PICLOG_START    0x00010000
.................... #define MISF_CIGS_PICLOG_END      0x00140FFF
.................... #define MISF_CIGS_PICLOG_SIZE     1310720
.................... 
.................... #define MISF_CIGS_ENVIRO_START    0x00141000
.................... #define MISF_CIGS_ENVIRO_END      0x00280FFF
.................... #define MISF_CIGS_ENVIRO_SIZE     1310720
.................... 
.................... #define MISF_CIGS_IV1_HEADER_START 0x00281000
.................... #define MISF_CIGS_IV1_HEADER_END   0x00320FFF
.................... #define MISF_CIGS_IV1_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV1_DATA_START   0x00321000
.................... #define MISF_CIGS_IV1_DATA_END     0x00720FFF
.................... #define MISF_CIGS_IV1_DATA_SIZE    4194304
.................... 
.................... #define MISF_CIGS_IV2_HEADER_START 0x00721000
.................... #define MISF_CIGS_IV2_HEADER_END   0x007C0FFF
.................... #define MISF_CIGS_IV2_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV2_DATA_START   0x007C1000
.................... #define MISF_CIGS_IV2_DATA_END     0x00BC0FFF
.................... #define MISF_CIGS_IV2_DATA_SIZE    4194304
.................... 
.................... // 重複していた #define はここに一度だけ残す
.................... // 例: #define SECTOR_4K_BYTE  0x1000  // 4KByte
.................... // 他ファイルに同じ行があれば削除
.................... 
.................... // Flash カウンタだけを保持する汎用構造
.................... typedef struct {
....................     unsigned int32 used_counter;
....................     unsigned int32 uncopied_counter;
....................     unsigned int8  reserve_counter1;
....................     unsigned int8  reserve_counter2;
.................... } FlashCounter_t;
.................... 
.................... // データ種別ID
.................... typedef enum {
....................     FLASH_ID_DATA_TABLE = 0 ,
....................     FLASH_ID_PICLOG ,
....................     FLASH_ID_ENVIRONMENT,
....................     FLASH_ID_IV1_HEADER,
....................     FLASH_ID_IV1_DATA,
....................     FLASH_ID_IV2_HEADER,
....................     FLASH_ID_IV2_DATA,
....................     FLASH_ID_COUNT = 7
.................... } FlashDataId_t;
.................... 
.................... // Flash_t : 実体側で使用する拡張(必要なら id を保持)
.................... typedef struct {
....................     FlashDataId_t   id;
....................     unsigned int32  used_counter;
....................     unsigned int32  uncopied_counter;
....................     unsigned int8   reserve_counter1;
....................     unsigned int8   reserve_counter2;
.................... } Flash_t;
.................... 
.................... // FlashData_t （既存定義が別ヘッダなら重複しないよう確認）
.................... // ここでは payload 内の logdata.* が FlashCounter_t と仮定
.................... typedef union {
....................     struct {
....................         union {
....................             struct {
....................                 FlashCounter_t piclog;
....................                 FlashCounter_t environment;
....................                 FlashCounter_t iv1_header;
....................                 FlashCounter_t iv1_data;
....................                 FlashCounter_t iv2_header;
....................                 FlashCounter_t iv2_data;
....................             } logdata;  // 合計サイズは63バイト
....................             unsigned int8 reserve[63];
....................         } payload;
....................         unsigned int8 crc;  // 1バイトCRC
....................     } packet;
....................     unsigned int8 bytes[64];
.................... } FlashData_t;
.................... 
.................... 
.................... // 取得系
.................... FlashData_t make_flash_data_table(void);
.................... void misf_update_address_area(void);
.................... void print_flash_status(void);
.................... 
.................... 
.................... // キュー投入
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode);
.................... void misf_init();
.................... 
.................... // Flash 操作用構造体
.................... typedef struct {
....................     unsigned int32 start;
....................     unsigned int32 end;
....................     unsigned int32 size;
.................... } ADDRESS_AREA_T;
.................... 
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t misf_counter_table[];
.................... extern FlashCounter_t *misf_counter_table_ptr[];
.................... 
.................... void print_MISF_ADDRESS_TABLE(void);
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size);
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../domain/cigs_piclog.h"            // ログ機能
.................... #ifndef     MMJ_CIGS_PICLOG_H
.................... #define     MMJ_CIGS_PICLOG_H
.................... 
.................... // PICLOG Param
.................... #define PICLOG_STARTUP 0x00
.................... #define PICLOG_PARAM_START 0x00
.................... #define PICLOG_PARAM_END   0xFF
.................... 
.................... 
.................... #define PICLOG_PACKET_SIZE 6
.................... 
.................... // PICLOG Union
.................... typedef union {
....................     struct {
....................         unsigned int32 time;
....................         unsigned int8  function;
....................         unsigned int8  parameter;
....................     } fields;
....................     unsigned int8 bytes[PICLOG_PACKET_SIZE];
.................... } piclog_t;
.................... 
.................... #define PICLOG_BLANK_SIZE 4
.................... unsigned int8 PICLOG_BLANK_DATA[PICLOG_BLANK_SIZE];
.................... 
.................... // PICLOG 関数（実装は .c）
.................... void piclog_save(unsigned int8 function, unsigned int8 parameter);
.................... 
.................... #endif // MMJ_CIGS_PICLOG_H
.................... //------------------End of File------------------
.................... 
.................... 
.................... 
.................... void mode_meas_iv_1sweep(unsigned int8 *uplinkcmd_ptr)
.................... {
....................    fprintf(PC, "Start MODE MEAS IV 1 SWEEP\r\n");
*
0E48E:  MOVLW  C6
0E490:  MOVWF  FF6
0E492:  MOVLW  13
0E494:  MOVWF  FF7
0E496:  MOVLW  00
0E498:  MOVWF  FF8
0E49A:  CALL   20CE
.................... 
....................    mode_misf_erase_and_reset(uplinkcmd_ptr);
0E49E:  MOVFF  1B0,1C9
0E4A2:  MOVFF  1AF,1C8
0E4A6:  CALL   6E92
.................... 
....................    meas_iv_param_t cmd = make_meas_iv_cmd(uplinkcmd_ptr); // Create the measurement command structure
0E4AA:  MOVFF  1B0,1E6
0E4AE:  MOVFF  1AF,1E5
0E4B2:  CALL   7C2C
0E4B6:  MOVFF  02,03
0E4BA:  MOVF   01,W
0E4BC:  MOVWF  FE1
0E4BE:  MOVFF  03,FE2
0E4C2:  MOVLW  01
0E4C4:  MOVWF  FEA
0E4C6:  MOVLW  B1
0E4C8:  MOVWF  FE9
0E4CA:  MOVLW  0B
0E4CC:  MOVWF  01
0E4CE:  MOVFF  FE6,FEE
0E4D2:  DECFSZ 01,F
0E4D4:  GOTO   E4CE
....................    cmd.sweep_limit = 0x0030;
0E4D8:  MOVLB  1
0E4DA:  CLRF   xBB
0E4DC:  MOVLW  30
0E4DE:  MOVWF  xBA
....................    sweep(cmd.log_threshold, cmd.sweep_limit, cmd.pd_threshold);
0E4E0:  MOVFF  1B9,1E0
0E4E4:  MOVFF  1B8,1DF
0E4E8:  MOVFF  1BB,1E2
0E4EC:  MOVFF  1BA,1E1
0E4F0:  MOVFF  1B5,1E4
0E4F4:  MOVFF  1B4,1E3
0E4F8:  MOVLB  0
0E4FA:  CALL   965C
....................    
....................    FlashOperationStruct data = {0};
0E4FE:  MOVLB  1
0E500:  CLRF   xBC
0E502:  CLRF   xBD
0E504:  CLRF   xBE
0E506:  CLRF   xBF
0E508:  CLRF   xC0
0E50A:  CLRF   xC1
0E50C:  CLRF   xC2
0E50E:  CLRF   xC3
0E510:  CLRF   xC4
0E512:  CLRF   xC5
0E514:  CLRF   xC6
0E516:  CLRF   xC7
....................    data.func_type = ENUM_SMF_WRITE;
0E518:  CLRF   xBD
....................    data.mission_id = CIGS_IV1_DATA; // ID_CIGS_MEASURE_DATA; // コピーする目的のデータ種別
0E51A:  MOVLW  04
0E51C:  MOVWF  xBC
....................    data.write_mode = SMF_WRITE_CIRCULAR;
0E51E:  MOVLW  02
0E520:  MOVWF  xBE
....................    data.source_type = SOURCE_MISF_UNCOPIED;
0E522:  BCF    xBF.0
....................    fprintf(PC, "\r\nADD SMF QUEUE\r\n");
0E524:  MOVLW  E4
0E526:  MOVWF  FF6
0E528:  MOVLW  13
0E52A:  MOVWF  FF7
0E52C:  MOVLW  00
0E52E:  MOVWF  FF8
0E530:  MOVLB  0
0E532:  CALL   20CE
....................    fprintf(PC, "\tMission ID:   %02X\r\n", data.mission_id);
0E536:  MOVLW  F6
0E538:  MOVWF  FF6
0E53A:  MOVLW  13
0E53C:  MOVWF  FF7
0E53E:  MOVLW  00
0E540:  MOVWF  FF8
0E542:  MOVLW  0F
0E544:  MOVLB  A
0E546:  MOVWF  x4E
0E548:  MOVLB  0
0E54A:  CALL   2104
0E54E:  MOVFF  1BC,9E8
0E552:  MOVLW  37
0E554:  MOVLB  9
0E556:  MOVWF  xE9
0E558:  MOVLB  0
0E55A:  CALL   2334
0E55E:  MOVLW  0D
0E560:  BTFSS  FA6.6
0E562:  GOTO   E560
0E566:  MOVLB  E
0E568:  MOVWF  xF9
0E56A:  MOVLW  0A
0E56C:  MOVLB  0
0E56E:  BTFSS  FA6.6
0E570:  GOTO   E56E
0E574:  MOVLB  E
0E576:  MOVWF  xF9
....................    fprintf(PC, "\tFunction Type:%02X\r\n", data.func_type);
0E578:  MOVLW  0C
0E57A:  MOVWF  FF6
0E57C:  MOVLW  14
0E57E:  MOVWF  FF7
0E580:  MOVLW  00
0E582:  MOVWF  FF8
0E584:  MOVLW  0F
0E586:  MOVLB  A
0E588:  MOVWF  x4E
0E58A:  MOVLB  0
0E58C:  CALL   2104
0E590:  MOVFF  1BD,9E8
0E594:  MOVLW  37
0E596:  MOVLB  9
0E598:  MOVWF  xE9
0E59A:  MOVLB  0
0E59C:  CALL   2334
0E5A0:  MOVLW  0D
0E5A2:  BTFSS  FA6.6
0E5A4:  GOTO   E5A2
0E5A8:  MOVLB  E
0E5AA:  MOVWF  xF9
0E5AC:  MOVLW  0A
0E5AE:  MOVLB  0
0E5B0:  BTFSS  FA6.6
0E5B2:  GOTO   E5B0
0E5B6:  MOVLB  E
0E5B8:  MOVWF  xF9
....................    fprintf(PC, "\tWrite Mode:   %02X\r\n", data.write_mode);
0E5BA:  MOVLW  22
0E5BC:  MOVWF  FF6
0E5BE:  MOVLW  14
0E5C0:  MOVWF  FF7
0E5C2:  MOVLW  00
0E5C4:  MOVWF  FF8
0E5C6:  MOVLW  0F
0E5C8:  MOVLB  A
0E5CA:  MOVWF  x4E
0E5CC:  MOVLB  0
0E5CE:  CALL   2104
0E5D2:  MOVFF  1BE,9E8
0E5D6:  MOVLW  37
0E5D8:  MOVLB  9
0E5DA:  MOVWF  xE9
0E5DC:  MOVLB  0
0E5DE:  CALL   2334
0E5E2:  MOVLW  0D
0E5E4:  BTFSS  FA6.6
0E5E6:  GOTO   E5E4
0E5EA:  MOVLB  E
0E5EC:  MOVWF  xF9
0E5EE:  MOVLW  0A
0E5F0:  MOVLB  0
0E5F2:  BTFSS  FA6.6
0E5F4:  GOTO   E5F2
0E5F8:  MOVLB  E
0E5FA:  MOVWF  xF9
....................    fprintf(PC, "\tSource Type:  %02X\r\n", data.source_type);
0E5FC:  MOVLW  00
0E5FE:  MOVLB  1
0E600:  BTFSC  xBF.0
0E602:  MOVLW  01
0E604:  MOVWF  xC8
0E606:  MOVLW  38
0E608:  MOVWF  FF6
0E60A:  MOVLW  14
0E60C:  MOVWF  FF7
0E60E:  MOVLW  00
0E610:  MOVWF  FF8
0E612:  MOVLW  0F
0E614:  MOVLB  A
0E616:  MOVWF  x4E
0E618:  MOVLB  0
0E61A:  CALL   2104
0E61E:  MOVFF  1C8,9E8
0E622:  MOVLW  37
0E624:  MOVLB  9
0E626:  MOVWF  xE9
0E628:  MOVLB  0
0E62A:  CALL   2334
0E62E:  MOVLW  0D
0E630:  BTFSS  FA6.6
0E632:  GOTO   E630
0E636:  MOVLB  E
0E638:  MOVWF  xF9
0E63A:  MOVLW  0A
0E63C:  MOVLB  0
0E63E:  BTFSS  FA6.6
0E640:  GOTO   E63E
0E644:  MOVLB  E
0E646:  MOVWF  xF9
....................    fprintf(PC, "\tStart Address:%04X\r\n", data.misf_start_addr);
0E648:  MOVLW  4E
0E64A:  MOVWF  FF6
0E64C:  MOVLW  14
0E64E:  MOVWF  FF7
0E650:  MOVLW  00
0E652:  MOVWF  FF8
0E654:  MOVLW  0F
0E656:  MOVLB  A
0E658:  MOVWF  x4E
0E65A:  MOVLB  0
0E65C:  CALL   2104
0E660:  MOVLW  02
0E662:  MOVLB  1
0E664:  MOVWF  xC8
0E666:  MOVLB  0
0E668:  MOVLW  30
0E66A:  BTFSS  FA6.6
0E66C:  GOTO   E66A
0E670:  MOVLB  E
0E672:  MOVWF  xF9
0E674:  MOVLB  1
0E676:  DECFSZ xC8,F
0E678:  BRA    E67E
0E67A:  BRA    E684
0E67C:  MOVLB  0
0E67E:  MOVLB  0
0E680:  GOTO   E668
0E684:  MOVFF  1C0,9E8
0E688:  MOVLW  37
0E68A:  MOVLB  9
0E68C:  MOVWF  xE9
0E68E:  MOVLB  0
0E690:  CALL   2334
0E694:  MOVLW  0D
0E696:  BTFSS  FA6.6
0E698:  GOTO   E696
0E69C:  MOVLB  E
0E69E:  MOVWF  xF9
0E6A0:  MOVLW  0A
0E6A2:  MOVLB  0
0E6A4:  BTFSS  FA6.6
0E6A6:  GOTO   E6A4
0E6AA:  MOVLB  E
0E6AC:  MOVWF  xF9
....................    fprintf(PC, "\tSize:         %04X\r\n", misf_counter_table[CIGS_IV1_DATA].uncopied_counter);
0E6AE:  MOVLW  64
0E6B0:  MOVWF  FF6
0E6B2:  MOVLW  14
0E6B4:  MOVWF  FF7
0E6B6:  MOVLW  00
0E6B8:  MOVWF  FF8
0E6BA:  MOVLW  0F
0E6BC:  MOVLB  A
0E6BE:  MOVWF  x4E
0E6C0:  MOVLB  0
0E6C2:  CALL   2104
0E6C6:  MOVLW  02
0E6C8:  MOVLB  1
0E6CA:  MOVWF  xC8
0E6CC:  MOVLB  0
0E6CE:  MOVLW  30
0E6D0:  BTFSS  FA6.6
0E6D2:  GOTO   E6D0
0E6D6:  MOVLB  E
0E6D8:  MOVWF  xF9
0E6DA:  MOVLB  1
0E6DC:  DECFSZ xC8,F
0E6DE:  BRA    E6E4
0E6E0:  BRA    E6EA
0E6E2:  MOVLB  0
0E6E4:  MOVLB  0
0E6E6:  GOTO   E6CE
0E6EA:  MOVFF  14E,9E8
0E6EE:  MOVLW  37
0E6F0:  MOVLB  9
0E6F2:  MOVWF  xE9
0E6F4:  MOVLB  0
0E6F6:  CALL   2334
0E6FA:  MOVLW  0D
0E6FC:  BTFSS  FA6.6
0E6FE:  GOTO   E6FC
0E702:  MOVLB  E
0E704:  MOVWF  xF9
0E706:  MOVLW  0A
0E708:  MOVLB  0
0E70A:  BTFSS  FA6.6
0E70C:  GOTO   E70A
0E710:  MOVLB  E
0E712:  MOVWF  xF9
....................    enqueue_flash_operation(&data); // SMFへのデータコピーを実行する
0E714:  MOVLW  01
0E716:  MOVLB  1
0E718:  MOVWF  xE0
0E71A:  MOVLW  BC
0E71C:  MOVWF  xDF
0E71E:  MOVLB  0
0E720:  CALL   A808
.................... 
.................... 
....................    data.func_type = ENUM_SMF_WRITE;
0E724:  MOVLB  1
0E726:  CLRF   xBD
....................    data.mission_id = CIGS_IV2_DATA; // ID_CIGS_MEASURE_DATA; // コピーする目的のデータ種別
0E728:  MOVLW  06
0E72A:  MOVWF  xBC
....................    data.write_mode = SMF_WRITE_CIRCULAR;
0E72C:  MOVLW  02
0E72E:  MOVWF  xBE
....................    data.source_type = SOURCE_MISF_UNCOPIED;
0E730:  BCF    xBF.0
....................    fprintf(PC, "\r\nADD SMF QUEUE\r\n");
0E732:  MOVLW  7A
0E734:  MOVWF  FF6
0E736:  MOVLW  14
0E738:  MOVWF  FF7
0E73A:  MOVLW  00
0E73C:  MOVWF  FF8
0E73E:  MOVLB  0
0E740:  CALL   20CE
....................    fprintf(PC, "\tMission ID:   %02X\r\n", data.mission_id);
0E744:  MOVLW  8C
0E746:  MOVWF  FF6
0E748:  MOVLW  14
0E74A:  MOVWF  FF7
0E74C:  MOVLW  00
0E74E:  MOVWF  FF8
0E750:  MOVLW  0F
0E752:  MOVLB  A
0E754:  MOVWF  x4E
0E756:  MOVLB  0
0E758:  CALL   2104
0E75C:  MOVFF  1BC,9E8
0E760:  MOVLW  37
0E762:  MOVLB  9
0E764:  MOVWF  xE9
0E766:  MOVLB  0
0E768:  CALL   2334
0E76C:  MOVLW  0D
0E76E:  BTFSS  FA6.6
0E770:  GOTO   E76E
0E774:  MOVLB  E
0E776:  MOVWF  xF9
0E778:  MOVLW  0A
0E77A:  MOVLB  0
0E77C:  BTFSS  FA6.6
0E77E:  GOTO   E77C
0E782:  MOVLB  E
0E784:  MOVWF  xF9
....................    fprintf(PC, "\tFunction Type:%02X\r\n", data.func_type);
0E786:  MOVLW  A2
0E788:  MOVWF  FF6
0E78A:  MOVLW  14
0E78C:  MOVWF  FF7
0E78E:  MOVLW  00
0E790:  MOVWF  FF8
0E792:  MOVLW  0F
0E794:  MOVLB  A
0E796:  MOVWF  x4E
0E798:  MOVLB  0
0E79A:  CALL   2104
0E79E:  MOVFF  1BD,9E8
0E7A2:  MOVLW  37
0E7A4:  MOVLB  9
0E7A6:  MOVWF  xE9
0E7A8:  MOVLB  0
0E7AA:  CALL   2334
0E7AE:  MOVLW  0D
0E7B0:  BTFSS  FA6.6
0E7B2:  GOTO   E7B0
0E7B6:  MOVLB  E
0E7B8:  MOVWF  xF9
0E7BA:  MOVLW  0A
0E7BC:  MOVLB  0
0E7BE:  BTFSS  FA6.6
0E7C0:  GOTO   E7BE
0E7C4:  MOVLB  E
0E7C6:  MOVWF  xF9
....................    fprintf(PC, "\tWrite Mode:   %02X\r\n", data.write_mode);
0E7C8:  MOVLW  B8
0E7CA:  MOVWF  FF6
0E7CC:  MOVLW  14
0E7CE:  MOVWF  FF7
0E7D0:  MOVLW  00
0E7D2:  MOVWF  FF8
0E7D4:  MOVLW  0F
0E7D6:  MOVLB  A
0E7D8:  MOVWF  x4E
0E7DA:  MOVLB  0
0E7DC:  CALL   2104
0E7E0:  MOVFF  1BE,9E8
0E7E4:  MOVLW  37
0E7E6:  MOVLB  9
0E7E8:  MOVWF  xE9
0E7EA:  MOVLB  0
0E7EC:  CALL   2334
0E7F0:  MOVLW  0D
0E7F2:  BTFSS  FA6.6
0E7F4:  GOTO   E7F2
0E7F8:  MOVLB  E
0E7FA:  MOVWF  xF9
0E7FC:  MOVLW  0A
0E7FE:  MOVLB  0
0E800:  BTFSS  FA6.6
0E802:  GOTO   E800
0E806:  MOVLB  E
0E808:  MOVWF  xF9
....................    fprintf(PC, "\tSource Type:  %02X\r\n", data.source_type);
0E80A:  MOVLW  00
0E80C:  MOVLB  1
0E80E:  BTFSC  xBF.0
0E810:  MOVLW  01
0E812:  MOVWF  xC8
0E814:  MOVLW  CE
0E816:  MOVWF  FF6
0E818:  MOVLW  14
0E81A:  MOVWF  FF7
0E81C:  MOVLW  00
0E81E:  MOVWF  FF8
0E820:  MOVLW  0F
0E822:  MOVLB  A
0E824:  MOVWF  x4E
0E826:  MOVLB  0
0E828:  CALL   2104
0E82C:  MOVFF  1C8,9E8
0E830:  MOVLW  37
0E832:  MOVLB  9
0E834:  MOVWF  xE9
0E836:  MOVLB  0
0E838:  CALL   2334
0E83C:  MOVLW  0D
0E83E:  BTFSS  FA6.6
0E840:  GOTO   E83E
0E844:  MOVLB  E
0E846:  MOVWF  xF9
0E848:  MOVLW  0A
0E84A:  MOVLB  0
0E84C:  BTFSS  FA6.6
0E84E:  GOTO   E84C
0E852:  MOVLB  E
0E854:  MOVWF  xF9
....................    fprintf(PC, "\tStart Address:%04X\r\n", data.misf_start_addr);
0E856:  MOVLW  E4
0E858:  MOVWF  FF6
0E85A:  MOVLW  14
0E85C:  MOVWF  FF7
0E85E:  MOVLW  00
0E860:  MOVWF  FF8
0E862:  MOVLW  0F
0E864:  MOVLB  A
0E866:  MOVWF  x4E
0E868:  MOVLB  0
0E86A:  CALL   2104
0E86E:  MOVLW  02
0E870:  MOVLB  1
0E872:  MOVWF  xC8
0E874:  MOVLB  0
0E876:  MOVLW  30
0E878:  BTFSS  FA6.6
0E87A:  GOTO   E878
0E87E:  MOVLB  E
0E880:  MOVWF  xF9
0E882:  MOVLB  1
0E884:  DECFSZ xC8,F
0E886:  BRA    E88C
0E888:  BRA    E892
0E88A:  MOVLB  0
0E88C:  MOVLB  0
0E88E:  GOTO   E876
0E892:  MOVFF  1C0,9E8
0E896:  MOVLW  37
0E898:  MOVLB  9
0E89A:  MOVWF  xE9
0E89C:  MOVLB  0
0E89E:  CALL   2334
0E8A2:  MOVLW  0D
0E8A4:  BTFSS  FA6.6
0E8A6:  GOTO   E8A4
0E8AA:  MOVLB  E
0E8AC:  MOVWF  xF9
0E8AE:  MOVLW  0A
0E8B0:  MOVLB  0
0E8B2:  BTFSS  FA6.6
0E8B4:  GOTO   E8B2
0E8B8:  MOVLB  E
0E8BA:  MOVWF  xF9
....................    fprintf(PC, "\tSize:         %04X\r\n", misf_counter_table[CIGS_IV2_DATA].uncopied_counter);
0E8BC:  MOVLW  FA
0E8BE:  MOVWF  FF6
0E8C0:  MOVLW  14
0E8C2:  MOVWF  FF7
0E8C4:  MOVLW  00
0E8C6:  MOVWF  FF8
0E8C8:  MOVLW  0F
0E8CA:  MOVLB  A
0E8CC:  MOVWF  x4E
0E8CE:  MOVLB  0
0E8D0:  CALL   2104
0E8D4:  MOVLW  02
0E8D6:  MOVLB  1
0E8D8:  MOVWF  xC8
0E8DA:  MOVLB  0
0E8DC:  MOVLW  30
0E8DE:  BTFSS  FA6.6
0E8E0:  GOTO   E8DE
0E8E4:  MOVLB  E
0E8E6:  MOVWF  xF9
0E8E8:  MOVLB  1
0E8EA:  DECFSZ xC8,F
0E8EC:  BRA    E8F2
0E8EE:  BRA    E8F8
0E8F0:  MOVLB  0
0E8F2:  MOVLB  0
0E8F4:  GOTO   E8DC
0E8F8:  MOVFF  162,9E8
0E8FC:  MOVLW  37
0E8FE:  MOVLB  9
0E900:  MOVWF  xE9
0E902:  MOVLB  0
0E904:  CALL   2334
0E908:  MOVLW  0D
0E90A:  BTFSS  FA6.6
0E90C:  GOTO   E90A
0E910:  MOVLB  E
0E912:  MOVWF  xF9
0E914:  MOVLW  0A
0E916:  MOVLB  0
0E918:  BTFSS  FA6.6
0E91A:  GOTO   E918
0E91E:  MOVLB  E
0E920:  MOVWF  xF9
....................    enqueue_flash_operation(&data); // SMFへのデータコピーを実行する
0E922:  MOVLW  01
0E924:  MOVLB  1
0E926:  MOVWF  xE0
0E928:  MOVLW  BC
0E92A:  MOVWF  xDF
0E92C:  MOVLB  0
0E92E:  CALL   A808
.................... 
....................    misf_update_address_area();
0E932:  CALL   4E4E
....................    print_misf_address_table();
0E936:  CALL   2F48
0E93A:  GOTO   FA24 (RETURN)
.................... }
.................... 
.................... void mode_meas_iv_port1(unsigned int8 *uplinkcmd_ptr)
.................... {
....................    fprintf(PC, "Start MODE MEAS IV PORT1\r\n");
*
0F198:  MOVLW  10
0F19A:  MOVWF  FF6
0F19C:  MOVLW  15
0F19E:  MOVWF  FF7
0F1A0:  MOVLW  00
0F1A2:  MOVWF  FF8
0F1A4:  CALL   20CE
.................... 
....................    mode_misf_erase_and_reset(uplinkcmd_ptr);
0F1A8:  MOVFF  1B0,1C9
0F1AC:  MOVFF  1AF,1C8
0F1B0:  CALL   6E92
.................... 
....................    meas_iv_param_t cmd = make_meas_iv_cmd(uplinkcmd_ptr); // Create the measurement command structure
0F1B4:  MOVFF  1B0,1E6
0F1B8:  MOVFF  1AF,1E5
0F1BC:  CALL   7C2C
0F1C0:  MOVFF  02,03
0F1C4:  MOVF   01,W
0F1C6:  MOVWF  FE1
0F1C8:  MOVFF  03,FE2
0F1CC:  MOVLW  01
0F1CE:  MOVWF  FEA
0F1D0:  MOVLW  B1
0F1D2:  MOVWF  FE9
0F1D4:  MOVLW  0B
0F1D6:  MOVWF  01
0F1D8:  MOVFF  FE6,FEE
0F1DC:  DECFSZ 01,F
0F1DE:  GOTO   F1D8
....................    sweep_port1(cmd.sweep_limit);
0F1E2:  MOVFF  1BB,1C9
0F1E6:  MOVFF  1BA,1C8
0F1EA:  CALL   E93E
.................... 
....................    FlashOperationStruct data = {0};
0F1EE:  MOVLB  1
0F1F0:  CLRF   xBC
0F1F2:  CLRF   xBD
0F1F4:  CLRF   xBE
0F1F6:  CLRF   xBF
0F1F8:  CLRF   xC0
0F1FA:  CLRF   xC1
0F1FC:  CLRF   xC2
0F1FE:  CLRF   xC3
0F200:  CLRF   xC4
0F202:  CLRF   xC5
0F204:  CLRF   xC6
0F206:  CLRF   xC7
....................    data.func_type = ENUM_SMF_WRITE;
0F208:  CLRF   xBD
....................    data.mission_id = CIGS_IV1_DATA; // ID_CIGS_MEASURE_DATA; // コピーする目的のデータ種別
0F20A:  MOVLW  04
0F20C:  MOVWF  xBC
....................    data.write_mode = SMF_WRITE_CIRCULAR;
0F20E:  MOVLW  02
0F210:  MOVWF  xBE
....................    data.source_type = SOURCE_MISF_UNCOPIED;
0F212:  BCF    xBF.0
....................    fprintf(PC, "\r\nADD SMF QUEUE\r\n");
0F214:  MOVLW  2C
0F216:  MOVWF  FF6
0F218:  MOVLW  15
0F21A:  MOVWF  FF7
0F21C:  MOVLW  00
0F21E:  MOVWF  FF8
0F220:  MOVLB  0
0F222:  CALL   20CE
....................    fprintf(PC, "\tMission ID:   %02X\r\n", data.mission_id);
0F226:  MOVLW  3E
0F228:  MOVWF  FF6
0F22A:  MOVLW  15
0F22C:  MOVWF  FF7
0F22E:  MOVLW  00
0F230:  MOVWF  FF8
0F232:  MOVLW  0F
0F234:  MOVLB  A
0F236:  MOVWF  x4E
0F238:  MOVLB  0
0F23A:  CALL   2104
0F23E:  MOVFF  1BC,9E8
0F242:  MOVLW  37
0F244:  MOVLB  9
0F246:  MOVWF  xE9
0F248:  MOVLB  0
0F24A:  CALL   2334
0F24E:  MOVLW  0D
0F250:  BTFSS  FA6.6
0F252:  GOTO   F250
0F256:  MOVLB  E
0F258:  MOVWF  xF9
0F25A:  MOVLW  0A
0F25C:  MOVLB  0
0F25E:  BTFSS  FA6.6
0F260:  GOTO   F25E
0F264:  MOVLB  E
0F266:  MOVWF  xF9
....................    fprintf(PC, "\tFunction Type:%02X\r\n", data.func_type);
0F268:  MOVLW  54
0F26A:  MOVWF  FF6
0F26C:  MOVLW  15
0F26E:  MOVWF  FF7
0F270:  MOVLW  00
0F272:  MOVWF  FF8
0F274:  MOVLW  0F
0F276:  MOVLB  A
0F278:  MOVWF  x4E
0F27A:  MOVLB  0
0F27C:  CALL   2104
0F280:  MOVFF  1BD,9E8
0F284:  MOVLW  37
0F286:  MOVLB  9
0F288:  MOVWF  xE9
0F28A:  MOVLB  0
0F28C:  CALL   2334
0F290:  MOVLW  0D
0F292:  BTFSS  FA6.6
0F294:  GOTO   F292
0F298:  MOVLB  E
0F29A:  MOVWF  xF9
0F29C:  MOVLW  0A
0F29E:  MOVLB  0
0F2A0:  BTFSS  FA6.6
0F2A2:  GOTO   F2A0
0F2A6:  MOVLB  E
0F2A8:  MOVWF  xF9
....................    fprintf(PC, "\tWrite Mode:   %02X\r\n", data.write_mode);
0F2AA:  MOVLW  6A
0F2AC:  MOVWF  FF6
0F2AE:  MOVLW  15
0F2B0:  MOVWF  FF7
0F2B2:  MOVLW  00
0F2B4:  MOVWF  FF8
0F2B6:  MOVLW  0F
0F2B8:  MOVLB  A
0F2BA:  MOVWF  x4E
0F2BC:  MOVLB  0
0F2BE:  CALL   2104
0F2C2:  MOVFF  1BE,9E8
0F2C6:  MOVLW  37
0F2C8:  MOVLB  9
0F2CA:  MOVWF  xE9
0F2CC:  MOVLB  0
0F2CE:  CALL   2334
0F2D2:  MOVLW  0D
0F2D4:  BTFSS  FA6.6
0F2D6:  GOTO   F2D4
0F2DA:  MOVLB  E
0F2DC:  MOVWF  xF9
0F2DE:  MOVLW  0A
0F2E0:  MOVLB  0
0F2E2:  BTFSS  FA6.6
0F2E4:  GOTO   F2E2
0F2E8:  MOVLB  E
0F2EA:  MOVWF  xF9
....................    fprintf(PC, "\tSource Type:  %02X\r\n", data.source_type);
0F2EC:  MOVLW  00
0F2EE:  MOVLB  1
0F2F0:  BTFSC  xBF.0
0F2F2:  MOVLW  01
0F2F4:  MOVWF  xC8
0F2F6:  MOVLW  80
0F2F8:  MOVWF  FF6
0F2FA:  MOVLW  15
0F2FC:  MOVWF  FF7
0F2FE:  MOVLW  00
0F300:  MOVWF  FF8
0F302:  MOVLW  0F
0F304:  MOVLB  A
0F306:  MOVWF  x4E
0F308:  MOVLB  0
0F30A:  CALL   2104
0F30E:  MOVFF  1C8,9E8
0F312:  MOVLW  37
0F314:  MOVLB  9
0F316:  MOVWF  xE9
0F318:  MOVLB  0
0F31A:  CALL   2334
0F31E:  MOVLW  0D
0F320:  BTFSS  FA6.6
0F322:  GOTO   F320
0F326:  MOVLB  E
0F328:  MOVWF  xF9
0F32A:  MOVLW  0A
0F32C:  MOVLB  0
0F32E:  BTFSS  FA6.6
0F330:  GOTO   F32E
0F334:  MOVLB  E
0F336:  MOVWF  xF9
....................    fprintf(PC, "\tStart Address:%04X\r\n", data.misf_start_addr);
0F338:  MOVLW  96
0F33A:  MOVWF  FF6
0F33C:  MOVLW  15
0F33E:  MOVWF  FF7
0F340:  MOVLW  00
0F342:  MOVWF  FF8
0F344:  MOVLW  0F
0F346:  MOVLB  A
0F348:  MOVWF  x4E
0F34A:  MOVLB  0
0F34C:  CALL   2104
0F350:  MOVLW  02
0F352:  MOVLB  1
0F354:  MOVWF  xC8
0F356:  MOVLB  0
0F358:  MOVLW  30
0F35A:  BTFSS  FA6.6
0F35C:  GOTO   F35A
0F360:  MOVLB  E
0F362:  MOVWF  xF9
0F364:  MOVLB  1
0F366:  DECFSZ xC8,F
0F368:  BRA    F36E
0F36A:  BRA    F374
0F36C:  MOVLB  0
0F36E:  MOVLB  0
0F370:  GOTO   F358
0F374:  MOVFF  1C0,9E8
0F378:  MOVLW  37
0F37A:  MOVLB  9
0F37C:  MOVWF  xE9
0F37E:  MOVLB  0
0F380:  CALL   2334
0F384:  MOVLW  0D
0F386:  BTFSS  FA6.6
0F388:  GOTO   F386
0F38C:  MOVLB  E
0F38E:  MOVWF  xF9
0F390:  MOVLW  0A
0F392:  MOVLB  0
0F394:  BTFSS  FA6.6
0F396:  GOTO   F394
0F39A:  MOVLB  E
0F39C:  MOVWF  xF9
....................    fprintf(PC, "\tSize:         %04X\r\n", misf_counter_table[CIGS_IV1_DATA].uncopied_counter);
0F39E:  MOVLW  AC
0F3A0:  MOVWF  FF6
0F3A2:  MOVLW  15
0F3A4:  MOVWF  FF7
0F3A6:  MOVLW  00
0F3A8:  MOVWF  FF8
0F3AA:  MOVLW  0F
0F3AC:  MOVLB  A
0F3AE:  MOVWF  x4E
0F3B0:  MOVLB  0
0F3B2:  CALL   2104
0F3B6:  MOVLW  02
0F3B8:  MOVLB  1
0F3BA:  MOVWF  xC8
0F3BC:  MOVLB  0
0F3BE:  MOVLW  30
0F3C0:  BTFSS  FA6.6
0F3C2:  GOTO   F3C0
0F3C6:  MOVLB  E
0F3C8:  MOVWF  xF9
0F3CA:  MOVLB  1
0F3CC:  DECFSZ xC8,F
0F3CE:  BRA    F3D4
0F3D0:  BRA    F3DA
0F3D2:  MOVLB  0
0F3D4:  MOVLB  0
0F3D6:  GOTO   F3BE
0F3DA:  MOVFF  14E,9E8
0F3DE:  MOVLW  37
0F3E0:  MOVLB  9
0F3E2:  MOVWF  xE9
0F3E4:  MOVLB  0
0F3E6:  CALL   2334
0F3EA:  MOVLW  0D
0F3EC:  BTFSS  FA6.6
0F3EE:  GOTO   F3EC
0F3F2:  MOVLB  E
0F3F4:  MOVWF  xF9
0F3F6:  MOVLW  0A
0F3F8:  MOVLB  0
0F3FA:  BTFSS  FA6.6
0F3FC:  GOTO   F3FA
0F400:  MOVLB  E
0F402:  MOVWF  xF9
....................    enqueue_flash_operation(&data); // SMFへのデータコピーを実行する
0F404:  MOVLW  01
0F406:  MOVLB  1
0F408:  MOVWF  xE0
0F40A:  MOVLW  BC
0F40C:  MOVWF  xDF
0F40E:  MOVLB  0
0F410:  CALL   A808
.................... 
....................    misf_update_address_area();
0F414:  CALL   4E4E
0F418:  GOTO   FA3C (RETURN)
.................... }
.................... 
.................... void mode_meas_iv_port2(unsigned int8 *uplinkcmd_ptr)
.................... {
....................    fprintf(PC, "Start MODE MEAS IV PORT2\r\n");
0F41C:  MOVLW  C2
0F41E:  MOVWF  FF6
0F420:  MOVLW  15
0F422:  MOVWF  FF7
0F424:  MOVLW  00
0F426:  MOVWF  FF8
0F428:  CALL   20CE
.................... 
....................    mode_misf_erase_and_reset(uplinkcmd_ptr);
0F42C:  MOVFF  1B0,1C9
0F430:  MOVFF  1AF,1C8
0F434:  CALL   6E92
....................    meas_iv_param_t cmd = make_meas_iv_cmd(uplinkcmd_ptr); // Create the measurement command structure
0F438:  MOVFF  1B0,1E6
0F43C:  MOVFF  1AF,1E5
0F440:  CALL   7C2C
0F444:  MOVFF  02,03
0F448:  MOVF   01,W
0F44A:  MOVWF  FE1
0F44C:  MOVFF  03,FE2
0F450:  MOVLW  01
0F452:  MOVWF  FEA
0F454:  MOVLW  B1
0F456:  MOVWF  FE9
0F458:  MOVLW  0B
0F45A:  MOVWF  01
0F45C:  MOVFF  FE6,FEE
0F460:  DECFSZ 01,F
0F462:  GOTO   F45C
....................    sweep_port1(cmd.sweep_limit);
0F466:  MOVFF  1BB,1C9
0F46A:  MOVFF  1BA,1C8
0F46E:  CALL   E93E
.................... 
....................    FlashOperationStruct data = {0};
0F472:  MOVLB  1
0F474:  CLRF   xBC
0F476:  CLRF   xBD
0F478:  CLRF   xBE
0F47A:  CLRF   xBF
0F47C:  CLRF   xC0
0F47E:  CLRF   xC1
0F480:  CLRF   xC2
0F482:  CLRF   xC3
0F484:  CLRF   xC4
0F486:  CLRF   xC5
0F488:  CLRF   xC6
0F48A:  CLRF   xC7
....................    data.func_type = ENUM_SMF_WRITE;
0F48C:  CLRF   xBD
....................    data.mission_id = CIGS_IV2_DATA; // ID_CIGS_MEASURE_DATA; // コピーする目的のデータ種別
0F48E:  MOVLW  06
0F490:  MOVWF  xBC
....................    data.write_mode = SMF_WRITE_CIRCULAR;
0F492:  MOVLW  02
0F494:  MOVWF  xBE
....................    data.source_type = SOURCE_MISF_UNCOPIED;
0F496:  BCF    xBF.0
....................    fprintf(PC, "\r\nADD SMF QUEUE\r\n");
0F498:  MOVLW  DE
0F49A:  MOVWF  FF6
0F49C:  MOVLW  15
0F49E:  MOVWF  FF7
0F4A0:  MOVLW  00
0F4A2:  MOVWF  FF8
0F4A4:  MOVLB  0
0F4A6:  CALL   20CE
....................    fprintf(PC, "\tMission ID:   %02X\r\n", data.mission_id);
0F4AA:  MOVLW  F0
0F4AC:  MOVWF  FF6
0F4AE:  MOVLW  15
0F4B0:  MOVWF  FF7
0F4B2:  MOVLW  00
0F4B4:  MOVWF  FF8
0F4B6:  MOVLW  0F
0F4B8:  MOVLB  A
0F4BA:  MOVWF  x4E
0F4BC:  MOVLB  0
0F4BE:  CALL   2104
0F4C2:  MOVFF  1BC,9E8
0F4C6:  MOVLW  37
0F4C8:  MOVLB  9
0F4CA:  MOVWF  xE9
0F4CC:  MOVLB  0
0F4CE:  CALL   2334
0F4D2:  MOVLW  0D
0F4D4:  BTFSS  FA6.6
0F4D6:  GOTO   F4D4
0F4DA:  MOVLB  E
0F4DC:  MOVWF  xF9
0F4DE:  MOVLW  0A
0F4E0:  MOVLB  0
0F4E2:  BTFSS  FA6.6
0F4E4:  GOTO   F4E2
0F4E8:  MOVLB  E
0F4EA:  MOVWF  xF9
....................    fprintf(PC, "\tFunction Type:%02X\r\n", data.func_type);
0F4EC:  MOVLW  06
0F4EE:  MOVWF  FF6
0F4F0:  MOVLW  16
0F4F2:  MOVWF  FF7
0F4F4:  MOVLW  00
0F4F6:  MOVWF  FF8
0F4F8:  MOVLW  0F
0F4FA:  MOVLB  A
0F4FC:  MOVWF  x4E
0F4FE:  MOVLB  0
0F500:  CALL   2104
0F504:  MOVFF  1BD,9E8
0F508:  MOVLW  37
0F50A:  MOVLB  9
0F50C:  MOVWF  xE9
0F50E:  MOVLB  0
0F510:  CALL   2334
0F514:  MOVLW  0D
0F516:  BTFSS  FA6.6
0F518:  GOTO   F516
0F51C:  MOVLB  E
0F51E:  MOVWF  xF9
0F520:  MOVLW  0A
0F522:  MOVLB  0
0F524:  BTFSS  FA6.6
0F526:  GOTO   F524
0F52A:  MOVLB  E
0F52C:  MOVWF  xF9
....................    fprintf(PC, "\tWrite Mode:   %02X\r\n", data.write_mode);
0F52E:  MOVLW  1C
0F530:  MOVWF  FF6
0F532:  MOVLW  16
0F534:  MOVWF  FF7
0F536:  MOVLW  00
0F538:  MOVWF  FF8
0F53A:  MOVLW  0F
0F53C:  MOVLB  A
0F53E:  MOVWF  x4E
0F540:  MOVLB  0
0F542:  CALL   2104
0F546:  MOVFF  1BE,9E8
0F54A:  MOVLW  37
0F54C:  MOVLB  9
0F54E:  MOVWF  xE9
0F550:  MOVLB  0
0F552:  CALL   2334
0F556:  MOVLW  0D
0F558:  BTFSS  FA6.6
0F55A:  GOTO   F558
0F55E:  MOVLB  E
0F560:  MOVWF  xF9
0F562:  MOVLW  0A
0F564:  MOVLB  0
0F566:  BTFSS  FA6.6
0F568:  GOTO   F566
0F56C:  MOVLB  E
0F56E:  MOVWF  xF9
....................    fprintf(PC, "\tSource Type:  %02X\r\n", data.source_type);
0F570:  MOVLW  00
0F572:  MOVLB  1
0F574:  BTFSC  xBF.0
0F576:  MOVLW  01
0F578:  MOVWF  xC8
0F57A:  MOVLW  32
0F57C:  MOVWF  FF6
0F57E:  MOVLW  16
0F580:  MOVWF  FF7
0F582:  MOVLW  00
0F584:  MOVWF  FF8
0F586:  MOVLW  0F
0F588:  MOVLB  A
0F58A:  MOVWF  x4E
0F58C:  MOVLB  0
0F58E:  CALL   2104
0F592:  MOVFF  1C8,9E8
0F596:  MOVLW  37
0F598:  MOVLB  9
0F59A:  MOVWF  xE9
0F59C:  MOVLB  0
0F59E:  CALL   2334
0F5A2:  MOVLW  0D
0F5A4:  BTFSS  FA6.6
0F5A6:  GOTO   F5A4
0F5AA:  MOVLB  E
0F5AC:  MOVWF  xF9
0F5AE:  MOVLW  0A
0F5B0:  MOVLB  0
0F5B2:  BTFSS  FA6.6
0F5B4:  GOTO   F5B2
0F5B8:  MOVLB  E
0F5BA:  MOVWF  xF9
....................    fprintf(PC, "\tStart Address:%04X\r\n", data.misf_start_addr);
0F5BC:  MOVLW  48
0F5BE:  MOVWF  FF6
0F5C0:  MOVLW  16
0F5C2:  MOVWF  FF7
0F5C4:  MOVLW  00
0F5C6:  MOVWF  FF8
0F5C8:  MOVLW  0F
0F5CA:  MOVLB  A
0F5CC:  MOVWF  x4E
0F5CE:  MOVLB  0
0F5D0:  CALL   2104
0F5D4:  MOVLW  02
0F5D6:  MOVLB  1
0F5D8:  MOVWF  xC8
0F5DA:  MOVLB  0
0F5DC:  MOVLW  30
0F5DE:  BTFSS  FA6.6
0F5E0:  GOTO   F5DE
0F5E4:  MOVLB  E
0F5E6:  MOVWF  xF9
0F5E8:  MOVLB  1
0F5EA:  DECFSZ xC8,F
0F5EC:  BRA    F5F2
0F5EE:  BRA    F5F8
0F5F0:  MOVLB  0
0F5F2:  MOVLB  0
0F5F4:  GOTO   F5DC
0F5F8:  MOVFF  1C0,9E8
0F5FC:  MOVLW  37
0F5FE:  MOVLB  9
0F600:  MOVWF  xE9
0F602:  MOVLB  0
0F604:  CALL   2334
0F608:  MOVLW  0D
0F60A:  BTFSS  FA6.6
0F60C:  GOTO   F60A
0F610:  MOVLB  E
0F612:  MOVWF  xF9
0F614:  MOVLW  0A
0F616:  MOVLB  0
0F618:  BTFSS  FA6.6
0F61A:  GOTO   F618
0F61E:  MOVLB  E
0F620:  MOVWF  xF9
....................    fprintf(PC, "\tSize:         %04X\r\n", misf_counter_table[CIGS_IV2_DATA].uncopied_counter);
0F622:  MOVLW  5E
0F624:  MOVWF  FF6
0F626:  MOVLW  16
0F628:  MOVWF  FF7
0F62A:  MOVLW  00
0F62C:  MOVWF  FF8
0F62E:  MOVLW  0F
0F630:  MOVLB  A
0F632:  MOVWF  x4E
0F634:  MOVLB  0
0F636:  CALL   2104
0F63A:  MOVLW  02
0F63C:  MOVLB  1
0F63E:  MOVWF  xC8
0F640:  MOVLB  0
0F642:  MOVLW  30
0F644:  BTFSS  FA6.6
0F646:  GOTO   F644
0F64A:  MOVLB  E
0F64C:  MOVWF  xF9
0F64E:  MOVLB  1
0F650:  DECFSZ xC8,F
0F652:  BRA    F658
0F654:  BRA    F65E
0F656:  MOVLB  0
0F658:  MOVLB  0
0F65A:  GOTO   F642
0F65E:  MOVFF  162,9E8
0F662:  MOVLW  37
0F664:  MOVLB  9
0F666:  MOVWF  xE9
0F668:  MOVLB  0
0F66A:  CALL   2334
0F66E:  MOVLW  0D
0F670:  BTFSS  FA6.6
0F672:  GOTO   F670
0F676:  MOVLB  E
0F678:  MOVWF  xF9
0F67A:  MOVLW  0A
0F67C:  MOVLB  0
0F67E:  BTFSS  FA6.6
0F680:  GOTO   F67E
0F684:  MOVLB  E
0F686:  MOVWF  xF9
....................    enqueue_flash_operation(&data); // SMFへのデータコピーを実行する
0F688:  MOVLW  01
0F68A:  MOVLB  1
0F68C:  MOVWF  xE0
0F68E:  MOVLW  BC
0F690:  MOVWF  xDF
0F692:  MOVLB  0
0F694:  CALL   A808
.................... 
....................    misf_update_address_area();
0F698:  CALL   4E4E
0F69C:  GOTO   FA54 (RETURN)
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... }
.................... 
.................... 
.................... void mode_meas_iv(unsigned int8 *uplinkcmd_ptr)
.................... {
....................    fprintf(PC, "Start MODE MEAS IV\r\n");
*
0AA68:  MOVLW  74
0AA6A:  MOVWF  FF6
0AA6C:  MOVLW  16
0AA6E:  MOVWF  FF7
0AA70:  MOVLW  00
0AA72:  MOVWF  FF8
0AA74:  CALL   20CE
....................    meas_iv_param_t cmd = make_meas_iv_cmd(uplinkcmd_ptr); // Create the measurement command structure
0AA78:  MOVFF  1B0,1E6
0AA7C:  MOVFF  1AF,1E5
0AA80:  CALL   7C2C
0AA84:  MOVFF  02,03
0AA88:  MOVF   01,W
0AA8A:  MOVWF  FE1
0AA8C:  MOVFF  03,FE2
0AA90:  MOVLW  01
0AA92:  MOVWF  FEA
0AA94:  MOVLW  B1
0AA96:  MOVWF  FE9
0AA98:  MOVLW  0B
0AA9A:  MOVWF  01
0AA9C:  MOVFF  FE6,FEE
0AAA0:  DECFSZ 01,F
0AAA2:  GOTO   AA9C
....................    print_meas_iv_cmd(&cmd); // Print the command parameters for debugging
0AAA6:  MOVLW  01
0AAA8:  MOVLB  1
0AAAA:  MOVWF  xE0
0AAAC:  MOVLW  B1
0AAAE:  MOVWF  xDF
0AAB0:  MOVLB  0
0AAB2:  GOTO   8948
....................    piclog_save(cmd.id, PICLOG_PARAM_START); // Log the start of the command execution
0AAB6:  MOVFF  1B1,2C6
0AABA:  MOVLB  2
0AABC:  CLRF   xC7
0AABE:  MOVLB  0
0AAC0:  CALL   4EDC
.................... 
....................    unsigned int32 start_time = get_current_sec();
....................    unsigned int32 current_sec = 0;
....................    unsigned int16 time_ms = 0;
....................    unsigned int8 counter = 0;
0AAC4:  CALL   3A08
0AAC8:  MOVFF  03,1BF
0AACC:  MOVFF  02,1BE
0AAD0:  MOVFF  01,1BD
0AAD4:  MOVFF  00,1BC
0AAD8:  MOVLB  1
0AADA:  CLRF   xC3
0AADC:  CLRF   xC2
0AADE:  CLRF   xC1
0AAE0:  CLRF   xC0
0AAE2:  CLRF   xC5
0AAE4:  CLRF   xC4
0AAE6:  CLRF   xC6
0AAE8:  MOVLB  0
....................    do
....................    {
....................       sweep(cmd.log_threshold, cmd.sweep_limit, cmd.pd_threshold); 
0AAEA:  MOVFF  1B9,1E0
0AAEE:  MOVFF  1B8,1DF
0AAF2:  MOVFF  1BB,1E2
0AAF6:  MOVFF  1BA,1E1
0AAFA:  MOVFF  1B5,1E4
0AAFE:  MOVFF  1B4,1E3
0AB02:  CALL   965C
....................       if (cmd.interval > 0){
0AB06:  MOVLB  1
0AB08:  MOVF   xB2,F
0AB0A:  BTFSC  FD8.2
0AB0C:  BRA    AB14
0AB0E:  MOVLB  0
0AB10:  GOTO   AB26
0AB14:  MOVLB  0
0AB16:  MOVLB  1
0AB18:  MOVF   xB3,F
0AB1A:  BTFSS  FD8.2
0AB1C:  BRA    AB24
0AB1E:  MOVLB  0
0AB20:  GOTO   AB4E
0AB24:  MOVLB  0
....................          delay_ms(cmd.interval);
0AB26:  MOVFF  1B3,1DF
0AB2A:  MOVLB  1
0AB2C:  INCF   xDF,F
0AB2E:  MOVLB  0
0AB30:  MOVLB  1
0AB32:  DECFSZ xDF,F
0AB34:  BRA    AB3A
0AB36:  MOVLB  0
0AB38:  BRA    AB46
0AB3A:  MOVLB  B
0AB3C:  SETF   x03
0AB3E:  MOVLB  0
0AB40:  CALL   20A0
0AB44:  BRA    AB30
0AB46:  MOVFF  1B2,B03
0AB4A:  CALL   20A0
....................       }
....................       check_and_respond_to_boss(); // Check for boss commands during the wait period
0AB4E:  GOTO   A7C8
....................    } while (get_current_sec() - start_time < cmd.meas_time);
0AB52:  CALL   3A08
0AB56:  MOVFF  03,1E2
0AB5A:  MOVFF  02,1E1
0AB5E:  MOVFF  01,1E0
0AB62:  MOVFF  00,1DF
0AB66:  MOVLB  1
0AB68:  MOVF   xBC,W
0AB6A:  SUBWF  xDF,F
0AB6C:  MOVF   xBD,W
0AB6E:  SUBWFB xE0,F
0AB70:  MOVF   xBE,W
0AB72:  SUBWFB xE1,F
0AB74:  MOVF   xBF,W
0AB76:  SUBWFB xE2,F
0AB78:  MOVF   xE2,F
0AB7A:  BTFSC  FD8.2
0AB7C:  BRA    AB84
0AB7E:  MOVLB  0
0AB80:  GOTO   ABC0
0AB84:  MOVLB  0
0AB86:  MOVLB  1
0AB88:  MOVF   xE1,F
0AB8A:  BTFSC  FD8.2
0AB8C:  BRA    AB94
0AB8E:  MOVLB  0
0AB90:  GOTO   ABC0
0AB94:  MOVLB  0
0AB96:  MOVLB  1
0AB98:  MOVF   xE0,W
0AB9A:  SUBWF  xB7,W
0AB9C:  BTFSC  FD8.0
0AB9E:  BRA    ABA6
0ABA0:  MOVLB  0
0ABA2:  GOTO   ABC0
0ABA6:  MOVLB  0
0ABA8:  BTFSS  FD8.2
0ABAA:  GOTO   AAEA
0ABAE:  MOVLB  1
0ABB0:  MOVF   xB6,W
0ABB2:  SUBWF  xDF,W
0ABB4:  BTFSC  FD8.0
0ABB6:  BRA    ABBE
0ABB8:  MOVLB  0
0ABBA:  GOTO   AAEA
0ABBE:  MOVLB  0
....................    misf_update_address_area();
0ABC0:  CALL   4E4E
....................    piclog_save(cmd.id, PICLOG_PARAM_END); // Log the end of the command execution
0ABC4:  MOVFF  1B1,2C6
0ABC8:  MOVLB  2
0ABCA:  SETF   xC7
0ABCC:  MOVLB  0
0ABCE:  CALL   4EDC
.................... 
.................... 
.................... 
....................    FlashOperationStruct data = {0};
0ABD2:  MOVLB  1
0ABD4:  CLRF   xC7
0ABD6:  CLRF   xC8
0ABD8:  CLRF   xC9
0ABDA:  CLRF   xCA
0ABDC:  CLRF   xCB
0ABDE:  CLRF   xCC
0ABE0:  CLRF   xCD
0ABE2:  CLRF   xCE
0ABE4:  CLRF   xCF
0ABE6:  CLRF   xD0
0ABE8:  CLRF   xD1
0ABEA:  CLRF   xD2
....................    data.func_type = ENUM_SMF_WRITE;
0ABEC:  CLRF   xC8
....................    data.mission_id = CIGS_IV1_DATA; // ID_CIGS_MEASURE_DATA; // コピーする目的のデータ種別
0ABEE:  MOVLW  04
0ABF0:  MOVWF  xC7
....................    data.write_mode = SMF_WRITE_CIRCULAR;
0ABF2:  MOVLW  02
0ABF4:  MOVWF  xC9
....................    data.source_type = SOURCE_MISF_UNCOPIED;
0ABF6:  BCF    xCA.0
....................    fprintf(PC, "\r\nADD SMF QUEUE\r\n");
0ABF8:  MOVLW  8A
0ABFA:  MOVWF  FF6
0ABFC:  MOVLW  16
0ABFE:  MOVWF  FF7
0AC00:  MOVLW  00
0AC02:  MOVWF  FF8
0AC04:  MOVLB  0
0AC06:  CALL   20CE
....................    fprintf(PC, "\tMission ID:   %02X\r\n", data.mission_id);
0AC0A:  MOVLW  9C
0AC0C:  MOVWF  FF6
0AC0E:  MOVLW  16
0AC10:  MOVWF  FF7
0AC12:  MOVLW  00
0AC14:  MOVWF  FF8
0AC16:  MOVLW  0F
0AC18:  MOVLB  A
0AC1A:  MOVWF  x4E
0AC1C:  MOVLB  0
0AC1E:  CALL   2104
0AC22:  MOVFF  1C7,9E8
0AC26:  MOVLW  37
0AC28:  MOVLB  9
0AC2A:  MOVWF  xE9
0AC2C:  MOVLB  0
0AC2E:  CALL   2334
0AC32:  MOVLW  0D
0AC34:  BTFSS  FA6.6
0AC36:  GOTO   AC34
0AC3A:  MOVLB  E
0AC3C:  MOVWF  xF9
0AC3E:  MOVLW  0A
0AC40:  MOVLB  0
0AC42:  BTFSS  FA6.6
0AC44:  GOTO   AC42
0AC48:  MOVLB  E
0AC4A:  MOVWF  xF9
....................    fprintf(PC, "\tFunction Type:%02X\r\n", data.func_type);
0AC4C:  MOVLW  B2
0AC4E:  MOVWF  FF6
0AC50:  MOVLW  16
0AC52:  MOVWF  FF7
0AC54:  MOVLW  00
0AC56:  MOVWF  FF8
0AC58:  MOVLW  0F
0AC5A:  MOVLB  A
0AC5C:  MOVWF  x4E
0AC5E:  MOVLB  0
0AC60:  CALL   2104
0AC64:  MOVFF  1C8,9E8
0AC68:  MOVLW  37
0AC6A:  MOVLB  9
0AC6C:  MOVWF  xE9
0AC6E:  MOVLB  0
0AC70:  CALL   2334
0AC74:  MOVLW  0D
0AC76:  BTFSS  FA6.6
0AC78:  GOTO   AC76
0AC7C:  MOVLB  E
0AC7E:  MOVWF  xF9
0AC80:  MOVLW  0A
0AC82:  MOVLB  0
0AC84:  BTFSS  FA6.6
0AC86:  GOTO   AC84
0AC8A:  MOVLB  E
0AC8C:  MOVWF  xF9
....................    fprintf(PC, "\tWrite Mode:   %02X\r\n", data.write_mode);
0AC8E:  MOVLW  C8
0AC90:  MOVWF  FF6
0AC92:  MOVLW  16
0AC94:  MOVWF  FF7
0AC96:  MOVLW  00
0AC98:  MOVWF  FF8
0AC9A:  MOVLW  0F
0AC9C:  MOVLB  A
0AC9E:  MOVWF  x4E
0ACA0:  MOVLB  0
0ACA2:  CALL   2104
0ACA6:  MOVFF  1C9,9E8
0ACAA:  MOVLW  37
0ACAC:  MOVLB  9
0ACAE:  MOVWF  xE9
0ACB0:  MOVLB  0
0ACB2:  CALL   2334
0ACB6:  MOVLW  0D
0ACB8:  BTFSS  FA6.6
0ACBA:  GOTO   ACB8
0ACBE:  MOVLB  E
0ACC0:  MOVWF  xF9
0ACC2:  MOVLW  0A
0ACC4:  MOVLB  0
0ACC6:  BTFSS  FA6.6
0ACC8:  GOTO   ACC6
0ACCC:  MOVLB  E
0ACCE:  MOVWF  xF9
....................    fprintf(PC, "\tSource Type:  %02X\r\n", data.source_type);
0ACD0:  MOVLW  00
0ACD2:  MOVLB  1
0ACD4:  BTFSC  xCA.0
0ACD6:  MOVLW  01
0ACD8:  MOVWF  xDF
0ACDA:  MOVLW  DE
0ACDC:  MOVWF  FF6
0ACDE:  MOVLW  16
0ACE0:  MOVWF  FF7
0ACE2:  MOVLW  00
0ACE4:  MOVWF  FF8
0ACE6:  MOVLW  0F
0ACE8:  MOVLB  A
0ACEA:  MOVWF  x4E
0ACEC:  MOVLB  0
0ACEE:  CALL   2104
0ACF2:  MOVFF  1DF,9E8
0ACF6:  MOVLW  37
0ACF8:  MOVLB  9
0ACFA:  MOVWF  xE9
0ACFC:  MOVLB  0
0ACFE:  CALL   2334
0AD02:  MOVLW  0D
0AD04:  BTFSS  FA6.6
0AD06:  GOTO   AD04
0AD0A:  MOVLB  E
0AD0C:  MOVWF  xF9
0AD0E:  MOVLW  0A
0AD10:  MOVLB  0
0AD12:  BTFSS  FA6.6
0AD14:  GOTO   AD12
0AD18:  MOVLB  E
0AD1A:  MOVWF  xF9
....................    fprintf(PC, "\tStart Address:%04X\r\n", data.misf_start_addr);
0AD1C:  MOVLW  F4
0AD1E:  MOVWF  FF6
0AD20:  MOVLW  16
0AD22:  MOVWF  FF7
0AD24:  MOVLW  00
0AD26:  MOVWF  FF8
0AD28:  MOVLW  0F
0AD2A:  MOVLB  A
0AD2C:  MOVWF  x4E
0AD2E:  MOVLB  0
0AD30:  CALL   2104
0AD34:  MOVLW  02
0AD36:  MOVLB  1
0AD38:  MOVWF  xDF
0AD3A:  MOVLB  0
0AD3C:  MOVLW  30
0AD3E:  BTFSS  FA6.6
0AD40:  GOTO   AD3E
0AD44:  MOVLB  E
0AD46:  MOVWF  xF9
0AD48:  MOVLB  1
0AD4A:  DECFSZ xDF,F
0AD4C:  BRA    AD52
0AD4E:  BRA    AD58
0AD50:  MOVLB  0
0AD52:  MOVLB  0
0AD54:  GOTO   AD3C
0AD58:  MOVFF  1CB,9E8
0AD5C:  MOVLW  37
0AD5E:  MOVLB  9
0AD60:  MOVWF  xE9
0AD62:  MOVLB  0
0AD64:  CALL   2334
0AD68:  MOVLW  0D
0AD6A:  BTFSS  FA6.6
0AD6C:  GOTO   AD6A
0AD70:  MOVLB  E
0AD72:  MOVWF  xF9
0AD74:  MOVLW  0A
0AD76:  MOVLB  0
0AD78:  BTFSS  FA6.6
0AD7A:  GOTO   AD78
0AD7E:  MOVLB  E
0AD80:  MOVWF  xF9
....................    fprintf(PC, "\tSize:         %04X\r\n", misf_counter_table[CIGS_IV1_DATA].uncopied_counter);
0AD82:  MOVLW  0A
0AD84:  MOVWF  FF6
0AD86:  MOVLW  17
0AD88:  MOVWF  FF7
0AD8A:  MOVLW  00
0AD8C:  MOVWF  FF8
0AD8E:  MOVLW  0F
0AD90:  MOVLB  A
0AD92:  MOVWF  x4E
0AD94:  MOVLB  0
0AD96:  CALL   2104
0AD9A:  MOVLW  02
0AD9C:  MOVLB  1
0AD9E:  MOVWF  xDF
0ADA0:  MOVLB  0
0ADA2:  MOVLW  30
0ADA4:  BTFSS  FA6.6
0ADA6:  GOTO   ADA4
0ADAA:  MOVLB  E
0ADAC:  MOVWF  xF9
0ADAE:  MOVLB  1
0ADB0:  DECFSZ xDF,F
0ADB2:  BRA    ADB8
0ADB4:  BRA    ADBE
0ADB6:  MOVLB  0
0ADB8:  MOVLB  0
0ADBA:  GOTO   ADA2
0ADBE:  MOVFF  14E,9E8
0ADC2:  MOVLW  37
0ADC4:  MOVLB  9
0ADC6:  MOVWF  xE9
0ADC8:  MOVLB  0
0ADCA:  CALL   2334
0ADCE:  MOVLW  0D
0ADD0:  BTFSS  FA6.6
0ADD2:  GOTO   ADD0
0ADD6:  MOVLB  E
0ADD8:  MOVWF  xF9
0ADDA:  MOVLW  0A
0ADDC:  MOVLB  0
0ADDE:  BTFSS  FA6.6
0ADE0:  GOTO   ADDE
0ADE4:  MOVLB  E
0ADE6:  MOVWF  xF9
....................    enqueue_flash_operation(&data); // SMFへのデータコピーを実行する
0ADE8:  MOVLW  01
0ADEA:  MOVLB  1
0ADEC:  MOVWF  xE0
0ADEE:  MOVLW  C7
0ADF0:  MOVWF  xDF
0ADF2:  MOVLB  0
0ADF4:  CALL   A808
.................... 
.................... 
....................    data.func_type = ENUM_SMF_WRITE;
0ADF8:  MOVLB  1
0ADFA:  CLRF   xC8
....................    data.mission_id = CIGS_IV2_DATA; // ID_CIGS_MEASURE_DATA; // コピーする目的のデータ種別
0ADFC:  MOVLW  06
0ADFE:  MOVWF  xC7
....................    data.write_mode = SMF_WRITE_CIRCULAR;
0AE00:  MOVLW  02
0AE02:  MOVWF  xC9
....................    data.source_type = SOURCE_MISF_UNCOPIED;
0AE04:  BCF    xCA.0
....................    fprintf(PC, "\r\nADD SMF QUEUE\r\n");
0AE06:  MOVLW  20
0AE08:  MOVWF  FF6
0AE0A:  MOVLW  17
0AE0C:  MOVWF  FF7
0AE0E:  MOVLW  00
0AE10:  MOVWF  FF8
0AE12:  MOVLB  0
0AE14:  CALL   20CE
....................    fprintf(PC, "\tMission ID:   %02X\r\n", data.mission_id);
0AE18:  MOVLW  32
0AE1A:  MOVWF  FF6
0AE1C:  MOVLW  17
0AE1E:  MOVWF  FF7
0AE20:  MOVLW  00
0AE22:  MOVWF  FF8
0AE24:  MOVLW  0F
0AE26:  MOVLB  A
0AE28:  MOVWF  x4E
0AE2A:  MOVLB  0
0AE2C:  CALL   2104
0AE30:  MOVFF  1C7,9E8
0AE34:  MOVLW  37
0AE36:  MOVLB  9
0AE38:  MOVWF  xE9
0AE3A:  MOVLB  0
0AE3C:  CALL   2334
0AE40:  MOVLW  0D
0AE42:  BTFSS  FA6.6
0AE44:  GOTO   AE42
0AE48:  MOVLB  E
0AE4A:  MOVWF  xF9
0AE4C:  MOVLW  0A
0AE4E:  MOVLB  0
0AE50:  BTFSS  FA6.6
0AE52:  GOTO   AE50
0AE56:  MOVLB  E
0AE58:  MOVWF  xF9
....................    fprintf(PC, "\tFunction Type:%02X\r\n", data.func_type);
0AE5A:  MOVLW  48
0AE5C:  MOVWF  FF6
0AE5E:  MOVLW  17
0AE60:  MOVWF  FF7
0AE62:  MOVLW  00
0AE64:  MOVWF  FF8
0AE66:  MOVLW  0F
0AE68:  MOVLB  A
0AE6A:  MOVWF  x4E
0AE6C:  MOVLB  0
0AE6E:  CALL   2104
0AE72:  MOVFF  1C8,9E8
0AE76:  MOVLW  37
0AE78:  MOVLB  9
0AE7A:  MOVWF  xE9
0AE7C:  MOVLB  0
0AE7E:  CALL   2334
0AE82:  MOVLW  0D
0AE84:  BTFSS  FA6.6
0AE86:  GOTO   AE84
0AE8A:  MOVLB  E
0AE8C:  MOVWF  xF9
0AE8E:  MOVLW  0A
0AE90:  MOVLB  0
0AE92:  BTFSS  FA6.6
0AE94:  GOTO   AE92
0AE98:  MOVLB  E
0AE9A:  MOVWF  xF9
....................    fprintf(PC, "\tWrite Mode:   %02X\r\n", data.write_mode);
0AE9C:  MOVLW  5E
0AE9E:  MOVWF  FF6
0AEA0:  MOVLW  17
0AEA2:  MOVWF  FF7
0AEA4:  MOVLW  00
0AEA6:  MOVWF  FF8
0AEA8:  MOVLW  0F
0AEAA:  MOVLB  A
0AEAC:  MOVWF  x4E
0AEAE:  MOVLB  0
0AEB0:  CALL   2104
0AEB4:  MOVFF  1C9,9E8
0AEB8:  MOVLW  37
0AEBA:  MOVLB  9
0AEBC:  MOVWF  xE9
0AEBE:  MOVLB  0
0AEC0:  CALL   2334
0AEC4:  MOVLW  0D
0AEC6:  BTFSS  FA6.6
0AEC8:  GOTO   AEC6
0AECC:  MOVLB  E
0AECE:  MOVWF  xF9
0AED0:  MOVLW  0A
0AED2:  MOVLB  0
0AED4:  BTFSS  FA6.6
0AED6:  GOTO   AED4
0AEDA:  MOVLB  E
0AEDC:  MOVWF  xF9
....................    fprintf(PC, "\tSource Type:  %02X\r\n", data.source_type);
0AEDE:  MOVLW  00
0AEE0:  MOVLB  1
0AEE2:  BTFSC  xCA.0
0AEE4:  MOVLW  01
0AEE6:  MOVWF  xDF
0AEE8:  MOVLW  74
0AEEA:  MOVWF  FF6
0AEEC:  MOVLW  17
0AEEE:  MOVWF  FF7
0AEF0:  MOVLW  00
0AEF2:  MOVWF  FF8
0AEF4:  MOVLW  0F
0AEF6:  MOVLB  A
0AEF8:  MOVWF  x4E
0AEFA:  MOVLB  0
0AEFC:  CALL   2104
0AF00:  MOVFF  1DF,9E8
0AF04:  MOVLW  37
0AF06:  MOVLB  9
0AF08:  MOVWF  xE9
0AF0A:  MOVLB  0
0AF0C:  CALL   2334
0AF10:  MOVLW  0D
0AF12:  BTFSS  FA6.6
0AF14:  GOTO   AF12
0AF18:  MOVLB  E
0AF1A:  MOVWF  xF9
0AF1C:  MOVLW  0A
0AF1E:  MOVLB  0
0AF20:  BTFSS  FA6.6
0AF22:  GOTO   AF20
0AF26:  MOVLB  E
0AF28:  MOVWF  xF9
....................    fprintf(PC, "\tStart Address:%04X\r\n", data.misf_start_addr);
0AF2A:  MOVLW  8A
0AF2C:  MOVWF  FF6
0AF2E:  MOVLW  17
0AF30:  MOVWF  FF7
0AF32:  MOVLW  00
0AF34:  MOVWF  FF8
0AF36:  MOVLW  0F
0AF38:  MOVLB  A
0AF3A:  MOVWF  x4E
0AF3C:  MOVLB  0
0AF3E:  CALL   2104
0AF42:  MOVLW  02
0AF44:  MOVLB  1
0AF46:  MOVWF  xDF
0AF48:  MOVLB  0
0AF4A:  MOVLW  30
0AF4C:  BTFSS  FA6.6
0AF4E:  GOTO   AF4C
0AF52:  MOVLB  E
0AF54:  MOVWF  xF9
0AF56:  MOVLB  1
0AF58:  DECFSZ xDF,F
0AF5A:  BRA    AF60
0AF5C:  BRA    AF66
0AF5E:  MOVLB  0
0AF60:  MOVLB  0
0AF62:  GOTO   AF4A
0AF66:  MOVFF  1CB,9E8
0AF6A:  MOVLW  37
0AF6C:  MOVLB  9
0AF6E:  MOVWF  xE9
0AF70:  MOVLB  0
0AF72:  CALL   2334
0AF76:  MOVLW  0D
0AF78:  BTFSS  FA6.6
0AF7A:  GOTO   AF78
0AF7E:  MOVLB  E
0AF80:  MOVWF  xF9
0AF82:  MOVLW  0A
0AF84:  MOVLB  0
0AF86:  BTFSS  FA6.6
0AF88:  GOTO   AF86
0AF8C:  MOVLB  E
0AF8E:  MOVWF  xF9
....................    fprintf(PC, "\tSize:         %04X\r\n", misf_counter_table[CIGS_IV2_DATA].uncopied_counter);
0AF90:  MOVLW  A0
0AF92:  MOVWF  FF6
0AF94:  MOVLW  17
0AF96:  MOVWF  FF7
0AF98:  MOVLW  00
0AF9A:  MOVWF  FF8
0AF9C:  MOVLW  0F
0AF9E:  MOVLB  A
0AFA0:  MOVWF  x4E
0AFA2:  MOVLB  0
0AFA4:  CALL   2104
0AFA8:  MOVLW  02
0AFAA:  MOVLB  1
0AFAC:  MOVWF  xDF
0AFAE:  MOVLB  0
0AFB0:  MOVLW  30
0AFB2:  BTFSS  FA6.6
0AFB4:  GOTO   AFB2
0AFB8:  MOVLB  E
0AFBA:  MOVWF  xF9
0AFBC:  MOVLB  1
0AFBE:  DECFSZ xDF,F
0AFC0:  BRA    AFC6
0AFC2:  BRA    AFCC
0AFC4:  MOVLB  0
0AFC6:  MOVLB  0
0AFC8:  GOTO   AFB0
0AFCC:  MOVFF  162,9E8
0AFD0:  MOVLW  37
0AFD2:  MOVLB  9
0AFD4:  MOVWF  xE9
0AFD6:  MOVLB  0
0AFD8:  CALL   2334
0AFDC:  MOVLW  0D
0AFDE:  BTFSS  FA6.6
0AFE0:  GOTO   AFDE
0AFE4:  MOVLB  E
0AFE6:  MOVWF  xF9
0AFE8:  MOVLW  0A
0AFEA:  MOVLB  0
0AFEC:  BTFSS  FA6.6
0AFEE:  GOTO   AFEC
0AFF2:  MOVLB  E
0AFF4:  MOVWF  xF9
....................    enqueue_flash_operation(&data); // SMFへのデータコピーを実行する
0AFF6:  MOVLW  01
0AFF8:  MOVLB  1
0AFFA:  MOVWF  xE0
0AFFC:  MOVLW  C7
0AFFE:  MOVWF  xDF
0B000:  MOVLB  0
0B002:  CALL   A808
.................... 
.................... 
....................    FlashOperationStruct piclog = {0};
0B006:  MOVLB  1
0B008:  CLRF   xD3
0B00A:  CLRF   xD4
0B00C:  CLRF   xD5
0B00E:  CLRF   xD6
0B010:  CLRF   xD7
0B012:  CLRF   xD8
0B014:  CLRF   xD9
0B016:  CLRF   xDA
0B018:  CLRF   xDB
0B01A:  CLRF   xDC
0B01C:  CLRF   xDD
0B01E:  CLRF   xDE
....................    piclog.func_type = ENUM_SMF_WRITE;
0B020:  CLRF   xD4
....................    piclog.mission_id = FLASH_ID_PICLOG; // ID_CIGS_MEASURE_DATA; // コピーする目的のデータ種別
0B022:  MOVLW  01
0B024:  MOVWF  xD3
....................    piclog.write_mode = SMF_WRITE_CIRCULAR;
0B026:  MOVLW  02
0B028:  MOVWF  xD5
....................    piclog.source_type = SOURCE_MISF_UNCOPIED;
0B02A:  BCF    xD6.0
.................... 
....................    fprintf(PC, "\r\nADD SMF QUEUE\r\n");
0B02C:  MOVLW  B6
0B02E:  MOVWF  FF6
0B030:  MOVLW  17
0B032:  MOVWF  FF7
0B034:  MOVLW  00
0B036:  MOVWF  FF8
0B038:  MOVLB  0
0B03A:  CALL   20CE
....................    fprintf(PC, "\tMission ID:   %02X\r\n", piclog.mission_id);
0B03E:  MOVLW  C8
0B040:  MOVWF  FF6
0B042:  MOVLW  17
0B044:  MOVWF  FF7
0B046:  MOVLW  00
0B048:  MOVWF  FF8
0B04A:  MOVLW  0F
0B04C:  MOVLB  A
0B04E:  MOVWF  x4E
0B050:  MOVLB  0
0B052:  CALL   2104
0B056:  MOVFF  1D3,9E8
0B05A:  MOVLW  37
0B05C:  MOVLB  9
0B05E:  MOVWF  xE9
0B060:  MOVLB  0
0B062:  CALL   2334
0B066:  MOVLW  0D
0B068:  BTFSS  FA6.6
0B06A:  GOTO   B068
0B06E:  MOVLB  E
0B070:  MOVWF  xF9
0B072:  MOVLW  0A
0B074:  MOVLB  0
0B076:  BTFSS  FA6.6
0B078:  GOTO   B076
0B07C:  MOVLB  E
0B07E:  MOVWF  xF9
....................    fprintf(PC, "\tFunction Type:%02X\r\n", piclog.func_type);
0B080:  MOVLW  DE
0B082:  MOVWF  FF6
0B084:  MOVLW  17
0B086:  MOVWF  FF7
0B088:  MOVLW  00
0B08A:  MOVWF  FF8
0B08C:  MOVLW  0F
0B08E:  MOVLB  A
0B090:  MOVWF  x4E
0B092:  MOVLB  0
0B094:  CALL   2104
0B098:  MOVFF  1D4,9E8
0B09C:  MOVLW  37
0B09E:  MOVLB  9
0B0A0:  MOVWF  xE9
0B0A2:  MOVLB  0
0B0A4:  CALL   2334
0B0A8:  MOVLW  0D
0B0AA:  BTFSS  FA6.6
0B0AC:  GOTO   B0AA
0B0B0:  MOVLB  E
0B0B2:  MOVWF  xF9
0B0B4:  MOVLW  0A
0B0B6:  MOVLB  0
0B0B8:  BTFSS  FA6.6
0B0BA:  GOTO   B0B8
0B0BE:  MOVLB  E
0B0C0:  MOVWF  xF9
....................    fprintf(PC, "\tWrite Mode:   %02X\r\n", piclog.write_mode);
0B0C2:  MOVLW  F4
0B0C4:  MOVWF  FF6
0B0C6:  MOVLW  17
0B0C8:  MOVWF  FF7
0B0CA:  MOVLW  00
0B0CC:  MOVWF  FF8
0B0CE:  MOVLW  0F
0B0D0:  MOVLB  A
0B0D2:  MOVWF  x4E
0B0D4:  MOVLB  0
0B0D6:  CALL   2104
0B0DA:  MOVFF  1D5,9E8
0B0DE:  MOVLW  37
0B0E0:  MOVLB  9
0B0E2:  MOVWF  xE9
0B0E4:  MOVLB  0
0B0E6:  CALL   2334
0B0EA:  MOVLW  0D
0B0EC:  BTFSS  FA6.6
0B0EE:  GOTO   B0EC
0B0F2:  MOVLB  E
0B0F4:  MOVWF  xF9
0B0F6:  MOVLW  0A
0B0F8:  MOVLB  0
0B0FA:  BTFSS  FA6.6
0B0FC:  GOTO   B0FA
0B100:  MOVLB  E
0B102:  MOVWF  xF9
....................    fprintf(PC, "\tSource Type:  %02X\r\n", piclog.source_type);
0B104:  MOVLW  00
0B106:  MOVLB  1
0B108:  BTFSC  xD6.0
0B10A:  MOVLW  01
0B10C:  MOVWF  xDF
0B10E:  MOVLW  0A
0B110:  MOVWF  FF6
0B112:  MOVLW  18
0B114:  MOVWF  FF7
0B116:  MOVLW  00
0B118:  MOVWF  FF8
0B11A:  MOVLW  0F
0B11C:  MOVLB  A
0B11E:  MOVWF  x4E
0B120:  MOVLB  0
0B122:  CALL   2104
0B126:  MOVFF  1DF,9E8
0B12A:  MOVLW  37
0B12C:  MOVLB  9
0B12E:  MOVWF  xE9
0B130:  MOVLB  0
0B132:  CALL   2334
0B136:  MOVLW  0D
0B138:  BTFSS  FA6.6
0B13A:  GOTO   B138
0B13E:  MOVLB  E
0B140:  MOVWF  xF9
0B142:  MOVLW  0A
0B144:  MOVLB  0
0B146:  BTFSS  FA6.6
0B148:  GOTO   B146
0B14C:  MOVLB  E
0B14E:  MOVWF  xF9
....................    fprintf(PC, "\tStart Address:%04X\r\n", piclog.misf_start_addr);
0B150:  MOVLW  20
0B152:  MOVWF  FF6
0B154:  MOVLW  18
0B156:  MOVWF  FF7
0B158:  MOVLW  00
0B15A:  MOVWF  FF8
0B15C:  MOVLW  0F
0B15E:  MOVLB  A
0B160:  MOVWF  x4E
0B162:  MOVLB  0
0B164:  CALL   2104
0B168:  MOVLW  02
0B16A:  MOVLB  1
0B16C:  MOVWF  xDF
0B16E:  MOVLB  0
0B170:  MOVLW  30
0B172:  BTFSS  FA6.6
0B174:  GOTO   B172
0B178:  MOVLB  E
0B17A:  MOVWF  xF9
0B17C:  MOVLB  1
0B17E:  DECFSZ xDF,F
0B180:  BRA    B186
0B182:  BRA    B18C
0B184:  MOVLB  0
0B186:  MOVLB  0
0B188:  GOTO   B170
0B18C:  MOVFF  1D7,9E8
0B190:  MOVLW  37
0B192:  MOVLB  9
0B194:  MOVWF  xE9
0B196:  MOVLB  0
0B198:  CALL   2334
0B19C:  MOVLW  0D
0B19E:  BTFSS  FA6.6
0B1A0:  GOTO   B19E
0B1A4:  MOVLB  E
0B1A6:  MOVWF  xF9
0B1A8:  MOVLW  0A
0B1AA:  MOVLB  0
0B1AC:  BTFSS  FA6.6
0B1AE:  GOTO   B1AC
0B1B2:  MOVLB  E
0B1B4:  MOVWF  xF9
....................    fprintf(PC, "\tSize:         %04X\r\n", misf_counter_table[FLASH_ID_PICLOG].uncopied_counter);
0B1B6:  MOVLW  36
0B1B8:  MOVWF  FF6
0B1BA:  MOVLW  18
0B1BC:  MOVWF  FF7
0B1BE:  MOVLW  00
0B1C0:  MOVWF  FF8
0B1C2:  MOVLW  0F
0B1C4:  MOVLB  A
0B1C6:  MOVWF  x4E
0B1C8:  MOVLB  0
0B1CA:  CALL   2104
0B1CE:  MOVLW  02
0B1D0:  MOVLB  1
0B1D2:  MOVWF  xDF
0B1D4:  MOVLB  0
0B1D6:  MOVLW  30
0B1D8:  BTFSS  FA6.6
0B1DA:  GOTO   B1D8
0B1DE:  MOVLB  E
0B1E0:  MOVWF  xF9
0B1E2:  MOVLB  1
0B1E4:  DECFSZ xDF,F
0B1E6:  BRA    B1EC
0B1E8:  BRA    B1F2
0B1EA:  MOVLB  0
0B1EC:  MOVLB  0
0B1EE:  GOTO   B1D6
0B1F2:  MOVFF  130,9E8
0B1F6:  MOVLW  37
0B1F8:  MOVLB  9
0B1FA:  MOVWF  xE9
0B1FC:  MOVLB  0
0B1FE:  CALL   2334
0B202:  MOVLW  0D
0B204:  BTFSS  FA6.6
0B206:  GOTO   B204
0B20A:  MOVLB  E
0B20C:  MOVWF  xF9
0B20E:  MOVLW  0A
0B210:  MOVLB  0
0B212:  BTFSS  FA6.6
0B214:  GOTO   B212
0B218:  MOVLB  E
0B21A:  MOVWF  xF9
....................    enqueue_flash_operation(&piclog); // SMFへのデータコピーを実行する
0B21C:  MOVLW  01
0B21E:  MOVLB  1
0B220:  MOVWF  xE0
0B222:  MOVLW  D3
0B224:  MOVWF  xDF
0B226:  MOVLB  0
0B228:  CALL   A808
....................    fprintf(PC, "End MODE MEAS IV mission\r\n");
0B22C:  MOVLW  4C
0B22E:  MOVWF  FF6
0B230:  MOVLW  18
0B232:  MOVWF  FF7
0B234:  MOVLW  00
0B236:  MOVWF  FF8
0B238:  CALL   20CE
0B23C:  GOTO   F8F2 (RETURN)
.................... }
.................... 
.................... void mode_meas_iv_debug(unsigned int8 *uplinkcmd_ptr)
.................... {
....................    fprintf(PC, "Start MODE IV DEBUG\r\n");
*
0C7B6:  MOVLW  68
0C7B8:  MOVWF  FF6
0C7BA:  MOVLW  18
0C7BC:  MOVWF  FF7
0C7BE:  MOVLW  00
0C7C0:  MOVWF  FF8
0C7C2:  CALL   20CE
.................... 
....................    MEAS_IV_CMD cmd = make_meas_iv_cmd(uplinkcmd_ptr); // Create the measurement command structure
0C7C6:  MOVFF  1B0,1E6
0C7CA:  MOVFF  1AF,1E5
0C7CE:  CALL   7C2C
0C7D2:  MOVFF  02,03
0C7D6:  MOVF   01,W
0C7D8:  MOVWF  FE1
0C7DA:  MOVFF  03,FE2
0C7DE:  MOVLW  01
0C7E0:  MOVWF  FEA
0C7E2:  MOVLW  B1
0C7E4:  MOVWF  FE9
0C7E6:  MOVLW  0C
0C7E8:  MOVWF  01
0C7EA:  MOVFF  FE6,FEE
0C7EE:  DECFSZ 01,F
0C7F0:  GOTO   C7EA
....................    
....................    fprintf(PC, "\tID: %02X\r\n", cmd.id);
0C7F4:  MOVLW  7E
0C7F6:  MOVWF  FF6
0C7F8:  MOVLW  18
0C7FA:  MOVWF  FF7
0C7FC:  MOVLW  00
0C7FE:  MOVWF  FF8
0C800:  MOVLW  05
0C802:  MOVLB  A
0C804:  MOVWF  x4E
0C806:  MOVLB  0
0C808:  CALL   2104
0C80C:  MOVFF  1B1,9E8
0C810:  MOVLW  37
0C812:  MOVLB  9
0C814:  MOVWF  xE9
0C816:  MOVLB  0
0C818:  CALL   2334
0C81C:  MOVLW  0D
0C81E:  BTFSS  FA6.6
0C820:  GOTO   C81E
0C824:  MOVLB  E
0C826:  MOVWF  xF9
0C828:  MOVLW  0A
0C82A:  MOVLB  0
0C82C:  BTFSS  FA6.6
0C82E:  GOTO   C82C
0C832:  MOVLB  E
0C834:  MOVWF  xF9
....................    fprintf(PC, "\tSleepTime:        0x%04X\r\n", cmd.sleep_time);
0C836:  MOVLW  8A
0C838:  MOVWF  FF6
0C83A:  MOVLW  18
0C83C:  MOVWF  FF7
0C83E:  MOVLW  00
0C840:  MOVWF  FF8
0C842:  MOVLW  15
0C844:  MOVLB  A
0C846:  MOVWF  x4E
0C848:  MOVLB  0
0C84A:  CALL   2104
0C84E:  MOVLW  02
0C850:  MOVLB  1
0C852:  MOVWF  xC5
0C854:  MOVLB  0
0C856:  MOVLW  30
0C858:  BTFSS  FA6.6
0C85A:  GOTO   C858
0C85E:  MOVLB  E
0C860:  MOVWF  xF9
0C862:  MOVLB  1
0C864:  DECFSZ xC5,F
0C866:  BRA    C86C
0C868:  BRA    C872
0C86A:  MOVLB  0
0C86C:  MOVLB  0
0C86E:  GOTO   C856
0C872:  MOVFF  1B2,9E8
0C876:  MOVLW  37
0C878:  MOVLB  9
0C87A:  MOVWF  xE9
0C87C:  MOVLB  0
0C87E:  CALL   2334
0C882:  MOVLW  0D
0C884:  BTFSS  FA6.6
0C886:  GOTO   C884
0C88A:  MOVLB  E
0C88C:  MOVWF  xF9
0C88E:  MOVLW  0A
0C890:  MOVLB  0
0C892:  BTFSS  FA6.6
0C894:  GOTO   C892
0C898:  MOVLB  E
0C89A:  MOVWF  xF9
....................    fprintf(PC, "\tLogCurrThreshold: 0x%04X\r\n", cmd.curr_threshold);
0C89C:  MOVLW  A6
0C89E:  MOVWF  FF6
0C8A0:  MOVLW  18
0C8A2:  MOVWF  FF7
0C8A4:  MOVLW  00
0C8A6:  MOVWF  FF8
0C8A8:  MOVLW  15
0C8AA:  MOVLB  A
0C8AC:  MOVWF  x4E
0C8AE:  MOVLB  0
0C8B0:  CALL   2104
0C8B4:  MOVLW  02
0C8B6:  MOVLB  1
0C8B8:  MOVWF  xC5
0C8BA:  MOVLB  0
0C8BC:  MOVLW  30
0C8BE:  BTFSS  FA6.6
0C8C0:  GOTO   C8BE
0C8C4:  MOVLB  E
0C8C6:  MOVWF  xF9
0C8C8:  MOVLB  1
0C8CA:  DECFSZ xC5,F
0C8CC:  BRA    C8D2
0C8CE:  BRA    C8D8
0C8D0:  MOVLB  0
0C8D2:  MOVLB  0
0C8D4:  GOTO   C8BC
0C8D8:  MOVFF  1B4,9E8
0C8DC:  MOVLW  37
0C8DE:  MOVLB  9
0C8E0:  MOVWF  xE9
0C8E2:  MOVLB  0
0C8E4:  CALL   2334
0C8E8:  MOVLW  0D
0C8EA:  BTFSS  FA6.6
0C8EC:  GOTO   C8EA
0C8F0:  MOVLB  E
0C8F2:  MOVWF  xF9
0C8F4:  MOVLW  0A
0C8F6:  MOVLB  0
0C8F8:  BTFSS  FA6.6
0C8FA:  GOTO   C8F8
0C8FE:  MOVLB  E
0C900:  MOVWF  xF9
....................    fprintf(PC, "\tPDThreshold:      0x%04X\r\n", cmd.pd_threshold);
0C902:  MOVLW  C2
0C904:  MOVWF  FF6
0C906:  MOVLW  18
0C908:  MOVWF  FF7
0C90A:  MOVLW  00
0C90C:  MOVWF  FF8
0C90E:  MOVLW  15
0C910:  MOVLB  A
0C912:  MOVWF  x4E
0C914:  MOVLB  0
0C916:  CALL   2104
0C91A:  MOVLW  02
0C91C:  MOVLB  1
0C91E:  MOVWF  xC5
0C920:  MOVLB  0
0C922:  MOVLW  30
0C924:  BTFSS  FA6.6
0C926:  GOTO   C924
0C92A:  MOVLB  E
0C92C:  MOVWF  xF9
0C92E:  MOVLB  1
0C930:  DECFSZ xC5,F
0C932:  BRA    C938
0C934:  BRA    C93E
0C936:  MOVLB  0
0C938:  MOVLB  0
0C93A:  GOTO   C922
0C93E:  MOVFF  1B6,9E8
0C942:  MOVLW  37
0C944:  MOVLB  9
0C946:  MOVWF  xE9
0C948:  MOVLB  0
0C94A:  CALL   2334
0C94E:  MOVLW  0D
0C950:  BTFSS  FA6.6
0C952:  GOTO   C950
0C956:  MOVLB  E
0C958:  MOVWF  xF9
0C95A:  MOVLW  0A
0C95C:  MOVLB  0
0C95E:  BTFSS  FA6.6
0C960:  GOTO   C95E
0C964:  MOVLB  E
0C966:  MOVWF  xF9
....................    fprintf(PC, "\tCurrentLimit:     0x%04X\r\n", cmd.curr_limit);
0C968:  MOVLW  DE
0C96A:  MOVWF  FF6
0C96C:  MOVLW  18
0C96E:  MOVWF  FF7
0C970:  MOVLW  00
0C972:  MOVWF  FF8
0C974:  MOVLW  15
0C976:  MOVLB  A
0C978:  MOVWF  x4E
0C97A:  MOVLB  0
0C97C:  CALL   2104
0C980:  MOVLW  02
0C982:  MOVLB  1
0C984:  MOVWF  xC5
0C986:  MOVLB  0
0C988:  MOVLW  30
0C98A:  BTFSS  FA6.6
0C98C:  GOTO   C98A
0C990:  MOVLB  E
0C992:  MOVWF  xF9
0C994:  MOVLB  1
0C996:  DECFSZ xC5,F
0C998:  BRA    C99E
0C99A:  BRA    C9A4
0C99C:  MOVLB  0
0C99E:  MOVLB  0
0C9A0:  GOTO   C988
0C9A4:  MOVFF  1B8,9E8
0C9A8:  MOVLW  37
0C9AA:  MOVLB  9
0C9AC:  MOVWF  xE9
0C9AE:  MOVLB  0
0C9B0:  CALL   2334
0C9B4:  MOVLW  0D
0C9B6:  BTFSS  FA6.6
0C9B8:  GOTO   C9B6
0C9BC:  MOVLB  E
0C9BE:  MOVWF  xF9
0C9C0:  MOVLW  0A
0C9C2:  MOVLB  0
0C9C4:  BTFSS  FA6.6
0C9C6:  GOTO   C9C4
0C9CA:  MOVLB  E
0C9CC:  MOVWF  xF9
....................    fprintf(PC, "\tMeasurementTime:  0x%04X\r\n", cmd.meas_time);
0C9CE:  MOVLW  FA
0C9D0:  MOVWF  FF6
0C9D2:  MOVLW  18
0C9D4:  MOVWF  FF7
0C9D6:  MOVLW  00
0C9D8:  MOVWF  FF8
0C9DA:  MOVLW  15
0C9DC:  MOVLB  A
0C9DE:  MOVWF  x4E
0C9E0:  MOVLB  0
0C9E2:  CALL   2104
0C9E6:  MOVLW  02
0C9E8:  MOVLB  1
0C9EA:  MOVWF  xC5
0C9EC:  MOVLB  0
0C9EE:  MOVLW  30
0C9F0:  BTFSS  FA6.6
0C9F2:  GOTO   C9F0
0C9F6:  MOVLB  E
0C9F8:  MOVWF  xF9
0C9FA:  MOVLB  1
0C9FC:  DECFSZ xC5,F
0C9FE:  BRA    CA04
0CA00:  BRA    CA0A
0CA02:  MOVLB  0
0CA04:  MOVLB  0
0CA06:  GOTO   C9EE
0CA0A:  MOVFF  1BA,9E8
0CA0E:  MOVLW  37
0CA10:  MOVLB  9
0CA12:  MOVWF  xE9
0CA14:  MOVLB  0
0CA16:  CALL   2334
0CA1A:  MOVLW  0D
0CA1C:  BTFSS  FA6.6
0CA1E:  GOTO   CA1C
0CA22:  MOVLB  E
0CA24:  MOVWF  xF9
0CA26:  MOVLW  0A
0CA28:  MOVLB  0
0CA2A:  BTFSS  FA6.6
0CA2C:  GOTO   CA2A
0CA30:  MOVLB  E
0CA32:  MOVWF  xF9
.................... 
....................    piclog_save(cmd.id, PICLOG_PARAM_START); // Log start
0CA34:  MOVFF  1B1,2C6
0CA38:  MOVLB  2
0CA3A:  CLRF   xC7
0CA3C:  MOVLB  0
0CA3E:  CALL   4EDC
.................... 
....................    unsigned int32 start_time = get_current_sec();
....................    unsigned int32 current_time = 0;
0CA42:  CALL   3A08
0CA46:  MOVFF  03,1C0
0CA4A:  MOVFF  02,1BF
0CA4E:  MOVFF  01,1BE
0CA52:  MOVFF  00,1BD
0CA56:  MOVLB  1
0CA58:  CLRF   xC4
0CA5A:  CLRF   xC3
0CA5C:  CLRF   xC2
0CA5E:  CLRF   xC1
....................    test_sweep(cmd.curr_threshold, cmd.curr_limit);
0CA60:  MOVFF  1B5,1C6
0CA64:  MOVFF  1B4,1C5
0CA68:  MOVFF  1B9,1C8
0CA6C:  MOVFF  1B8,1C7
0CA70:  MOVLB  0
0CA72:  GOTO   B240
.................... 
....................    piclog_save(cmd.id, PICLOG_PARAM_END);
0CA76:  MOVFF  1B1,2C6
0CA7A:  MOVLB  2
0CA7C:  SETF   xC7
0CA7E:  MOVLB  0
0CA80:  CALL   4EDC
....................    fprintf(PC, "[IVDBG] End MODE IV DEBUG\r\n");
0CA84:  MOVLW  16
0CA86:  MOVWF  FF6
0CA88:  MOVLW  19
0CA8A:  MOVWF  FF7
0CA8C:  MOVLW  00
0CA8E:  MOVWF  FF8
0CA90:  CALL   20CE
0CA94:  GOTO   F902 (RETURN)
.................... }
.................... 
.................... 
.................... 
.................... 
.................... void mode_meas_env(unsigned int8 *uplinkcmd_ptr)
0CA98:  MOVLB  1
0CA9A:  CLRF   xB2
0CA9C:  MOVLW  64
0CA9E:  MOVWF  xB1
0CAA0:  SETF   xB4
0CAA2:  SETF   xB3
0CAA4:  MOVLB  0
0CAA6:  CALL   3A08
0CAAA:  MOVFF  03,1B8
0CAAE:  MOVFF  02,1B7
0CAB2:  MOVFF  01,1B6
0CAB6:  MOVFF  00,1B5
0CABA:  MOVLB  1
0CABC:  MOVF   xB1,W
0CABE:  SUBWF  xB5,W
0CAC0:  MOVWF  xB9
0CAC2:  MOVF   xB2,W
0CAC4:  SUBWFB xB6,W
0CAC6:  MOVWF  xBA
0CAC8:  MOVLW  00
0CACA:  SUBWFB xB7,W
0CACC:  MOVWF  xBB
0CACE:  MOVLW  00
0CAD0:  SUBWFB xB8,W
0CAD2:  MOVWF  xBC
.................... {
....................    unsigned int16 interval = 100;   // 測定間隔 [秒]
....................    unsigned int16 end_time = 0xFFFF;
.................... 
....................    unsigned int32 current_time = get_current_sec();
....................    unsigned int32 last_time = current_time - interval;  // 最初にすぐ測定するため
.................... 
....................    // loging data
....................    unsigned int8 logdata[6];
....................    unsigned int16 temp_top;
....................    unsigned int16 temp_bot;
....................    unsigned int16 temp_mis7;
....................    unsigned int16 PD;
.................... 
....................    // Flash Write 
....................    unsigned int32 write_address;
.................... 
....................    fprintf(PC, "temp_top, temp_bot, temp_mis7, pd\r\n");
0CAD4:  MOVLW  32
0CAD6:  MOVWF  FF6
0CAD8:  MOVLW  19
0CADA:  MOVWF  FF7
0CADC:  MOVLW  00
0CADE:  MOVWF  FF8
0CAE0:  MOVLB  0
0CAE2:  CALL   20CE
.................... 
....................    while (true) {
....................        current_time = get_current_sec();
0CAE6:  CALL   3A08
0CAEA:  MOVFF  03,1B8
0CAEE:  MOVFF  02,1B7
0CAF2:  MOVFF  01,1B6
0CAF6:  MOVFF  00,1B5
.................... 
....................        // intervalごとに測定
....................        if ((current_time - last_time) >= interval) {
0CAFA:  MOVLB  1
0CAFC:  MOVF   xB9,W
0CAFE:  SUBWF  xB5,W
0CB00:  MOVWF  xCF
0CB02:  MOVF   xBA,W
0CB04:  SUBWFB xB6,W
0CB06:  MOVWF  xD0
0CB08:  MOVF   xBB,W
0CB0A:  SUBWFB xB7,W
0CB0C:  MOVWF  xD1
0CB0E:  MOVF   xBC,W
0CB10:  SUBWFB xB8,W
0CB12:  MOVWF  xD2
0CB14:  MOVF   xD2,F
0CB16:  BTFSC  FD8.2
0CB18:  BRA    CB20
0CB1A:  MOVLB  0
0CB1C:  GOTO   CB5C
0CB20:  MOVLB  0
0CB22:  MOVLB  1
0CB24:  MOVF   xD1,F
0CB26:  BTFSC  FD8.2
0CB28:  BRA    CB30
0CB2A:  MOVLB  0
0CB2C:  GOTO   CB5C
0CB30:  MOVLB  0
0CB32:  MOVLB  1
0CB34:  MOVF   xB2,W
0CB36:  SUBWF  xD0,W
0CB38:  BTFSC  FD8.0
0CB3A:  BRA    CB42
0CB3C:  MOVLB  0
0CB3E:  GOTO   CB78
0CB42:  MOVLB  0
0CB44:  BTFSS  FD8.2
0CB46:  GOTO   CB5C
0CB4A:  MOVLB  1
0CB4C:  MOVF   xB1,W
0CB4E:  SUBWF  xCF,W
0CB50:  BTFSC  FD8.0
0CB52:  BRA    CB5A
0CB54:  MOVLB  0
0CB56:  GOTO   CB78
0CB5A:  MOVLB  0
....................            last_time = current_time;
0CB5C:  MOVFF  1B8,1BC
0CB60:  MOVFF  1B7,1BB
0CB64:  MOVFF  1B6,1BA
0CB68:  MOVFF  1B5,1B9
....................          /*
....................            // 次の測定データ(6バイト)で64バイト境界を超えるか確認
....................            if (environment_data_ptr->reserve_counter1 + 6 > PACKET_SIZE) {
....................                unsigned int8 bankdata[4] = {0};
....................                write_address = MISF_CIGS_ENVIRO_START + environment_data_ptr->used_counter;
....................                write_data_bytes(mis_fm, write_address, bankdata, 4);
....................                environment_data_ptr->used_counter   += 4;
....................                environment_data_ptr->uncopied_counter += 4;
....................                environment_data_ptr->reserve_counter1 = 0;
....................                misf_update_address_area();
....................            }
.................... 
....................            // 環境データ読み取り
....................            temp_top  = ad7490_read(ADC_TEMP_PY_TOP);
....................            temp_bot  = ad7490_read(ADC_TEMP_PY_BOT);
....................            temp_mis7 = ad7490_read(ADC_TEMP_MIS7);
....................            PD        = ad7490_read(ADC_PD);
.................... 
....................            logdata[0] = (temp_top >> 4) & 0xFF;
....................            logdata[1] = ((temp_top & 0x0F) << 4) | ((temp_bot >> 8) & 0x0F);
....................            logdata[2] = temp_bot & 0xFF;
....................            logdata[3] = (temp_mis7 >> 4) & 0xFF;
....................            logdata[4] = temp_mis7 & 0xFF;
....................            logdata[5] = PD & 0xFF;
.................... 
....................            // 書き込み
....................            write_address = MISF_CIGS_ENVIRO_START + environment_data_ptr->used_counter;
....................            write_data_bytes(mis_fm, write_address, logdata, 6);
....................            environment_data_ptr->used_counter   += 6;
....................            environment_data_ptr->uncopied_counter += 6;
....................            environment_data_ptr->reserve_counter1 += 6;
....................            fprintf(PC, "0x%04LX, 0x%04LX, 0x%04LX, 0x%04LX\r\n", temp_top, temp_bot, temp_mis7, PD);
....................        }
....................          */
....................        delay_ms(1);  // 過負荷防止用
0CB6C:  MOVLW  01
0CB6E:  MOVLB  B
0CB70:  MOVWF  x03
0CB72:  MOVLB  0
0CB74:  CALL   20A0
....................    }
0CB78:  GOTO   CAE6
.................... }
0CB7C:  GOTO   F912 (RETURN)
.................... }
.................... // make cmd structure from uplink command
.................... meas_iv_param_t make_meas_iv_cmd(int8 *uplinkcmd_ptr)
.................... {
....................    meas_iv_param_t cmd;
....................    cmd.id = uplinkcmd_ptr[0];
*
07C2C:  MOVLB  1
07C2E:  MOVF   xE5,W
07C30:  MOVWF  FE9
07C32:  MOVF   xE6,W
07C34:  MOVWF  FEA
07C36:  MOVFF  FEF,1E7
....................    cmd.interval = ((unsigned int16)uplinkcmd_ptr[1] << 8) | ((unsigned int16)uplinkcmd_ptr[2]);
07C3A:  MOVLW  01
07C3C:  ADDWF  xE5,W
07C3E:  MOVWF  FE9
07C40:  MOVLW  00
07C42:  ADDWFC xE6,W
07C44:  MOVWF  FEA
07C46:  MOVF   FEF,W
07C48:  CLRF   xF3
07C4A:  MOVWF  xF2
07C4C:  MOVFF  1F2,1F3
07C50:  CLRF   xF2
07C52:  MOVLW  02
07C54:  ADDWF  xE5,W
07C56:  MOVWF  FE9
07C58:  MOVLW  00
07C5A:  ADDWFC xE6,W
07C5C:  MOVWF  FEA
07C5E:  MOVF   FEF,W
07C60:  CLRF   03
07C62:  IORWF  xF2,W
07C64:  MOVWF  xE8
07C66:  MOVF   03,W
07C68:  IORWF  xF3,W
07C6A:  MOVWF  xE9
....................    cmd.log_threshold = (unsigned int16)uplinkcmd_ptr[3]<< 4;
07C6C:  MOVLW  03
07C6E:  ADDWF  xE5,W
07C70:  MOVWF  FE9
07C72:  MOVLW  00
07C74:  ADDWFC xE6,W
07C76:  MOVWF  FEA
07C78:  MOVF   FEF,W
07C7A:  CLRF   xF3
07C7C:  MOVWF  xF2
07C7E:  RLCF   xF2,W
07C80:  MOVWF  xEE
07C82:  RLCF   xF3,W
07C84:  MOVWF  xEF
07C86:  RLCF   xEE,F
07C88:  RLCF   xEF,F
07C8A:  RLCF   xEE,F
07C8C:  RLCF   xEF,F
07C8E:  RLCF   xEE,F
07C90:  RLCF   xEF,F
07C92:  MOVLW  F0
07C94:  ANDWF  xEE,F
....................    cmd.sweep_limit = (unsigned int16)uplinkcmd_ptr[4]<< 4;
07C96:  MOVLW  04
07C98:  ADDWF  xE5,W
07C9A:  MOVWF  FE9
07C9C:  MOVLW  00
07C9E:  ADDWFC xE6,W
07CA0:  MOVWF  FEA
07CA2:  MOVF   FEF,W
07CA4:  CLRF   xF3
07CA6:  MOVWF  xF2
07CA8:  RLCF   xF2,W
07CAA:  MOVWF  xF0
07CAC:  RLCF   xF3,W
07CAE:  MOVWF  xF1
07CB0:  RLCF   xF0,F
07CB2:  RLCF   xF1,F
07CB4:  RLCF   xF0,F
07CB6:  RLCF   xF1,F
07CB8:  RLCF   xF0,F
07CBA:  RLCF   xF1,F
07CBC:  MOVLW  F0
07CBE:  ANDWF  xF0,F
....................    cmd.pd_threshold = (unsigned int16)uplinkcmd_ptr[5]<< 4;
07CC0:  MOVLW  05
07CC2:  ADDWF  xE5,W
07CC4:  MOVWF  FE9
07CC6:  MOVLW  00
07CC8:  ADDWFC xE6,W
07CCA:  MOVWF  FEA
07CCC:  MOVF   FEF,W
07CCE:  CLRF   xF3
07CD0:  MOVWF  xF2
07CD2:  RLCF   xF2,W
07CD4:  MOVWF  xEA
07CD6:  RLCF   xF3,W
07CD8:  MOVWF  xEB
07CDA:  RLCF   xEA,F
07CDC:  RLCF   xEB,F
07CDE:  RLCF   xEA,F
07CE0:  RLCF   xEB,F
07CE2:  RLCF   xEA,F
07CE4:  RLCF   xEB,F
07CE6:  MOVLW  F0
07CE8:  ANDWF  xEA,F
....................    cmd.meas_time = (unsigned int16)uplinkcmd_ptr[6] *60; // 分 -> 秒
07CEA:  MOVLW  06
07CEC:  ADDWF  xE5,W
07CEE:  MOVWF  FE9
07CF0:  MOVLW  00
07CF2:  ADDWFC xE6,W
07CF4:  MOVWF  FEA
07CF6:  MOVF   FEF,W
07CF8:  CLRF   xF3
07CFA:  MOVWF  xF2
07CFC:  MOVFF  1F3,A53
07D00:  MOVFF  1F2,A52
07D04:  MOVLB  A
07D06:  CLRF   x55
07D08:  MOVLW  3C
07D0A:  MOVWF  x54
07D0C:  MOVLB  0
07D0E:  CALL   5E06
07D12:  MOVFF  02,1ED
07D16:  MOVFF  01,1EC
....................    return cmd;
07D1A:  MOVLW  E7
07D1C:  MOVWF  01
07D1E:  MOVLW  01
07D20:  MOVWF  02
07D22:  RETURN 0
.................... }
.................... 
.................... void print_meas_iv_cmd(meas_iv_param_t *cmd_ptr)
*
08948:  MOVLW  03
0894A:  MOVLB  1
0894C:  ADDWF  xDF,W
0894E:  MOVWF  FE9
08950:  MOVLW  00
08952:  ADDWFC xE0,W
08954:  MOVWF  FEA
08956:  MOVFF  FEC,1E8
0895A:  MOVF   FED,F
0895C:  MOVFF  FEF,1E7
08960:  MOVFF  1E8,1EA
08964:  MOVFF  1E7,1E9
08968:  MOVLB  0
0896A:  GOTO   7D24
0896E:  MOVFF  02,1E2
08972:  MOVFF  01,1E1
08976:  MOVLW  09
08978:  MOVLB  1
0897A:  ADDWF  xDF,W
0897C:  MOVWF  FE9
0897E:  MOVLW  00
08980:  ADDWFC xE0,W
08982:  MOVWF  FEA
08984:  MOVFF  FEC,1E8
08988:  MOVF   FED,F
0898A:  MOVFF  FEF,1E7
0898E:  MOVFF  1E8,1EA
08992:  MOVFF  1E7,1E9
08996:  MOVLB  0
08998:  CALL   871A
0899C:  MOVFF  02,1E4
089A0:  MOVFF  01,1E3
089A4:  MOVLW  07
089A6:  MOVLB  1
089A8:  ADDWF  xDF,W
089AA:  MOVWF  FE9
089AC:  MOVLW  00
089AE:  ADDWFC xE0,W
089B0:  MOVWF  FEA
089B2:  MOVFF  FEC,1E8
089B6:  MOVF   FED,F
089B8:  MOVFF  FEF,1E7
089BC:  MOVFF  1E8,1EA
089C0:  MOVFF  1E7,1E9
089C4:  MOVLB  0
089C6:  CALL   871A
089CA:  MOVFF  02,1E6
089CE:  MOVFF  01,1E5
.................... {
....................    // Calc
....................    unsigned int16 pd_value = calc_pd_value(cmd_ptr->pd_threshold);
....................    int16 sweep_limit = calc_curr_value(cmd_ptr->sweep_limit);
....................    int16 log_threshold = calc_curr_value(cmd_ptr->log_threshold);
.................... 
....................    // Print
....................    fprintf(PC, "MEAS IV Command Parameters:\r\n");
089D2:  MOVLW  56
089D4:  MOVWF  FF6
089D6:  MOVLW  19
089D8:  MOVWF  FF7
089DA:  MOVLW  00
089DC:  MOVWF  FF8
089DE:  CALL   20CE
....................    fprintf(PC, "\tID: %02X\r\n", cmd_ptr->id);
089E2:  MOVLB  1
089E4:  MOVF   xDF,W
089E6:  MOVWF  FE9
089E8:  MOVF   xE0,W
089EA:  MOVWF  FEA
089EC:  MOVFF  FEF,1E7
089F0:  MOVLW  74
089F2:  MOVWF  FF6
089F4:  MOVLW  19
089F6:  MOVWF  FF7
089F8:  MOVLW  00
089FA:  MOVWF  FF8
089FC:  MOVLW  05
089FE:  MOVLB  A
08A00:  MOVWF  x4E
08A02:  MOVLB  0
08A04:  CALL   2104
08A08:  MOVFF  1E7,9E8
08A0C:  MOVLW  37
08A0E:  MOVLB  9
08A10:  MOVWF  xE9
08A12:  MOVLB  0
08A14:  CALL   2334
08A18:  MOVLW  0D
08A1A:  BTFSS  FA6.6
08A1C:  GOTO   8A1A
08A20:  MOVLB  E
08A22:  MOVWF  xF9
08A24:  MOVLW  0A
08A26:  MOVLB  0
08A28:  BTFSS  FA6.6
08A2A:  GOTO   8A28
08A2E:  MOVLB  E
08A30:  MOVWF  xF9
....................    fprintf(PC, "\tSweepInterval   :%lu[ms]\r\n", cmd_ptr->interval);
08A32:  MOVLW  01
08A34:  MOVLB  1
08A36:  ADDWF  xDF,W
08A38:  MOVWF  FE9
08A3A:  MOVLW  00
08A3C:  ADDWFC xE0,W
08A3E:  MOVWF  FEA
08A40:  MOVFF  FEC,1E8
08A44:  MOVF   FED,F
08A46:  MOVFF  FEF,1E7
08A4A:  MOVLW  80
08A4C:  MOVWF  FF6
08A4E:  MOVLW  19
08A50:  MOVWF  FF7
08A52:  MOVLW  00
08A54:  MOVWF  FF8
08A56:  MOVLW  12
08A58:  MOVLB  A
08A5A:  MOVWF  x4E
08A5C:  MOVLB  0
08A5E:  CALL   2104
08A62:  MOVLW  10
08A64:  MOVWF  FE9
08A66:  MOVFF  1E8,1EA
08A6A:  MOVFF  1E7,1E9
08A6E:  CALL   882C
08A72:  MOVLW  95
08A74:  MOVWF  FF6
08A76:  MOVLW  19
08A78:  MOVWF  FF7
08A7A:  MOVLW  00
08A7C:  MOVWF  FF8
08A7E:  MOVLW  06
08A80:  MOVLB  A
08A82:  MOVWF  x4E
08A84:  MOVLB  0
08A86:  CALL   2104
....................    fprintf(PC, "\tPD Threshold    :%lu[W/m2]\r\n", pd_value);
08A8A:  MOVLW  9C
08A8C:  MOVWF  FF6
08A8E:  MOVLW  19
08A90:  MOVWF  FF7
08A92:  MOVLW  00
08A94:  MOVWF  FF8
08A96:  MOVLW  12
08A98:  MOVLB  A
08A9A:  MOVWF  x4E
08A9C:  MOVLB  0
08A9E:  CALL   2104
08AA2:  MOVLW  10
08AA4:  MOVWF  FE9
08AA6:  MOVFF  1E2,1EA
08AAA:  MOVFF  1E1,1E9
08AAE:  CALL   882C
08AB2:  MOVLW  B1
08AB4:  MOVWF  FF6
08AB6:  MOVLW  19
08AB8:  MOVWF  FF7
08ABA:  MOVLW  00
08ABC:  MOVWF  FF8
08ABE:  MOVLW  08
08AC0:  MOVLB  A
08AC2:  MOVWF  x4E
08AC4:  MOVLB  0
08AC6:  CALL   2104
....................    fprintf(PC, "\tSweepLimit      :%lu[mA]\r\n", sweep_limit);
08ACA:  MOVLW  BA
08ACC:  MOVWF  FF6
08ACE:  MOVLW  19
08AD0:  MOVWF  FF7
08AD2:  MOVLW  00
08AD4:  MOVWF  FF8
08AD6:  MOVLW  12
08AD8:  MOVLB  A
08ADA:  MOVWF  x4E
08ADC:  MOVLB  0
08ADE:  CALL   2104
08AE2:  MOVLW  10
08AE4:  MOVWF  FE9
08AE6:  MOVFF  1E4,1EA
08AEA:  MOVFF  1E3,1E9
08AEE:  CALL   882C
08AF2:  MOVLW  CF
08AF4:  MOVWF  FF6
08AF6:  MOVLW  19
08AF8:  MOVWF  FF7
08AFA:  MOVLW  00
08AFC:  MOVWF  FF8
08AFE:  MOVLW  06
08B00:  MOVLB  A
08B02:  MOVWF  x4E
08B04:  MOVLB  0
08B06:  CALL   2104
....................    fprintf(PC, "\tLogThreshold    :%lu[mA]\r\n", log_threshold);
08B0A:  MOVLW  D6
08B0C:  MOVWF  FF6
08B0E:  MOVLW  19
08B10:  MOVWF  FF7
08B12:  MOVLW  00
08B14:  MOVWF  FF8
08B16:  MOVLW  12
08B18:  MOVLB  A
08B1A:  MOVWF  x4E
08B1C:  MOVLB  0
08B1E:  CALL   2104
08B22:  MOVLW  10
08B24:  MOVWF  FE9
08B26:  MOVFF  1E6,1EA
08B2A:  MOVFF  1E5,1E9
08B2E:  CALL   882C
08B32:  MOVLW  EB
08B34:  MOVWF  FF6
08B36:  MOVLW  19
08B38:  MOVWF  FF7
08B3A:  MOVLW  00
08B3C:  MOVWF  FF8
08B3E:  MOVLW  06
08B40:  MOVLB  A
08B42:  MOVWF  x4E
08B44:  MOVLB  0
08B46:  CALL   2104
....................    fprintf(PC, "\tMeasurementTime :%lu[s]\r\n\r\n", cmd_ptr->meas_time);
08B4A:  MOVLW  05
08B4C:  MOVLB  1
08B4E:  ADDWF  xDF,W
08B50:  MOVWF  FE9
08B52:  MOVLW  00
08B54:  ADDWFC xE0,W
08B56:  MOVWF  FEA
08B58:  MOVFF  FEC,1E8
08B5C:  MOVF   FED,F
08B5E:  MOVFF  FEF,1E7
08B62:  MOVLW  F2
08B64:  MOVWF  FF6
08B66:  MOVLW  19
08B68:  MOVWF  FF7
08B6A:  MOVLW  00
08B6C:  MOVWF  FF8
08B6E:  MOVLW  12
08B70:  MOVLB  A
08B72:  MOVWF  x4E
08B74:  MOVLB  0
08B76:  CALL   2104
08B7A:  MOVLW  10
08B7C:  MOVWF  FE9
08B7E:  MOVFF  1E8,1EA
08B82:  MOVFF  1E7,1E9
08B86:  CALL   882C
08B8A:  MOVLW  07
08B8C:  MOVWF  FF6
08B8E:  MOVLW  1A
08B90:  MOVWF  FF7
08B92:  MOVLW  00
08B94:  MOVWF  FF8
08B96:  MOVLW  07
08B98:  MOVLB  A
08B9A:  MOVWF  x4E
08B9C:  MOVLB  0
08B9E:  CALL   2104
08BA2:  GOTO   AAB6 (RETURN)
.................... }
.................... 
.................... void mode_meas_pd(unsigned int8 *uplinkcmd_ptr)
.................... {
....................    fprintf(PC, "Start MODE MEAS PD\r\n");
*
0E296:  MOVLW  10
0E298:  MOVWF  FF6
0E29A:  MOVLW  1A
0E29C:  MOVWF  FF7
0E29E:  MOVLW  00
0E2A0:  MOVWF  FF8
0E2A2:  CALL   20CE
.................... 
....................    // uplinkcmd_ptr から interval と測定時間を取り出す
....................    unsigned int16 interval_ms = ((unsigned int16)uplinkcmd_ptr[1] << 8) | uplinkcmd_ptr[2]; // ms
....................    unsigned int16 meas_time_s = (unsigned int16)uplinkcmd_ptr[6] * 60; // 秒
.................... 
....................    unsigned int32 start_time_ms   = get_current_msec();
....................    unsigned int32 current_time_ms = 0;
....................    unsigned int32 meas_time_ms    = (unsigned int32)meas_time_s * 1000; // ms に変換
0E2A6:  MOVLW  01
0E2A8:  MOVLB  1
0E2AA:  ADDWF  xAF,W
0E2AC:  MOVWF  FE9
0E2AE:  MOVLW  00
0E2B0:  ADDWFC xB0,W
0E2B2:  MOVWF  FEA
0E2B4:  MOVF   FEF,W
0E2B6:  CLRF   xC4
0E2B8:  MOVWF  xC3
0E2BA:  MOVFF  1C3,1C4
0E2BE:  CLRF   xC3
0E2C0:  MOVLW  02
0E2C2:  ADDWF  xAF,W
0E2C4:  MOVWF  FE9
0E2C6:  MOVLW  00
0E2C8:  ADDWFC xB0,W
0E2CA:  MOVWF  FEA
0E2CC:  MOVF   FEF,W
0E2CE:  IORWF  xC3,W
0E2D0:  MOVWF  xB1
0E2D2:  MOVF   xC4,W
0E2D4:  MOVWF  xB2
0E2D6:  MOVLW  06
0E2D8:  ADDWF  xAF,W
0E2DA:  MOVWF  FE9
0E2DC:  MOVLW  00
0E2DE:  ADDWFC xB0,W
0E2E0:  MOVWF  FEA
0E2E2:  MOVF   FEF,W
0E2E4:  CLRF   xC4
0E2E6:  MOVWF  xC3
0E2E8:  MOVFF  1C4,A53
0E2EC:  MOVFF  1C3,A52
0E2F0:  MOVLB  A
0E2F2:  CLRF   x55
0E2F4:  MOVLW  3C
0E2F6:  MOVWF  x54
0E2F8:  MOVLB  0
0E2FA:  CALL   5E06
0E2FE:  MOVFF  02,1B4
0E302:  MOVFF  01,1B3
0E306:  CALL   E288
0E30A:  MOVLB  1
0E30C:  CLRF   xB8
0E30E:  CLRF   xB7
0E310:  MOVFF  02,1B6
0E314:  MOVFF  01,1B5
0E318:  CLRF   xBC
0E31A:  CLRF   xBB
0E31C:  CLRF   xBA
0E31E:  CLRF   xB9
0E320:  CLRF   xC6
0E322:  CLRF   xC5
0E324:  MOVFF  1B4,1C4
0E328:  MOVFF  1B3,1C3
0E32C:  MOVFF  FEA,1C8
0E330:  MOVFF  FE9,1C7
0E334:  MOVFF  1C6,1CC
0E338:  MOVFF  1C5,1CB
0E33C:  MOVFF  1C4,1CA
0E340:  MOVFF  1C3,1C9
0E344:  CLRF   xD0
0E346:  CLRF   xCF
0E348:  MOVLW  03
0E34A:  MOVWF  xCE
0E34C:  MOVLW  E8
0E34E:  MOVWF  xCD
0E350:  MOVLB  0
0E352:  CALL   5B8C
0E356:  MOVFF  1C8,FEA
0E35A:  MOVFF  1C7,FE9
0E35E:  MOVFF  03,1C0
0E362:  MOVFF  02,1BF
0E366:  MOVFF  01,1BE
0E36A:  MOVFF  00,1BD
.................... 
....................    while (current_time_ms - start_time_ms < meas_time_ms) {
0E36E:  MOVLB  1
0E370:  MOVF   xB5,W
0E372:  SUBWF  xB9,W
0E374:  MOVWF  xC3
0E376:  MOVF   xB6,W
0E378:  SUBWFB xBA,W
0E37A:  MOVWF  xC4
0E37C:  MOVF   xB7,W
0E37E:  SUBWFB xBB,W
0E380:  MOVWF  xC5
0E382:  MOVF   xB8,W
0E384:  SUBWFB xBC,W
0E386:  MOVWF  xC6
0E388:  MOVF   xC6,W
0E38A:  SUBWF  xC0,W
0E38C:  BTFSC  FD8.0
0E38E:  BRA    E396
0E390:  MOVLB  0
0E392:  GOTO   E47A
0E396:  MOVLB  0
0E398:  BTFSS  FD8.2
0E39A:  GOTO   E3E0
0E39E:  MOVLB  1
0E3A0:  MOVF   xC5,W
0E3A2:  SUBWF  xBF,W
0E3A4:  BTFSC  FD8.0
0E3A6:  BRA    E3AE
0E3A8:  MOVLB  0
0E3AA:  GOTO   E47A
0E3AE:  MOVLB  0
0E3B0:  BTFSS  FD8.2
0E3B2:  GOTO   E3E0
0E3B6:  MOVLB  1
0E3B8:  MOVF   xC4,W
0E3BA:  SUBWF  xBE,W
0E3BC:  BTFSC  FD8.0
0E3BE:  BRA    E3C6
0E3C0:  MOVLB  0
0E3C2:  GOTO   E47A
0E3C6:  MOVLB  0
0E3C8:  BTFSS  FD8.2
0E3CA:  GOTO   E3E0
0E3CE:  MOVLB  1
0E3D0:  MOVF   xBD,W
0E3D2:  SUBWF  xC3,W
0E3D4:  BTFSS  FD8.0
0E3D6:  BRA    E3DE
0E3D8:  MOVLB  0
0E3DA:  GOTO   E47A
0E3DE:  MOVLB  0
.................... 
....................       current_time_ms = get_current_msec();
0E3E0:  CALL   E288
0E3E4:  MOVLB  1
0E3E6:  CLRF   xBC
0E3E8:  CLRF   xBB
0E3EA:  MOVFF  02,1BA
0E3EE:  MOVFF  01,1B9
.................... 
....................       // interval ごとに実行
....................       static unsigned int32 last_meas_time = 0;
....................       if (current_time_ms - last_meas_time >= interval_ms) {
0E3F2:  MOVF   x88,W
0E3F4:  SUBWF  xB9,W
0E3F6:  MOVWF  xC3
0E3F8:  MOVF   x89,W
0E3FA:  SUBWFB xBA,W
0E3FC:  MOVWF  xC4
0E3FE:  MOVF   x8A,W
0E400:  SUBWFB xBB,W
0E402:  MOVWF  xC5
0E404:  MOVF   x8B,W
0E406:  SUBWFB xBC,W
0E408:  MOVWF  xC6
0E40A:  MOVF   xC6,F
0E40C:  BTFSC  FD8.2
0E40E:  BRA    E416
0E410:  MOVLB  0
0E412:  GOTO   E452
0E416:  MOVLB  0
0E418:  MOVLB  1
0E41A:  MOVF   xC5,F
0E41C:  BTFSC  FD8.2
0E41E:  BRA    E426
0E420:  MOVLB  0
0E422:  GOTO   E452
0E426:  MOVLB  0
0E428:  MOVLB  1
0E42A:  MOVF   xB2,W
0E42C:  SUBWF  xC4,W
0E42E:  BTFSC  FD8.0
0E430:  BRA    E438
0E432:  MOVLB  0
0E434:  GOTO   E476
0E438:  MOVLB  0
0E43A:  BTFSS  FD8.2
0E43C:  GOTO   E452
0E440:  MOVLB  1
0E442:  MOVF   xB1,W
0E444:  SUBWF  xC3,W
0E446:  BTFSC  FD8.0
0E448:  BRA    E450
0E44A:  MOVLB  0
0E44C:  GOTO   E476
0E450:  MOVLB  0
....................          last_meas_time = current_time_ms;
0E452:  MOVFF  1BC,18B
0E456:  MOVFF  1BB,18A
0E45A:  MOVFF  1BA,189
0E45E:  MOVFF  1B9,188
.................... 
....................          // PD センサー読み取り
....................          unsigned int16 pd = ad7490_read(ADC_PD);
0E462:  MOVLW  0F
0E464:  MOVLB  9
0E466:  MOVWF  xEE
0E468:  MOVLB  0
0E46A:  CALL   22B4
0E46E:  MOVFF  02,1C2
0E472:  MOVFF  01,1C1
.................... 
....................          // デバッグ出力
....................          // fprintf(PC, "Time:%lu ms, PD:%u\r\n", current_time_ms - start_time_ms, pd);
....................       }
0E476:  GOTO   E36E
....................    }
.................... 
....................    fprintf(PC, "End MODE MEAS PD\r\n");
0E47A:  MOVLW  26
0E47C:  MOVWF  FF6
0E47E:  MOVLW  1A
0E480:  MOVWF  FF7
0E482:  MOVLW  00
0E484:  MOVWF  FF8
0E486:  CALL   20CE
0E48A:  GOTO   F92E (RETURN)
.................... }
.................... 
.................... #include "application/cigs_mode_flash.c"
.................... #include "cigs_mode_flash.h"                      // 同じフォルダのヘッダー
.................... #ifndef MMJ_CIGS_MODE_FLASH_H
.................... #define MMJ_CIGS_MODE_FLASH_H
.................... 
.................... #define PARAMETER_LENGTH 9
.................... 
.................... 
.................... typedef union{
....................     unsigned int8 bytes[PARAMETER_LENGTH];
....................     struct{
....................         unsigned int8 cmd;
....................         unsigned int32 address;
....................         unsigned int8 blank;
....................         unsigned int16 copy_packet_size;
....................         unsigned int8 sector_size;
....................     } fields;
.................... } flash_mode_param_t;
.................... 
.................... 
.................... 
.................... // ___________MISF FUNCTIONS____________
.................... // Command ID 
.................... #define ID_MISF_ERASE_ALL 0x80
.................... #define ID_MISF_ERASE_1SECTOR 0x81
.................... #define ID_MISF_ERASE_4kByte_SUBSECTOR 0x82
.................... #define ID_MISF_ERASE_64kByte_SUBSECTOR 0x83
.................... #define ID_MISF_WRITE_DEMO 0x84
.................... #define ID_MISF_WRITE_4kByte_SUBSECTOR 0x85
.................... #define ID_MISF_READ 0x86
.................... #define ID_MISF_READ_ADDRESS 0x87
.................... #define ID_MISF_ERASE_AND_RESET 0x88
.................... #define ID_MISF_ADDRESS_RESET 0x8F
.................... 
.................... // Mode
.................... void mode_misf_erase_all(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_1sector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_4kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_erase_64kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_write_demo(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_write_4kbyte_subsector(unsigned int8 *uplink_cmd_ptr);
.................... void mode_misf_read(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_read_address(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_erase_and_reset(unsigned int8 *uplinkcmd_ptr);
.................... void mode_misf_address_reset(unsigned int8 *uplinkcmd_ptr);
.................... 
.................... // ___________SMF FUNCTIONS____________
.................... // Command
.................... #define ID_SMF_COPY 0x90
.................... #define ID_SMF_READ 0x91
.................... #define ID_SMF_ERASE 0x92
.................... #define ID_SMF_COPY_FORCE 0x93
.................... #define ID_SMF_READ_FORCE 0x94
.................... #define ID_SMF_ERASE_FORCE 0x95
.................... #define ID_SMF_RESET 0x96
.................... 
.................... // Mode
.................... void mode_smf_copy(unsigned int8 parameter[]);
.................... void mode_smf_read(unsigned int8 parameter[]);
.................... void mode_smf_erase(unsigned int8 parameter[]);
.................... void mode_smf_copy_force(unsigned int8 parameter[]);
.................... void mode_smf_read_force(unsigned int8 parameter[]);
.................... void mode_smf_erase_force(unsigned int8 parameter[]);
.................... void mode_smf_address_reset(unsigned int8 parameter[]);
.................... 
.................... #endif // MMJ_CIGS_MODE_FLASH_H
.................... 
.................... //------------------End of File------------------
.................... 
.................... #include "../domain/cigs_iv.h"          // 測定機能
.................... #ifndef mmj_cigs_iv_H
.................... #define mmj_cigs_iv_H
.................... 
.................... /*
.................... // _________ values _________
.................... #define MISSION_DATA_SIZE 64
.................... volatile unsigned int8 mission_datas[MISSION_DATA_SIZE] = {0x00};
.................... volatile int8 executed_mission_count = 0;
.................... */
.................... 
.................... #define START_MAKER 0xFF
.................... #define RESERVED_VALUE 0x00
.................... 
.................... #define HEADER_SIZE 5  // START_MAKER + time (4バイト)
.................... #define ENV_SIZE    6  // pd + temp_py_top + temp_py_bot + temp_mis7 packed
.................... #define DATA_SIZE_PER_STEP 3 // data0 + data1 12bitずつ
.................... 
.................... 
.................... void make_meas_header(unsigned int8 *packetdata, unsigned int8 *cmd);
.................... 
.................... 
.................... // void sweep(unsigned int8 parameter[]);
.................... void sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit, unsigned int16 pd_limit);  
.................... void test_sweep(unsigned int16 curr_threshold, unsigned int16 curr_limit);
.................... 
.................... typedef struct{
....................     unsigned int32 time;
....................     unsigned int16 pd;
....................     unsigned int16 temp_py_top;
....................     unsigned int16 temp_py_bot;
....................     unsigned int16 temp_mis7;
.................... } iv_env_t;
.................... 
.................... /*
.................... typedef struct{
....................     unsigned int8 port_num; // Port number (1 or 2)
....................     unsigned int16 sweep_step; // Number of steps in the sweep
....................     unsigned int16 data_buffer[2][0xFF]; // Data buffer for voltage and current readings
....................     int1 active; // Indicates if the port is active (1 for active, 0 for inactive)
.................... } sweep_config_t;
.................... */
.................... 
.................... 
.................... typedef union{
....................     struct{
....................         unsigned int8 start_marker;
....................         unsigned int8 reserved;
....................         unsigned int8 command;
....................         unsigned int8 port_num;
....................         unsigned int16 data[2];
....................     }fields;
.................... 
....................     unsigned int8 raw[PACKET_SIZE];
.................... }iv_packet_t;
.................... 
.................... typedef struct {
....................     unsigned int16 voltage;
....................     unsigned int16 current;
.................... } iv_data_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     unsigned int8 data_buffer[0x300];
....................     int1 active;
.................... } sweep_config_t;
.................... 
.................... typedef struct{
....................     unsigned int8 port_num; 
....................     unsigned int16 sweep_step;
....................     iv_data_t data_buffer[0xFF];
....................     int1 active;
.................... } sweep_debug_config_t;
.................... 
.................... typedef struct 
.................... {
....................     unsigned int8 data[3];
.................... } meas_data_t;
.................... 
.................... #define PACKET_IV_HEADER_SIZE 51
.................... #define IV_HEADER_SIZE 17
.................... #define PACKET_IV_DATA_SIZE  63
.................... #define IV_DATA_SIZE  21
.................... 
.................... typedef union{
....................     unsigned int8 raw[PACKET_SIZE];
....................     struct {
....................         unsigned int8  start_marker;
....................         unsigned int32 time_sec;
....................         unsigned int8 time_msec;
....................         unsigned int8 envdata[6];
....................         unsigned int8 ivdata[PACKET_IV_HEADER_SIZE];
....................         unsigned int8 crc;
....................     }header;
....................     struct {
....................         unsigned int8 iv_data[PACKET_IV_DATA_SIZE];
....................         unsigned int8 crc;
....................     }data;
.................... } iv_data_packet_t;
.................... 
....................     
.................... 
.................... iv_env_t create_meas_data();
.................... void log_meas_data(iv_env_t *measured_data_ptr, sweep_config_t *port_data_ptr);
.................... 
.................... void sweep_with_print();
.................... 
.................... unsigned int16 calc_pd_value(unsigned int16 data);
.................... // 
.................... unsigned int16 calc_curr_value(unsigned int16 data);
.................... #define SHUNT_RESISTANCE_OHM 0.05
.................... #define AMP_GAIN 200
.................... #define ADC_REF_VOLTAGE_MV 2500 
.................... #define ADC_MAX_READING 4095
.................... #define ADC_CURR_REF_VOLTAGE_MV 1250
.................... 
.................... 
.................... 
.................... 
.................... 
.................... 
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/tool/smf_queue.h"                   // ツールライブラリ
.................... #ifndef SMF_QUEUE_H
.................... #define SMF_QUEUE_H
.................... 
.................... typedef enum {
....................    ENUM_SMF_WRITE,    // SMF書き込み操作
....................    ENUM_SMF_READ,     // SMF読み込み操作
....................    ENUM_SMF_ERASE     // SMF消去操作
.................... } FunctionType;
.................... 
.................... // SMF書き込みモード
.................... typedef enum {
....................    SMF_WRITE_OVERWRITE = 0x00,  // 上書きモード
....................    SMF_WRITE_APPEND = 0x01,     // 追記モード
....................    SMF_WRITE_CIRCULAR = 0x02    // 循環書き込みモード（endまで行ったらstartに戻る）
.................... } SmfWriteMode;
.................... 
.................... // データソースタイプ
.................... typedef enum {
....................    SOURCE_MISF_UNCOPIED = 0x00, // MISF未コピーデータを転送
....................    SOURCE_MISF_MANUAL = 0x01    // MISF指定アドレス・サイズを転送
.................... } DataSourceType;
.................... 
.................... 
.................... typedef enum{
....................    CIGS_DATA_TABLE = 0x00,
....................    CIGS_PICLOG_DATA,
....................    CIGS_ENVIRO_DATA,
....................    CIGS_IV1_HEADER,
....................    CIGS_IV1_DATA,
....................    CIGS_IV2_HEADER,
....................    CIGS_IV2_DATA
.................... } MissionID;
.................... 
.................... 
.................... 
.................... typedef struct {
....................    int32 start_address;
....................    int32 end_address;
.................... } SmfAddressStruct;
.................... 
.................... typedef struct{
....................    int32 misf_start_address;
....................    int32 misf_size;
.................... } SmfWriteStruct;
.................... 
.................... typedef struct {
....................     MissionID mission_id;                // ミッションID
....................     FunctionType func_type;         // 操作タイプ
....................     SmfWriteMode write_mode;        // 書き込みモード（書き込み時のみ）
....................     DataSourceType source_type;     // データソースタイプ
....................     int32 misf_start_addr;          // MISF手動指定時の開始アドレス
....................     int32 misf_size;                // MISF手動指定時のサイズ
.................... } FlashOperationStruct;
.................... 
.................... #define SMF_QUEUE_SIZE 16
.................... typedef struct {
....................    FlashOperationStruct entries[SMF_QUEUE_SIZE];  // キューエントリー配列
....................    int8 head_index;                               // 取り出し位置（読み取りインデックス）
....................    int8 tail_index;                               // 追加位置（書き込みインデックス）
.................... } FlashQueueStruct;
.................... 
.................... 
.................... 
.................... // _____________________ values _________________
.................... 
.................... volatile FlashQueueStruct flash_queue = {0};
.................... 
.................... // MISF/SMF統合管理インスタンス（ミッション別）
.................... //volatile MisfSmfManagerStruct misf_smf_manager[8] = {0}; // 最大8ミッション対応
.................... 
.................... 
.................... // ___________________ functions ________________
.................... 
.................... // MISF/SMF管理関数
.................... void init_misf_smf_manager(int8 mission_id, int32 misf_start, int32 misf_size, int32 smf_start, int32 smf_size);
.................... void update_misf_data(int8 mission_id, int32 data_size);
.................... void process_misf_to_smf_transfer(int8 mission_id);
.................... int32 get_uncopied_data_size(int8 mission_id);
.................... void mark_data_copied(int8 mission_id, int32 copied_size);
.................... int1 is_misf_full(int8 mission_id);
.................... //MisfSmfManagerStruct* get_misf_smf_manager(int8 mission_id);
.................... 
.................... void enqueue_flash_operation(FlashOperationStruct *data);
.................... 
.................... FlashOperationStruct *dequeue_flash_operation();
.................... 
.................... FlashOperationStruct *peek_flash_operation(void);
.................... 
.................... void remove_flash_operation(void);
.................... 
.................... int1 is_empty_flash_queue(void);
.................... 
.................... SmfAddressStruct get_smf_address_struct(MissionID mission_id);
.................... 
.................... // 便利な関数
.................... void enqueue_uncopied_data(int8 mission_id, SmfWriteMode write_mode);
.................... void enqueue_manual_data(int8 mission_id, int32 misf_addr, int32 size, SmfWriteMode write_mode);
.................... void enqueue_read_data(int32 smf_addr, int32 size);
.................... void enqueue_erase_data(int32 smf_addr, int32 size);
.................... 
.................... // 統合管理対応の便利な関数
.................... void enqueue_auto_transfer(int8 mission_id);  // 未コピーデータの自動転送
.................... void complete_transfer_and_update_counter(int8 mission_id, int32 transferred_size);  // 転送完了とカウンタ更新
.................... 
.................... SmfWriteStruct get_smf_write_struct(MissionID mission_id);
.................... #endif   //SMF_QUEUE_H
.................... 
.................... #include "../lib/device/mt25q.h"                     // デバイスライブラリ
.................... #ifndef MT25Q_H
.................... #define MT25Q_H
.................... 
.................... // =========
.................... //#define MT25Q_DEBUG
.................... // =========
.................... 
.................... #define SUBSECTOR_4K_BYTE 0x00001000
.................... #define SUBSECTOR_32K_BYTE 0x00008000
.................... #define SECTOR_64K_BYTE 0x00010000
.................... 
.................... 
.................... 
.................... #define FLASH_STREAM0 MIS_FM_STREAM     // <- Align the names to `config.h` Stream name
.................... #define FLASH_STREAM1 SMF_STREAM
.................... #define FLASH_STREAM2 SMF_STREAM // dont use
.................... #define FLASH_STREAM3 SMF_STREAM // dont use
.................... 
.................... typedef enum spi_stream{
....................     SPI_0 = 0,
....................     SPI_1,
....................     SPI_2,
....................     SPI_3
.................... }SpiStreamId;
.................... 
.................... #define MT25QL128ABA 0x00     //Mission Flash
.................... #define MT25QL01GBBB 0x01     //SMF,CF
.................... typedef struct select_stream_to_flash{
....................     SpiStreamId spi_stream_id;
....................     unsigned int8 flash_model;
....................     int16 cs_pin;
.................... }Flash;
.................... 
.................... 
.................... Flash mis_fm = {SPI_0, MT25QL128ABA, MIS_FM_CS};
.................... Flash smf = {SPI_1, MT25QL01GBBB, SMF_CS};
.................... 
.................... 
.................... 
.................... // ===================== Function List =====================
.................... // Public Functions
.................... 
.................... int1 is_connect(Flash flash_stream);
.................... 
.................... void write_data_bytes(Flash flash_stream, unsigned int32 write_start_address, unsigned int8 *write_data, unsigned int16 write_amount);      
.................... 
.................... void read_data_bytes(Flash flash_stream, unsigned int32 read_start_address, unsigned int8 *read_data, unsigned int32 read_amount);  
.................... 
.................... void sector_erase(Flash flash_stream, unsigned int32 sector_address);
.................... 
.................... void subsector_32kByte_erase(Flash flash_stream, unsigned int32 subsector_address);  
....................                                
.................... void subsector_4kByte_erase(Flash flash_stream, unsigned int32 subsector_address);      
.................... 
.................... //Private Functions
....................  
.................... void flash_setting(Flash flash_stream);
....................  
.................... int8 status_register(Flash flash_stream);
....................  
.................... int8 read_id(Flash flash_stream);
.................... 
.................... unsigned int8 read_data_byte(Flash flash_stream, unsigned int32 read_address);
.................... 
.................... void write_data_byte(Flash flash_stream, unsigned int32 write_address, unsigned int8 write_data);
.................... 
.................... 
.................... 
.................... // ===================== Flash Commands =====================
.................... #define CMD_READ_ID                     0x9F
.................... #define CMD_READ_STATUS_REGISTER        0x05
.................... #define CMD_READ                        0x03//for MT25QL128ABA
.................... #define CMD_4BYTE_READ                  0x13//for MT25QL01GBBB
.................... #define CMD_WRITE_ENABLE                0x06
.................... #define CMD_PAGE_PROGRAM                0x02//for MT25QL128ABA
.................... #define CMD_4BYTE_PAGE_PROGRAM          0x12//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_4KB_ERASE         0x20//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_4KB_ERASE   0x21//for MT25QL01GBBB
.................... #define CMD_SUBSECTOR_32KB_ERASE        0x52//for MT25QL128ABA
.................... #define CMD_4BYTE_SUBSECTOR_32KB_ERASE  0x5C//for MT25QL01GBBB
.................... #define CMD_SECTOR_ERASE                0xD8//for MT25QL128ABA
.................... #define CMD_4BYTE_SECTOR_ERASE          0xDC//for MT25QL01GBBB
.................... 
.................... // ====================== Value List =====================
.................... #define MANUFACTURER_ID_MICRON 0x20 // Manufacturer ID for Micron flash
.................... #define READ_ID_DATASIZE 20 // 20 bytes for read ID data
.................... 
.................... 
.................... // ====================== Data Structures =====================
.................... typedef union
.................... {
....................     unsigned int8 bytes[READ_ID_DATASIZE]; // 20 bytes for read ID
....................     struct {
....................         unsigned int8 manufacturer_id; // 1 byte
....................         unsigned int8 memory_type;     // 1 byte
....................         unsigned int8 capacity;        // 1 byte
....................         unsigned int8 reserved;       // 1 byte
....................     } fields;
.................... }READ_ID_DATA;
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... #include "../domain/cigs_flash.h"             // ストレージ機能
.................... #ifndef MMJ_CIGS_FLASH_H
.................... #define MMJ_CIGS_FLASH_H
.................... 
.................... //#include <string.h>
.................... //#include "../hal/cigs_config.h"
.................... 
.................... #ifndef PACKET_SIZE
....................     #define PACKET_SIZE 64
.................... #endif
.................... 
.................... 
.................... #define MISF_START 0x00000000
.................... #define MISF_END   0x00BC0FFF
.................... #define SECTOR_64K_BYTE  0x10000
.................... 
.................... #define MISF_CIGS_DATA_TABLE_SIZE 64
.................... 
.................... // Flash Address
.................... #define MISF_CIGS_DATA_TABLE_START 0x00000000
.................... #define MISF_CIGS_DATA_TABLE_END   0x00000FFF
.................... #define MISF_CIGS_DATA_TABLE_SIZE  4096
.................... 
.................... #define MISF_CIGS_PICLOG_START    0x00010000
.................... #define MISF_CIGS_PICLOG_END      0x00140FFF
.................... #define MISF_CIGS_PICLOG_SIZE     1310720
.................... 
.................... #define MISF_CIGS_ENVIRO_START    0x00141000
.................... #define MISF_CIGS_ENVIRO_END      0x00280FFF
.................... #define MISF_CIGS_ENVIRO_SIZE     1310720
.................... 
.................... #define MISF_CIGS_IV1_HEADER_START 0x00281000
.................... #define MISF_CIGS_IV1_HEADER_END   0x00320FFF
.................... #define MISF_CIGS_IV1_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV1_DATA_START   0x00321000
.................... #define MISF_CIGS_IV1_DATA_END     0x00720FFF
.................... #define MISF_CIGS_IV1_DATA_SIZE    4194304
.................... 
.................... #define MISF_CIGS_IV2_HEADER_START 0x00721000
.................... #define MISF_CIGS_IV2_HEADER_END   0x007C0FFF
.................... #define MISF_CIGS_IV2_HEADER_SIZE  655360
.................... 
.................... #define MISF_CIGS_IV2_DATA_START   0x007C1000
.................... #define MISF_CIGS_IV2_DATA_END     0x00BC0FFF
.................... #define MISF_CIGS_IV2_DATA_SIZE    4194304
.................... 
.................... // 重複していた #define はここに一度だけ残す
.................... // 例: #define SECTOR_4K_BYTE  0x1000  // 4KByte
.................... // 他ファイルに同じ行があれば削除
.................... 
.................... // Flash カウンタだけを保持する汎用構造
.................... typedef struct {
....................     unsigned int32 used_counter;
....................     unsigned int32 uncopied_counter;
....................     unsigned int8  reserve_counter1;
....................     unsigned int8  reserve_counter2;
.................... } FlashCounter_t;
.................... 
.................... // データ種別ID
.................... typedef enum {
....................     FLASH_ID_DATA_TABLE = 0 ,
....................     FLASH_ID_PICLOG ,
....................     FLASH_ID_ENVIRONMENT,
....................     FLASH_ID_IV1_HEADER,
....................     FLASH_ID_IV1_DATA,
....................     FLASH_ID_IV2_HEADER,
....................     FLASH_ID_IV2_DATA,
....................     FLASH_ID_COUNT = 7
.................... } FlashDataId_t;
.................... 
.................... // Flash_t : 実体側で使用する拡張(必要なら id を保持)
.................... typedef struct {
....................     FlashDataId_t   id;
....................     unsigned int32  used_counter;
....................     unsigned int32  uncopied_counter;
....................     unsigned int8   reserve_counter1;
....................     unsigned int8   reserve_counter2;
.................... } Flash_t;
.................... 
.................... // FlashData_t （既存定義が別ヘッダなら重複しないよう確認）
.................... // ここでは payload 内の logdata.* が FlashCounter_t と仮定
.................... typedef union {
....................     struct {
....................         union {
....................             struct {
....................                 FlashCounter_t piclog;
....................                 FlashCounter_t environment;
....................                 FlashCounter_t iv1_header;
....................                 FlashCounter_t iv1_data;
....................                 FlashCounter_t iv2_header;
....................                 FlashCounter_t iv2_data;
....................             } logdata;  // 合計サイズは63バイト
....................             unsigned int8 reserve[63];
....................         } payload;
....................         unsigned int8 crc;  // 1バイトCRC
....................     } packet;
....................     unsigned int8 bytes[64];
.................... } FlashData_t;
.................... 
.................... 
.................... // 取得系
.................... FlashData_t make_flash_data_table(void);
.................... void misf_update_address_area(void);
.................... void print_flash_status(void);
.................... 
.................... 
.................... // キュー投入
.................... void add_smf_queue(MissionID mission_id, FunctionType func_type, SmfWriteMode write_mode);
.................... void misf_init();
.................... 
.................... // Flash 操作用構造体
.................... typedef struct {
....................     unsigned int32 start;
....................     unsigned int32 end;
....................     unsigned int32 size;
.................... } ADDRESS_AREA_T;
.................... 
.................... 
.................... extern const ADDRESS_AREA_T MISF_ADDRESS_TABLE[];
.................... extern FlashCounter_t misf_counter_table[];
.................... extern FlashCounter_t *misf_counter_table_ptr[];
.................... 
.................... void print_MISF_ADDRESS_TABLE(void);
.................... 
.................... void misf_write_data(FlashDataId_t id, unsigned int8 *data_ptr, unsigned int16 size);
.................... #endif
.................... //------------------End of File------------------
.................... 
.................... #include "../domain/cigs_piclog.h"            // ログ機能
.................... #ifndef     MMJ_CIGS_PICLOG_H
.................... #define     MMJ_CIGS_PICLOG_H
.................... 
.................... // PICLOG Param
.................... #define PICLOG_STARTUP 0x00
.................... #define PICLOG_PARAM_START 0x00
.................... #define PICLOG_PARAM_END   0xFF
.................... 
.................... 
.................... #define PICLOG_PACKET_SIZE 6
.................... 
.................... // PICLOG Union
.................... typedef union {
....................     struct {
....................         unsigned int32 time;
....................         unsigned int8  function;
....................         unsigned int8  parameter;
....................     } fields;
....................     unsigned int8 bytes[PICLOG_PACKET_SIZE];
.................... } piclog_t;
.................... 
.................... #define PICLOG_BLANK_SIZE 4
.................... unsigned int8 PICLOG_BLANK_DATA[PICLOG_BLANK_SIZE];
.................... 
.................... // PICLOG 関数（実装は .c）
.................... void piclog_save(unsigned int8 function, unsigned int8 parameter);
.................... 
.................... #endif // MMJ_CIGS_PICLOG_H
.................... //------------------End of File------------------
.................... 
.................... #include "../lib/tool/calc_tools.h"
.................... #ifndef CALC_TOOLS_H
.................... #define CALC_TOOLS_H
....................  
.................... unsigned int8 calc_crc8(unsigned int8 *frame, unsigned int8 payload_size);
.................... int1 is_crc_valid(unsigned int8 *frame, int8 payload_size);
.................... void int32_to_be_array(int32 value, int8 *buf, int8 index);
.................... int32 lsb_array_to_int32(int8 *buf, int8 index);
.................... unsigned int32 lsb_to_msb(unsigned int32 value);
.................... unsigned int32 msb_to_lsb(unsigned int32 value);
.................... 
.................... 
.................... #endif // CALC_TOOLS_H  
.................... 
.................... 
.................... // ========================== MISF Command ============================
.................... void mode_misf_erase_all(unsigned int8 *uplink_cmd_ptr)
.................... {
....................    printf("Start Flash Erase All\r\n");
*
05A66:  MOVLW  3A
05A68:  MOVWF  FF6
05A6A:  MOVLW  1A
05A6C:  MOVWF  FF7
05A6E:  MOVLW  00
05A70:  MOVWF  FF8
05A72:  CALL   20CE
....................    
....................    flash_mode_param_t param;
....................    flash_mode_param_t *param_ptr = &param;
05A76:  MOVLW  01
05A78:  MOVLB  1
05A7A:  MOVWF  xD6
05A7C:  MOVLW  CC
05A7E:  MOVWF  xD5
....................    memcpy(param_ptr->bytes, uplink_cmd_ptr, PARAMETER_LENGTH);
05A80:  MOVF   xD5,W
05A82:  MOVWF  01
05A84:  MOVF   xD6,W
05A86:  MOVWF  03
05A88:  MOVF   01,W
05A8A:  MOVWF  xDB
05A8C:  MOVFF  03,1DC
05A90:  MOVFF  1DC,FEA
05A94:  MOVFF  1DB,FE9
05A98:  MOVFF  1CB,FE2
05A9C:  MOVFF  1CA,FE1
05AA0:  MOVLW  09
05AA2:  MOVWF  01
05AA4:  MOVLB  0
05AA6:  MOVFF  FE6,FEE
05AAA:  DECFSZ 01,F
05AAC:  GOTO   5AA6
....................    piclog_save(param_ptr->fields.cmd, 0x00);
05AB0:  MOVLB  1
05AB2:  MOVF   xD5,W
05AB4:  MOVWF  FE9
05AB6:  MOVF   xD6,W
05AB8:  MOVWF  FEA
05ABA:  MOVFF  FEF,1DB
05ABE:  MOVFF  1DB,2C6
05AC2:  MOVLB  2
05AC4:  CLRF   xC7
05AC6:  MOVLB  0
05AC8:  CALL   4EDC
....................    
....................    // Erase all sectors in the MISF flash memory
....................    for (int32 address = MISF_START; address < MISF_END; address += SECTOR_64K_BYTE) {
05ACC:  MOVLB  1
05ACE:  CLRF   xDA
05AD0:  CLRF   xD9
05AD2:  CLRF   xD8
05AD4:  CLRF   xD7
05AD6:  MOVLB  0
05AD8:  MOVLB  1
05ADA:  MOVF   xDA,F
05ADC:  BTFSC  FD8.2
05ADE:  BRA    5AE6
05AE0:  MOVLB  0
05AE2:  GOTO   5B5E
05AE6:  MOVLB  0
05AE8:  MOVLB  1
05AEA:  MOVF   xD9,W
05AEC:  SUBLW  BC
05AEE:  BTFSC  FD8.0
05AF0:  BRA    5AF8
05AF2:  MOVLB  0
05AF4:  GOTO   5B5E
05AF8:  MOVLB  0
05AFA:  BTFSS  FD8.2
05AFC:  GOTO   5B2A
05B00:  MOVLB  1
05B02:  MOVF   xD8,W
05B04:  SUBLW  0F
05B06:  BTFSC  FD8.0
05B08:  BRA    5B10
05B0A:  MOVLB  0
05B0C:  GOTO   5B5E
05B10:  MOVLB  0
05B12:  BTFSS  FD8.2
05B14:  GOTO   5B2A
05B18:  MOVLB  1
05B1A:  MOVF   xD7,W
05B1C:  SUBLW  FE
05B1E:  BTFSC  FD8.0
05B20:  BRA    5B28
05B22:  MOVLB  0
05B24:  GOTO   5B5E
05B28:  MOVLB  0
....................       sector_erase(mis_fm, address); // Erase each sector
05B2A:  MOVFF  115,1F8
05B2E:  MOVFF  114,1F7
05B32:  MOVFF  113,1F6
05B36:  MOVFF  112,1F5
05B3A:  MOVFF  1DA,1FC
05B3E:  MOVFF  1D9,1FB
05B42:  MOVFF  1D8,1FA
05B46:  MOVFF  1D7,1F9
05B4A:  CALL   5704
05B4E:  MOVLW  01
05B50:  MOVLB  1
05B52:  ADDWF  xD9,F
05B54:  MOVLW  00
05B56:  ADDWFC xDA,F
05B58:  MOVLB  0
05B5A:  GOTO   5AD8
....................    }
.................... 
....................    piclog_save(param_ptr->fields.cmd, PICLOG_PARAM_END); // Log the end of the command execution
05B5E:  MOVLB  1
05B60:  MOVF   xD5,W
05B62:  MOVWF  FE9
05B64:  MOVF   xD6,W
05B66:  MOVWF  FEA
05B68:  MOVFF  FEF,1DB
05B6C:  MOVFF  1DB,2C6
05B70:  MOVLB  2
05B72:  SETF   xC7
05B74:  MOVLB  0
05B76:  CALL   4EDC
....................    printf("End Flash Erase All\r\n");
05B7A:  MOVLW  52
05B7C:  MOVWF  FF6
05B7E:  MOVLW  1A
05B80:  MOVWF  FF7
05B82:  MOVLW  00
05B84:  MOVWF  FF8
05B86:  CALL   20CE
05B8A:  RETURN 0
.................... }
.................... 
.................... void mode_misf_erase_1sector(unsigned int8 *uplink_cmd_ptr)
.................... {
....................    printf("Start Flash Erase 1 Sector\r\n");
*
05BFE:  MOVLW  68
05C00:  MOVWF  FF6
05C02:  MOVLW  1A
05C04:  MOVWF  FF7
05C06:  MOVLW  00
05C08:  MOVWF  FF8
05C0A:  CALL   20CE
....................    flash_mode_param_t param;
....................    flash_mode_param_t *param_ptr = &param;
05C0E:  MOVLW  01
05C10:  MOVLB  1
05C12:  MOVWF  xBB
05C14:  MOVLW  B1
05C16:  MOVWF  xBA
....................    memcpy(param_ptr->bytes, uplink_cmd_ptr, PARAMETER_LENGTH);
05C18:  MOVF   xBA,W
05C1A:  MOVWF  01
05C1C:  MOVF   xBB,W
05C1E:  MOVWF  03
05C20:  MOVF   01,W
05C22:  MOVWF  xC1
05C24:  MOVFF  03,1C2
05C28:  MOVFF  1C2,FEA
05C2C:  MOVFF  1C1,FE9
05C30:  MOVFF  1B0,FE2
05C34:  MOVFF  1AF,FE1
05C38:  MOVLW  09
05C3A:  MOVWF  01
05C3C:  MOVLB  0
05C3E:  MOVFF  FE6,FEE
05C42:  DECFSZ 01,F
05C44:  GOTO   5C3E
....................    piclog_save(param_ptr->fields.cmd, PICLOG_PARAM_START); // Log the command execution
05C48:  MOVLB  1
05C4A:  MOVF   xBA,W
05C4C:  MOVWF  FE9
05C4E:  MOVF   xBB,W
05C50:  MOVWF  FEA
05C52:  MOVFF  FEF,1C1
05C56:  MOVFF  1C1,2C6
05C5A:  MOVLB  2
05C5C:  CLRF   xC7
05C5E:  MOVLB  0
05C60:  CALL   4EDC
.................... 
....................    int32 sector_address = param_ptr->fields.address;
05C64:  MOVLW  01
05C66:  MOVLB  1
05C68:  ADDWF  xBA,W
05C6A:  MOVWF  FE9
05C6C:  MOVLW  00
05C6E:  ADDWFC xBB,W
05C70:  MOVWF  FEA
05C72:  MOVFF  FEF,1BC
05C76:  MOVFF  FEC,1BD
05C7A:  MOVFF  FEC,1BE
05C7E:  MOVFF  FEC,1BF
05C82:  MOVF   FED,F
05C84:  MOVF   FED,F
05C86:  MOVF   FED,F
.................... 
....................    printf("\tSector Address: 0x%08LX\r\n", sector_address);
05C88:  MOVLW  86
05C8A:  MOVWF  FF6
05C8C:  MOVLW  1A
05C8E:  MOVWF  FF7
05C90:  MOVLW  00
05C92:  MOVWF  FF8
05C94:  MOVLW  13
05C96:  MOVLB  A
05C98:  MOVWF  x4E
05C9A:  MOVLB  0
05C9C:  CALL   2104
05CA0:  MOVFF  1BF,9E8
05CA4:  MOVLW  37
05CA6:  MOVLB  9
05CA8:  MOVWF  xE9
05CAA:  MOVLB  0
05CAC:  CALL   2334
05CB0:  MOVFF  1BE,9E8
05CB4:  MOVLW  37
05CB6:  MOVLB  9
05CB8:  MOVWF  xE9
05CBA:  MOVLB  0
05CBC:  CALL   2334
05CC0:  MOVFF  1BD,9E8
05CC4:  MOVLW  37
05CC6:  MOVLB  9
05CC8:  MOVWF  xE9
05CCA:  MOVLB  0
05CCC:  CALL   2334
05CD0:  MOVFF  1BC,9E8
05CD4:  MOVLW  37
05CD6:  MOVLB  9
05CD8:  MOVWF  xE9
05CDA:  MOVLB  0
05CDC:  CALL   2334
05CE0:  MOVLW  0D
05CE2:  BTFSS  FA6.6
05CE4:  GOTO   5CE2
05CE8:  MOVLB  E
05CEA:  MOVWF  xF9
05CEC:  MOVLW  0A
05CEE:  MOVLB  0
05CF0:  BTFSS  FA6.6
05CF2:  GOTO   5CF0
05CF6:  MOVLB  E
05CF8:  MOVWF  xF9
....................    printf("\tErase Size   : %02LX KByte\r\n", param_ptr->fields.sector_size);
05CFA:  MOVLW  08
05CFC:  MOVLB  1
05CFE:  ADDWF  xBA,W
05D00:  MOVWF  FE9
05D02:  MOVLW  00
05D04:  ADDWFC xBB,W
05D06:  MOVWF  FEA
05D08:  MOVFF  FEF,1C1
05D0C:  MOVLW  A2
05D0E:  MOVWF  FF6
05D10:  MOVLW  1A
05D12:  MOVWF  FF7
05D14:  MOVLW  00
05D16:  MOVWF  FF8
05D18:  MOVLW  10
05D1A:  MOVLB  A
05D1C:  MOVWF  x4E
05D1E:  MOVLB  0
05D20:  CALL   2104
05D24:  MOVFF  1C1,9E8
05D28:  MOVLW  37
05D2A:  MOVLB  9
05D2C:  MOVWF  xE9
05D2E:  MOVLB  0
05D30:  CALL   2334
05D34:  MOVLW  B7
05D36:  MOVWF  FF6
05D38:  MOVLW  1A
05D3A:  MOVWF  FF7
05D3C:  MOVLW  00
05D3E:  MOVWF  FF8
05D40:  MOVLW  08
05D42:  MOVLB  A
05D44:  MOVWF  x4E
05D46:  MOVLB  0
05D48:  CALL   2104
.................... 
....................    for (int i = 0; i < param_ptr->fields.sector_size; i++) {
05D4C:  MOVLB  1
05D4E:  CLRF   xC0
05D50:  MOVLB  0
05D52:  MOVLW  08
05D54:  MOVLB  1
05D56:  ADDWF  xBA,W
05D58:  MOVWF  FE9
05D5A:  MOVLW  00
05D5C:  ADDWFC xBB,W
05D5E:  MOVWF  FEA
05D60:  MOVF   FEF,W
05D62:  SUBWF  xC0,W
05D64:  BTFSS  FD8.0
05D66:  BRA    5D6E
05D68:  MOVLB  0
05D6A:  GOTO   5DD6
05D6E:  MOVLB  0
....................       sector_erase(mis_fm, sector_address + (i * SECTOR_64K_BYTE));
05D70:  MOVLB  1
05D72:  CLRF   xCC
05D74:  CLRF   xCB
05D76:  CLRF   xCA
05D78:  MOVFF  1C0,1C9
05D7C:  CLRF   xD0
05D7E:  MOVLW  01
05D80:  MOVWF  xCF
05D82:  CLRF   xCE
05D84:  CLRF   xCD
05D86:  MOVLB  0
05D88:  CALL   5B8C
05D8C:  MOVF   00,W
05D8E:  MOVLB  1
05D90:  ADDWF  xBC,W
05D92:  MOVWF  xC1
05D94:  MOVF   01,W
05D96:  ADDWFC xBD,W
05D98:  MOVWF  xC2
05D9A:  MOVF   02,W
05D9C:  ADDWFC xBE,W
05D9E:  MOVWF  xC3
05DA0:  MOVF   03,W
05DA2:  ADDWFC xBF,W
05DA4:  MOVWF  xC4
05DA6:  MOVFF  115,1F8
05DAA:  MOVFF  114,1F7
05DAE:  MOVFF  113,1F6
05DB2:  MOVFF  112,1F5
05DB6:  MOVFF  1C4,1FC
05DBA:  MOVFF  1C3,1FB
05DBE:  MOVFF  1C2,1FA
05DC2:  MOVFF  1C1,1F9
05DC6:  MOVLB  0
05DC8:  CALL   5704
05DCC:  MOVLB  1
05DCE:  INCF   xC0,F
05DD0:  MOVLB  0
05DD2:  GOTO   5D52
....................    }
.................... 
....................    piclog_save(param_ptr->fields.cmd, PICLOG_PARAM_END); // Log the end of the command execution
05DD6:  MOVLB  1
05DD8:  MOVF   xBA,W
05DDA:  MOVWF  FE9
05DDC:  MOVF   xBB,W
05DDE:  MOVWF  FEA
05DE0:  MOVFF  FEF,1C1
05DE4:  MOVFF  1C1,2C6
05DE8:  MOVLB  2
05DEA:  SETF   xC7
05DEC:  MOVLB  0
05DEE:  CALL   4EDC
....................    printf("End Flash Erase 1 Sector\r\n");
05DF2:  MOVLW  C0
05DF4:  MOVWF  FF6
05DF6:  MOVLW  1A
05DF8:  MOVWF  FF7
05DFA:  MOVLW  00
05DFC:  MOVWF  FF8
05DFE:  CALL   20CE
05E02:  GOTO   F82A (RETURN)
.................... }
.................... 
.................... void mode_misf_erase_4kbyte_subsector(unsigned int8 *uplink_cmd_ptr)
.................... {
....................    printf("Start Flash Erase 4kByte Subsector\r\n");
*
05E28:  MOVLW  DC
05E2A:  MOVWF  FF6
05E2C:  MOVLW  1A
05E2E:  MOVWF  FF7
05E30:  MOVLW  00
05E32:  MOVWF  FF8
05E34:  CALL   20CE
....................    flash_mode_param_t param;
....................    flash_mode_param_t *param_ptr = &param;
05E38:  MOVLW  01
05E3A:  MOVLB  1
05E3C:  MOVWF  xBB
05E3E:  MOVLW  B1
05E40:  MOVWF  xBA
....................    memcpy(param_ptr->bytes, uplink_cmd_ptr, PARAMETER_LENGTH);
05E42:  MOVF   xBA,W
05E44:  MOVWF  01
05E46:  MOVF   xBB,W
05E48:  MOVWF  03
05E4A:  MOVF   01,W
05E4C:  MOVWF  xC1
05E4E:  MOVFF  03,1C2
05E52:  MOVFF  1C2,FEA
05E56:  MOVFF  1C1,FE9
05E5A:  MOVFF  1B0,FE2
05E5E:  MOVFF  1AF,FE1
05E62:  MOVLW  09
05E64:  MOVWF  01
05E66:  MOVLB  0
05E68:  MOVFF  FE6,FEE
05E6C:  DECFSZ 01,F
05E6E:  GOTO   5E68
....................    int32 subsector_address = param_ptr->fields.address;
05E72:  MOVLW  01
05E74:  MOVLB  1
05E76:  ADDWF  xBA,W
05E78:  MOVWF  FE9
05E7A:  MOVLW  00
05E7C:  ADDWFC xBB,W
05E7E:  MOVWF  FEA
05E80:  MOVFF  FEF,1BC
05E84:  MOVFF  FEC,1BD
05E88:  MOVFF  FEC,1BE
05E8C:  MOVFF  FEC,1BF
05E90:  MOVF   FED,F
05E92:  MOVF   FED,F
05E94:  MOVF   FED,F
....................    piclog_save(param_ptr->fields.cmd, PICLOG_PARAM_START);
05E96:  MOVF   xBA,W
05E98:  MOVWF  FE9
05E9A:  MOVF   xBB,W
05E9C:  MOVWF  FEA
05E9E:  MOVFF  FEF,1C1
05EA2:  MOVFF  1C1,2C6
05EA6:  MOVLB  2
05EA8:  CLRF   xC7
05EAA:  MOVLB  0
05EAC:  CALL   4EDC
.................... 
.................... 
....................    printf("\tErase Address: 0x%08LX\r\n", subsector_address);
05EB0:  MOVLW  02
05EB2:  MOVWF  FF6
05EB4:  MOVLW  1B
05EB6:  MOVWF  FF7
05EB8:  MOVLW  00
05EBA:  MOVWF  FF8
05EBC:  MOVLW  12
05EBE:  MOVLB  A
05EC0:  MOVWF  x4E
05EC2:  MOVLB  0
05EC4:  CALL   2104
05EC8:  MOVFF  1BF,9E8
05ECC:  MOVLW  37
05ECE:  MOVLB  9
05ED0:  MOVWF  xE9
05ED2:  MOVLB  0
05ED4:  CALL   2334
05ED8:  MOVFF  1BE,9E8
05EDC:  MOVLW  37
05EDE:  MOVLB  9
05EE0:  MOVWF  xE9
05EE2:  MOVLB  0
05EE4:  CALL   2334
05EE8:  MOVFF  1BD,9E8
05EEC:  MOVLW  37
05EEE:  MOVLB  9
05EF0:  MOVWF  xE9
05EF2:  MOVLB  0
05EF4:  CALL   2334
05EF8:  MOVFF  1BC,9E8
05EFC:  MOVLW  37
05EFE:  MOVLB  9
05F00:  MOVWF  xE9
05F02:  MOVLB  0
05F04:  CALL   2334
05F08:  MOVLW  0D
05F0A:  BTFSS  FA6.6
05F0C:  GOTO   5F0A
05F10:  MOVLB  E
05F12:  MOVWF  xF9
05F14:  MOVLW  0A
05F16:  MOVLB  0
05F18:  BTFSS  FA6.6
05F1A:  GOTO   5F18
05F1E:  MOVLB  E
05F20:  MOVWF  xF9
....................    printf("\tErase Size   : 0x%08LX\r\n", param_ptr->fields.sector_size);
05F22:  MOVLW  08
05F24:  MOVLB  1
05F26:  ADDWF  xBA,W
05F28:  MOVWF  FE9
05F2A:  MOVLW  00
05F2C:  ADDWFC xBB,W
05F2E:  MOVWF  FEA
05F30:  MOVFF  FEF,1C1
05F34:  MOVLW  1C
05F36:  MOVWF  FF6
05F38:  MOVLW  1B
05F3A:  MOVWF  FF7
05F3C:  MOVLW  00
05F3E:  MOVWF  FF8
05F40:  MOVLW  12
05F42:  MOVLB  A
05F44:  MOVWF  x4E
05F46:  MOVLB  0
05F48:  CALL   2104
05F4C:  MOVLW  06
05F4E:  MOVLB  1
05F50:  MOVWF  xC2
05F52:  MOVLB  0
05F54:  MOVLW  30
05F56:  BTFSS  FA6.6
05F58:  GOTO   5F56
05F5C:  MOVLB  E
05F5E:  MOVWF  xF9
05F60:  MOVLB  1
05F62:  DECFSZ xC2,F
05F64:  BRA    5F6A
05F66:  BRA    5F70
05F68:  MOVLB  0
05F6A:  MOVLB  0
05F6C:  GOTO   5F54
05F70:  MOVFF  1C1,9E8
05F74:  MOVLW  37
05F76:  MOVLB  9
05F78:  MOVWF  xE9
05F7A:  MOVLB  0
05F7C:  CALL   2334
05F80:  MOVLW  0D
05F82:  BTFSS  FA6.6
05F84:  GOTO   5F82
05F88:  MOVLB  E
05F8A:  MOVWF  xF9
05F8C:  MOVLW  0A
05F8E:  MOVLB  0
05F90:  BTFSS  FA6.6
05F92:  GOTO   5F90
05F96:  MOVLB  E
05F98:  MOVWF  xF9
.................... 
....................    for (int i = 0; i < param_ptr->fields.sector_size; i += SUBSECTOR_4K_BYTE) {
05F9A:  MOVLB  1
05F9C:  CLRF   xC0
05F9E:  MOVLB  0
05FA0:  MOVLW  08
05FA2:  MOVLB  1
05FA4:  ADDWF  xBA,W
05FA6:  MOVWF  FE9
05FA8:  MOVLW  00
05FAA:  ADDWFC xBB,W
05FAC:  MOVWF  FEA
05FAE:  MOVF   FEF,W
05FB0:  SUBWF  xC0,W
05FB2:  BTFSS  FD8.0
05FB4:  BRA    5FBC
05FB6:  MOVLB  0
05FB8:  GOTO   601A
05FBC:  MOVLB  0
....................       subsector_4kByte_erase(mis_fm, subsector_address + (i * SUBSECTOR_4K_BYTE));
05FBE:  MOVLB  A
05FC0:  CLRF   x53
05FC2:  MOVFF  1C0,A52
05FC6:  MOVLW  10
05FC8:  MOVWF  x55
05FCA:  CLRF   x54
05FCC:  MOVLB  0
05FCE:  CALL   5E06
05FD2:  MOVFF  02,03
05FD6:  MOVF   01,W
05FD8:  MOVLB  1
05FDA:  ADDWF  xBC,W
05FDC:  MOVWF  xC1
05FDE:  MOVF   03,W
05FE0:  ADDWFC xBD,W
05FE2:  MOVWF  xC2
05FE4:  MOVLW  00
05FE6:  ADDWFC xBE,W
05FE8:  MOVWF  xC3
05FEA:  MOVLW  00
05FEC:  ADDWFC xBF,W
05FEE:  MOVWF  xC4
05FF0:  MOVFF  115,A93
05FF4:  MOVFF  114,A92
05FF8:  MOVFF  113,A91
05FFC:  MOVFF  112,A90
06000:  MOVFF  1C4,A97
06004:  MOVFF  1C3,A96
06008:  MOVFF  1C2,A95
0600C:  MOVFF  1C1,A94
06010:  MOVLB  0
06012:  CALL   4B2A
06016:  GOTO   5FA0
....................    }
.................... 
....................    piclog_save(param_ptr->fields.cmd, PICLOG_PARAM_END);
0601A:  MOVLB  1
0601C:  MOVF   xBA,W
0601E:  MOVWF  FE9
06020:  MOVF   xBB,W
06022:  MOVWF  FEA
06024:  MOVFF  FEF,1C1
06028:  MOVFF  1C1,2C6
0602C:  MOVLB  2
0602E:  SETF   xC7
06030:  MOVLB  0
06032:  CALL   4EDC
....................    printf("End Flash Erase 4kByte Subsector\r\n");
06036:  MOVLW  36
06038:  MOVWF  FF6
0603A:  MOVLW  1B
0603C:  MOVWF  FF7
0603E:  MOVLW  00
06040:  MOVWF  FF8
06042:  CALL   20CE
06046:  GOTO   F83A (RETURN)
.................... }
.................... 
.................... void mode_misf_erase_64kbyte_subsector(unsigned int8 *uplink_cmd_ptr)
.................... {
....................    fprintf(PC, "Start Flash Erase 64kByte Subsector\r\n");
0604A:  MOVLW  5A
0604C:  MOVWF  FF6
0604E:  MOVLW  1B
06050:  MOVWF  FF7
06052:  MOVLW  00
06054:  MOVWF  FF8
06056:  CALL   20CE
....................    flash_mode_param_t param;
....................    flash_mode_param_t *param_ptr = &param;
0605A:  MOVLW  01
0605C:  MOVLB  1
0605E:  MOVWF  xBB
06060:  MOVLW  B1
06062:  MOVWF  xBA
....................    memcpy(param_ptr->bytes, uplink_cmd_ptr, PARAMETER_LENGTH);
06064:  MOVF   xBA,W
06066:  MOVWF  01
06068:  MOVF   xBB,W
0606A:  MOVWF  03
0606C:  MOVF   01,W
0606E:  MOVWF  xC4
06070:  MOVFF  03,1C5
06074:  MOVFF  1C5,FEA
06078:  MOVFF  1C4,FE9
0607C:  MOVFF  1B0,FE2
06080:  MOVFF  1AF,FE1
06084:  MOVLW  09
06086:  MOVWF  01
06088:  MOVLB  0
0608A:  MOVFF  FE6,FEE
0608E:  DECFSZ 01,F
06090:  GOTO   608A
....................    piclog_save(param_ptr->fields.cmd, PICLOG_PARAM_START); // Log the command execution
06094:  MOVLB  1
06096:  MOVF   xBA,W
06098:  MOVWF  FE9
0609A:  MOVF   xBB,W
0609C:  MOVWF  FEA
0609E:  MOVFF  FEF,1C4
060A2:  MOVFF  1C4,2C6
060A6:  MOVLB  2
060A8:  CLRF   xC7
060AA:  MOVLB  0
060AC:  CALL   4EDC
.................... 
....................    unsigned int32 subsector_address = param_ptr->fields.address;
060B0:  MOVLW  01
060B2:  MOVLB  1
060B4:  ADDWF  xBA,W
060B6:  MOVWF  FE9
060B8:  MOVLW  00
060BA:  ADDWFC xBB,W
060BC:  MOVWF  FEA
060BE:  MOVFF  FEF,1BC
060C2:  MOVFF  FEC,1BD
060C6:  MOVFF  FEC,1BE
060CA:  MOVFF  FEC,1BF
060CE:  MOVF   FED,F
060D0:  MOVF   FED,F
060D2:  MOVF   FED,F
....................    
....................    fprintf(PC, "\tSubsector Address: 0x%08LX\r\n", subsector_address);
060D4:  MOVLW  80
060D6:  MOVWF  FF6
060D8:  MOVLW  1B
060DA:  MOVWF  FF7
060DC:  MOVLW  00
060DE:  MOVWF  FF8
060E0:  MOVLW  16
060E2:  MOVLB  A
060E4:  MOVWF  x4E
060E6:  MOVLB  0
060E8:  CALL   2104
060EC:  MOVFF  1BF,9E8
060F0:  MOVLW  37
060F2:  MOVLB  9
060F4:  MOVWF  xE9
060F6:  MOVLB  0
060F8:  CALL   2334
060FC:  MOVFF  1BE,9E8
06100:  MOVLW  37
06102:  MOVLB  9
06104:  MOVWF  xE9
06106:  MOVLB  0
06108:  CALL   2334
0610C:  MOVFF  1BD,9E8
06110:  MOVLW  37
06112:  MOVLB  9
06114:  MOVWF  xE9
06116:  MOVLB  0
06118:  CALL   2334
0611C:  MOVFF  1BC,9E8
06120:  MOVLW  37
06122:  MOVLB  9
06124:  MOVWF  xE9
06126:  MOVLB  0
06128:  CALL   2334
0612C:  MOVLW  0D
0612E:  BTFSS  FA6.6
06130:  GOTO   612E
06134:  MOVLB  E
06136:  MOVWF  xF9
06138:  MOVLW  0A
0613A:  MOVLB  0
0613C:  BTFSS  FA6.6
0613E:  GOTO   613C
06142:  MOVLB  E
06144:  MOVWF  xF9
....................    fprintf(PC, "\tErase Size      : 0x%08LX\r\n", param_ptr->fields.sector_size);
06146:  MOVLW  08
06148:  MOVLB  1
0614A:  ADDWF  xBA,W
0614C:  MOVWF  FE9
0614E:  MOVLW  00
06150:  ADDWFC xBB,W
06152:  MOVWF  FEA
06154:  MOVFF  FEF,1C4
06158:  MOVLW  9E
0615A:  MOVWF  FF6
0615C:  MOVLW  1B
0615E:  MOVWF  FF7
06160:  MOVLW  00
06162:  MOVWF  FF8
06164:  MOVLW  15
06166:  MOVLB  A
06168:  MOVWF  x4E
0616A:  MOVLB  0
0616C:  CALL   2104
06170:  MOVLW  06
06172:  MOVLB  1
06174:  MOVWF  xC5
06176:  MOVLB  0
06178:  MOVLW  30
0617A:  BTFSS  FA6.6
0617C:  GOTO   617A
06180:  MOVLB  E
06182:  MOVWF  xF9
06184:  MOVLB  1
06186:  DECFSZ xC5,F
06188:  BRA    618E
0618A:  BRA    6194
0618C:  MOVLB  0
0618E:  MOVLB  0
06190:  GOTO   6178
06194:  MOVFF  1C4,9E8
06198:  MOVLW  37
0619A:  MOVLB  9
0619C:  MOVWF  xE9
0619E:  MOVLB  0
061A0:  CALL   2334
061A4:  MOVLW  0D
061A6:  BTFSS  FA6.6
061A8:  GOTO   61A6
061AC:  MOVLB  E
061AE:  MOVWF  xF9
061B0:  MOVLW  0A
061B2:  MOVLB  0
061B4:  BTFSS  FA6.6
061B6:  GOTO   61B4
061BA:  MOVLB  E
061BC:  MOVWF  xF9
.................... 
....................    for (unsigned int32 addr = 0; addr < param_ptr->fields.sector_size; addr += SECTOR_64K_BYTE) {
061BE:  MOVLB  1
061C0:  CLRF   xC3
061C2:  CLRF   xC2
061C4:  CLRF   xC1
061C6:  CLRF   xC0
061C8:  MOVLB  0
061CA:  MOVLW  08
061CC:  MOVLB  1
061CE:  ADDWF  xBA,W
061D0:  MOVWF  FE9
061D2:  MOVLW  00
061D4:  ADDWFC xBB,W
061D6:  MOVWF  FEA
061D8:  MOVF   FEF,W
061DA:  MOVF   xC3,F
061DC:  BTFSC  FD8.2
061DE:  BRA    61E6
061E0:  MOVLB  0
061E2:  GOTO   6268
061E6:  MOVLB  0
061E8:  MOVLB  1
061EA:  MOVF   xC2,F
061EC:  BTFSC  FD8.2
061EE:  BRA    61F6
061F0:  MOVLB  0
061F2:  GOTO   6268
061F6:  MOVLB  0
061F8:  MOVLB  1
061FA:  MOVF   xC1,F
061FC:  BTFSC  FD8.2
061FE:  BRA    6206
06200:  MOVLB  0
06202:  GOTO   6268
06206:  MOVLB  0
06208:  MOVLB  1
0620A:  SUBWF  xC0,W
0620C:  BTFSS  FD8.0
0620E:  BRA    6216
06210:  MOVLB  0
06212:  GOTO   6268
06216:  MOVLB  0
....................       sector_erase(mis_fm, subsector_address + addr);
06218:  MOVLB  1
0621A:  MOVF   xC0,W
0621C:  ADDWF  xBC,W
0621E:  MOVWF  xC4
06220:  MOVF   xC1,W
06222:  ADDWFC xBD,W
06224:  MOVWF  xC5
06226:  MOVF   xC2,W
06228:  ADDWFC xBE,W
0622A:  MOVWF  xC6
0622C:  MOVF   xC3,W
0622E:  ADDWFC xBF,W
06230:  MOVWF  xC7
06232:  MOVFF  115,1F8
06236:  MOVFF  114,1F7
0623A:  MOVFF  113,1F6
0623E:  MOVFF  112,1F5
06242:  MOVFF  1C7,1FC
06246:  MOVFF  1C6,1FB
0624A:  MOVFF  1C5,1FA
0624E:  MOVFF  1C4,1F9
06252:  MOVLB  0
06254:  CALL   5704
06258:  MOVLW  01
0625A:  MOVLB  1
0625C:  ADDWF  xC2,F
0625E:  MOVLW  00
06260:  ADDWFC xC3,F
06262:  MOVLB  0
06264:  GOTO   61CA
....................    }
.................... 
....................    piclog_save(param_ptr->fields.cmd, PICLOG_PARAM_END); // Log the end of the command execution
06268:  MOVLB  1
0626A:  MOVF   xBA,W
0626C:  MOVWF  FE9
0626E:  MOVF   xBB,W
06270:  MOVWF  FEA
06272:  MOVFF  FEF,1C4
06276:  MOVFF  1C4,2C6
0627A:  MOVLB  2
0627C:  SETF   xC7
0627E:  MOVLB  0
06280:  CALL   4EDC
....................    fprintf(PC, "End Flash Erase 64kByte Subsector\r\n");
06284:  MOVLW  BC
06286:  MOVWF  FF6
06288:  MOVLW  1B
0628A:  MOVWF  FF7
0628C:  MOVLW  00
0628E:  MOVWF  FF8
06290:  CALL   20CE
06294:  GOTO   F84A (RETURN)
.................... }
.................... 
.................... 
.................... void mode_misf_write_4kbyte_subsector(unsigned int8 parameter[])
.................... {
....................    fprintf(PC, "Start Flash Write 4kByte Subsector\r\n");
*
062C8:  MOVLW  E0
062CA:  MOVWF  FF6
062CC:  MOVLW  1B
062CE:  MOVWF  FF7
062D0:  MOVLW  00
062D2:  MOVWF  FF8
062D4:  CALL   20CE
....................    piclog_save(parameter[0], PICLOG_PARAM_START); // Log the command execution
062D8:  MOVLB  1
062DA:  MOVF   xAF,W
062DC:  MOVWF  FE9
062DE:  MOVF   xB0,W
062E0:  MOVWF  FEA
062E2:  MOVFF  FEF,1B5
062E6:  MOVFF  1B5,2C6
062EA:  MOVLB  2
062EC:  CLRF   xC7
062EE:  MOVLB  0
062F0:  CALL   4EDC
....................    flash_setting(mis_fm);
062F4:  MOVFF  115,1B8
062F8:  MOVFF  114,1B7
062FC:  MOVFF  113,1B6
06300:  MOVFF  112,1B5
06304:  CALL   6298
....................    unsigned int32 write_address = 0x00000000;
06308:  MOVLB  1
0630A:  CLRF   xB4
0630C:  CLRF   xB3
0630E:  CLRF   xB2
06310:  CLRF   xB1
....................    //int8 write_data[256] = {0x01, 0x02, 0x03, 0x04}; // Example data
....................    //write_data_bytes(mis_fm, write_address, write_data, 256);
....................    piclog_save(parameter[0], PICLOG_PARAM_END); // Log the end of the command execution
06312:  MOVF   xAF,W
06314:  MOVWF  FE9
06316:  MOVF   xB0,W
06318:  MOVWF  FEA
0631A:  MOVFF  FEF,1B5
0631E:  MOVFF  1B5,2C6
06322:  MOVLB  2
06324:  SETF   xC7
06326:  MOVLB  0
06328:  CALL   4EDC
....................    fprintf(PC, "End Flash Write 4kByte Subsector\r\n");
0632C:  MOVLW  06
0632E:  MOVWF  FF6
06330:  MOVLW  1C
06332:  MOVWF  FF7
06334:  MOVLW  00
06336:  MOVWF  FF8
06338:  CALL   20CE
0633C:  GOTO   F85A (RETURN)
.................... }
.................... 
.................... 
.................... void mode_misf_read(unsigned int8 *uplinkcmd_ptr)
.................... {
....................    fprintf(PC, "Start Flash Read\r\n");
*
06520:  MOVLW  2A
06522:  MOVWF  FF6
06524:  MOVLW  1C
06526:  MOVWF  FF7
06528:  MOVLW  00
0652A:  MOVWF  FF8
0652C:  CALL   20CE
....................    flash_mode_param_t flash_param;
....................    flash_mode_param_t *flash_param_ptr = &flash_param;
06530:  MOVLW  01
06532:  MOVLB  1
06534:  MOVWF  xBB
06536:  MOVLW  B1
06538:  MOVWF  xBA
....................    memcpy(flash_param_ptr->bytes, uplinkcmd_ptr, PARAMETER_LENGTH);
0653A:  MOVF   xBA,W
0653C:  MOVWF  01
0653E:  MOVF   xBB,W
06540:  MOVWF  03
06542:  MOVF   01,W
06544:  MOVLB  2
06546:  MOVWF  x0A
06548:  MOVFF  03,20B
0654C:  MOVFF  20B,FEA
06550:  MOVFF  20A,FE9
06554:  MOVFF  1B0,FE2
06558:  MOVFF  1AF,FE1
0655C:  MOVLW  09
0655E:  MOVWF  01
06560:  MOVLB  0
06562:  MOVFF  FE6,FEE
06566:  DECFSZ 01,F
06568:  GOTO   6562
....................    
....................    piclog_save(flash_param_ptr->fields.cmd, PICLOG_PARAM_START); // Log the command execution
0656C:  MOVLB  1
0656E:  MOVF   xBA,W
06570:  MOVWF  FE9
06572:  MOVF   xBB,W
06574:  MOVWF  FEA
06576:  MOVFF  FEF,20A
0657A:  MOVFF  20A,2C6
0657E:  MOVLB  2
06580:  CLRF   xC7
06582:  MOVLB  0
06584:  CALL   4EDC
....................    fprintf(PC, "\tAddress  : 0x%08LX\r\n", flash_param_ptr->fields.address);
06588:  MOVLW  01
0658A:  MOVLB  1
0658C:  ADDWF  xBA,W
0658E:  MOVWF  FE9
06590:  MOVLW  00
06592:  ADDWFC xBB,W
06594:  MOVWF  FEA
06596:  MOVFF  FEF,20A
0659A:  MOVFF  FEC,20B
0659E:  MOVFF  FEC,20C
065A2:  MOVFF  FEC,20D
065A6:  MOVF   FED,F
065A8:  MOVF   FED,F
065AA:  MOVF   FED,F
065AC:  MOVLW  3E
065AE:  MOVWF  FF6
065B0:  MOVLW  1C
065B2:  MOVWF  FF7
065B4:  MOVLW  00
065B6:  MOVWF  FF8
065B8:  MOVLW  0E
065BA:  MOVLB  A
065BC:  MOVWF  x4E
065BE:  MOVLB  0
065C0:  CALL   2104
065C4:  MOVFF  20D,9E8
065C8:  MOVLW  37
065CA:  MOVLB  9
065CC:  MOVWF  xE9
065CE:  MOVLB  0
065D0:  CALL   2334
065D4:  MOVFF  20C,9E8
065D8:  MOVLW  37
065DA:  MOVLB  9
065DC:  MOVWF  xE9
065DE:  MOVLB  0
065E0:  CALL   2334
065E4:  MOVFF  20B,9E8
065E8:  MOVLW  37
065EA:  MOVLB  9
065EC:  MOVWF  xE9
065EE:  MOVLB  0
065F0:  CALL   2334
065F4:  MOVFF  20A,9E8
065F8:  MOVLW  37
065FA:  MOVLB  9
065FC:  MOVWF  xE9
065FE:  MOVLB  0
06600:  CALL   2334
06604:  MOVLW  0D
06606:  BTFSS  FA6.6
06608:  GOTO   6606
0660C:  MOVLB  E
0660E:  MOVWF  xF9
06610:  MOVLW  0A
06612:  MOVLB  0
06614:  BTFSS  FA6.6
06616:  GOTO   6614
0661A:  MOVLB  E
0661C:  MOVWF  xF9
....................    fprintf(PC, "\tPacketNum: 0x%04LX\r\n", flash_param_ptr->fields.copy_packet_size);
0661E:  MOVLW  06
06620:  MOVLB  1
06622:  ADDWF  xBA,W
06624:  MOVWF  FE9
06626:  MOVLW  00
06628:  ADDWFC xBB,W
0662A:  MOVWF  FEA
0662C:  MOVFF  FEC,20B
06630:  MOVF   FED,F
06632:  MOVFF  FEF,20A
06636:  MOVLW  54
06638:  MOVWF  FF6
0663A:  MOVLW  1C
0663C:  MOVWF  FF7
0663E:  MOVLW  00
06640:  MOVWF  FF8
06642:  MOVLW  0E
06644:  MOVLB  A
06646:  MOVWF  x4E
06648:  MOVLB  0
0664A:  CALL   2104
0664E:  MOVFF  20B,9E8
06652:  MOVLW  37
06654:  MOVLB  9
06656:  MOVWF  xE9
06658:  MOVLB  0
0665A:  CALL   2334
0665E:  MOVFF  20A,9E8
06662:  MOVLW  37
06664:  MOVLB  9
06666:  MOVWF  xE9
06668:  MOVLB  0
0666A:  CALL   2334
0666E:  MOVLW  0D
06670:  BTFSS  FA6.6
06672:  GOTO   6670
06676:  MOVLB  E
06678:  MOVWF  xF9
0667A:  MOVLW  0A
0667C:  MOVLB  0
0667E:  BTFSS  FA6.6
06680:  GOTO   667E
06684:  MOVLB  E
06686:  MOVWF  xF9
.................... 
....................    
....................    unsigned int8 readdata[PACKET_SIZE] = {0x00}; // Initialize read data buffer
06688:  MOVLB  1
0668A:  CLRF   xBC
0668C:  CLRF   xBD
0668E:  CLRF   xBE
06690:  CLRF   xBF
06692:  CLRF   xC0
06694:  CLRF   xC1
06696:  CLRF   xC2
06698:  CLRF   xC3
0669A:  CLRF   xC4
0669C:  CLRF   xC5
0669E:  CLRF   xC6
066A0:  CLRF   xC7
066A2:  CLRF   xC8
066A4:  CLRF   xC9
066A6:  CLRF   xCA
066A8:  CLRF   xCB
066AA:  CLRF   xCC
066AC:  CLRF   xCD
066AE:  CLRF   xCE
066B0:  CLRF   xCF
066B2:  CLRF   xD0
066B4:  CLRF   xD1
066B6:  CLRF   xD2
066B8:  CLRF   xD3
066BA:  CLRF   xD4
066BC:  CLRF   xD5
066BE:  CLRF   xD6
066C0:  CLRF   xD7
066C2:  CLRF   xD8
066C4:  CLRF   xD9
066C6:  CLRF   xDA
066C8:  CLRF   xDB
066CA:  CLRF   xDC
066CC:  CLRF   xDD
066CE:  CLRF   xDE
066D0:  CLRF   xDF
066D2:  CLRF   xE0
066D4:  CLRF   xE1
066D6:  CLRF   xE2
066D8:  CLRF   xE3
066DA:  CLRF   xE4
066DC:  CLRF   xE5
066DE:  CLRF   xE6
066E0:  CLRF   xE7
066E2:  CLRF   xE8
066E4:  CLRF   xE9
066E6:  CLRF   xEA
066E8:  CLRF   xEB
066EA:  CLRF   xEC
066EC:  CLRF   xED
066EE:  CLRF   xEE
066F0:  CLRF   xEF
066F2:  CLRF   xF0
066F4:  CLRF   xF1
066F6:  CLRF   xF2
066F8:  CLRF   xF3
066FA:  CLRF   xF4
066FC:  CLRF   xF5
066FE:  CLRF   xF6
06700:  CLRF   xF7
06702:  CLRF   xF8
06704:  CLRF   xF9
06706:  CLRF   xFA
06708:  CLRF   xFB
....................    unsigned int32 read_address = flash_param_ptr->fields.address;
0670A:  MOVLW  01
0670C:  ADDWF  xBA,W
0670E:  MOVWF  FE9
06710:  MOVLW  00
06712:  ADDWFC xBB,W
06714:  MOVWF  FEA
06716:  MOVFF  FEF,1FC
0671A:  MOVFF  FEC,1FD
0671E:  MOVFF  FEC,1FE
06722:  MOVFF  FEC,1FF
06726:  MOVF   FED,F
06728:  MOVF   FED,F
0672A:  MOVF   FED,F
....................    fprintf(PC, "ADDRESS  :\r\n");
0672C:  MOVLW  6A
0672E:  MOVWF  FF6
06730:  MOVLW  1C
06732:  MOVWF  FF7
06734:  MOVLW  00
06736:  MOVWF  FF8
06738:  MOVLB  0
0673A:  CALL   20CE
.................... 
....................    if(is_connect(mis_fm) == FALSE) {
0673E:  MOVFF  115,253
06742:  MOVFF  114,252
06746:  MOVFF  113,251
0674A:  MOVFF  112,250
0674E:  CALL   2BF4
06752:  MOVF   01,F
06754:  BTFSS  FD8.2
06756:  GOTO   678A
....................       fprintf(PC, "Mission Flash is not connected\r\n");
0675A:  MOVLW  78
0675C:  MOVWF  FF6
0675E:  MOVLW  1C
06760:  MOVWF  FF7
06762:  MOVLW  00
06764:  MOVWF  FF8
06766:  CALL   20CE
....................       piclog_save(flash_param_ptr->fields.cmd, PICLOG_PARAM_END);
0676A:  MOVLB  1
0676C:  MOVF   xBA,W
0676E:  MOVWF  FE9
06770:  MOVF   xBB,W
06772:  MOVWF  FEA
06774:  MOVFF  FEF,20A
06778:  MOVFF  20A,2C6
0677C:  MOVLB  2
0677E:  SETF   xC7
06780:  MOVLB  0
06782:  CALL   4EDC
....................       return; // FIX: 接続失敗時終了
06786:  GOTO   6C9A
....................    }
.................... 
....................    for (unsigned int32 packetcount = 0; packetcount < flash_param_ptr->fields.copy_packet_size; packetcount++){
0678A:  MOVLB  2
0678C:  CLRF   x03
0678E:  CLRF   x02
06790:  CLRF   x01
06792:  CLRF   x00
06794:  MOVLB  0
06796:  MOVLW  06
06798:  MOVLB  1
0679A:  ADDWF  xBA,W
0679C:  MOVWF  FE9
0679E:  MOVLW  00
067A0:  ADDWFC xBB,W
067A2:  MOVWF  FEA
067A4:  MOVFF  FEC,03
067A8:  MOVF   FED,F
067AA:  MOVF   FEF,W
067AC:  MOVWF  01
067AE:  MOVLB  2
067B0:  MOVF   x03,F
067B2:  BTFSC  FD8.2
067B4:  BRA    67BC
067B6:  MOVLB  0
067B8:  GOTO   6C6E
067BC:  MOVLB  0
067BE:  MOVLB  2
067C0:  MOVF   x02,F
067C2:  BTFSC  FD8.2
067C4:  BRA    67CC
067C6:  MOVLB  0
067C8:  GOTO   6C6E
067CC:  MOVLB  0
067CE:  MOVLB  2
067D0:  MOVF   x01,W
067D2:  SUBWF  03,W
067D4:  BTFSC  FD8.0
067D6:  BRA    67DE
067D8:  MOVLB  0
067DA:  GOTO   6C6E
067DE:  MOVLB  0
067E0:  BTFSS  FD8.2
067E2:  GOTO   67F8
067E6:  MOVF   01,W
067E8:  MOVLB  2
067EA:  SUBWF  x00,W
067EC:  BTFSS  FD8.0
067EE:  BRA    67F6
067F0:  MOVLB  0
067F2:  GOTO   6C6E
067F6:  MOVLB  0
....................       read_address = flash_param_ptr->fields.address + packetcount * PACKET_SIZE;
067F8:  MOVLW  01
067FA:  MOVLB  1
067FC:  ADDWF  xBA,W
067FE:  MOVWF  FE9
06800:  MOVLW  00
06802:  ADDWFC xBB,W
06804:  MOVWF  FEA
06806:  MOVFF  FEF,20A
0680A:  MOVFF  FEC,20B
0680E:  MOVFF  FEC,20C
06812:  MOVFF  FEC,20D
06816:  MOVF   FED,F
06818:  MOVF   FED,F
0681A:  MOVF   FED,F
0681C:  MOVLB  2
0681E:  RLCF   x00,W
06820:  MOVWF  00
06822:  RLCF   x01,W
06824:  MOVWF  01
06826:  RLCF   x02,W
06828:  MOVWF  02
0682A:  RLCF   x03,W
0682C:  MOVWF  03
0682E:  RLCF   00,F
06830:  RLCF   01,F
06832:  RLCF   02,F
06834:  RLCF   03,F
06836:  RLCF   00,F
06838:  RLCF   01,F
0683A:  RLCF   02,F
0683C:  RLCF   03,F
0683E:  RLCF   00,F
06840:  RLCF   01,F
06842:  RLCF   02,F
06844:  RLCF   03,F
06846:  RLCF   00,F
06848:  RLCF   01,F
0684A:  RLCF   02,F
0684C:  RLCF   03,F
0684E:  RLCF   00,F
06850:  RLCF   01,F
06852:  RLCF   02,F
06854:  RLCF   03,F
06856:  MOVLW  C0
06858:  ANDWF  00,F
0685A:  MOVF   00,W
0685C:  ADDWF  x0A,W
0685E:  MOVLB  1
06860:  MOVWF  xFC
06862:  MOVF   01,W
06864:  MOVLB  2
06866:  ADDWFC x0B,W
06868:  MOVLB  1
0686A:  MOVWF  xFD
0686C:  MOVF   02,W
0686E:  MOVLB  2
06870:  ADDWFC x0C,W
06872:  MOVLB  1
06874:  MOVWF  xFE
06876:  MOVF   03,W
06878:  MOVLB  2
0687A:  ADDWFC x0D,W
0687C:  MOVLB  1
0687E:  MOVWF  xFF
....................       // fprintf(PC, "ADDRESS 0x%08LX DATA ",read_address);
....................       // 終端チェック
....................       if(read_address > MISF_END){
06880:  MOVF   xFF,F
06882:  BTFSC  FD8.2
06884:  BRA    688C
06886:  MOVLB  0
06888:  GOTO   68BA
0688C:  MOVLB  0
0688E:  MOVLB  1
06890:  MOVF   xFE,W
06892:  SUBLW  BB
06894:  BTFSS  FD8.0
06896:  BRA    689E
06898:  MOVLB  0
0689A:  GOTO   6982
0689E:  MOVLB  0
068A0:  XORLW  FF
068A2:  BTFSS  FD8.2
068A4:  GOTO   68BA
068A8:  MOVLB  1
068AA:  MOVF   xFD,W
068AC:  SUBLW  0F
068AE:  BTFSS  FD8.0
068B0:  BRA    68B8
068B2:  MOVLB  0
068B4:  GOTO   6982
068B8:  MOVLB  0
....................          fprintf(PC, "[FLASH] Read address 0x%08LX exceeds device end 0x%08LX -> stop\r\n", read_address, (unsigned int32)MISF_END);
068BA:  MOVLW  9A
068BC:  MOVWF  FF6
068BE:  MOVLW  1C
068C0:  MOVWF  FF7
068C2:  MOVLW  00
068C4:  MOVWF  FF8
068C6:  MOVLW  17
068C8:  MOVLB  A
068CA:  MOVWF  x4E
068CC:  MOVLB  0
068CE:  CALL   2104
068D2:  MOVFF  1FF,9E8
068D6:  MOVLW  37
068D8:  MOVLB  9
068DA:  MOVWF  xE9
068DC:  MOVLB  0
068DE:  CALL   2334
068E2:  MOVFF  1FE,9E8
068E6:  MOVLW  37
068E8:  MOVLB  9
068EA:  MOVWF  xE9
068EC:  MOVLB  0
068EE:  CALL   2334
068F2:  MOVFF  1FD,9E8
068F6:  MOVLW  37
068F8:  MOVLB  9
068FA:  MOVWF  xE9
068FC:  MOVLB  0
068FE:  CALL   2334
06902:  MOVFF  1FC,9E8
06906:  MOVLW  37
06908:  MOVLB  9
0690A:  MOVWF  xE9
0690C:  MOVLB  0
0690E:  CALL   2334
06912:  MOVLW  B6
06914:  MOVWF  FF6
06916:  MOVLW  1C
06918:  MOVWF  FF7
0691A:  MOVLW  00
0691C:  MOVWF  FF8
0691E:  MOVLW  16
06920:  MOVLB  A
06922:  MOVWF  x4E
06924:  MOVLB  0
06926:  CALL   2104
0692A:  MOVLB  9
0692C:  CLRF   xE8
0692E:  MOVLW  37
06930:  MOVWF  xE9
06932:  MOVLB  0
06934:  CALL   2334
06938:  MOVLW  BC
0693A:  MOVLB  9
0693C:  MOVWF  xE8
0693E:  MOVLW  37
06940:  MOVWF  xE9
06942:  MOVLB  0
06944:  CALL   2334
06948:  MOVLW  0F
0694A:  MOVLB  9
0694C:  MOVWF  xE8
0694E:  MOVLW  37
06950:  MOVWF  xE9
06952:  MOVLB  0
06954:  CALL   2334
06958:  MOVLB  9
0695A:  SETF   xE8
0695C:  MOVLW  37
0695E:  MOVWF  xE9
06960:  MOVLB  0
06962:  CALL   2334
06966:  MOVLW  D1
06968:  MOVWF  FF6
0696A:  MOVLW  1C
0696C:  MOVWF  FF7
0696E:  MOVLW  00
06970:  MOVWF  FF8
06972:  MOVLW  0A
06974:  MOVLB  A
06976:  MOVWF  x4E
06978:  MOVLB  0
0697A:  CALL   2104
....................          break;
0697E:  GOTO   6C6E
....................       }
....................       if(read_address + (PACKET_SIZE - 1) > MISF_END){
06982:  MOVLW  3F
06984:  MOVLB  1
06986:  ADDWF  xFC,W
06988:  MOVLB  2
0698A:  MOVWF  x0A
0698C:  MOVLW  00
0698E:  MOVLB  1
06990:  ADDWFC xFD,W
06992:  MOVLB  2
06994:  MOVWF  x0B
06996:  MOVLW  00
06998:  MOVLB  1
0699A:  ADDWFC xFE,W
0699C:  MOVLB  2
0699E:  MOVWF  x0C
069A0:  MOVLW  00
069A2:  MOVLB  1
069A4:  ADDWFC xFF,W
069A6:  MOVLB  2
069A8:  MOVWF  x0D
069AA:  MOVF   x0D,F
069AC:  BTFSC  FD8.2
069AE:  BRA    69B6
069B0:  MOVLB  0
069B2:  GOTO   69E4
069B6:  MOVLB  0
069B8:  MOVLB  2
069BA:  MOVF   x0C,W
069BC:  SUBLW  BB
069BE:  BTFSS  FD8.0
069C0:  BRA    69C8
069C2:  MOVLB  0
069C4:  GOTO   6B54
069C8:  MOVLB  0
069CA:  XORLW  FF
069CC:  BTFSS  FD8.2
069CE:  GOTO   69E4
069D2:  MOVLB  2
069D4:  MOVF   x0B,W
069D6:  SUBLW  0F
069D8:  BTFSS  FD8.0
069DA:  BRA    69E2
069DC:  MOVLB  0
069DE:  GOTO   6B54
069E2:  MOVLB  0
....................          unsigned int32 remain = (MISF_END - read_address) + 1;
069E4:  MOVLW  FF
069E6:  BSF    FD8.0
069E8:  MOVLB  1
069EA:  SUBFWB xFC,W
069EC:  MOVLB  2
069EE:  MOVWF  x0A
069F0:  MOVLW  0F
069F2:  MOVLB  1
069F4:  SUBFWB xFD,W
069F6:  MOVLB  2
069F8:  MOVWF  x0B
069FA:  MOVLW  BC
069FC:  MOVLB  1
069FE:  SUBFWB xFE,W
06A00:  MOVLB  2
06A02:  MOVWF  x0C
06A04:  MOVLW  00
06A06:  MOVLB  1
06A08:  SUBFWB xFF,W
06A0A:  MOVLB  2
06A0C:  MOVWF  x0D
06A0E:  MOVLW  01
06A10:  ADDWF  x0A,W
06A12:  MOVWF  x04
06A14:  MOVLW  00
06A16:  ADDWFC x0B,W
06A18:  MOVWF  x05
06A1A:  MOVLW  00
06A1C:  ADDWFC x0C,W
06A1E:  MOVWF  x06
06A20:  MOVLW  00
06A22:  ADDWFC x0D,W
06A24:  MOVWF  x07
06A26:  MOVLB  0
....................          fprintf(PC, "[FLASH] End reached. Partial read %lu bytes.\r\n", remain);
06A28:  MOVLW  DC
06A2A:  MOVWF  FF6
06A2C:  MOVLW  1C
06A2E:  MOVWF  FF7
06A30:  MOVLW  00
06A32:  MOVWF  FF8
06A34:  MOVLW  22
06A36:  MOVLB  A
06A38:  MOVWF  x4E
06A3A:  MOVLB  0
06A3C:  CALL   2104
06A40:  MOVLW  41
06A42:  MOVWF  FE9
06A44:  MOVFF  207,20D
06A48:  MOVFF  206,20C
06A4C:  MOVFF  205,20B
06A50:  MOVFF  204,20A
06A54:  CALL   641A
06A58:  MOVLW  01
06A5A:  MOVWF  FF6
06A5C:  MOVLW  1D
06A5E:  MOVWF  FF7
06A60:  MOVLW  00
06A62:  MOVWF  FF8
06A64:  MOVLW  09
06A66:  MOVLB  A
06A68:  MOVWF  x4E
06A6A:  MOVLB  0
06A6C:  CALL   2104
....................          read_data_bytes(mis_fm, read_address, readdata, remain);
06A70:  MOVFF  115,AEE
06A74:  MOVFF  114,AED
06A78:  MOVFF  113,AEC
06A7C:  MOVFF  112,AEB
06A80:  MOVFF  1FF,AF2
06A84:  MOVFF  1FE,AF1
06A88:  MOVFF  1FD,AF0
06A8C:  MOVFF  1FC,AEF
06A90:  MOVLW  01
06A92:  MOVLB  A
06A94:  MOVWF  xF4
06A96:  MOVLW  BC
06A98:  MOVWF  xF3
06A9A:  MOVFF  207,AF8
06A9E:  MOVFF  206,AF7
06AA2:  MOVFF  205,AF6
06AA6:  MOVFF  204,AF5
06AAA:  MOVLB  0
06AAC:  CALL   2CBC
....................          for (unsigned int8 bytecount = 0; bytecount < remain; bytecount++)
06AB0:  MOVLB  2
06AB2:  CLRF   x08
06AB4:  MOVLB  0
06AB6:  MOVLB  2
06AB8:  MOVF   x07,F
06ABA:  BTFSC  FD8.2
06ABC:  BRA    6AC4
06ABE:  MOVLB  0
06AC0:  GOTO   6AF8
06AC4:  MOVLB  0
06AC6:  MOVLB  2
06AC8:  MOVF   x06,F
06ACA:  BTFSC  FD8.2
06ACC:  BRA    6AD4
06ACE:  MOVLB  0
06AD0:  GOTO   6AF8
06AD4:  MOVLB  0
06AD6:  MOVLB  2
06AD8:  MOVF   x05,F
06ADA:  BTFSC  FD8.2
06ADC:  BRA    6AE4
06ADE:  MOVLB  0
06AE0:  GOTO   6AF8
06AE4:  MOVLB  0
06AE6:  MOVLB  2
06AE8:  MOVF   x04,W
06AEA:  SUBWF  x08,W
06AEC:  BTFSS  FD8.0
06AEE:  BRA    6AF6
06AF0:  MOVLB  0
06AF2:  GOTO   6B34
06AF6:  MOVLB  0
....................             fprintf(PC, "%02X ", readdata[bytecount]);
06AF8:  CLRF   03
06AFA:  MOVLB  2
06AFC:  MOVF   x08,W
06AFE:  ADDLW  BC
06B00:  MOVWF  FE9
06B02:  MOVLW  01
06B04:  ADDWFC 03,W
06B06:  MOVWF  FEA
06B08:  MOVFF  FEF,20A
06B0C:  MOVFF  20A,9E8
06B10:  MOVLW  37
06B12:  MOVLB  9
06B14:  MOVWF  xE9
06B16:  MOVLB  0
06B18:  CALL   2334
06B1C:  MOVLW  20
06B1E:  BTFSS  FA6.6
06B20:  GOTO   6B1E
06B24:  MOVLB  E
06B26:  MOVWF  xF9
06B28:  MOVLB  0
06B2A:  MOVLB  2
06B2C:  INCF   x08,F
06B2E:  MOVLB  0
06B30:  GOTO   6AB6
....................          fprintf(PC, "\r\n");
06B34:  MOVLW  0D
06B36:  BTFSS  FA6.6
06B38:  GOTO   6B36
06B3C:  MOVLB  E
06B3E:  MOVWF  xF9
06B40:  MOVLW  0A
06B42:  MOVLB  0
06B44:  BTFSS  FA6.6
06B46:  GOTO   6B44
06B4A:  MOVLB  E
06B4C:  MOVWF  xF9
....................          break;
06B4E:  MOVLB  0
06B50:  GOTO   6C6E
....................       }
....................       read_data_bytes(mis_fm, read_address, readdata, PACKET_SIZE);
06B54:  MOVFF  115,AEE
06B58:  MOVFF  114,AED
06B5C:  MOVFF  113,AEC
06B60:  MOVFF  112,AEB
06B64:  MOVFF  1FF,AF2
06B68:  MOVFF  1FE,AF1
06B6C:  MOVFF  1FD,AF0
06B70:  MOVFF  1FC,AEF
06B74:  MOVLW  01
06B76:  MOVLB  A
06B78:  MOVWF  xF4
06B7A:  MOVLW  BC
06B7C:  MOVWF  xF3
06B7E:  CLRF   xF8
06B80:  CLRF   xF7
06B82:  CLRF   xF6
06B84:  MOVLW  40
06B86:  MOVWF  xF5
06B88:  MOVLB  0
06B8A:  CALL   2CBC
....................       fprintf(PC, "%08LX : ",read_address);
06B8E:  MOVFF  1FF,9E8
06B92:  MOVLW  37
06B94:  MOVLB  9
06B96:  MOVWF  xE9
06B98:  MOVLB  0
06B9A:  CALL   2334
06B9E:  MOVFF  1FE,9E8
06BA2:  MOVLW  37
06BA4:  MOVLB  9
06BA6:  MOVWF  xE9
06BA8:  MOVLB  0
06BAA:  CALL   2334
06BAE:  MOVFF  1FD,9E8
06BB2:  MOVLW  37
06BB4:  MOVLB  9
06BB6:  MOVWF  xE9
06BB8:  MOVLB  0
06BBA:  CALL   2334
06BBE:  MOVFF  1FC,9E8
06BC2:  MOVLW  37
06BC4:  MOVLB  9
06BC6:  MOVWF  xE9
06BC8:  MOVLB  0
06BCA:  CALL   2334
06BCE:  MOVLW  11
06BD0:  MOVWF  FF6
06BD2:  MOVLW  1D
06BD4:  MOVWF  FF7
06BD6:  MOVLW  00
06BD8:  MOVWF  FF8
06BDA:  MOVLW  03
06BDC:  MOVLB  A
06BDE:  MOVWF  x4E
06BE0:  MOVLB  0
06BE2:  CALL   2104
....................       for (unsigned int8 bytecount = 0; bytecount < PACKET_SIZE; bytecount++){
06BE6:  MOVLB  2
06BE8:  CLRF   x09
06BEA:  MOVLB  0
06BEC:  MOVLB  2
06BEE:  MOVF   x09,W
06BF0:  SUBLW  3F
06BF2:  BTFSC  FD8.0
06BF4:  BRA    6BFC
06BF6:  MOVLB  0
06BF8:  GOTO   6C3A
06BFC:  MOVLB  0
....................          fprintf(PC,"%02X ",readdata[bytecount]);
06BFE:  CLRF   03
06C00:  MOVLB  2
06C02:  MOVF   x09,W
06C04:  ADDLW  BC
06C06:  MOVWF  FE9
06C08:  MOVLW  01
06C0A:  ADDWFC 03,W
06C0C:  MOVWF  FEA
06C0E:  MOVFF  FEF,20A
06C12:  MOVFF  20A,9E8
06C16:  MOVLW  37
06C18:  MOVLB  9
06C1A:  MOVWF  xE9
06C1C:  MOVLB  0
06C1E:  CALL   2334
06C22:  MOVLW  20
06C24:  BTFSS  FA6.6
06C26:  GOTO   6C24
06C2A:  MOVLB  E
06C2C:  MOVWF  xF9
06C2E:  MOVLB  0
06C30:  MOVLB  2
06C32:  INCF   x09,F
06C34:  MOVLB  0
06C36:  GOTO   6BEC
....................       }
....................       fprintf(PC,"\r\n");
06C3A:  MOVLW  0D
06C3C:  BTFSS  FA6.6
06C3E:  GOTO   6C3C
06C42:  MOVLB  E
06C44:  MOVWF  xF9
06C46:  MOVLW  0A
06C48:  MOVLB  0
06C4A:  BTFSS  FA6.6
06C4C:  GOTO   6C4A
06C50:  MOVLB  E
06C52:  MOVWF  xF9
06C54:  MOVLB  0
06C56:  MOVLW  01
06C58:  MOVLB  2
06C5A:  ADDWF  x00,F
06C5C:  BTFSC  FD8.0
06C5E:  INCF   x01,F
06C60:  BTFSC  FD8.2
06C62:  INCF   x02,F
06C64:  BTFSC  FD8.2
06C66:  INCF   x03,F
06C68:  MOVLB  0
06C6A:  GOTO   6796
....................    }
....................    piclog_save(flash_param_ptr->fields.cmd, PICLOG_PARAM_END); // Log the end of the command execution
06C6E:  MOVLB  1
06C70:  MOVF   xBA,W
06C72:  MOVWF  FE9
06C74:  MOVF   xBB,W
06C76:  MOVWF  FEA
06C78:  MOVFF  FEF,20A
06C7C:  MOVFF  20A,2C6
06C80:  MOVLB  2
06C82:  SETF   xC7
06C84:  MOVLB  0
06C86:  CALL   4EDC
....................    fprintf(PC, "End Flash Read\r\n");
06C8A:  MOVLW  16
06C8C:  MOVWF  FF6
06C8E:  MOVLW  1D
06C90:  MOVWF  FF7
06C92:  MOVLW  00
06C94:  MOVWF  FF8
06C96:  CALL   20CE
06C9A:  GOTO   F86A (RETURN)
.................... }
.................... 
.................... 
.................... void mode_misf_erase_and_reset(unsigned int8 *uplinkcmd_ptr)
.................... {
....................    fprintf(PC, "Start Flash Erase and Reset\r\n");
*
06E92:  MOVLW  28
06E94:  MOVWF  FF6
06E96:  MOVLW  1D
06E98:  MOVWF  FF7
06E9A:  MOVLW  00
06E9C:  MOVWF  FF8
06E9E:  CALL   20CE
....................    piclog_save(uplinkcmd_ptr[0], PICLOG_PARAM_START); // Log the command execution
06EA2:  MOVLB  1
06EA4:  MOVF   xC8,W
06EA6:  MOVWF  FE9
06EA8:  MOVF   xC9,W
06EAA:  MOVWF  FEA
06EAC:  MOVFF  FEF,1CA
06EB0:  MOVFF  1CA,2C6
06EB4:  MOVLB  2
06EB6:  CLRF   xC7
06EB8:  MOVLB  0
06EBA:  CALL   4EDC
.................... 
....................    mode_misf_erase_all(uplinkcmd_ptr); // Erase all flash memory
06EBE:  MOVFF  1C9,1CB
06EC2:  MOVFF  1C8,1CA
06EC6:  CALL   5A66
....................    mode_misf_address_reset(uplinkcmd_ptr); // Reset the address area
06ECA:  MOVFF  1C9,1CB
06ECE:  MOVFF  1C8,1CA
06ED2:  GOTO   6C9E
.................... 
....................    fprintf(PC, "End Flash Erase and Reset\r\n");
06ED6:  MOVLW  46
06ED8:  MOVWF  FF6
06EDA:  MOVLW  1D
06EDC:  MOVWF  FF7
06EDE:  MOVLW  00
06EE0:  MOVWF  FF8
06EE2:  CALL   20CE
06EE6:  RETURN 0
.................... }
.................... 
.................... 
.................... // ========================== SMF Command ============================
.................... void mode_smf_copy(unsigned int8 *parameter)
.................... {
....................    fprintf(PC, "Start Flash SMF Copy\r\n");
06EE8:  MOVLW  62
06EEA:  MOVWF  FF6
06EEC:  MOVLW  1D
06EEE:  MOVWF  FF7
06EF0:  MOVLW  00
06EF2:  MOVWF  FF8
06EF4:  CALL   20CE
....................    flash_mode_param_t param;
....................    flash_mode_param_t *param_ptr = &param;
06EF8:  MOVLW  01
06EFA:  MOVLB  1
06EFC:  MOVWF  xBB
06EFE:  MOVLW  B1
06F00:  MOVWF  xBA
....................    memcpy(param_ptr->bytes, parameter, PARAMETER_LENGTH);
06F02:  MOVF   xBA,W
06F04:  MOVWF  01
06F06:  MOVF   xBB,W
06F08:  MOVWF  03
06F0A:  MOVF   01,W
06F0C:  MOVLB  2
06F0E:  MOVWF  xC5
06F10:  MOVFF  03,2C6
06F14:  MOVFF  2C6,FEA
06F18:  MOVFF  2C5,FE9
06F1C:  MOVFF  1B0,FE2
06F20:  MOVFF  1AF,FE1
06F24:  MOVLW  09
06F26:  MOVWF  01
06F28:  MOVLB  0
06F2A:  MOVFF  FE6,FEE
06F2E:  DECFSZ 01,F
06F30:  GOTO   6F2A
....................    piclog_save(param_ptr->fields.cmd, PICLOG_PARAM_START); // Log the command execution
06F34:  MOVLB  1
06F36:  MOVF   xBA,W
06F38:  MOVWF  FE9
06F3A:  MOVF   xBB,W
06F3C:  MOVWF  FEA
06F3E:  MOVFF  FEF,2C5
06F42:  MOVFF  2C5,2C6
06F46:  MOVLB  2
06F48:  CLRF   xC7
06F4A:  MOVLB  0
06F4C:  CALL   4EDC
.................... 
....................    // パラメータ表示
....................    fprintf(PC, "\tAddress  : 0x%08LX\r\n", param_ptr->fields.address);
06F50:  MOVLW  01
06F52:  MOVLB  1
06F54:  ADDWF  xBA,W
06F56:  MOVWF  FE9
06F58:  MOVLW  00
06F5A:  ADDWFC xBB,W
06F5C:  MOVWF  FEA
06F5E:  MOVFF  FEF,2C5
06F62:  MOVFF  FEC,2C6
06F66:  MOVFF  FEC,2C7
06F6A:  MOVFF  FEC,2C8
06F6E:  MOVF   FED,F
06F70:  MOVF   FED,F
06F72:  MOVF   FED,F
06F74:  MOVLW  7A
06F76:  MOVWF  FF6
06F78:  MOVLW  1D
06F7A:  MOVWF  FF7
06F7C:  MOVLW  00
06F7E:  MOVWF  FF8
06F80:  MOVLW  0E
06F82:  MOVLB  A
06F84:  MOVWF  x4E
06F86:  MOVLB  0
06F88:  CALL   2104
06F8C:  MOVFF  2C8,9E8
06F90:  MOVLW  37
06F92:  MOVLB  9
06F94:  MOVWF  xE9
06F96:  MOVLB  0
06F98:  CALL   2334
06F9C:  MOVFF  2C7,9E8
06FA0:  MOVLW  37
06FA2:  MOVLB  9
06FA4:  MOVWF  xE9
06FA6:  MOVLB  0
06FA8:  CALL   2334
06FAC:  MOVFF  2C6,9E8
06FB0:  MOVLW  37
06FB2:  MOVLB  9
06FB4:  MOVWF  xE9
06FB6:  MOVLB  0
06FB8:  CALL   2334
06FBC:  MOVFF  2C5,9E8
06FC0:  MOVLW  37
06FC2:  MOVLB  9
06FC4:  MOVWF  xE9
06FC6:  MOVLB  0
06FC8:  CALL   2334
06FCC:  MOVLW  0D
06FCE:  BTFSS  FA6.6
06FD0:  GOTO   6FCE
06FD4:  MOVLB  E
06FD6:  MOVWF  xF9
06FD8:  MOVLW  0A
06FDA:  MOVLB  0
06FDC:  BTFSS  FA6.6
06FDE:  GOTO   6FDC
06FE2:  MOVLB  E
06FE4:  MOVWF  xF9
....................    fprintf(PC, "\tPacketNum: 0x%04LX\r\n", param_ptr->fields.copy_packet_size);
06FE6:  MOVLW  06
06FE8:  MOVLB  1
06FEA:  ADDWF  xBA,W
06FEC:  MOVWF  FE9
06FEE:  MOVLW  00
06FF0:  ADDWFC xBB,W
06FF2:  MOVWF  FEA
06FF4:  MOVFF  FEC,2C6
06FF8:  MOVF   FED,F
06FFA:  MOVFF  FEF,2C5
06FFE:  MOVLW  90
07000:  MOVWF  FF6
07002:  MOVLW  1D
07004:  MOVWF  FF7
07006:  MOVLW  00
07008:  MOVWF  FF8
0700A:  MOVLW  0E
0700C:  MOVLB  A
0700E:  MOVWF  x4E
07010:  MOVLB  0
07012:  CALL   2104
07016:  MOVFF  2C6,9E8
0701A:  MOVLW  37
0701C:  MOVLB  9
0701E:  MOVWF  xE9
07020:  MOVLB  0
07022:  CALL   2334
07026:  MOVFF  2C5,9E8
0702A:  MOVLW  37
0702C:  MOVLB  9
0702E:  MOVWF  xE9
07030:  MOVLB  0
07032:  CALL   2334
07036:  MOVLW  0D
07038:  BTFSS  FA6.6
0703A:  GOTO   7038
0703E:  MOVLB  E
07040:  MOVWF  xF9
07042:  MOVLW  0A
07044:  MOVLB  0
07046:  BTFSS  FA6.6
07048:  GOTO   7046
0704C:  MOVLB  E
0704E:  MOVWF  xF9
.................... 
....................    // 
....................    int8 mission_id = parameter[0];
....................    
....................    // 未コピーデータの自動転送をキューに追加
....................    //enqueue_auto_transfer(mission_id);
....................    
....................    // Example copy operation with integration system
....................    int32 src_address = 0x00000000;
....................    int32 dest_address = 0x00001000; // Example destination address
....................    int8 read_data[256];
07050:  MOVLB  1
07052:  MOVF   xAF,W
07054:  MOVWF  FE9
07056:  MOVF   xB0,W
07058:  MOVWF  FEA
0705A:  MOVFF  FEF,1BC
0705E:  CLRF   xC0
07060:  CLRF   xBF
07062:  CLRF   xBE
07064:  CLRF   xBD
07066:  CLRF   xC4
07068:  CLRF   xC3
0706A:  MOVLW  10
0706C:  MOVWF  xC2
0706E:  CLRF   xC1
....................    read_data_bytes(mis_fm, src_address, read_data, 256);
07070:  MOVFF  115,AEE
07074:  MOVFF  114,AED
07078:  MOVFF  113,AEC
0707C:  MOVFF  112,AEB
07080:  MOVFF  1C0,AF2
07084:  MOVFF  1BF,AF1
07088:  MOVFF  1BE,AF0
0708C:  MOVFF  1BD,AEF
07090:  MOVLW  01
07092:  MOVLB  A
07094:  MOVWF  xF4
07096:  MOVLW  C5
07098:  MOVWF  xF3
0709A:  CLRF   xF8
0709C:  CLRF   xF7
0709E:  MOVLW  01
070A0:  MOVWF  xF6
070A2:  CLRF   xF5
070A4:  MOVLB  0
070A6:  CALL   2CBC
....................    write_data_bytes(smf, dest_address, read_data, 256);
070AA:  MOVFF  119,AEE
070AE:  MOVFF  118,AED
070B2:  MOVFF  117,AEC
070B6:  MOVFF  116,AEB
070BA:  MOVFF  1C4,AF2
070BE:  MOVFF  1C3,AF1
070C2:  MOVFF  1C2,AF0
070C6:  MOVFF  1C1,AEF
070CA:  MOVLW  01
070CC:  MOVLB  A
070CE:  MOVWF  xF4
070D0:  MOVLW  C5
070D2:  MOVWF  xF3
070D4:  MOVLW  01
070D6:  MOVWF  xF6
070D8:  CLRF   xF5
070DA:  MOVLB  0
070DC:  CALL   3D26
....................    
....................    // 転送完了後のカウンタ更新
....................    //complete_transfer_and_update_counter(mission_id, 256);
....................    
....................    printf("End Flash SMF Copy\r\n");
070E0:  MOVLW  A6
070E2:  MOVWF  FF6
070E4:  MOVLW  1D
070E6:  MOVWF  FF7
070E8:  MOVLW  00
070EA:  MOVWF  FF8
070EC:  CALL   20CE
070F0:  GOTO   F88A (RETURN)
.................... }
.................... 
.................... 
.................... void mode_smf_read(unsigned int8 parameter[])
.................... {
....................    fprintf(PC, "Start Flash SMF Read\r\n");
070F4:  MOVLW  BC
070F6:  MOVWF  FF6
070F8:  MOVLW  1D
070FA:  MOVWF  FF7
070FC:  MOVLW  00
070FE:  MOVWF  FF8
07100:  CALL   20CE
....................    unsigned int32 read_address = 
....................       ((unsigned int32)parameter[1] << 24) |
....................       ((unsigned int32)parameter[2] << 16) |
....................       ((unsigned int32)parameter[3] << 8)  |
....................       ((unsigned int32)parameter[4]);
....................    unsigned int16 read_packetnum = 
....................       ((unsigned int16)parameter[6] << 8) |
....................       ((unsigned int16)parameter[7]);
....................    
....................    unsigned int8 read_data[PACKET_SIZE];
07104:  MOVLW  01
07106:  MOVLB  1
07108:  ADDWF  xAF,W
0710A:  MOVWF  FE9
0710C:  MOVLW  00
0710E:  ADDWFC xB0,W
07110:  MOVWF  FEA
07112:  MOVF   FEF,W
07114:  CLRF   xFB
07116:  CLRF   xFA
07118:  CLRF   xF9
0711A:  MOVWF  xF8
0711C:  MOVFF  1F8,1FB
07120:  CLRF   xF8
07122:  CLRF   xF9
07124:  CLRF   xFA
07126:  MOVLW  02
07128:  ADDWF  xAF,W
0712A:  MOVWF  FE9
0712C:  MOVLW  00
0712E:  ADDWFC xB0,W
07130:  MOVWF  FEA
07132:  MOVF   FEF,W
07134:  MOVLB  2
07136:  CLRF   x00
07138:  MOVLB  1
0713A:  CLRF   xFF
0713C:  CLRF   xFE
0713E:  MOVWF  xFD
07140:  MOVFF  1FE,03
07144:  MOVFF  1FD,02
07148:  CLRF   00
0714A:  CLRF   01
0714C:  MOVF   00,W
0714E:  IORWF  xF8,F
07150:  MOVF   01,W
07152:  IORWF  xF9,F
07154:  MOVF   02,W
07156:  IORWF  xFA,F
07158:  MOVF   03,W
0715A:  IORWF  xFB,F
0715C:  MOVLW  03
0715E:  ADDWF  xAF,W
07160:  MOVWF  FE9
07162:  MOVLW  00
07164:  ADDWFC xB0,W
07166:  MOVWF  FEA
07168:  MOVF   FEF,W
0716A:  MOVLB  2
0716C:  CLRF   x00
0716E:  MOVLB  1
07170:  CLRF   xFF
07172:  CLRF   xFE
07174:  MOVWF  xFD
07176:  MOVFF  1FF,03
0717A:  MOVFF  1FE,02
0717E:  MOVFF  1FD,01
07182:  CLRF   00
07184:  MOVF   00,W
07186:  IORWF  xF8,F
07188:  MOVF   01,W
0718A:  IORWF  xF9,F
0718C:  MOVF   02,W
0718E:  IORWF  xFA,F
07190:  MOVF   03,W
07192:  IORWF  xFB,F
07194:  MOVLW  04
07196:  ADDWF  xAF,W
07198:  MOVWF  FE9
0719A:  MOVLW  00
0719C:  ADDWFC xB0,W
0719E:  MOVWF  FEA
071A0:  MOVF   FEF,W
071A2:  MOVWF  00
071A4:  CLRF   01
071A6:  CLRF   02
071A8:  CLRF   03
071AA:  MOVF   00,W
071AC:  IORWF  xF8,W
071AE:  MOVWF  xB1
071B0:  MOVF   01,W
071B2:  IORWF  xF9,W
071B4:  MOVWF  xB2
071B6:  MOVF   02,W
071B8:  IORWF  xFA,W
071BA:  MOVWF  xB3
071BC:  MOVF   03,W
071BE:  IORWF  xFB,W
071C0:  MOVWF  xB4
071C2:  MOVLW  06
071C4:  ADDWF  xAF,W
071C6:  MOVWF  FE9
071C8:  MOVLW  00
071CA:  ADDWFC xB0,W
071CC:  MOVWF  FEA
071CE:  MOVF   FEF,W
071D0:  CLRF   xF9
071D2:  MOVWF  xF8
071D4:  MOVFF  1F8,1F9
071D8:  CLRF   xF8
071DA:  MOVLW  07
071DC:  ADDWF  xAF,W
071DE:  MOVWF  FE9
071E0:  MOVLW  00
071E2:  ADDWFC xB0,W
071E4:  MOVWF  FEA
071E6:  MOVF   FEF,W
071E8:  CLRF   03
071EA:  IORWF  xF8,W
071EC:  MOVWF  xB5
071EE:  MOVF   03,W
071F0:  IORWF  xF9,W
071F2:  MOVWF  xB6
.................... 
....................    fprintf(PC, "\tAddress  : 0x%08LX\r\n", read_address);
071F4:  MOVLW  D4
071F6:  MOVWF  FF6
071F8:  MOVLW  1D
071FA:  MOVWF  FF7
071FC:  MOVLW  00
071FE:  MOVWF  FF8
07200:  MOVLW  0E
07202:  MOVLB  A
07204:  MOVWF  x4E
07206:  MOVLB  0
07208:  CALL   2104
0720C:  MOVFF  1B4,9E8
07210:  MOVLW  37
07212:  MOVLB  9
07214:  MOVWF  xE9
07216:  MOVLB  0
07218:  CALL   2334
0721C:  MOVFF  1B3,9E8
07220:  MOVLW  37
07222:  MOVLB  9
07224:  MOVWF  xE9
07226:  MOVLB  0
07228:  CALL   2334
0722C:  MOVFF  1B2,9E8
07230:  MOVLW  37
07232:  MOVLB  9
07234:  MOVWF  xE9
07236:  MOVLB  0
07238:  CALL   2334
0723C:  MOVFF  1B1,9E8
07240:  MOVLW  37
07242:  MOVLB  9
07244:  MOVWF  xE9
07246:  MOVLB  0
07248:  CALL   2334
0724C:  MOVLW  0D
0724E:  BTFSS  FA6.6
07250:  GOTO   724E
07254:  MOVLB  E
07256:  MOVWF  xF9
07258:  MOVLW  0A
0725A:  MOVLB  0
0725C:  BTFSS  FA6.6
0725E:  GOTO   725C
07262:  MOVLB  E
07264:  MOVWF  xF9
....................    fprintf(PC, "\tPacketNum: 0x%04LX\r\n", read_packetnum);
07266:  MOVLW  EA
07268:  MOVWF  FF6
0726A:  MOVLW  1D
0726C:  MOVWF  FF7
0726E:  MOVLW  00
07270:  MOVWF  FF8
07272:  MOVLW  0E
07274:  MOVLB  A
07276:  MOVWF  x4E
07278:  MOVLB  0
0727A:  CALL   2104
0727E:  MOVFF  1B6,9E8
07282:  MOVLW  37
07284:  MOVLB  9
07286:  MOVWF  xE9
07288:  MOVLB  0
0728A:  CALL   2334
0728E:  MOVFF  1B5,9E8
07292:  MOVLW  37
07294:  MOVLB  9
07296:  MOVWF  xE9
07298:  MOVLB  0
0729A:  CALL   2334
0729E:  MOVLW  0D
072A0:  BTFSS  FA6.6
072A2:  GOTO   72A0
072A6:  MOVLB  E
072A8:  MOVWF  xF9
072AA:  MOVLW  0A
072AC:  MOVLB  0
072AE:  BTFSS  FA6.6
072B0:  GOTO   72AE
072B4:  MOVLB  E
072B6:  MOVWF  xF9
....................    fprintf(PC, "Read Data\r\n");
072B8:  MOVLW  00
072BA:  MOVWF  FF6
072BC:  MOVLW  1E
072BE:  MOVWF  FF7
072C0:  MOVLW  00
072C2:  MOVWF  FF8
072C4:  MOVLB  0
072C6:  CALL   20CE
.................... 
....................    while (read_packetnum > 0) {
072CA:  MOVLB  1
072CC:  MOVF   xB5,F
072CE:  BTFSC  FD8.2
072D0:  BRA    72D8
072D2:  MOVLB  0
072D4:  GOTO   72EA
072D8:  MOVLB  0
072DA:  MOVLB  1
072DC:  MOVF   xB6,F
072DE:  BTFSS  FD8.2
072E0:  BRA    72E8
072E2:  MOVLB  0
072E4:  GOTO   73B2
072E8:  MOVLB  0
....................       read_data_bytes(smf, read_address, read_data, PACKET_SIZE);
072EA:  MOVFF  119,AEE
072EE:  MOVFF  118,AED
072F2:  MOVFF  117,AEC
072F6:  MOVFF  116,AEB
072FA:  MOVFF  1B4,AF2
072FE:  MOVFF  1B3,AF1
07302:  MOVFF  1B2,AF0
07306:  MOVFF  1B1,AEF
0730A:  MOVLW  01
0730C:  MOVLB  A
0730E:  MOVWF  xF4
07310:  MOVLW  B7
07312:  MOVWF  xF3
07314:  CLRF   xF8
07316:  CLRF   xF7
07318:  CLRF   xF6
0731A:  MOVLW  40
0731C:  MOVWF  xF5
0731E:  MOVLB  0
07320:  CALL   2CBC
.................... 
....................       for (int i = 0; i < PACKET_SIZE; i++) {
07324:  MOVLB  1
07326:  CLRF   xF7
07328:  MOVLB  0
0732A:  MOVLB  1
0732C:  MOVF   xF7,W
0732E:  SUBLW  3F
07330:  BTFSC  FD8.0
07332:  BRA    733A
07334:  MOVLB  0
07336:  GOTO   7378
0733A:  MOVLB  0
....................          fprintf(PC, "%02X ", read_data[i]);
0733C:  CLRF   03
0733E:  MOVLB  1
07340:  MOVF   xF7,W
07342:  ADDLW  B7
07344:  MOVWF  FE9
07346:  MOVLW  01
07348:  ADDWFC 03,W
0734A:  MOVWF  FEA
0734C:  MOVFF  FEF,1F8
07350:  MOVFF  1F8,9E8
07354:  MOVLW  37
07356:  MOVLB  9
07358:  MOVWF  xE9
0735A:  MOVLB  0
0735C:  CALL   2334
07360:  MOVLW  20
07362:  BTFSS  FA6.6
07364:  GOTO   7362
07368:  MOVLB  E
0736A:  MOVWF  xF9
0736C:  MOVLB  0
0736E:  MOVLB  1
07370:  INCF   xF7,F
07372:  MOVLB  0
07374:  GOTO   732A
....................       }
....................       fprintf(PC, "\r\n");
07378:  MOVLW  0D
0737A:  BTFSS  FA6.6
0737C:  GOTO   737A
07380:  MOVLB  E
07382:  MOVWF  xF9
07384:  MOVLW  0A
07386:  MOVLB  0
07388:  BTFSS  FA6.6
0738A:  GOTO   7388
0738E:  MOVLB  E
07390:  MOVWF  xF9
....................       read_address += PACKET_SIZE;
07392:  MOVLW  40
07394:  MOVLB  1
07396:  ADDWF  xB1,F
07398:  MOVLW  00
0739A:  ADDWFC xB2,F
0739C:  MOVLW  00
0739E:  ADDWFC xB3,F
073A0:  MOVLW  00
073A2:  ADDWFC xB4,F
....................       read_packetnum--;
073A4:  MOVF   xB5,W
073A6:  BTFSC  FD8.2
073A8:  DECF   xB6,F
073AA:  DECF   xB5,F
073AC:  MOVLB  0
073AE:  GOTO   72CA
....................    }
....................    fprintf(PC, "\r\nEnd Flash SMF Read\r\n");
073B2:  MOVLW  0C
073B4:  MOVWF  FF6
073B6:  MOVLW  1E
073B8:  MOVWF  FF7
073BA:  MOVLW  00
073BC:  MOVWF  FF8
073BE:  CALL   20CE
073C2:  GOTO   F89A (RETURN)
.................... }
.................... 
.................... 
.................... void mode_smf_erase(unsigned int8 parameter[])
.................... {
....................    fprintf(PC, "Start Flash SMF Erase\r\n");
073C6:  MOVLW  24
073C8:  MOVWF  FF6
073CA:  MOVLW  1E
073CC:  MOVWF  FF7
073CE:  MOVLW  00
073D0:  MOVWF  FF8
073D2:  CALL   20CE
....................    flash_setting(smf);
073D6:  MOVFF  119,1B8
073DA:  MOVFF  118,1B7
073DE:  MOVFF  117,1B6
073E2:  MOVFF  116,1B5
073E6:  CALL   6298
....................    unsigned int32 erase_address = 0x00000000; // Example address
073EA:  MOVLB  1
073EC:  CLRF   xB4
073EE:  CLRF   xB3
073F0:  CLRF   xB2
073F2:  CLRF   xB1
....................    sector_erase(smf, erase_address); // Erase the sector
073F4:  MOVFF  119,1F8
073F8:  MOVFF  118,1F7
073FC:  MOVFF  117,1F6
07400:  MOVFF  116,1F5
07404:  MOVFF  1B4,1FC
07408:  MOVFF  1B3,1FB
0740C:  MOVFF  1B2,1FA
07410:  MOVFF  1B1,1F9
07414:  MOVLB  0
07416:  CALL   5704
....................    fprintf(PC, "End Flash SMF Erase\r\n");
0741A:  MOVLW  3C
0741C:  MOVWF  FF6
0741E:  MOVLW  1E
07420:  MOVWF  FF7
07422:  MOVLW  00
07424:  MOVWF  FF8
07426:  CALL   20CE
0742A:  GOTO   F8AA (RETURN)
.................... }  
.................... 
.................... void mode_misf_address_reset(unsigned int8 parameter[])
.................... {
....................    fprintf(PC, "Start Flash Address Reset\r\n");
*
06C9E:  MOVLW  52
06CA0:  MOVWF  FF6
06CA2:  MOVLW  1E
06CA4:  MOVWF  FF7
06CA6:  MOVLW  00
06CA8:  MOVWF  FF8
06CAA:  CALL   20CE
....................    piclog_save(parameter[0], PICLOG_PARAM_START); 
06CAE:  MOVLB  1
06CB0:  MOVF   xCA,W
06CB2:  MOVWF  FE9
06CB4:  MOVF   xCB,W
06CB6:  MOVWF  FEA
06CB8:  MOVFF  FEF,20E
06CBC:  MOVFF  20E,2C6
06CC0:  MOVLB  2
06CC2:  CLRF   xC7
06CC4:  MOVLB  0
06CC6:  CALL   4EDC
....................    FlashData_t flash_data;
....................    memset(flash_data.bytes, 0, PACKET_SIZE);
06CCA:  MOVLW  01
06CCC:  MOVWF  FEA
06CCE:  MOVLW  CC
06CD0:  MOVWF  FE9
06CD2:  CLRF   00
06CD4:  CLRF   02
06CD6:  MOVLW  40
06CD8:  MOVWF  01
06CDA:  CALL   213E
....................    /*
....................    for (int i = 0; i < PACKET_SIZE; i++) {
....................       fprintf(PC, "%02X ", flash_data.bytes[i]);
....................    }
....................    */
....................    fprintf(PC, "\r\n");
06CDE:  MOVLW  0D
06CE0:  BTFSS  FA6.6
06CE2:  GOTO   6CE0
06CE6:  MOVLB  E
06CE8:  MOVWF  xF9
06CEA:  MOVLW  0A
06CEC:  MOVLB  0
06CEE:  BTFSS  FA6.6
06CF0:  GOTO   6CEE
06CF4:  MOVLB  E
06CF6:  MOVWF  xF9
....................    flash_data.packet.crc = calc_crc8(flash_data.bytes, PACKET_SIZE-1);
06CF8:  MOVLW  01
06CFA:  MOVLB  A
06CFC:  MOVWF  xEC
06CFE:  MOVLW  CC
06D00:  MOVWF  xEB
06D02:  MOVLW  3F
06D04:  MOVWF  xED
06D06:  MOVLB  0
06D08:  CALL   2EDC
06D0C:  MOVFF  01,20B
....................    for (int i = 0; i < PACKET_SIZE; i++) {
06D10:  MOVLB  2
06D12:  CLRF   x0C
06D14:  MOVLB  0
06D16:  MOVLB  2
06D18:  MOVF   x0C,W
06D1A:  SUBLW  3F
06D1C:  BTFSC  FD8.0
06D1E:  BRA    6D26
06D20:  MOVLB  0
06D22:  GOTO   6D64
06D26:  MOVLB  0
....................       fprintf(PC, "%02X ", flash_data.bytes[i]);
06D28:  CLRF   03
06D2A:  MOVLB  2
06D2C:  MOVF   x0C,W
06D2E:  ADDLW  CC
06D30:  MOVWF  FE9
06D32:  MOVLW  01
06D34:  ADDWFC 03,W
06D36:  MOVWF  FEA
06D38:  MOVFF  FEF,20E
06D3C:  MOVFF  20E,9E8
06D40:  MOVLW  37
06D42:  MOVLB  9
06D44:  MOVWF  xE9
06D46:  MOVLB  0
06D48:  CALL   2334
06D4C:  MOVLW  20
06D4E:  BTFSS  FA6.6
06D50:  GOTO   6D4E
06D54:  MOVLB  E
06D56:  MOVWF  xF9
06D58:  MOVLB  0
06D5A:  MOVLB  2
06D5C:  INCF   x0C,F
06D5E:  MOVLB  0
06D60:  GOTO   6D16
....................    }
....................    fprintf(PC, "\r\n");
06D64:  MOVLW  0D
06D66:  BTFSS  FA6.6
06D68:  GOTO   6D66
06D6C:  MOVLB  E
06D6E:  MOVWF  xF9
06D70:  MOVLW  0A
06D72:  MOVLB  0
06D74:  BTFSS  FA6.6
06D76:  GOTO   6D74
06D7A:  MOVLB  E
06D7C:  MOVWF  xF9
....................    write_data_bytes(mis_fm, MISF_CIGS_DATA_TABLE_START, flash_data.bytes, PACKET_SIZE);
06D7E:  MOVFF  115,AEE
06D82:  MOVFF  114,AED
06D86:  MOVFF  113,AEC
06D8A:  MOVFF  112,AEB
06D8E:  MOVLB  A
06D90:  CLRF   xF2
06D92:  CLRF   xF1
06D94:  CLRF   xF0
06D96:  CLRF   xEF
06D98:  MOVLW  01
06D9A:  MOVWF  xF4
06D9C:  MOVLW  CC
06D9E:  MOVWF  xF3
06DA0:  CLRF   xF6
06DA2:  MOVLW  40
06DA4:  MOVWF  xF5
06DA6:  MOVLB  0
06DA8:  CALL   3D26
....................    memset(flash_data.bytes, 0, PACKET_SIZE);
06DAC:  MOVLW  01
06DAE:  MOVWF  FEA
06DB0:  MOVLW  CC
06DB2:  MOVWF  FE9
06DB4:  CLRF   00
06DB6:  CLRF   02
06DB8:  MOVLW  40
06DBA:  MOVWF  01
06DBC:  CALL   213E
....................    read_data_bytes(mis_fm, MISF_CIGS_DATA_TABLE_START, flash_data.bytes, PACKET_SIZE);
06DC0:  MOVFF  115,AEE
06DC4:  MOVFF  114,AED
06DC8:  MOVFF  113,AEC
06DCC:  MOVFF  112,AEB
06DD0:  MOVLB  A
06DD2:  CLRF   xF2
06DD4:  CLRF   xF1
06DD6:  CLRF   xF0
06DD8:  CLRF   xEF
06DDA:  MOVLW  01
06DDC:  MOVWF  xF4
06DDE:  MOVLW  CC
06DE0:  MOVWF  xF3
06DE2:  CLRF   xF8
06DE4:  CLRF   xF7
06DE6:  CLRF   xF6
06DE8:  MOVLW  40
06DEA:  MOVWF  xF5
06DEC:  MOVLB  0
06DEE:  CALL   2CBC
....................    flash_data.packet.crc = calc_crc8(flash_data.bytes, PACKET_SIZE-1);
06DF2:  MOVLW  01
06DF4:  MOVLB  A
06DF6:  MOVWF  xEC
06DF8:  MOVLW  CC
06DFA:  MOVWF  xEB
06DFC:  MOVLW  3F
06DFE:  MOVWF  xED
06E00:  MOVLB  0
06E02:  CALL   2EDC
06E06:  MOVFF  01,20B
....................    for (int i = 0; i < PACKET_SIZE; i++) {
06E0A:  MOVLB  2
06E0C:  CLRF   x0D
06E0E:  MOVLB  0
06E10:  MOVLB  2
06E12:  MOVF   x0D,W
06E14:  SUBLW  3F
06E16:  BTFSC  FD8.0
06E18:  BRA    6E20
06E1A:  MOVLB  0
06E1C:  GOTO   6E5E
06E20:  MOVLB  0
....................       fprintf(PC, "%02X ", flash_data.bytes[i]);
06E22:  CLRF   03
06E24:  MOVLB  2
06E26:  MOVF   x0D,W
06E28:  ADDLW  CC
06E2A:  MOVWF  FE9
06E2C:  MOVLW  01
06E2E:  ADDWFC 03,W
06E30:  MOVWF  FEA
06E32:  MOVFF  FEF,20E
06E36:  MOVFF  20E,9E8
06E3A:  MOVLW  37
06E3C:  MOVLB  9
06E3E:  MOVWF  xE9
06E40:  MOVLB  0
06E42:  CALL   2334
06E46:  MOVLW  20
06E48:  BTFSS  FA6.6
06E4A:  GOTO   6E48
06E4E:  MOVLB  E
06E50:  MOVWF  xF9
06E52:  MOVLB  0
06E54:  MOVLB  2
06E56:  INCF   x0D,F
06E58:  MOVLB  0
06E5A:  GOTO   6E10
....................    }
....................    misf_init(); // Update the address area after writing
06E5E:  CALL   3750
.................... 
.................... 
....................    piclog_save(parameter[0], PICLOG_PARAM_END); // Log the end of the command execution
06E62:  MOVLB  1
06E64:  MOVF   xCA,W
06E66:  MOVWF  FE9
06E68:  MOVF   xCB,W
06E6A:  MOVWF  FEA
06E6C:  MOVFF  FEF,20E
06E70:  MOVFF  20E,2C6
06E74:  MOVLB  2
06E76:  SETF   xC7
06E78:  MOVLB  0
06E7A:  CALL   4EDC
....................    fprintf(PC, "End Flash Address Reset\r\n");
06E7E:  MOVLW  6E
06E80:  MOVWF  FF6
06E82:  MOVLW  1E
06E84:  MOVWF  FF7
06E86:  MOVLW  00
06E88:  MOVWF  FF8
06E8A:  CALL   20CE
06E8E:  GOTO   6ED6 (RETURN)
.................... }
.................... 
.................... // ---------- SMF Command Functions ----------
.................... void mode_smf_read_force(int8 parameter[])
*
0772E:  MOVLW  01
07730:  MOVLB  1
07732:  ADDWF  xAF,W
07734:  MOVWF  FE9
07736:  MOVLW  00
07738:  ADDWFC xB0,W
0773A:  MOVWF  FEA
0773C:  MOVF   FEF,W
0773E:  MOVLB  2
07740:  CLRF   x01
07742:  CLRF   x00
07744:  MOVLB  1
07746:  CLRF   xFF
07748:  MOVWF  xFE
0774A:  MOVFF  1FE,201
0774E:  CLRF   xFE
07750:  CLRF   xFF
07752:  MOVLB  2
07754:  CLRF   x00
07756:  MOVLW  02
07758:  MOVLB  1
0775A:  ADDWF  xAF,W
0775C:  MOVWF  FE9
0775E:  MOVLW  00
07760:  ADDWFC xB0,W
07762:  MOVWF  FEA
07764:  MOVF   FEF,W
07766:  MOVLB  2
07768:  CLRF   x06
0776A:  CLRF   x05
0776C:  CLRF   x04
0776E:  MOVWF  x03
07770:  MOVFF  204,03
07774:  MOVFF  203,02
07778:  CLRF   00
0777A:  CLRF   01
0777C:  MOVF   00,W
0777E:  MOVLB  1
07780:  IORWF  xFE,F
07782:  MOVF   01,W
07784:  IORWF  xFF,F
07786:  MOVF   02,W
07788:  MOVLB  2
0778A:  IORWF  x00,F
0778C:  MOVF   03,W
0778E:  IORWF  x01,F
07790:  MOVLW  03
07792:  MOVLB  1
07794:  ADDWF  xAF,W
07796:  MOVWF  FE9
07798:  MOVLW  00
0779A:  ADDWFC xB0,W
0779C:  MOVWF  FEA
0779E:  MOVF   FEF,W
077A0:  MOVLB  2
077A2:  CLRF   x06
077A4:  CLRF   x05
077A6:  CLRF   x04
077A8:  MOVWF  x03
077AA:  MOVFF  205,03
077AE:  MOVFF  204,02
077B2:  MOVFF  203,01
077B6:  CLRF   00
077B8:  MOVF   00,W
077BA:  MOVLB  1
077BC:  IORWF  xFE,F
077BE:  MOVF   01,W
077C0:  IORWF  xFF,F
077C2:  MOVF   02,W
077C4:  MOVLB  2
077C6:  IORWF  x00,F
077C8:  MOVF   03,W
077CA:  IORWF  x01,F
077CC:  MOVLW  04
077CE:  MOVLB  1
077D0:  ADDWF  xAF,W
077D2:  MOVWF  FE9
077D4:  MOVLW  00
077D6:  ADDWFC xB0,W
077D8:  MOVWF  FEA
077DA:  MOVF   FEF,W
077DC:  MOVWF  00
077DE:  CLRF   01
077E0:  CLRF   02
077E2:  CLRF   03
077E4:  MOVF   00,W
077E6:  IORWF  xFE,W
077E8:  MOVWF  xB1
077EA:  MOVF   01,W
077EC:  IORWF  xFF,W
077EE:  MOVWF  xB2
077F0:  MOVF   02,W
077F2:  MOVLB  2
077F4:  IORWF  x00,W
077F6:  MOVLB  1
077F8:  MOVWF  xB3
077FA:  MOVF   03,W
077FC:  MOVLB  2
077FE:  IORWF  x01,W
07800:  MOVLB  1
07802:  MOVWF  xB4
07804:  MOVLW  07
07806:  ADDWF  xAF,W
07808:  MOVWF  FE9
0780A:  MOVLW  00
0780C:  ADDWFC xB0,W
0780E:  MOVWF  FEA
07810:  MOVF   FEF,W
07812:  CLRF   xFF
07814:  MOVWF  xFE
07816:  MOVFF  1FE,1FF
0781A:  CLRF   xFE
0781C:  MOVLW  08
0781E:  ADDWF  xAF,W
07820:  MOVWF  FE9
07822:  MOVLW  00
07824:  ADDWFC xB0,W
07826:  MOVWF  FEA
07828:  MOVF   FEF,W
0782A:  CLRF   03
0782C:  IORWF  xFE,W
0782E:  MOVWF  xB5
07830:  MOVF   03,W
07832:  IORWF  xFF,W
07834:  MOVWF  xB6
.................... {
....................    int32 address = 
....................       ((int32)parameter[1] << 24) |
....................       ((int32)parameter[2] << 16) |
....................       ((int32)parameter[3] << 8)  |
....................       ((int32)parameter[4]);
....................    
....................    int16 packet_num = 
....................       ((int16)parameter[7] << 8) |
....................       ((int16)parameter[8]);
....................       
....................    int8 read_data[PACKET_SIZE] = {0x00}; // Initialize read data buffer
07836:  CLRF   xB7
07838:  CLRF   xB8
0783A:  CLRF   xB9
0783C:  CLRF   xBA
0783E:  CLRF   xBB
07840:  CLRF   xBC
07842:  CLRF   xBD
07844:  CLRF   xBE
07846:  CLRF   xBF
07848:  CLRF   xC0
0784A:  CLRF   xC1
0784C:  CLRF   xC2
0784E:  CLRF   xC3
07850:  CLRF   xC4
07852:  CLRF   xC5
07854:  CLRF   xC6
07856:  CLRF   xC7
07858:  CLRF   xC8
0785A:  CLRF   xC9
0785C:  CLRF   xCA
0785E:  CLRF   xCB
07860:  CLRF   xCC
07862:  CLRF   xCD
07864:  CLRF   xCE
07866:  CLRF   xCF
07868:  CLRF   xD0
0786A:  CLRF   xD1
0786C:  CLRF   xD2
0786E:  CLRF   xD3
07870:  CLRF   xD4
07872:  CLRF   xD5
07874:  CLRF   xD6
07876:  CLRF   xD7
07878:  CLRF   xD8
0787A:  CLRF   xD9
0787C:  CLRF   xDA
0787E:  CLRF   xDB
07880:  CLRF   xDC
07882:  CLRF   xDD
07884:  CLRF   xDE
07886:  CLRF   xDF
07888:  CLRF   xE0
0788A:  CLRF   xE1
0788C:  CLRF   xE2
0788E:  CLRF   xE3
07890:  CLRF   xE4
07892:  CLRF   xE5
07894:  CLRF   xE6
07896:  CLRF   xE7
07898:  CLRF   xE8
0789A:  CLRF   xE9
0789C:  CLRF   xEA
0789E:  CLRF   xEB
078A0:  CLRF   xEC
078A2:  CLRF   xED
078A4:  CLRF   xEE
078A6:  CLRF   xEF
078A8:  CLRF   xF0
078AA:  CLRF   xF1
078AC:  CLRF   xF2
078AE:  CLRF   xF3
078B0:  CLRF   xF4
078B2:  CLRF   xF5
078B4:  CLRF   xF6
....................    if(!is_connect(smf)) {
078B6:  MOVFF  119,253
078BA:  MOVFF  118,252
078BE:  MOVFF  117,251
078C2:  MOVFF  116,250
078C6:  MOVLB  0
078C8:  CALL   2BF4
078CC:  MOVF   01,F
078CE:  BTFSS  FD8.2
078D0:  GOTO   78E8
....................       printf("SMF is not connected\r\n");
078D4:  MOVLW  88
078D6:  MOVWF  FF6
078D8:  MOVLW  1E
078DA:  MOVWF  FF7
078DC:  MOVLW  00
078DE:  MOVWF  FF8
078E0:  CALL   20CE
....................       return;
078E4:  GOTO   7B3C
....................    }
....................    printf("Start Flash SMF Read Force\r\n");
078E8:  MOVLW  A0
078EA:  MOVWF  FF6
078EC:  MOVLW  1E
078EE:  MOVWF  FF7
078F0:  MOVLW  00
078F2:  MOVWF  FF8
078F4:  CALL   20CE
....................    piclog_save(parameter[0], PICLOG_PARAM_START); // Log the command execution
078F8:  MOVLB  1
078FA:  MOVF   xAF,W
078FC:  MOVWF  FE9
078FE:  MOVF   xB0,W
07900:  MOVWF  FEA
07902:  MOVFF  FEF,1FE
07906:  MOVFF  1FE,2C6
0790A:  MOVLB  2
0790C:  CLRF   xC7
0790E:  MOVLB  0
07910:  CALL   4EDC
.................... 
....................    // 統合管理システムからキューに追加
....................    // enqueue_read_data(address, packet_num * PACKET_SIZE);
.................... 
....................    printf("\tAddress  : 0x%08LX\r\n", address);
07914:  MOVLW  BE
07916:  MOVWF  FF6
07918:  MOVLW  1E
0791A:  MOVWF  FF7
0791C:  MOVLW  00
0791E:  MOVWF  FF8
07920:  MOVLW  0E
07922:  MOVLB  A
07924:  MOVWF  x4E
07926:  MOVLB  0
07928:  CALL   2104
0792C:  MOVFF  1B4,9E8
07930:  MOVLW  37
07932:  MOVLB  9
07934:  MOVWF  xE9
07936:  MOVLB  0
07938:  CALL   2334
0793C:  MOVFF  1B3,9E8
07940:  MOVLW  37
07942:  MOVLB  9
07944:  MOVWF  xE9
07946:  MOVLB  0
07948:  CALL   2334
0794C:  MOVFF  1B2,9E8
07950:  MOVLW  37
07952:  MOVLB  9
07954:  MOVWF  xE9
07956:  MOVLB  0
07958:  CALL   2334
0795C:  MOVFF  1B1,9E8
07960:  MOVLW  37
07962:  MOVLB  9
07964:  MOVWF  xE9
07966:  MOVLB  0
07968:  CALL   2334
0796C:  MOVLW  0D
0796E:  BTFSS  FA6.6
07970:  GOTO   796E
07974:  MOVLB  E
07976:  MOVWF  xF9
07978:  MOVLW  0A
0797A:  MOVLB  0
0797C:  BTFSS  FA6.6
0797E:  GOTO   797C
07982:  MOVLB  E
07984:  MOVWF  xF9
....................    printf("\tPacketNum: 0x%04LX\r\n", packet_num);
07986:  MOVLW  D4
07988:  MOVWF  FF6
0798A:  MOVLW  1E
0798C:  MOVWF  FF7
0798E:  MOVLW  00
07990:  MOVWF  FF8
07992:  MOVLW  0E
07994:  MOVLB  A
07996:  MOVWF  x4E
07998:  MOVLB  0
0799A:  CALL   2104
0799E:  MOVFF  1B6,9E8
079A2:  MOVLW  37
079A4:  MOVLB  9
079A6:  MOVWF  xE9
079A8:  MOVLB  0
079AA:  CALL   2334
079AE:  MOVFF  1B5,9E8
079B2:  MOVLW  37
079B4:  MOVLB  9
079B6:  MOVWF  xE9
079B8:  MOVLB  0
079BA:  CALL   2334
079BE:  MOVLW  0D
079C0:  BTFSS  FA6.6
079C2:  GOTO   79C0
079C6:  MOVLB  E
079C8:  MOVWF  xF9
079CA:  MOVLW  0A
079CC:  MOVLB  0
079CE:  BTFSS  FA6.6
079D0:  GOTO   79CE
079D4:  MOVLB  E
079D6:  MOVWF  xF9
....................    printf("read data\r\n");
079D8:  MOVLW  EA
079DA:  MOVWF  FF6
079DC:  MOVLW  1E
079DE:  MOVWF  FF7
079E0:  MOVLW  00
079E2:  MOVWF  FF8
079E4:  MOVLB  0
079E6:  CALL   20CE
....................    for (int16 packet_count = 0; packet_count < packet_num; packet_count++)
079EA:  MOVLB  1
079EC:  CLRF   xF8
079EE:  CLRF   xF7
079F0:  MOVLB  0
079F2:  MOVLB  1
079F4:  MOVF   xF8,W
079F6:  SUBWF  xB6,W
079F8:  BTFSC  FD8.0
079FA:  BRA    7A02
079FC:  MOVLB  0
079FE:  GOTO   7B10
07A02:  MOVLB  0
07A04:  BTFSS  FD8.2
07A06:  GOTO   7A1C
07A0A:  MOVLB  1
07A0C:  MOVF   xB5,W
07A0E:  SUBWF  xF7,W
07A10:  BTFSS  FD8.0
07A12:  BRA    7A1A
07A14:  MOVLB  0
07A16:  GOTO   7B10
07A1A:  MOVLB  0
....................    {
....................       int32 current_address = address + (packet_count * PACKET_SIZE);
07A1C:  MOVLB  1
07A1E:  RLCF   xF7,W
07A20:  MOVWF  02
07A22:  RLCF   xF8,W
07A24:  MOVWF  03
07A26:  RLCF   02,F
07A28:  RLCF   03,F
07A2A:  RLCF   02,F
07A2C:  RLCF   03,F
07A2E:  RLCF   02,F
07A30:  RLCF   03,F
07A32:  RLCF   02,F
07A34:  RLCF   03,F
07A36:  RLCF   02,F
07A38:  RLCF   03,F
07A3A:  MOVLW  C0
07A3C:  ANDWF  02,F
07A3E:  MOVF   02,W
07A40:  ADDWF  xB1,W
07A42:  MOVWF  xF9
07A44:  MOVF   03,W
07A46:  ADDWFC xB2,W
07A48:  MOVWF  xFA
07A4A:  MOVLW  00
07A4C:  ADDWFC xB3,W
07A4E:  MOVWF  xFB
07A50:  MOVLW  00
07A52:  ADDWFC xB4,W
07A54:  MOVWF  xFC
07A56:  MOVLB  0
....................       read_data_bytes(smf, current_address, read_data, PACKET_SIZE);
07A58:  MOVFF  119,AEE
07A5C:  MOVFF  118,AED
07A60:  MOVFF  117,AEC
07A64:  MOVFF  116,AEB
07A68:  MOVFF  1FC,AF2
07A6C:  MOVFF  1FB,AF1
07A70:  MOVFF  1FA,AF0
07A74:  MOVFF  1F9,AEF
07A78:  MOVLW  01
07A7A:  MOVLB  A
07A7C:  MOVWF  xF4
07A7E:  MOVLW  B7
07A80:  MOVWF  xF3
07A82:  CLRF   xF8
07A84:  CLRF   xF7
07A86:  CLRF   xF6
07A88:  MOVLW  40
07A8A:  MOVWF  xF5
07A8C:  MOVLB  0
07A8E:  CALL   2CBC
....................       for (int8 byte_count = 0; byte_count < PACKET_SIZE; byte_count++)
07A92:  MOVLB  1
07A94:  CLRF   xFD
07A96:  MOVLB  0
07A98:  MOVLB  1
07A9A:  MOVF   xFD,W
07A9C:  SUBLW  3F
07A9E:  BTFSC  FD8.0
07AA0:  BRA    7AA8
07AA2:  MOVLB  0
07AA4:  GOTO   7AE6
07AA8:  MOVLB  0
....................       {
....................          printf("%02X ", read_data[byte_count]);
07AAA:  CLRF   03
07AAC:  MOVLB  1
07AAE:  MOVF   xFD,W
07AB0:  ADDLW  B7
07AB2:  MOVWF  FE9
07AB4:  MOVLW  01
07AB6:  ADDWFC 03,W
07AB8:  MOVWF  FEA
07ABA:  MOVFF  FEF,1FE
07ABE:  MOVFF  1FE,9E8
07AC2:  MOVLW  37
07AC4:  MOVLB  9
07AC6:  MOVWF  xE9
07AC8:  MOVLB  0
07ACA:  CALL   2334
07ACE:  MOVLW  20
07AD0:  BTFSS  FA6.6
07AD2:  GOTO   7AD0
07AD6:  MOVLB  E
07AD8:  MOVWF  xF9
07ADA:  MOVLB  0
07ADC:  MOVLB  1
07ADE:  INCF   xFD,F
07AE0:  MOVLB  0
07AE2:  GOTO   7A98
....................       }
....................       printf("\r\n");
07AE6:  MOVLW  0D
07AE8:  BTFSS  FA6.6
07AEA:  GOTO   7AE8
07AEE:  MOVLB  E
07AF0:  MOVWF  xF9
07AF2:  MOVLW  0A
07AF4:  MOVLB  0
07AF6:  BTFSS  FA6.6
07AF8:  GOTO   7AF6
07AFC:  MOVLB  E
07AFE:  MOVWF  xF9
07B00:  MOVLB  0
07B02:  MOVLB  1
07B04:  INCF   xF7,F
07B06:  BTFSC  FD8.2
07B08:  INCF   xF8,F
07B0A:  MOVLB  0
07B0C:  GOTO   79F2
....................    }
.................... 
....................    printf("\r\nEnd Flash SMF Read Force\r\n");
07B10:  MOVLW  F6
07B12:  MOVWF  FF6
07B14:  MOVLW  1E
07B16:  MOVWF  FF7
07B18:  MOVLW  00
07B1A:  MOVWF  FF8
07B1C:  CALL   20CE
....................    piclog_save(parameter[0], PICLOG_PARAM_END); // Log the end of the command execution
07B20:  MOVLB  1
07B22:  MOVF   xAF,W
07B24:  MOVWF  FE9
07B26:  MOVF   xB0,W
07B28:  MOVWF  FEA
07B2A:  MOVFF  FEF,1FE
07B2E:  MOVFF  1FE,2C6
07B32:  MOVLB  2
07B34:  SETF   xC7
07B36:  MOVLB  0
07B38:  CALL   4EDC
07B3C:  GOTO   F8CA (RETURN)
.................... }
.................... 
.................... void mode_smf_erase_force(int8 parameter[])
.................... {
....................    printf("Start SMF Erase All\r\n");
07B40:  MOVLW  14
07B42:  MOVWF  FF6
07B44:  MOVLW  1F
07B46:  MOVWF  FF7
07B48:  MOVLW  00
07B4A:  MOVWF  FF8
07B4C:  CALL   20CE
....................    int8 cmd = parameter[0]; // Get the command ID from the parameter array
07B50:  MOVLB  1
07B52:  MOVF   xAF,W
07B54:  MOVWF  FE9
07B56:  MOVF   xB0,W
07B58:  MOVWF  FEA
07B5A:  MOVFF  FEF,1B1
....................    piclog_save(cmd, 0x00); // Log the command execution
07B5E:  MOVFF  1B1,2C6
07B62:  MOVLB  2
07B64:  CLRF   xC7
07B66:  MOVLB  0
07B68:  CALL   4EDC
....................    
.................... 
....................    
....................    for (int32 address = CIGS_DATA_TABLE_START_ADDRESS; address < CIGS_IV2_DATA_END_ADDRESS; address += SECTOR_64K_BYTE) {
07B6C:  MOVLW  06
07B6E:  MOVLB  1
07B70:  MOVWF  xB5
07B72:  MOVLW  AA
07B74:  MOVWF  xB4
07B76:  CLRF   xB3
07B78:  CLRF   xB2
07B7A:  MOVLB  0
07B7C:  MOVLB  1
07B7E:  MOVF   xB5,W
07B80:  SUBLW  07
07B82:  BTFSC  FD8.0
07B84:  BRA    7B8C
07B86:  MOVLB  0
07B88:  GOTO   7C0A
07B8C:  MOVLB  0
07B8E:  BTFSS  FD8.2
07B90:  GOTO   7BD6
07B94:  MOVLB  1
07B96:  MOVF   xB4,W
07B98:  SUBLW  49
07B9A:  BTFSC  FD8.0
07B9C:  BRA    7BA4
07B9E:  MOVLB  0
07BA0:  GOTO   7C0A
07BA4:  MOVLB  0
07BA6:  BTFSS  FD8.2
07BA8:  GOTO   7BD6
07BAC:  MOVLB  1
07BAE:  MOVF   xB3,W
07BB0:  SUBLW  0F
07BB2:  BTFSC  FD8.0
07BB4:  BRA    7BBC
07BB6:  MOVLB  0
07BB8:  GOTO   7C0A
07BBC:  MOVLB  0
07BBE:  BTFSS  FD8.2
07BC0:  GOTO   7BD6
07BC4:  MOVLB  1
07BC6:  MOVF   xB2,W
07BC8:  SUBLW  FE
07BCA:  BTFSC  FD8.0
07BCC:  BRA    7BD4
07BCE:  MOVLB  0
07BD0:  GOTO   7C0A
07BD4:  MOVLB  0
....................       sector_erase(smf, address); // Erase each sector
07BD6:  MOVFF  119,1F8
07BDA:  MOVFF  118,1F7
07BDE:  MOVFF  117,1F6
07BE2:  MOVFF  116,1F5
07BE6:  MOVFF  1B5,1FC
07BEA:  MOVFF  1B4,1FB
07BEE:  MOVFF  1B3,1FA
07BF2:  MOVFF  1B2,1F9
07BF6:  CALL   5704
07BFA:  MOVLW  01
07BFC:  MOVLB  1
07BFE:  ADDWF  xB4,F
07C00:  MOVLW  00
07C02:  ADDWFC xB5,F
07C04:  MOVLB  0
07C06:  GOTO   7B7C
....................    }
....................    piclog_save(cmd, PICLOG_PARAM_END); // Log the end of the command execution
07C0A:  MOVFF  1B1,2C6
07C0E:  MOVLB  2
07C10:  SETF   xC7
07C12:  MOVLB  0
07C14:  CALL   4EDC
....................    printf("End SMF Erase All\r\n");
07C18:  MOVLW  2A
07C1A:  MOVWF  FF6
07C1C:  MOVLW  1F
07C1E:  MOVWF  FF7
07C20:  MOVLW  00
07C22:  MOVWF  FF8
07C24:  CALL   20CE
07C28:  GOTO   F8DA (RETURN)
.................... }
.................... 
.................... void mode_smf_address_reset(int8 parameter[])
.................... {
....................    printf("Start SMF Reset\r\n");
*
075B0:  MOVLW  3E
075B2:  MOVWF  FF6
075B4:  MOVLW  1F
075B6:  MOVWF  FF7
075B8:  MOVLW  00
075BA:  MOVWF  FF8
075BC:  CALL   20CE
....................    piclog_save(parameter[0], PICLOG_PARAM_START);
075C0:  MOVLB  1
075C2:  MOVF   xAF,W
075C4:  MOVWF  FE9
075C6:  MOVF   xB0,W
075C8:  MOVWF  FEA
075CA:  MOVFF  FEF,1F5
075CE:  MOVFF  1F5,2C6
075D2:  MOVLB  2
075D4:  CLRF   xC7
075D6:  MOVLB  0
075D8:  CALL   4EDC
....................    int8 writedata[PACKET_SIZE] = {0x00}; 
075DC:  MOVLB  1
075DE:  CLRF   xB1
075E0:  CLRF   xB2
075E2:  CLRF   xB3
075E4:  CLRF   xB4
075E6:  CLRF   xB5
075E8:  CLRF   xB6
075EA:  CLRF   xB7
075EC:  CLRF   xB8
075EE:  CLRF   xB9
075F0:  CLRF   xBA
075F2:  CLRF   xBB
075F4:  CLRF   xBC
075F6:  CLRF   xBD
075F8:  CLRF   xBE
075FA:  CLRF   xBF
075FC:  CLRF   xC0
075FE:  CLRF   xC1
07600:  CLRF   xC2
07602:  CLRF   xC3
07604:  CLRF   xC4
07606:  CLRF   xC5
07608:  CLRF   xC6
0760A:  CLRF   xC7
0760C:  CLRF   xC8
0760E:  CLRF   xC9
07610:  CLRF   xCA
07612:  CLRF   xCB
07614:  CLRF   xCC
07616:  CLRF   xCD
07618:  CLRF   xCE
0761A:  CLRF   xCF
0761C:  CLRF   xD0
0761E:  CLRF   xD1
07620:  CLRF   xD2
07622:  CLRF   xD3
07624:  CLRF   xD4
07626:  CLRF   xD5
07628:  CLRF   xD6
0762A:  CLRF   xD7
0762C:  CLRF   xD8
0762E:  CLRF   xD9
07630:  CLRF   xDA
07632:  CLRF   xDB
07634:  CLRF   xDC
07636:  CLRF   xDD
07638:  CLRF   xDE
0763A:  CLRF   xDF
0763C:  CLRF   xE0
0763E:  CLRF   xE1
07640:  CLRF   xE2
07642:  CLRF   xE3
07644:  CLRF   xE4
07646:  CLRF   xE5
07648:  CLRF   xE6
0764A:  CLRF   xE7
0764C:  CLRF   xE8
0764E:  CLRF   xE9
07650:  CLRF   xEA
07652:  CLRF   xEB
07654:  CLRF   xEC
07656:  CLRF   xED
07658:  CLRF   xEE
0765A:  CLRF   xEF
0765C:  CLRF   xF0
....................    for (int32 address = CIGS_DATA_TABLE_START_ADDRESS; address < CIGS_IV2_DATA_END_ADDRESS; address += SECTOR_64K_BYTE) {
0765E:  MOVLW  06
07660:  MOVWF  xF4
07662:  MOVLW  AA
07664:  MOVWF  xF3
07666:  CLRF   xF2
07668:  CLRF   xF1
0766A:  MOVLB  0
0766C:  MOVLB  1
0766E:  MOVF   xF4,W
07670:  SUBLW  07
07672:  BTFSC  FD8.0
07674:  BRA    767C
07676:  MOVLB  0
07678:  GOTO   76FA
0767C:  MOVLB  0
0767E:  BTFSS  FD8.2
07680:  GOTO   76C6
07684:  MOVLB  1
07686:  MOVF   xF3,W
07688:  SUBLW  49
0768A:  BTFSC  FD8.0
0768C:  BRA    7694
0768E:  MOVLB  0
07690:  GOTO   76FA
07694:  MOVLB  0
07696:  BTFSS  FD8.2
07698:  GOTO   76C6
0769C:  MOVLB  1
0769E:  MOVF   xF2,W
076A0:  SUBLW  0F
076A2:  BTFSC  FD8.0
076A4:  BRA    76AC
076A6:  MOVLB  0
076A8:  GOTO   76FA
076AC:  MOVLB  0
076AE:  BTFSS  FD8.2
076B0:  GOTO   76C6
076B4:  MOVLB  1
076B6:  MOVF   xF1,W
076B8:  SUBLW  FE
076BA:  BTFSC  FD8.0
076BC:  BRA    76C4
076BE:  MOVLB  0
076C0:  GOTO   76FA
076C4:  MOVLB  0
....................       sector_erase(smf, address); // Erase each sector
076C6:  MOVFF  119,1F8
076CA:  MOVFF  118,1F7
076CE:  MOVFF  117,1F6
076D2:  MOVFF  116,1F5
076D6:  MOVFF  1F4,1FC
076DA:  MOVFF  1F3,1FB
076DE:  MOVFF  1F2,1FA
076E2:  MOVFF  1F1,1F9
076E6:  CALL   5704
076EA:  MOVLW  01
076EC:  MOVLB  1
076EE:  ADDWF  xF3,F
076F0:  MOVLW  00
076F2:  ADDWFC xF4,F
076F4:  MOVLB  0
076F6:  GOTO   766C
....................    }
....................    smf_data_table_init(); // Update the address area after writing
076FA:  CALL   742E
.................... 
....................    piclog_save(parameter[0], PICLOG_PARAM_END); // Log the end of the command execution
076FE:  MOVLB  1
07700:  MOVF   xAF,W
07702:  MOVWF  FE9
07704:  MOVF   xB0,W
07706:  MOVWF  FEA
07708:  MOVFF  FEF,1F5
0770C:  MOVFF  1F5,2C6
07710:  MOVLB  2
07712:  SETF   xC7
07714:  MOVLB  0
07716:  CALL   4EDC
....................    printf("End SMF Reset\r\n");
0771A:  MOVLW  50
0771C:  MOVWF  FF6
0771E:  MOVLW  1F
07720:  MOVWF  FF7
07722:  MOVLW  00
07724:  MOVWF  FF8
07726:  CALL   20CE
0772A:  GOTO   F8BA (RETURN)
.................... }
.................... 
.................... 
.................... #endif // MMJ_CIGS_MAIN_H
.................... //------------------End of File------------------
.................... 
.................... 
.................... void main()
*
129EA:  CLRF   FF8
129EC:  BCF    FF1.2
129EE:  BCF    F9F.0
129F0:  BCF    FA9.5
129F2:  BSF    FD0.7
129F4:  BSF    07.7
129F6:  MOVLB  E
129F8:  MOVLW  55
129FA:  MOVWF  F7E
129FC:  MOVLW  AA
129FE:  MOVWF  F7E
12A00:  BCF    F66.6
12A02:  MOVLW  F9
12A04:  MOVWF  x2C
12A06:  MOVLW  F6
12A08:  MOVWF  x2D
12A0A:  MOVLW  0F
12A0C:  MOVWF  x2E
12A0E:  MOVLW  40
12A10:  MOVWF  x12
12A12:  MOVLW  30
12A14:  MOVWF  x13
12A16:  MOVLW  20
12A18:  MOVWF  x22
12A1A:  MOVLW  30
12A1C:  MOVWF  x24
12A1E:  MOVLW  55
12A20:  MOVWF  F7E
12A22:  MOVLW  AA
12A24:  MOVWF  F7E
12A26:  BSF    F66.6
12A28:  CLRF   F9B
12A2A:  CLRF   F64
12A2C:  CLRF   F65
12A2E:  CLRF   F66
12A30:  MOVLW  02
12A32:  MOVWF  FD3
12A34:  CLRF   1B
12A36:  MOVLB  F
12A38:  BSF    x2D.3
12A3A:  MOVLW  A0
12A3C:  MOVWF  x2B
12A3E:  MOVLW  01
12A40:  MOVWF  x2C
12A42:  MOVLW  A6
12A44:  MOVWF  x2E
12A46:  MOVLW  90
12A48:  MOVWF  x2F
12A4A:  MOVLB  E
12A4C:  BSF    xFD.3
12A4E:  MOVLW  A0
12A50:  MOVWF  xFB
12A52:  MOVLW  01
12A54:  MOVWF  xFC
12A56:  MOVLW  A6
12A58:  MOVWF  xFE
12A5A:  MOVLW  90
12A5C:  MOVWF  xFF
12A5E:  BSF    F92.1
12A60:  BCF    F92.0
12A62:  BCF    F92.3
12A64:  BCF    F89.3
12A66:  BSF    F96.0
12A68:  BCF    F96.6
12A6A:  BCF    F96.1
12A6C:  BCF    F8D.1
12A6E:  BSF    F93.4
12A70:  BCF    F93.5
12A72:  BCF    F93.2
12A74:  BSF    F8A.2
12A76:  BCF    F95.4
12A78:  BCF    F95.5
12A7A:  BSF    F8C.5
12A7C:  CLRF   1F
12A7E:  CLRF   1E
12A80:  CLRF   1D
12A82:  CLRF   1C
12A84:  CLRF   23
12A86:  CLRF   22
12A88:  CLRF   21
12A8A:  CLRF   20
12A8C:  CLRF   27
12A8E:  CLRF   26
12A90:  CLRF   25
12A92:  CLRF   24
12A94:  CLRF   29
12A96:  CLRF   28
12A98:  CLRF   4A
12A9A:  BCF    4B.0
12A9C:  MOVLW  1E
12A9E:  MOVLB  1
12AA0:  MOVWF  x7C
12AA2:  CLRF   x81
12AA4:  CLRF   x80
12AA6:  CLRF   x7F
12AA8:  CLRF   x7E
12AAA:  CLRF   x85
12AAC:  CLRF   x84
12AAE:  CLRF   x83
12AB0:  CLRF   x82
12AB2:  CLRF   x87
12AB4:  CLRF   x86
12AB6:  MOVLB  E
12AB8:  CLRF   xD9
12ABA:  CLRF   xDA
12ABC:  CLRF   xCE
12ABE:  CLRF   xCF
12AC0:  CLRF   xD0
12AC2:  CLRF   xD1
12AC4:  CLRF   xD2
12AC6:  CLRF   xD3
12AC8:  CLRF   xD4
12ACA:  CLRF   xD5
12ACC:  CLRF   x45
12ACE:  CLRF   x46
12AD0:  CLRF   x47
12AD2:  BCF    x8D.7
12AD4:  BCF    x8D.6
12AD6:  BCF    x8D.5
12AD8:  MOVLB  F
12ADA:  CLRF   x53
12ADC:  CLRF   x38
12ADE:  CLRF   x37
12AE0:  MOVLB  0
12AE2:  CLRF   2A
12AE4:  CLRF   2B
12AE6:  CLRF   2C
12AE8:  CLRF   2D
12AEA:  CLRF   2E
12AEC:  CLRF   2F
12AEE:  CLRF   30
12AF0:  CLRF   31
12AF2:  CLRF   32
12AF4:  CLRF   33
12AF6:  CLRF   34
12AF8:  CLRF   35
12AFA:  CLRF   36
12AFC:  CLRF   37
12AFE:  CLRF   38
12B00:  CLRF   39
12B02:  CLRF   3A
12B04:  CLRF   3B
12B06:  CLRF   3C
12B08:  CLRF   3D
12B0A:  CLRF   3E
12B0C:  CLRF   3F
12B0E:  CLRF   40
12B10:  CLRF   41
12B12:  CLRF   42
12B14:  CLRF   43
12B16:  CLRF   44
12B18:  CLRF   45
12B1A:  CLRF   46
12B1C:  CLRF   47
12B1E:  CLRF   48
12B20:  CLRF   49
12B22:  MOVLW  03
12B24:  MOVWF  4C
12B26:  CLRF   4D
12B28:  CLRF   4E
12B2A:  CLRF   4F
12B2C:  CLRF   50
12B2E:  CLRF   51
12B30:  CLRF   52
12B32:  CLRF   53
12B34:  CLRF   54
12B36:  CLRF   55
12B38:  CLRF   56
12B3A:  CLRF   57
12B3C:  CLRF   58
12B3E:  CLRF   59
12B40:  CLRF   5A
12B42:  CLRF   5B
12B44:  CLRF   5C
12B46:  CLRF   5D
12B48:  CLRF   5E
12B4A:  CLRF   5F
12B4C:  CLRF   x60
12B4E:  CLRF   x61
12B50:  CLRF   x62
12B52:  CLRF   x63
12B54:  CLRF   x64
12B56:  CLRF   x65
12B58:  CLRF   x66
12B5A:  CLRF   x67
12B5C:  CLRF   x68
12B5E:  CLRF   x69
12B60:  CLRF   x6A
12B62:  CLRF   x6B
12B64:  CLRF   x6C
12B66:  CLRF   x6D
12B68:  CLRF   x6E
12B6A:  CLRF   x6F
12B6C:  CLRF   x70
12B6E:  CLRF   x71
12B70:  CLRF   x72
12B72:  CLRF   x73
12B74:  CLRF   x74
12B76:  CLRF   x75
12B78:  CLRF   x76
12B7A:  CLRF   x77
12B7C:  CLRF   x78
12B7E:  CLRF   x79
12B80:  CLRF   x7A
12B82:  CLRF   x7B
12B84:  CLRF   x7C
12B86:  CLRF   x7D
12B88:  CLRF   x7E
12B8A:  CLRF   x7F
12B8C:  CLRF   x80
12B8E:  CLRF   x81
12B90:  CLRF   x82
12B92:  CLRF   x83
12B94:  CLRF   x84
12B96:  CLRF   x85
12B98:  CLRF   x86
12B9A:  CLRF   x87
12B9C:  CLRF   x88
12B9E:  CLRF   x89
12BA0:  CLRF   x8A
12BA2:  CLRF   x8B
12BA4:  CLRF   x8C
12BA6:  CLRF   x8D
12BA8:  CLRF   x8E
12BAA:  CLRF   x8F
12BAC:  CLRF   x90
12BAE:  CLRF   x91
12BB0:  CLRF   x92
12BB2:  CLRF   x93
12BB4:  CLRF   x94
12BB6:  CLRF   x95
12BB8:  CLRF   x96
12BBA:  CLRF   x97
12BBC:  CLRF   x98
12BBE:  CLRF   x99
12BC0:  CLRF   x9A
12BC2:  CLRF   x9B
12BC4:  CLRF   x9C
12BC6:  CLRF   x9D
12BC8:  CLRF   x9E
12BCA:  CLRF   x9F
12BCC:  CLRF   xA0
12BCE:  CLRF   xA1
12BD0:  CLRF   xA2
12BD2:  CLRF   xA3
12BD4:  CLRF   xA4
12BD6:  CLRF   xA5
12BD8:  CLRF   xA6
12BDA:  CLRF   xA7
12BDC:  CLRF   xA8
12BDE:  CLRF   xA9
12BE0:  CLRF   xAA
12BE2:  CLRF   xAB
12BE4:  CLRF   xAC
12BE6:  CLRF   xAD
12BE8:  CLRF   xAE
12BEA:  CLRF   xAF
12BEC:  CLRF   xB0
12BEE:  CLRF   xB1
12BF0:  CLRF   xB2
12BF2:  CLRF   xB3
12BF4:  CLRF   xB4
12BF6:  CLRF   xB5
12BF8:  CLRF   xB6
12BFA:  CLRF   xB7
12BFC:  CLRF   xB8
12BFE:  CLRF   xB9
12C00:  CLRF   xBA
12C02:  CLRF   xBB
12C04:  CLRF   xBC
12C06:  CLRF   xBD
12C08:  CLRF   xBE
12C0A:  CLRF   xBF
12C0C:  CLRF   xC0
12C0E:  CLRF   xC1
12C10:  CLRF   xC2
12C12:  CLRF   xC3
12C14:  CLRF   xC4
12C16:  CLRF   xC5
12C18:  CLRF   xC6
12C1A:  CLRF   xC7
12C1C:  CLRF   xC8
12C1E:  CLRF   xC9
12C20:  CLRF   xCA
12C22:  CLRF   xCB
12C24:  CLRF   xCC
12C26:  CLRF   xCD
12C28:  CLRF   xCE
12C2A:  CLRF   xCF
12C2C:  CLRF   xD0
12C2E:  CLRF   xD1
12C30:  CLRF   xD2
12C32:  CLRF   xD3
12C34:  CLRF   xD4
12C36:  CLRF   xD5
12C38:  CLRF   xD6
12C3A:  CLRF   xD7
12C3C:  CLRF   xD8
12C3E:  CLRF   xD9
12C40:  CLRF   xDA
12C42:  CLRF   xDB
12C44:  CLRF   xDC
12C46:  CLRF   xDD
12C48:  CLRF   xDE
12C4A:  CLRF   xDF
12C4C:  CLRF   xE0
12C4E:  CLRF   xE1
12C50:  CLRF   xE2
12C52:  CLRF   xE3
12C54:  CLRF   xE4
12C56:  CLRF   xE5
12C58:  CLRF   xE6
12C5A:  CLRF   xE7
12C5C:  CLRF   xE8
12C5E:  CLRF   xE9
12C60:  CLRF   xEA
12C62:  CLRF   xEB
12C64:  CLRF   xEC
12C66:  CLRF   xED
12C68:  CLRF   xEE
12C6A:  CLRF   xEF
12C6C:  CLRF   xF0
12C6E:  CLRF   xF1
12C70:  CLRF   xF2
12C72:  CLRF   xF3
12C74:  CLRF   xF4
12C76:  CLRF   xF5
12C78:  CLRF   xF6
12C7A:  CLRF   xF7
12C7C:  CLRF   xF8
12C7E:  CLRF   xF9
12C80:  CLRF   xFA
12C82:  CLRF   xFB
12C84:  CLRF   xFC
12C86:  CLRF   xFD
12C88:  CLRF   xFE
12C8A:  CLRF   xFF
12C8C:  MOVLB  1
12C8E:  CLRF   x00
12C90:  CLRF   x01
12C92:  CLRF   x02
12C94:  CLRF   x03
12C96:  CLRF   x04
12C98:  CLRF   x05
12C9A:  CLRF   x06
12C9C:  CLRF   x07
12C9E:  CLRF   x08
12CA0:  CLRF   x09
12CA2:  CLRF   x0A
12CA4:  CLRF   x0B
12CA6:  CLRF   x0C
12CA8:  CLRF   x0D
12CAA:  CLRF   x0E
12CAC:  CLRF   x0F
12CAE:  CLRF   x10
12CB0:  CLRF   x11
12CB2:  CLRF   x12
12CB4:  CLRF   x13
12CB6:  MOVLW  30
12CB8:  MOVWF  x14
12CBA:  MOVLW  7C
12CBC:  MOVWF  x15
12CBE:  MOVLW  01
12CC0:  MOVWF  x16
12CC2:  MOVLW  01
12CC4:  MOVWF  x17
12CC6:  MOVLW  02
12CC8:  MOVWF  x18
12CCA:  MOVLW  7C
12CCC:  MOVWF  x19
12CCE:  CLRF   x1A
12CD0:  MOVLW  09
12CD2:  MOVWF  x1B
12CD4:  MOVLW  01
12CD6:  MOVWF  x1C
12CD8:  CLRF   x1D
12CDA:  MOVLW  02
12CDC:  MOVWF  x1E
12CDE:  MOVLW  01
12CE0:  MOVWF  x1F
12CE2:  MOVLW  03
12CE4:  MOVWF  x20
12CE6:  MOVLW  04
12CE8:  MOVWF  x21
12CEA:  MOVLW  01
12CEC:  MOVWF  x69
12CEE:  MOVLW  22
12CF0:  MOVWF  x68
12CF2:  MOVLW  01
12CF4:  MOVWF  x6B
12CF6:  MOVLW  2C
12CF8:  MOVWF  x6A
12CFA:  MOVLW  01
12CFC:  MOVWF  x6D
12CFE:  MOVLW  36
12D00:  MOVWF  x6C
12D02:  MOVLW  01
12D04:  MOVWF  x6F
12D06:  MOVLW  40
12D08:  MOVWF  x6E
12D0A:  MOVLW  01
12D0C:  MOVWF  x71
12D0E:  MOVLW  4A
12D10:  MOVWF  x70
12D12:  MOVLW  01
12D14:  MOVWF  x73
12D16:  MOVLW  54
12D18:  MOVWF  x72
12D1A:  MOVLW  01
12D1C:  MOVWF  x75
12D1E:  MOVLW  5E
12D20:  MOVWF  x74
12D22:  CLRF   x88
12D24:  CLRF   x89
12D26:  CLRF   x8A
12D28:  CLRF   x8B
12D2A:  MOVLB  0
.................... { 
....................    delay_ms(100); // wait for power stable
12D2C:  MOVLW  64
12D2E:  MOVLB  B
12D30:  MOVWF  x03
12D32:  MOVLB  0
12D34:  CALL   20A0
....................    fprintf(PC,"\r\n\r\n\r\n============================================================\r\n");
12D38:  MOVLW  60
12D3A:  MOVWF  FF6
12D3C:  MOVLW  1F
12D3E:  MOVWF  FF7
12D40:  MOVLW  00
12D42:  MOVWF  FF8
12D44:  CALL   20CE
....................    fprintf(PC,"This is MOMIJI CIGS PIC BBM for MIS7_BBM6.\r\n");
12D48:  MOVLW  A6
12D4A:  MOVWF  FF6
12D4C:  MOVLW  1F
12D4E:  MOVWF  FF7
12D50:  MOVLW  00
12D52:  MOVWF  FF8
12D54:  CALL   20CE
....................    fprintf(PC,"Last updated on %s %s, by Inoue.\r\n\r\n", __DATE__, __TIME__);
12D58:  MOVLW  D4
12D5A:  MOVWF  FF6
12D5C:  MOVLW  1F
12D5E:  MOVWF  FF7
12D60:  MOVLW  00
12D62:  MOVWF  FF8
12D64:  MOVLW  10
12D66:  MOVLB  A
12D68:  MOVWF  x4E
12D6A:  MOVLB  0
12D6C:  CALL   2104
12D70:  MOVLW  FA
12D72:  MOVWF  FF6
12D74:  MOVLW  1F
12D76:  MOVWF  FF7
12D78:  MOVLW  00
12D7A:  MOVWF  FF8
12D7C:  CALL   20CE
12D80:  MOVLW  20
12D82:  BTFSS  FA6.6
12D84:  GOTO   12D82
12D88:  MOVLB  E
12D8A:  MOVWF  xF9
12D8C:  MOVLW  04
12D8E:  MOVWF  FF6
12D90:  MOVLW  20
12D92:  MOVWF  FF7
12D94:  MOVLW  00
12D96:  MOVWF  FF8
12D98:  MOVLB  0
12D9A:  CALL   20CE
12D9E:  MOVLW  E9
12DA0:  MOVWF  FF6
12DA2:  MOVLW  1F
12DA4:  MOVWF  FF7
12DA6:  MOVLW  00
12DA8:  MOVWF  FF8
12DAA:  MOVLW  0F
12DAC:  MOVLB  A
12DAE:  MOVWF  x4E
12DB0:  MOVLB  0
12DB2:  CALL   2104
....................    memset(smf_update_flag, 0, sizeof(smf_update_flag));
12DB6:  MOVLW  01
12DB8:  MOVWF  FEA
12DBA:  MOVLW  7A
12DBC:  MOVWF  FE9
12DBE:  CLRF   00
12DC0:  CLRF   02
12DC2:  MOVLW  02
12DC4:  MOVWF  01
12DC6:  CALL   213E
....................    // io_init();
....................    setup_uart_to_boss();
12DCA:  GOTO   2162
....................    timer_init();
12DCE:  GOTO   218C
....................    ad7490_init();
12DD2:  GOTO   23B0
....................    mcp4901_init();
12DD6:  GOTO   26E0
....................    misf_init();
12DDA:  CALL   3750
....................    
....................    piclog_save(PICLOG_STARTUP,0x00);
12DDE:  MOVLB  2
12DE0:  CLRF   xC6
12DE2:  CLRF   xC7
12DE4:  MOVLB  0
12DE6:  CALL   4EDC
.................... 
....................    int1 is_finished = FALSE;
12DEA:  MOVLB  1
12DEC:  BCF    x8C.0
....................    fprintf(PC,"____CIGS PIC Start Operation_____\r\n\r\n");
12DEE:  MOVLW  0E
12DF0:  MOVWF  FF6
12DF2:  MOVLW  20
12DF4:  MOVWF  FF7
12DF6:  MOVLW  00
12DF8:  MOVWF  FF8
12DFA:  MOVLB  0
12DFC:  CALL   20CE
....................    
....................    //enable_negative_power();
....................    connect_port1();
12E00:  CALL   5004
....................    connect_port2();
12E04:  CALL   500C
....................    mcp4901_1_write(0);
12E08:  MOVLB  9
12E0A:  CLRF   xDD
12E0C:  CLRF   xDC
12E0E:  MOVLB  0
12E10:  CALL   2664
....................    mcp4901_2_write(0);
12E14:  MOVLB  9
12E16:  CLRF   xDD
12E18:  CLRF   xDC
12E1A:  MOVLB  0
12E1C:  CALL   26A2
....................    connect_negative_power1(TRUE); // CIGS1 Negative Power ON
12E20:  MOVLW  01
12E22:  MOVLB  1
12E24:  MOVWF  x99
12E26:  MOVLB  0
12E28:  GOTO   5014
....................    
....................    fprintf(PC,"waiting for BOSS PIC command");
12E2C:  MOVLW  34
12E2E:  MOVWF  FF6
12E30:  MOVLW  20
12E32:  MOVWF  FF7
12E34:  MOVLW  00
12E36:  MOVWF  FF8
12E38:  CALL   20CE
.................... 
....................    //Start loop
....................    while(TRUE)
....................    {
....................       if(boss_receive_buffer_size > 0)
12E3C:  MOVF   4A,F
12E3E:  BTFSC  FD8.2
12E40:  GOTO   12EE2
....................       {
....................          //Command command = make_command(boss_receive_buffer, boss_receive_buffer_size);
....................          volatile Command recieve_cmd = make_receive_command(boss_receive_buffer, boss_receive_buffer_size);
12E44:  MOVLB  1
12E46:  CLRF   xA0
12E48:  MOVLW  2A
12E4A:  MOVWF  x9F
12E4C:  MOVFF  4A,1A1
12E50:  MOVLB  0
12E52:  GOTO   5350
12E56:  MOVFF  02,03
12E5A:  MOVF   01,W
12E5C:  MOVWF  FE1
12E5E:  MOVFF  03,FE2
12E62:  MOVLW  01
12E64:  MOVWF  FEA
12E66:  MOVLW  8D
12E68:  MOVWF  FE9
12E6A:  MOVLW  0C
12E6C:  MOVWF  01
12E6E:  MOVFF  FE6,FEE
12E72:  DECFSZ 01,F
12E74:  GOTO   12E6E
....................          clear_receive_signal(boss_receive_buffer, &boss_receive_buffer_size);
12E78:  MOVLB  1
12E7A:  CLRF   xE0
12E7C:  MOVLW  2A
12E7E:  MOVWF  xDF
12E80:  CLRF   xE2
12E82:  MOVLW  4A
12E84:  MOVWF  xE1
12E86:  MOVLB  0
12E88:  CALL   5552
....................          
....................          if(recieve_cmd.is_exist){
12E8C:  MOVLB  1
12E8E:  BTFSC  x8F.0
12E90:  BRA    12E98
12E92:  MOVLB  0
12E94:  GOTO   12EE2
12E98:  MOVLB  0
....................             is_finished = execute_command(&recieve_cmd); // FIX: 戻り値を保持
12E9A:  MOVLW  01
12E9C:  MOVLB  1
12E9E:  MOVWF  x9A
12EA0:  MOVLW  8D
12EA2:  MOVWF  x99
12EA4:  MOVLB  0
12EA6:  GOTO   1293A
12EAA:  MOVLB  1
12EAC:  BCF    x8C.0
12EAE:  BTFSC  01.0
12EB0:  BSF    x8C.0
....................             if (is_finished == TRUE)
12EB2:  BTFSC  x8C.0
12EB4:  BRA    12EBC
12EB6:  MOVLB  0
12EB8:  GOTO   12ED2
12EBC:  MOVLB  0
....................             {
....................                fprintf(PC, "\r\n\r\n======\r\n\r\nFinished process.\r\n");
12EBE:  MOVLW  52
12EC0:  MOVWF  FF6
12EC2:  MOVLW  20
12EC4:  MOVWF  FF7
12EC6:  MOVLW  00
12EC8:  MOVWF  FF8
12ECA:  CALL   20CE
....................                
.................... 
....................             }else{
12ECE:  GOTO   12EE2
....................                fprintf(PC,"\r\nwaiting for BOSS PIC command");
12ED2:  MOVLW  74
12ED4:  MOVWF  FF6
12ED6:  MOVLW  20
12ED8:  MOVWF  FF7
12EDA:  MOVLW  00
12EDC:  MOVWF  FF8
12EDE:  CALL   20CE
....................             }
....................          }
....................       }
....................          
....................       delay_ms(500);
12EE2:  MOVLW  02
12EE4:  MOVLB  1
12EE6:  MOVWF  x99
12EE8:  MOVLB  0
12EEA:  MOVLW  FA
12EEC:  MOVLB  B
12EEE:  MOVWF  x03
12EF0:  MOVLB  0
12EF2:  CALL   20A0
12EF6:  MOVLB  1
12EF8:  DECFSZ x99,F
12EFA:  BRA    12F00
12EFC:  BRA    12F04
12EFE:  MOVLB  0
12F00:  MOVLB  0
12F02:  BRA    12EEA
....................       fprintf(PC, ".");
12F04:  MOVLW  2E
12F06:  MOVLB  0
12F08:  BTFSS  FA6.6
12F0A:  GOTO   12F08
12F0E:  MOVLB  E
12F10:  MOVWF  xF9
12F12:  MOVLB  0
12F14:  GOTO   12E3C
....................    }
....................    
....................    fprintf(PC, "End main\r\n");
12F18:  MOVLW  94
12F1A:  MOVWF  FF6
12F1C:  MOVLW  20
12F1E:  MOVWF  FF7
12F20:  MOVLW  00
12F22:  MOVWF  FF8
12F24:  CALL   20CE
....................    
.................... }
.................... // End of files
12F28:  SLEEP 

Configuration Fuses:
   Word  1: F6A0   STVREN NOXINST NODEBUG NOBROWNOUT BORV18 NOPROTECT
   Word  2: FF82   PR SOSC_DIG NOCLOCKOUT IESO NOPLL
   Word  3: F032   HS
   Word  4: F7FF   WPFP WPDIS WPEND NOWPCFG
   Word  5: FF03   T5G_IS_T5G CINA_DEFAULT IOL1WAY LS48MHZ MSSP2MSK7 MSSPMSK7
   Word  6: FCFF   WDTWIN_25% WDTCLK_FRC WDT32768 NOWDT WINDIS WPRES128
   Word  7: F01D   NOVREGSLEEP VBATBOR DSBOR DS_SW
   Word  8: F3F8   DSWDT_25DAYS NODSWDT DSWDTOSC_INT
